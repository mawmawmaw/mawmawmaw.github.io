{"version":3,"file":"static/js/815.88cb01bd.chunk.js","mappings":"qJAWA,MAkCA,EAlCsDA,IAAkD,IAAjD,eAAEC,EAAc,WAAEC,EAAU,KAAEC,EAAO,MAAMH,EAChG,MAAMI,GAAIC,EAAAA,EAAAA,GAAgBF,GACpBG,EAAW,CACf,CAAEC,GAAI,GAAIC,MAAOJ,EAAEK,WAAWC,KAAMC,KAAM,gBAC1C,CAAEJ,GAAI,aAAcC,MAAOJ,EAAEK,WAAWG,MAAOD,KAAM,gBACrD,CAAEJ,GAAI,YAAaC,MAAOJ,EAAEK,WAAWI,KAAMF,KAAM,gBACnD,CAAEJ,GAAI,iBAAkBC,MAAOJ,EAAEK,WAAWK,UAAWH,KAAM,gBAC7D,CAAEJ,GAAI,eAAgBC,MAAOJ,EAAEK,WAAWM,QAASJ,KAAM,gBACzD,CAAEJ,GAAI,aAAcC,MAAOJ,EAAEK,WAAWO,MAAOL,KAAM,iBAOvD,OACEM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAC3Bb,EAASc,IAAKC,IACbC,SAAAA,EAAAA,MAAA,UAEEJ,UAAS,YAAAK,QAVKC,EAUwBH,EAAKd,GAT5CN,IAAmBuB,EAAS,SAAW,KAUtCC,QAASA,IAAMvB,EAAWmB,EAAKd,IAC/B,eAAcN,IAAmBoB,EAAKd,GAAK,YAASmB,EAAUP,SAAA,EAE9DF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,WAAUC,SAAEE,EAAKV,QACjCM,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEE,EAAKb,UAN7Ba,EAAKd,IATIiB,Y,gDCgSnB,MAAMG,EAAkB,IAlTxB,MAA6BC,WAAAA,GAAA,KAC3BC,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQC,aAAe,EAAC,KAChBC,cAAgB,EAAC,KACjBC,WAAa,EAAC,KACLC,aAAe,KAEhC,KACQC,QAA6B,KAAI,KACjCC,SAAkC,KAAI,KACtCC,UAAuC,KAAI,KAC3CC,UAAmC,KAAI,KACvCC,WAAqC,KAAI,KACzCC,YAAqC,IAAI,CAEjD,UAAMC,GACDC,KAAKb,oBAGHc,EAAAA,KAGND,KAAKP,QAAU,IAAIQ,EAAAA,GAAW,CAC7BC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAKN,SAAW,IAAIO,EAAAA,GAAeA,EAAAA,GAAY,CAC9CC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKL,UAAY,IAAIM,EAAAA,GAAmB,CACvCU,WAAY,IACZC,QAAS,EACTV,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKJ,UAAY,IAAIK,EAAAA,GAAeA,EAAAA,GAAY,CAC/CC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHV,KAAKH,WAAa,IAAII,EAAAA,GAAgB,CACrCY,MAAO,CAAEV,KAAM,QACfC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHV,KAAKF,YAAc,IAAIG,EAAAA,GAAeA,EAAAA,GAAY,CACjDC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHV,KAAKb,aAAc,EACpB,CAGQ2B,WAAAA,CACPC,EACAC,GAEA,MAAMC,EAAMhB,EAAAA,KACNiB,EAAcH,EAAWf,KAAKR,aAC9B2B,EAAWC,KAAKC,IAAIJ,EAAKC,GAO/B,MAJiB,SAAbF,EAAqBhB,KAAKX,aAAe8B,EACvB,UAAbH,EAAsBhB,KAAKV,cAAgB6B,EAC9B,OAAbH,IAAmBhB,KAAKT,WAAa4B,GAEvCA,CACR,CAGAG,UAAAA,GACC,IAAKtB,KAAKb,aAAea,KAAKZ,QAAUY,KAAKP,QAAS,OACtD,MAAM8B,EAAOvB,KAAKc,YAAYd,KAAKT,WAAY,MAC/CS,KAAKP,QAAQ+B,qBAAqB,KAAM,MAAOD,EAChD,CAGAE,QAAAA,GACC,IAAKzB,KAAKb,aAAea,KAAKZ,QAAUY,KAAKP,QAAS,OACtD,MAAMiC,EAAQ1B,KAAKc,YAAYd,KAAKT,WAAY,MAC1CoC,EAAQD,EAAQ,IACtB1B,KAAKT,WAAaoC,EAElB3B,KAAKP,QAAQ+B,qBAAqB,KAAM,MAAOE,GAC/C1B,KAAKP,QAAQ+B,qBAAqB,KAAM,MAAOG,EAChD,CAGAC,eAAAA,GACC,IAAK5B,KAAKb,aAAea,KAAKZ,MAAO,OAErC,MAAMyC,EAAY7B,KAAKc,YAAYd,KAAKV,cAAe,SACjDwC,EAAW9B,KAAKc,YAAYd,KAAKX,aAAc,QAEjDW,KAAKH,YACRG,KAAKH,WAAW2B,qBAAqB,MAAOK,GAEzC7B,KAAKL,WACRK,KAAKL,UAAU6B,qBAAqB,KAAM,MAAOM,EAEnD,CAGAC,UAAAA,GACM/B,KAAKb,cAAea,KAAKZ,OAAUY,KAAKN,UAC7CM,KAAKN,SAAS8B,qBAAqB,KAAM,MAC1C,CAGAQ,UAAAA,GACC,IAAKhC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKN,SAAU,OACvD,MAAMuB,EAAMhB,EAAAA,KACZD,KAAKN,SAAS8B,qBAAqB,KAAM,MAAOP,GAChDjB,KAAKN,SAAS8B,qBAAqB,KAAM,MAAOP,EAAM,IACvD,CAGAgB,UAAAA,GACC,IAAKjC,KAAKb,aAAea,KAAKZ,MAAO,OAErC,MAAM0C,EAAW9B,KAAKc,YAAYd,KAAKX,aAAc,QAEjDW,KAAKL,WACRK,KAAKL,UAAU6B,qBAAqB,KAAM,KAAMM,GAE7C9B,KAAKJ,WACRI,KAAKJ,UAAU4B,qBACd,CAAC,KAAM,KAAM,MACb,KACAM,EAAW,IAGd,CAGAI,cAAAA,CAAeC,GACVA,GAAU,EACbnC,KAAKiC,aACgB,IAAXE,EACVnC,KAAKgC,aAELhC,KAAK+B,YAEP,CAGAK,eAAAA,CAAgBjC,GACf,IAAKH,KAAKb,aAAea,KAAKZ,MAAO,OAGrC,MAAM0C,EAAW9B,KAAKc,YAAYd,KAAKX,aAAc,QAC/CwC,EAAY7B,KAAKc,YAAYd,KAAKV,cAAe,SAGvD,GAAIU,KAAKL,UAAW,CACnB,MAAM0C,EAAgB,UAATlC,EAAmB,KAAO,KACvCH,KAAKL,UAAU6B,qBAAqBa,EAAM,KAAMP,EACjD,CAQA,GALI9B,KAAKH,YACRG,KAAKH,WAAW2B,qBAAqB,KAAMK,GAIxC7B,KAAKJ,UAAW,CACnB,MAAM0C,EACI,UAATnC,EAAmB,CAAC,KAAM,KAAM,MAAQ,CAAC,KAAM,KAAM,MACtDH,KAAKJ,UAAU4B,qBAAqBc,EAAc,MAAOR,EAAW,GACrE,CACD,CAGAS,SAAAA,CAAUC,GACT,IAAKxC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKJ,UAAW,OAGxD,MAAM6C,EAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAC3CC,EAAWtB,KAAKuB,IAAIH,EAAYC,EAAUN,QAC1CS,EAAQH,EAAUI,MAAM,EAAGH,GAE3BzB,EAAMhB,EAAAA,KACZ2C,EAAME,QAAQ,CAACT,EAAMU,KACpB/C,KAAKJ,UAAW4B,qBAAqBa,EAAM,MAAOpB,EAAU,IAAJ8B,IAE1D,CAGAC,cAAAA,GACMhD,KAAKb,cAAea,KAAKZ,OAAUY,KAAKJ,WAC7CI,KAAKJ,UAAU4B,qBAAqB,KAAM,MAC3C,CAGAyB,OAAAA,GACC,IAAKjD,KAAKb,aAAea,KAAKZ,QAAUY,KAAKF,YAAa,OAE1D,MAAMmB,EAAMhB,EAAAA,KACK,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAGvC6C,QAAQ,CAACT,EAAMU,KACvB/C,KAAKF,YAAa0B,qBAAqBa,EAAM,MAAOpB,EAAU,GAAJ8B,KAI3D/C,KAAKF,YAAY0B,qBAChB,CAAC,KAAM,KAAM,KAAM,MACnB,KACAP,EAAM,GAER,CAGAiC,QAAAA,GACC,IAAKlD,KAAKb,aAAea,KAAKZ,QAAUY,KAAKF,YAAa,OAE1D,MAAMmB,EAAMhB,EAAAA,KACG,CAAC,KAAM,KAAM,KAAM,MAE3B6C,QAAQ,CAACT,EAAMU,KACrB/C,KAAKF,YAAa0B,qBAAqBa,EAAM,KAAMpB,EAAU,IAAJ8B,IAE3D,CAGAI,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,CACd,CAEAgE,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAGAiE,OAAAA,GAAiB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACV3D,KAAKb,cAEE,QAAZmE,EAAAtD,KAAKP,eAAO,IAAA6D,GAAZA,EAAcD,UACD,QAAbE,EAAAvD,KAAKN,gBAAQ,IAAA6D,GAAbA,EAAeF,UACD,QAAdG,EAAAxD,KAAKL,iBAAS,IAAA6D,GAAdA,EAAgBH,UACF,QAAdI,EAAAzD,KAAKJ,iBAAS,IAAA6D,GAAdA,EAAgBJ,UACD,QAAfK,EAAA1D,KAAKH,kBAAU,IAAA6D,GAAfA,EAAiBL,UACD,QAAhBM,EAAA3D,KAAKF,mBAAW,IAAA6D,GAAhBA,EAAkBN,UAElBrD,KAAKP,QAAU,KACfO,KAAKN,SAAW,KAChBM,KAAKL,UAAY,KACjBK,KAAKJ,UAAY,KACjBI,KAAKH,WAAa,KAClBG,KAAKF,YAAc,KAEnBE,KAAKb,aAAc,EACpB,E,8ICjTM,MAAMyE,EAAa,IACbC,EAAc,IAGdC,EAAO,CACnBC,KAAM,EACNC,SAAU,GACVC,QAAS,GACTC,QAAS,IACTC,IAAK,GAIOC,EACZN,EAAKC,KAAOD,EAAKE,UAAYF,EAAKC,KAAO,GAAKD,EAAKK,IAiBvCE,EAAwB,CACpC,CAAEC,MAAO,EAAGC,MAAO,GAAIC,YAAa,IAAKC,WAAY,GACrD,CAAEH,MAAO,EAAGC,MAAO,GAAIC,YAAa,KAAMC,WAAY,GACtD,CACCH,MAAO,EACPC,MAAO,GACPC,YAAa,KACbC,WAAY,EACZC,WAAY,CAAEC,YAAa,IAAMC,iBAAkB,MAEpD,CACCN,MAAO,EACPC,MAAO,GACPC,YAAa,KACbC,WAAY,EACZC,WAAY,CAAEC,YAAa,IAAMC,iBAAkB,KAEpD,CACCN,MAAO,EACPC,MAAO,GACPC,YAAa,IACbC,WAAY,EACZC,WAAY,CAAEC,YAAa,IAAMC,iBAAkB,OAYxCC,EAAU,CACtBC,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IACRC,QAAS,GACTC,WAAY,GACZC,WAAY,IAIAC,EAAc,CAC1BC,MAAO,EACPC,OAAQ,GAIIC,EAAe,CAC3BC,gBAAiB,IACjBC,iBAAkB,IAClBC,gBAAiB,IAcLC,EAAY,CACxBC,aAAc,IACdC,cAAe,IACfC,mBAAoB,GACpBC,aAAc,IACdC,YAAa,KACbC,eAAgB,IAChBC,mBAAoB,IACpBC,uBAAwB,KAKZC,EAAe,CAC3B,SACA,SACA,SACA,QACA,QACA,SACA,MACA,QACA,SAIYC,EAAS,CACrBC,WAAY,QACZC,eAAgB,QAChBC,WAAY,OACZC,YAAa,SACbC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAEhBC,YAAa,QACbC,aAAc,OACdC,WAAY,QACZC,aAAc,SACdC,YAAa,SACbC,YAAa,SAIDC,EAAK,CACjBC,OAAQ,CACPC,EAAG,GACHC,EAAG,GACHC,MAAOnD,EAAkB,GACzBoD,OAAQ,GACRC,aAAc,GACdC,QAAS,IAGVC,SAAU,CACTJ,MAAO,IACPC,OAAQ,GACRC,aAAc,GACdtD,IAAK,GACLyD,aAAc,IAIfC,aAAc,CACbR,EAAGzD,EAAa,EAChB0D,EAAG,IAEJQ,aAAc,CACbT,EAAG,GAAKjD,EAAkB,GAAK,GAAK,GACpCkD,EAAG,IAEJS,cAAe,CACdV,EAAG,GACHC,EAAG,IAEJU,YAAa,CACZX,EAAG,GACHC,EAAG,IACHC,MAAOnD,EAAkB,GACzBoD,OAAQ,EACRC,aAAc,IAKHQ,EAAe,CAC3BlE,KAAM,GACNmE,YAAa,GACbC,mBAAoB,GACpBC,UAAW,G,iFC1LL,MAAMC,EAAqBA,KAChCzJ,EAAAA,EAAAA,MAAA,OAAK0J,QAAQ,YAAYf,MAAM,KAAKC,OAAO,KAAKe,KAAK,eAAc9J,SAAA,EACjEF,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,sBACRjK,EAAAA,EAAAA,KAAA,QAAM8I,EAAE,IAAIC,EAAE,IAAIC,MAAM,IAAIC,OAAO,SAI1BiB,EAAwBA,KACnC7J,EAAAA,EAAAA,MAAA,OAAK0J,QAAQ,YAAYf,MAAM,KAAKC,OAAO,KAAKe,KAAK,eAAc9J,SAAA,EACjEF,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,qBACRjK,EAAAA,EAAAA,KAAA,QAAM8I,EAAE,IAAIC,EAAE,IAAIC,MAAM,IAAIC,OAAO,SAI1BkB,EAAwBA,KACnC9J,EAAAA,EAAAA,MAAA,OACE0J,QAAQ,YACRf,MAAM,KACNC,OAAO,KACPe,KAAK,OACLI,OAAO,eACPC,YAAY,MAAKnK,SAAA,EAEjBF,EAAAA,EAAAA,KAAA,QACEiK,EAAE,oEACFK,cAAc,WAEhBtK,EAAAA,EAAAA,KAAA,YAAUuK,OAAO,sBAIRC,EAAqBA,KAChCxK,EAAAA,EAAAA,KAAA,OAAK+J,QAAQ,YAAYf,MAAM,KAAKC,OAAO,KAAKe,KAAK,eAAc9J,UACjEF,EAAAA,EAAAA,KAAA,QAAM8I,EAAE,IAAIC,EAAE,IAAIC,MAAM,IAAIC,OAAO,QAI1BwB,EAAqBA,KAChCpK,EAAAA,EAAAA,MAAA,OAAK0J,QAAQ,YAAYf,MAAM,KAAKC,OAAO,KAAKe,KAAK,eAAc9J,SAAA,EACjEF,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,8DACRjK,EAAAA,EAAAA,KAAA,WAASuK,OAAO,iCCGpB,EAhCoDxL,IAK7C,IAL8C,aACnD2L,EAAY,cACZC,EAAa,OACbC,EAAM,QACNC,EAAU,WACX9L,EACC,MAAMkB,EAAwB,cAAZ4K,EAA0B,wBAA0B,iBAEtE,OACExK,EAAAA,EAAAA,MAAA,OAAKJ,UAAWA,EAAUC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,UACEC,UAA4B,YAAjByK,EAA6B,SAAW,GACnDlK,QAASA,IAAMmK,EAAc,WAAWzK,SAEvC0K,EAAOE,WAEV9K,EAAAA,EAAAA,KAAA,UACEC,UAA4B,cAAjByK,EAA+B,SAAW,GACrDlK,QAASA,IAAMmK,EAAc,aAAazK,SAEzC0K,EAAOG,aAEV/K,EAAAA,EAAAA,KAAA,UACEC,UAA4B,aAAjByK,EAA8B,SAAW,GACpDlK,QAASA,IAAMmK,EAAc,YAAYzK,SAExC0K,EAAOI,eC+BhB,EAlD0DjM,IAQnD,IARoD,KACzDG,EAAI,KACJ+L,EAAI,aACJC,EAAY,aACZC,EAAY,aACZC,EAAY,cACZC,EAAa,aACbC,GACDvM,EACC,OACEsB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EAChCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SAAEoL,EAAaC,YACvDvL,EAAAA,EAAAA,KAAA,UACEC,UAAoB,OAATf,EAAgB,SAAW,GACtCsB,QAASA,IAAM0K,EAAa,MAAMhL,SACnC,aAGDF,EAAAA,EAAAA,KAAA,UACEC,UAAoB,OAATf,EAAgB,SAAW,GACtCsB,QAASA,IAAM0K,EAAa,MAAMhL,SACnC,mBAIHF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBACfI,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SAAEoL,EAAaE,SACvDxL,EAAAA,EAAAA,KAAA,UACEC,UAAoB,QAATgL,EAAiB,SAAW,GACvCzK,QAASA,IAAM2K,EAAa,OAAOjL,SAElCoL,EAAaG,WAEhBzL,EAAAA,EAAAA,KAAA,UACEC,UAAoB,UAATgL,EAAmB,SAAW,GACzCzK,QAASA,IAAM2K,EAAa,SAASjL,SAEpCoL,EAAaI,gBAGlB1L,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBACfD,EAAAA,EAAAA,KAAA,UAAQQ,QAAS4K,EAAalL,SAAEoL,EAAaK,cAC7C3L,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBACfD,EAAAA,EAAAA,KAAA,UAAQQ,QAAS6K,EAAcnL,SAAEoL,EAAaM,kBCMpD,EA3DwD7M,IAMjD,IANkD,OACvD8M,EAAM,YACNC,EAAW,OACXC,EAAM,QACNC,EAAO,KACP9M,GACDH,EACC,MAAOkN,EAAMC,IAAWC,EAAAA,EAAAA,UAASL,GAC3BM,GAAWC,EAAAA,EAAAA,QAAyB,MACpClN,GAAIC,EAAAA,EAAAA,GAAgBF,IAE1BoN,EAAAA,EAAAA,WAAU,KACJT,IACFK,EAAQJ,GACRS,WAAW,SAAAC,EAAA,OAAsB,QAAtBA,EAAMJ,EAASK,eAAO,IAAAD,OAAA,EAAhBA,EAAkBE,SAAS,OAE7C,CAACb,EAAQC,IAQZ,OAAKD,GAGH7L,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAqBO,QAASwL,EAAQ9L,UACnDG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,aAAaO,QAAUmM,GAAMA,EAAEC,kBAAkB1M,SAAA,EAC9DG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,QAAAE,SAAOf,EAAE0N,QAAQC,SAASnB,cAC1B3L,EAAAA,EAAAA,KAAA,UAAQC,UAAU,mBAAmBO,QAASwL,EAAQ9L,SAAC,aAIzDG,EAAAA,EAAAA,MAAA,QAAM0M,SAjBUJ,IACpBA,EAAEK,iBACFjB,EAAOE,GACPD,KAckC/L,UAAU,qBAAoBC,SAAA,EAC1DF,EAAAA,EAAAA,KAAA,SAAOiN,QAAQ,aAAY/M,SAAEf,EAAE+N,QAAQC,aACvCnN,EAAAA,EAAAA,KAAA,SACEoN,IAAKhB,EACLxK,KAAK,OACLtC,GAAG,aACH+N,MAAOpB,EACPqB,SAAWX,GAAMT,EAAQS,EAAEY,OAAOF,OAClCG,YAAarO,EAAE+N,QAAQO,mBAEzBpN,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UAAQ4B,KAAK,SAAS3B,UAAU,gBAAeC,SAAC,QAGhDF,EAAAA,EAAAA,KAAA,UAAQ4B,KAAK,SAAS3B,UAAU,oBAAoBO,QAASwL,EAAQ9L,SAAC,sBAzB5D,MCsVtB,EA9VoDnB,IAgB7C,IAhB8C,eACnDC,EAAc,SACdkB,EAAQ,WACRjB,EAAU,WACVyO,EAAU,OACVC,EAAM,SACNC,GAAW,EAAK,YAChBC,GAAc,EAAI,iBAClBC,GAAmB,EAAK,KACxB5O,EAAI,KACJ+L,EAAI,QACJ8C,EAAO,QACPC,EAAO,YACPC,EAAW,QACX/B,EAAO,cACPb,GACDtM,EACC,MAAMI,GAAIC,EAAAA,EAAAA,GAAgBF,IACnBgP,EAAaC,IAAkBhC,EAAAA,EAAAA,WAAS,IACxCiC,EAAUC,IAAelC,EAAAA,EAAAA,WAAS,IAClCzB,EAAc4D,IAAmBnC,EAAAA,EAAAA,UAAiB,IAChDoC,aAAaC,QAAQ,iBAAmB,YAE1CC,EAAkBC,IAAuBvC,EAAAA,EAAAA,WAAS,IAClDwC,EAAoBC,IAAyBzC,EAAAA,EAAAA,WAAS,IACtD0C,EAAcC,IAAmB3C,EAAAA,EAAAA,WAAS,IAC1C4C,EAAeC,IAAoB7C,EAAAA,EAAAA,WAAS,GAC7C8C,GAAa5C,EAAAA,EAAAA,QAAuB,MACpC6C,GAAe7C,EAAAA,EAAAA,QAAuB,MACtC8C,GAAc9C,EAAAA,EAAAA,QAAuB,OAG3CC,EAAAA,EAAAA,WAAU,KACR,MAAM8C,EAAsBC,IACtBJ,EAAWxC,UAAYwC,EAAWxC,QAAQ6C,SAASD,EAAM9B,SAC3DmB,GAAoB,GAElBQ,EAAazC,UAAYyC,EAAazC,QAAQ6C,SAASD,EAAM9B,SAC/DqB,GAAsB,GAEpBO,EAAY1C,UAAY0C,EAAY1C,QAAQ6C,SAASD,EAAM9B,SAC7DuB,GAAgB,IAKpB,OADAS,SAASC,iBAAiB,YAAaJ,GAChC,IAAMG,SAASE,oBAAoB,YAAaL,IACtD,KAGH9C,EAAAA,EAAAA,WAAU,KACJsB,GAAYC,GACdM,GAAe,IAEhB,CAACP,EAAUC,IAEd,MAAM6B,GAAWC,EAAAA,EAAAA,aAAY,CAACnE,EAAeoE,KAC3CtB,EAAgB9C,GAChB+C,aAAasB,QAAQ,eAAgBrE,GACtB,YAAXoE,EACFlB,GAAoB,GAEpBE,GAAsB,IAEvB,IAEGkB,GAAqBH,EAAAA,EAAAA,aAAY,KACrCjB,EAAoBqB,IAASA,IAC5B,IAEGC,GAAuBL,EAAAA,EAAAA,aAAY,KACvCf,EAAsBmB,IAASA,IAC9B,IAEGE,GAA2BN,EAAAA,EAAAA,aAAanE,GAAkBkE,EAASlE,EAAO,WAAY,CAACkE,IACvFQ,GAA6BP,EAAAA,EAAAA,aAAanE,GAAkBkE,EAASlE,EAAO,aAAc,CAACkE,IAE3FS,GAAiBR,EAAAA,EAAAA,aAAY,KACjCb,EAAgBiB,IAASA,IACxB,IAEGK,GAAmBT,EAAAA,EAAAA,aAAaU,IACpCrC,EAAQqC,GACRvB,GAAgB,IACf,CAACd,IAEEsC,GAAmBX,EAAAA,EAAAA,aAAaY,IACpCxC,EAAQwC,GACRzB,GAAgB,IACf,CAACf,IAEEyC,GAAmBb,EAAAA,EAAAA,aAAY,KACnCb,GAAgB,GAChBE,GAAiB,IAChB,IAEGyB,IAAiBd,EAAAA,EAAAA,aAAae,IAClCxE,EAAQwE,GACRnB,SAASoB,OAAM,QAAArQ,OAAWoQ,IACzB,CAACxE,IAEE0E,IAAoBjB,EAAAA,EAAAA,aAAY,KACpCb,GAAgB,GAChBzD,KACC,CAACA,IAyCJ,OACEhL,EAAAA,EAAAA,MAAA,OACEJ,UAAS,kBAAAK,OAAoB4N,EAAc,YAAc,GAAE,KAAA5N,OAAIwN,EAAmB,YAAc,IAChGtN,QAVuBqQ,KACrBjD,IAAaC,IACT,OAANF,QAAM,IAANA,GAAAA,IACAQ,GAAe,KAOajO,SAAA,EAG5BG,EAAAA,EAAAA,MAAA,OACEJ,UAAU,mBACV6Q,cAAeA,KACRlD,GACHO,GAAgBD,IAElBhO,SAAA,EAEFG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAuBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAAcC,SAAC,kBA3Cd6Q,GA4CA/R,EA3CmB,CACxC,GAAIG,EAAE0N,QAAQmE,OAAOvR,KACrB,aAAcN,EAAE0N,QAAQmE,OAAOrR,MAC/B,YAAaR,EAAE0N,QAAQmE,OAAOpR,KAC9B,iBAAkBT,EAAE0N,QAAQmE,OAAOnR,UACnC,eAAgBV,EAAE0N,QAAQmE,OAAOlR,QACjC,aAAcX,EAAE0N,QAAQmE,OAAOjR,OAEnBgR,KAAY5R,EAAE0N,QAAQmE,OAAOvR,UAqCvCY,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,UACEC,UAAU,2BACV,aAAW,WACXO,QAAUmM,IACRA,EAAEC,kBACEgB,EAEEM,IACFC,GAAe,GACL,OAAVT,QAAU,IAAVA,GAAAA,KAIQ,OAAVA,QAAU,IAAVA,GAAAA,KAEFxN,SACH,OAGDF,EAAAA,EAAAA,KAAA,UACEC,UAAU,2BACV,aAAW,WACXO,QAAUmM,IAER,GADAA,EAAEC,kBACEgB,EAAU,CAEZ,GAAIM,EAAa,OAEjBC,GAAe,GACT,OAANR,QAAM,IAANA,GAAAA,GACF,MAEEQ,GAAgBD,IAElBhO,SACH,YAGDF,EAAAA,EAAAA,KAAA,UACEC,UAAU,wBACV,aAAW,QACXO,QAAUmM,IACRA,EAAEC,kBACEgB,IAAaM,GAKjBG,GAAY,IACZnO,SACH,gBAOLG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQoE,MAAMC,QAC7ClR,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQoE,MAAME,QAC7CnR,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQoE,MAAMG,QAC7CpR,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQoE,MAAMI,aAC7ChR,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAoBmN,IAAK6B,EAAW/O,SAAA,EACjDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAYO,QAASsP,EAAmB5P,SACrDf,EAAE0N,QAAQoE,MAAMrG,SAElB6D,IACCzO,EAAAA,EAAAA,KAACsR,EAAa,CACZ5G,aAAcA,EACdC,cAAesF,EACfrF,OAAQzL,EAAE0N,QAAQjC,OAClBC,QAAQ,gBAIdxK,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAoBmN,IAAK+B,EAAYjP,SAAA,EAClDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAYO,QAAS2P,EAAejQ,SACjDf,EAAE0N,QAAQC,SAASyE,QAErB1C,IACC7O,EAAAA,EAAAA,KAACwR,EAAgB,CACftS,KAAMA,EACN+L,KAAMA,EACNC,aAAckF,EACdjF,aAAcmF,EACdlF,aAAcoF,EACdnF,cAAeuF,GACftF,aAAcnM,EAAE0N,QAAQC,eAI9B9M,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQoE,MAAMQ,WAI/CpR,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iBAAgBC,SAAA,EAC7BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVO,QAtISkR,KACjBzS,EAAW,KAsIH0S,SAA6B,KAAnB3S,EACV,aAAW,OAAMkB,UAEjBF,EAAAA,EAAAA,KAAC8J,EAAQ,OAEX9J,EAAAA,EAAAA,KAAA,UAAQC,UAAU,qBAAqB0R,UAAQ,EAAC,aAAW,UAASzR,UAClEF,EAAAA,EAAAA,KAACkK,EAAW,OAEdlK,EAAAA,EAAAA,KAAA,UAAQC,UAAU,qBAAqB,aAAW,UAASC,UACzDF,EAAAA,EAAAA,KAACmK,EAAW,OAEdnK,EAAAA,EAAAA,KAAA,UAAQC,UAAU,kBAAkB,aAAW,OAAMC,UACnDF,EAAAA,EAAAA,KAACwK,EAAQ,OAEXxK,EAAAA,EAAAA,KAAA,UAAQC,UAAU,kBAAkBO,QAjJzBoR,KACjB3S,EAAW,KAgJoD,aAAW,OAAMiB,UACxEF,EAAAA,EAAAA,KAACyK,EAAQ,UAGbzK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAAA,SACE4B,KAAK,OACLyL,MAnLa0D,KACmB,CACtC,GAAI,4BACJ,aAAc,8BACd,YAAa,sCACb,iBAAkB,uCAClB,eAAgB,wCAENA,IAAY,mBA2KTc,CAAc7S,GACrB8S,UAAQ,EACR7R,UAAU,wBAGdD,EAAAA,EAAAA,KAAA,UAAQC,UAAU,gBAAeC,SAAC,WAIpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,KAAA,OAAKC,UAAS,0BAAAK,OAA4BoK,GAAexK,SAAEA,MAI5DkO,IACCpO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAeO,QAASA,IAAM6N,GAAY,GAAOnO,UAC9DG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKf,EAAE0N,QAAQkF,KAAKR,SACpBvR,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBAAgBC,SAAEf,EAAE0N,QAAQkF,KAAKC,YAC9ChS,EAAAA,EAAAA,KAAA,KAAAE,SAAIf,EAAE0N,QAAQkF,KAAKE,mBACnBjS,EAAAA,EAAAA,KAAA,KAAGC,UAAU,aAAYC,SAAEf,EAAE0N,QAAQkF,KAAKG,aAC1ClS,EAAAA,EAAAA,KAAA,KAAGC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQkF,KAAKI,YACzCnS,EAAAA,EAAAA,KAAA,KAAGC,UAAU,YAAWC,SAAEf,EAAE0N,QAAQkF,KAAKK,uBAM/C/R,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SAAEf,EAAE0N,QAAQwF,cACxChS,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,eAAcC,SAAA,EAC3BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAwBmN,IAAK8B,EAAahP,SAAA,EACvDG,EAAAA,EAAAA,MAAA,UACEJ,UAAU,sBACVO,QAASwP,EACT,aAAY7Q,EAAE0N,QAAQoE,MAAMrG,OAAO1K,SAAA,CACpC,gBACKf,EAAE0N,QAAQjC,OAAOF,IAAkDA,KAExEiE,IACC3O,EAAAA,EAAAA,KAACsR,EAAa,CACZ5G,aAAcA,EACdC,cAAeuF,EACftF,OAAQzL,EAAE0N,QAAQjC,OAClBC,QAAQ,kBAId7K,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAC,kBAC9BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAEf,EAAE0N,QAAQyF,oBAK7CtS,EAAAA,EAAAA,KAACuS,EAAe,CACd1G,OAAQkD,EACRjD,YAAamC,EACblC,OAAQ0E,GACRzE,QAASA,IAAMgD,GAAiB,GAChC9P,KAAMA,OAnOa6R,Q,wBCpIpB,MAAMyB,EAAoCzT,IAS1C,IAT2C,MACjDwS,EAAK,KACL7R,EAAI,MACJ+S,EAAK,aACLC,EAAY,WACZC,EAAU,QACVnS,EAAO,YACPoS,EAAW,SACXjB,GAAW,GACX5S,EACA,MAAM8T,EACLH,GAAgBC,EACb,CACA5K,WAAW,2BAADzH,OAA6BoS,EAAY,SAAApS,OAAQqS,EAAU,WAErE,CAAEG,gBAAiBL,GAAS,WAEhC,OACCpS,EAAAA,EAAAA,MAAA,UACCG,QAASA,EACTmR,SAAUA,EACV1R,UAAU,YACV8S,MAAOF,EAAQ3S,SAAA,EAGfF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAGfI,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,CAEhCR,IAAQM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,SAAER,KAG1CM,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAAEqR,IAGhCqB,IACA5S,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAE0S,QAKxC5S,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBC,UACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iCAIhBD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCC5CL+S,EAA0CjU,IAWhD,IAXiD,KACvD6C,EAAI,MACJ2P,EAAK,QACL0B,EAAO,MACPC,EAAK,MACLnN,EAAK,WACLoN,EAAa,UAAS,SACtBC,EAAQ,WACRC,EAAU,cACVC,EAAa,iBACbC,GAAmB,GACnBxU,EACA,MAAOyU,EAAWC,IAAgBtH,EAAAA,EAAAA,WAAS,IAE3CG,EAAAA,EAAAA,WAAU,KACT,GAAIiH,GAA6B,UAAT3R,EAAkB,CACzC,MAAM8R,EAAWC,YAAY,KAC5BF,EAAa1D,IAASA,IACpB,KACH,MAAO,IAAM6D,cAAcF,EAC5B,GACE,CAACH,EAAkB3R,IAEtB,MAQMiS,EAAetC,GARC,CACrBuC,MAAO,gCACPC,MAAO,qBACPC,SAAU,yBACVC,cAAe,qCACfC,OAAQ,IAGmCtS,GAE5C,OACCvB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,eAAcC,SAAA,EAE5BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAGfI,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EAEjCF,EAAAA,EAAAA,KAAA,OACCC,UAAU,oBACV8S,MAAO,CAAED,gBAAiBK,MAG3B9S,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,CAEnC2T,IACA7T,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAE2T,SAI1BpT,IAAVyS,IACA7S,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qBAAoBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA0BC,SAAC,yBACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA0BC,SACrCgT,EAAMiB,2BAMC1T,IAAVsF,GAAgC,kBAATnE,IACvBvB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qBAAoBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA0BC,SAAC,WACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA0BC,SAAE6F,OAK1CkN,IACAjT,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAsBC,SAAE+S,IAIrCK,EAGS,UAAT1R,GAAoB2R,IAAqBH,GACzCpT,EAAAA,EAAAA,KAAA,KACCC,UAAU,qBACV8S,MAAO,CACNN,MAAOU,EACPiB,QAASZ,EAAY,EAAI,GACxBtT,SACF,mCAGEkT,GAAYC,GACfrT,EAAAA,EAAAA,KAAA,UACCQ,QAAS4S,EACTnT,UAAU,sBACV8S,MAAO,CACND,gBAAiBK,GAChBjT,SAEDmT,IAEC,e,cChHF,MAAMgB,EACL,GADKA,EAEP,GAFOA,EAGJ,GAHIA,EAIL,GAJKA,EAKR,GALQA,EAMR,GANQA,EAOR,GAPQA,EAQR,GAOQC,EACH,CACNC,KAAM,EACNC,MAAO,GACPC,OAAQ,GACRC,KAAM,KALGJ,EAOL,CACJC,KAAM,EACNI,IAAK,GACLF,OAAQ,GACRG,KAAM,IAXGN,EAaJ,CACLC,KAAM,EACNM,KAAM,EACNJ,OAAQ,EACRK,KAAM,GAOGhN,EAAS,CACpBiN,IAAK,UACLC,KAAM,UACNC,IAAK,UACLC,MAAO,CACLC,KAAM,UACNC,MAAO,UACPC,OAAQ,UACRC,KAAM,WAERC,KAAM,CACJJ,KAAM,UACNC,MAAO,UACPC,OAAQ,WAEVG,MAAO,CACLL,KAAM,QACNC,MAAO,QACPC,OAAQ,SAEVI,OAAQ,CACNN,KAAM,QACNC,MAAO,QACPC,OAAQ,UAOCK,EACJ,CAAE5M,EAAG,EAAGC,EAAG,EAAG4M,EAAG,KAAMC,EAAG,KADtBF,EAEN,CAAE5M,EAAG,EAAGC,EAAG,IAAK4M,EAAG,KAAMC,EAAG,KAFtBF,EAGJ,CAAE5M,EAAG,EAAGC,EAAG,IAAK4M,EAAG,KAAMC,EAAG,KAM/BC,EAAc,CAClBC,UAAW,CAAEhN,EAAG,EAAGC,EAAG,EAAG4M,EAAG,IAAKC,EAAG,KACpCG,YAAa,CAAEjN,EAAG,IAAKC,EAAG,EAAG4M,EAAG,IAAKC,EAAG,KACxCI,MAAO,CAAElN,EAAG,IAAKC,EAAG,EAAG4M,EAAG,IAAKC,EAAG,KAClCK,WAAY,CAAEnN,EAAG,EAAGC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACvCM,YAAa,CAAEpN,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC1CO,SAAU,CAAErN,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACvCQ,OAAQ,CAAEtN,EAAG,IAAKC,EAAG,EAAG4M,EAAG,IAAKC,EAAG,KACnCS,YAAa,CAAEvN,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC1CU,YAAa,CAAExN,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC1CW,YAAa,CAAEzN,EAAG,EAAGC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACxCY,YAAa,CAAE1N,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC1Ca,SAAU,CAAE3N,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACvCc,MAAO,CAAE5N,EAAG,KAAMC,EAAG,EAAG4M,EAAG,IAAKC,EAAG,KACnCe,YAAa,CAAE7N,EAAG,KAAMC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC3CgB,WAAY,CAAE9N,EAAG,KAAMC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KAC1CiB,SAAU,CAAE/N,EAAG,KAAMC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACxCkB,MAAO,CAAEhO,EAAG,EAAGC,EAAG,KAAM4M,EAAG,IAAKC,EAAG,KACnCmB,OAAQ,CAAEjO,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACrCoB,MAAO,CAAElO,EAAG,IAAKC,EAAG,KAAM4M,EAAG,IAAKC,EAAG,KACrCqB,YAAa,CAAEnO,EAAG,EAAGC,EAAG,KAAM4M,EAAG,IAAKC,EAAG,KACzCsB,YAAa,CAAEpO,EAAG,IAAKC,EAAG,KAAM4M,EAAG,IAAKC,EAAG,KAC3CuB,MAAO,CAAErO,EAAG,IAAKC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACpCwB,KAAM,CAAEtO,EAAG,KAAMC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,KACpCyB,MAAO,CAAEvO,EAAG,KAAMC,EAAG,IAAK4M,EAAG,IAAKC,EAAG,IACrC0B,MAAO,CAAExO,EAAG,KAAMC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IACpC2B,MAAO,CAAEzO,EAAG,KAAMC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IACpC4B,MAAO,CAAE1O,EAAG,KAAMC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IACpC6B,MAAO,CAAE3O,EAAG,KAAMC,EAAG,KAAM4M,EAAG,GAAIC,EAAG,IACrC8B,mBAAoB,CAAE5O,EAAG,KAAMC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IACjD+B,uBAAwB,CAAE7O,EAAG,KAAMC,EAAG,KAAM4M,EAAG,GAAIC,EAAG,IACtDgC,oBAAqB,CAAE9O,EAAG,KAAMC,EAAG,KAAM4M,EAAG,GAAIC,EAAG,IACnDiC,aAAc,CAAE/O,EAAG,IAAKC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IAC1CkC,gBAAiB,CAAEhP,EAAG,KAAMC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IAC9CmC,YAAa,CAAEjP,EAAG,IAAKC,EAAG,IAAK4M,EAAG,GAAIC,EAAG,IACzCoC,KAAM,CAAElP,EAAG,KAAMC,EAAG,KAAM4M,EAAG,GAAIC,EAAG,KA0CzBqC,GAtCSC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACjBrC,GAAW,IACdsC,MAAc,EAAItC,EAAYiC,gBAAgBnC,EAAvC,GACPyC,WAAY,CACVvC,EAAYQ,YACZR,EAAYqB,YACZrB,EAAYoB,YACZpB,EAAYc,YACZd,EAAYU,YACZV,EAAYS,YACZT,EAAYW,YACZX,EAAYE,YACZF,EAAYK,aAEdmC,OAAQ,CACNxC,EAAYG,MACZH,EAAYa,MACZb,EAAYI,WACZJ,EAAYe,WACZf,EAAYC,UACZD,EAAYiB,MACZjB,EAAYmB,MACZnB,EAAYkB,OACZlB,EAAYsB,MACZtB,EAAYgB,SACZhB,EAAYY,SACZZ,EAAYM,UAEdmC,KAAM,CACJzC,EAAY4B,MACZ5B,EAAY0B,MACZ1B,EAAYyB,MACZzB,EAAY2B,MACZ3B,EAAYuB,KACZvB,EAAYwB,SASHkB,EAAiB,CAC5BC,IAAK,GACLxP,MAAO,IACPC,OAAQ,IACRwP,UAAW,IACXC,cAAe,IACfC,aAAc,EACdC,MAAO,EACPC,YAAa,IACbC,aAAc,IACdC,aAAc,IACdC,WAAY,EACZC,YAAa,GACbC,SAAU,KACVC,UAAW,KACXC,UAAW,KACXC,UAAW,KC9KN,MAAMC,EAIX,gBAAOC,GACL,OAAOC,YAAY9W,KACrB,CAKA,YAAO+W,CAAMC,GAAmE,IAA1BC,EAAWC,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAClE,GAAY,OAARF,QAAwBjZ,IAARiZ,EAAmB,CACrC,MAAM5Q,EAAI+Q,SAASC,OAAOJ,GAAM,IAChC,IAAKK,MAAMjR,GAAI,OAAOA,CACxB,CACA,OAAO6Q,CACT,CAKA,cAAOK,CAAQN,GAAqE,IAA5BC,EAAWC,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EACpE,GAAY,OAARF,QAAwBjZ,IAARiZ,EAAmB,CACrC,MAAM5Q,EAAImR,WAAWH,OAAOJ,IAC5B,IAAKK,MAAMjR,GAAI,OAAOA,CACxB,CACA,OAAO6Q,CACT,CAKA,YAAOO,CAAM7M,EAAejJ,EAAatB,GACvC,OAAOD,KAAKC,IAAIsB,EAAKvB,KAAKuB,IAAIiJ,EAAOvK,GACvC,CAKA,gBAAOqX,CAAU/V,EAAatB,GAC5B,OAAOD,KAAKuX,MAAM3Y,KAAK4Y,YAAYjW,EAAKtB,EAAKD,KAAKyX,UACpD,CAKA,mBAAOC,CAAgBC,GACrB,OAAOA,EAAQ/Y,KAAK0Y,UAAU,EAAGK,EAAQ5W,OAAS,GACpD,CAKA,uBAAO6W,CAAiBC,EAAWC,GACjC,OAAQD,EAAIC,EAASA,CACvB,CAKA,iBAAOC,CAAWC,EAAWC,EAAeC,GAC1C,OAAOF,EAAIC,EAAQC,CACrB,CAKA,kBAAOV,CAAYW,EAAWC,EAAWC,GACvC,OAAOF,GAAKC,EAAID,GAAKE,CACvB,CAKA,aAAOC,CAAOH,EAAWC,EAAWC,GAClC,OAAOF,GAAKC,EAAID,GAAKnY,KAAKuY,IAAIF,EAAS,EACzC,CAKA,cAAOG,CAAQL,EAAWC,EAAWC,GACnC,OAAOF,GAAKC,EAAID,IAAM,EAAInY,KAAKuY,IAAI,EAAIF,EAAS,GAClD,CAKA,gBAAOI,CAAUN,EAAWC,EAAWC,GACrC,OAAOF,GAAKC,EAAID,KAAOnY,KAAK0Y,IAAIL,EAAUrY,KAAK2Y,IAAM,EAAI,GAC3D,CAKA,qBAAOC,CAAeC,EAAkBC,GACtC,OAAO,EAAI9Y,KAAKuY,IAAIvY,KAAK+Y,EAAGF,EAAWA,EAAWC,EACpD,CAKA,eAAOE,CAAS/H,EAAegI,EAAmBhZ,GAChD,IAAIiZ,EAASjI,EAAQgI,EACrB,KAAOC,GAAUjZ,GAAKiZ,GAAUjZ,EAChC,KAAOiZ,EAAS,GAAGA,GAAUjZ,EAC7B,OAAOiZ,CACT,CAMA,cAAOC,CAAQC,EAAYC,EAAYC,EAAYC,GAA2C,IAA/BlB,EAAetB,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAC/E,MAAMyC,EAAkB,GAAVnB,EACRoB,EAAkB,GAAVpB,EAKd,QAHae,EAAKC,EAAKG,EACVF,EAAKC,EAAKE,GAFVL,EAAKC,EAAKG,EAGVF,EAAKC,EAAKE,EAEzB,CAMA,cAAOC,CACLC,EAKAC,EACAC,EACAC,EACAC,EACA5T,EACAC,EACAwP,GAEA+D,EAAEK,OAAO/T,GAAK0T,EAAEM,MAAMhU,GAAK,GAAK2T,EAChCD,EAAEK,OAAO9T,GAAKyT,EAAEM,MAAM/T,GAAK,GAAK2T,EAChCF,EAAEK,OAAOE,GAAKP,EAAEM,MAAMC,GAAK,GAAKJ,EAChCH,EAAEQ,OAAOC,MAAQL,EAAcJ,EAAEK,OAAOE,EACxCP,EAAEQ,OAAOlU,EAAIjG,KAAKuX,MAAMpR,EAAQ,EAAKwT,EAAEQ,OAAOC,MAAQT,EAAEK,OAAO/T,EAAIE,EAAS,GAC5EwT,EAAEQ,OAAOjU,EAAIlG,KAAKuX,MAAMnR,EAAS,EAAKuT,EAAEQ,OAAOC,MAAQT,EAAEK,OAAO9T,EAAIE,EAAU,GAC9EuT,EAAEQ,OAAOrH,EAAI9S,KAAKuX,MAAOoC,EAAEQ,OAAOC,MAAQxE,EAAYzP,EAAS,EACjE,EAIwBnG,KAAK2Y,GACC3Y,KAAK2Y,GCvJ9B,MAAM0B,EAaXvc,WAAAA,GAAoE,IAAxD+X,EAAqBkB,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,IAAKjB,EAAoBiB,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAAC,KAZzDuD,SAA0B,GAAG,KAC7BzE,mBAAa,OACbC,kBAAY,OACZyE,YAAsB,EAAE,KACxBC,oBAA2C,IAAIC,IAAM,KACrDC,qBAA4C,IAAID,IAAM,KACtDE,mBAGJ,IAAIF,IAAM,KACNG,gBAA0B,EAGhChc,KAAKiX,cAAgBA,EACrBjX,KAAKkX,aAAeA,CACtB,CAKA+E,WAAAA,GACE,OAAOjc,KAAK0b,QACd,CAKAQ,cAAAA,GACE,OAAOlc,KAAK2b,WACd,CAKAQ,sBAAAA,GACE,OAAO,IAAIN,IAAI7b,KAAK4b,oBACtB,CAKAQ,uBAAAA,GACE,OAAO,IAAIP,IAAI7b,KAAK8b,qBACtB,CAKAO,yBAAAA,CACEC,EACAC,EACAC,EACAC,GAEA,MAAMC,EAAY1c,KAAK+b,mBAAmBY,IAAIH,GAC9C,IAAKE,EAAW,OAGhB,MAAME,EAAWF,EAAUG,KACxBC,GAASA,EAAKR,eAAiBA,GAAgBlb,KAAK2b,IAAID,EAAKP,OAASA,GAAU,IAGnF,GAAIK,IAAaA,EAASI,WAAWC,IAAIR,GAAa,CACpDG,EAASI,WAAWE,IAAIT,GACxB,MAAMzR,EAAUhL,KAAK8b,qBAAqBa,IAAIH,IAAkB,EAChExc,KAAK8b,qBAAqBqB,IAAIX,EAAexR,EAAU,EACzD,CACF,CAKAoS,iBAAAA,CAAkBC,GAQhB,MAAMC,EAAqC,CAAC,EACtCC,EAAsC,CAAC,EACvCC,EAAiD,CAAC,EAExDxd,KAAK4b,oBAAoB9Y,QAAQ,CAAC2a,EAAOjT,KACvC8S,EAAW9S,GAAQiT,EACnBD,EAAuBhT,GAAQiT,EAAQJ,IAGzCrd,KAAK8b,qBAAqBhZ,QAAQ,CAAC2a,EAAOjT,KACxC+S,EAAY/S,GAAQiT,IAOtB,MAAMC,EAAuBtc,KAAKuX,MAA6B,IAAvB3Y,KAAK0b,SAASvZ,QAEtD,MAAO,CACLmb,aACAC,cACAC,yBACA7B,YAAa+B,EACbC,cAAe3d,KAAK0b,SAASvZ,OAC7Bkb,YAEJ,CAKAO,WAAAA,CAAYtC,GACV,OAAOtb,KAAK0b,SAASta,KAAKyc,MAAMvC,EAAItb,KAAKiX,eAAiBjX,KAAK0b,SAASvZ,OAC1E,CAKQ2b,KAAAA,GACN,OAAgC,IAAzB9d,KAAK0b,SAASvZ,OAAe,EAAInC,KAAK0b,SAAS1b,KAAK0b,SAASvZ,OAAS,GAAG4b,GAAG1C,MAAM/T,CAC3F,CAKQ0W,UAAAA,CAAWC,EAAe3W,GAChC,MAAM2R,EAAIjZ,KAAK0b,SAASvZ,OACxBnC,KAAK0b,SAASwC,KAAK,CACjBC,MAAOlF,EACPmF,GAAI,CACF/C,MAAO,CAAE/T,EAAGtH,KAAK8d,QAASxC,EAAGrC,EAAIjZ,KAAKiX,eACtCmE,OAAQ,CAAE/T,EAAG,EAAGC,EAAG,EAAGgU,EAAG,GACzBC,OAAQ,CAAElU,EAAG,EAAGC,EAAG,EAAG4M,EAAG,EAAGsH,MAAO,IAErCuC,GAAI,CACF1C,MAAO,CAAE/T,EAAGA,EAAGgU,GAAIrC,EAAI,GAAKjZ,KAAKiX,eACjCmE,OAAQ,CAAE/T,EAAG,EAAGC,EAAG,EAAGgU,EAAG,GACzBC,OAAQ,CAAElU,EAAG,EAAGC,EAAG,EAAG4M,EAAG,EAAGsH,MAAO,IAErCyC,MAAOA,EACPI,QAAS,GACTC,KAAM,GACNtN,MAAO5P,KAAKyc,MAAM5E,EAAIjZ,KAAKkX,cAAgB,EAAI7Q,EAAOyN,KAAOzN,EAAOoN,OAExE,CAKQ8K,SAAAA,CAAUtF,EAAWuF,EAAgBjC,GAC3C,GAAIvc,KAAK0b,SAASzC,GAAI,CACpB,MAAMwF,EAAiB,CAAEtQ,OAAQqQ,EAAQjC,OAAQA,GAG3CC,EAAgBxc,KAAK0e,iBAAiBF,GAC5C,GAAIhC,EAAe,CACjB,MAAMmC,EAAW,GAAA9f,OAAM2d,EAAa,KAAA3d,OAAImB,KAAKgc,mBAE5CyC,EAAuBE,YAAcA,EAGjC3e,KAAK+b,mBAAmBkB,IAAIT,IAC/Bxc,KAAK+b,mBAAmBoB,IAAIX,EAAe,IAE7Cxc,KAAK+b,mBAAmBY,IAAIH,GAAgB0B,KAAK,CAC/C5B,aAAcrD,EACdsD,OAAQA,EACRS,WAAY,IAAI4B,KAEpB,CAEA5e,KAAK0b,SAASzC,GAAGoF,QAAQH,KAAKO,EAChC,CACF,CAKQI,OAAAA,CAAQC,EAAeC,EAAcC,EAAef,EAAe3W,GACzE,MAAM2X,EAASjf,KAAK8d,QACdoB,EAAOD,EAASpH,EAAUG,MAAM1Q,EAAG,GAAKtH,KAAKiX,cAC7CiC,EAAQ4F,EAAQC,EAAOC,EAG7B,IAAK,IAAI/F,EAAI,EAAGA,EAAI6F,EAAO7F,IACzBjZ,KAAKge,WACHnG,EAAU6B,OAAO,EAAGuE,EAAOhF,EAAI6F,GAC/BjH,EAAUgC,UAAUoF,EAAQC,EAAMjG,EAAIC,IAK1C,IAAK,IAAID,EAAI,EAAGA,EAAI8F,EAAM9F,IACxBjZ,KAAKge,WAAWC,EAAOpG,EAAUgC,UAAUoF,EAAQC,GAAOJ,EAAQ7F,GAAKC,IAIzE,IAAK,IAAID,EAAI,EAAGA,EAAI+F,EAAO/F,IACzBjZ,KAAKge,WACHnG,EAAUgC,UAAUoE,EAAO,EAAGhF,EAAI+F,GAClCnH,EAAUgC,UAAUoF,EAAQC,GAAOJ,EAAQC,EAAO9F,GAAKC,GAG7D,CAKQiG,WAAAA,GAAqD,IAAzCC,EAAWjH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAYG,OAC5ChT,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,EAAG,EACjC,CAKQC,OAAAA,GAAoF,IAA5ED,EAAWjH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAYG,OAAQxL,EAAc2Q,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAUG,OAC3EhT,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,EAAG5X,EACjC,CAKQ8X,QAAAA,GAIC,IAHPF,EAAWjH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAYG,OAC1BiL,EAAa9F,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAWG,OAC3BxL,EAAc2Q,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAUC,KAE3B9S,KAAK6e,QAAQO,EAAKA,EAAKA,EAAKnB,EAAOzW,EACrC,CAKQ+X,kBAAAA,GAGC,IAFPH,EAAWjH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAYE,MAC1BvL,EAAc2Q,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAGtF,EAAUK,IAE3BlT,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,EAAG5X,EAAS,GACxCxH,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,GAAI5X,GAChCxH,KAAK6e,QAAQO,EAAKA,EAAKA,EAAKvM,EAAWO,KAAM5L,GAC7CxH,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,EAAG,GAC/Bpf,KAAK6e,QAAQO,EAAKA,EAAKA,GAAMvM,EAAWO,KAAM5L,EAAS,GACvDxH,KAAK6e,QAAQO,EAAKA,EAAKA,EAAK,EAAG,EACjC,CAKQI,UAAAA,GACNxf,KAAK6e,QACHhM,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWO,KACZP,EAAUC,MAEZ9S,KAAK6e,QACHhM,EAAYG,OACZH,EAAYG,OACZH,EAAYG,OACZH,EAAWG,OACXH,EAAUG,QAEZhT,KAAK6e,QACHhM,EAAYG,OACZH,EAAYG,OACZH,EAAYG,OACZH,EAAWO,MACVP,EAAUK,KAEblT,KAAK6e,QACHhM,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWO,KACZP,EAAUG,QAEZhT,KAAK6e,QACHhM,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWG,QACXH,EAAUG,OAEf,CAKQyM,QAAAA,GACNzf,KAAK6e,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5B7e,KAAK6e,QAAQ,GAAI,GAAI,GAAI,GAAI,EAC/B,CAKQa,gBAAAA,GAA2C,IAA1BN,EAAWjH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,IACrCnY,KAAK6e,QAAQO,EAAKA,EAAKA,GAAMvM,EAAWO,MAAOpT,KAAK8d,QAAU9d,KAAKiX,cACrE,CAKA0I,KAAAA,GAAiD,IAA3CC,EAAazH,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAAG0H,EAAe1H,UAAAhW,OAAA,EAAAgW,UAAA,QAAAnZ,EAItC,OAHAgB,KAAK0b,SAAW,GAGRkE,GACN,KAAK,EACH5f,KAAKmf,YAAYtM,EAAYI,MAC7BjT,KAAKsf,SAASzM,EAAYE,MAAOF,EAAWO,KAAMP,EAAUC,MAC5D9S,KAAKmf,YAA+B,EAAnBtM,EAAYI,MAC7BjT,KAAKsf,SAASzM,EAAYE,OAAQF,EAAWO,KAAMP,EAAUC,MAC7D9S,KAAKmf,YAAYtM,EAAYI,MAC7BjT,KAAKqf,QAAQxM,EAAYG,OAAQH,EAAUK,KAC3ClT,KAAKmf,YAAYtM,EAAYI,MAC7BjT,KAAKsf,SAASzM,EAAYG,OAAQH,EAAWG,OAAQH,EAAUC,MAC/D9S,KAAKmf,YAA+B,EAAnBtM,EAAYI,MAC7BjT,KAAKsf,SAASzM,EAAYE,OAAQF,EAAWQ,KAAMR,EAAUC,MAC7D9S,KAAKmf,YAAYtM,EAAYG,QAC7BhT,KAAK0f,mBACL,MAEF,KAAK,EACH1f,KAAKqf,QAAQxM,EAAYE,MAAOF,EAAUG,QAC1ChT,KAAKsf,SAASzM,EAAYG,OAAQH,EAAWQ,KAAMR,EAAUM,MAC7DnT,KAAKqf,QAAQxM,EAAYI,MAAOJ,EAAUG,QAC1ChT,KAAKwf,aACLxf,KAAKqf,QAAQxM,EAAYG,OAAQH,EAAUM,MAC3CnT,KAAKsf,SAASzM,EAAYI,MAAOJ,EAAWG,QAASH,EAAUK,KAC/DlT,KAAKyf,WACLzf,KAAKqf,QAAQxM,EAAYI,KAAMJ,EAAUG,QACzChT,KAAKsf,SAASzM,EAAYG,OAAQH,EAAWO,MAAOP,EAAUM,MAC9DnT,KAAKwf,aACLxf,KAAKqf,QAAQxM,EAAYE,OAAQF,EAAUG,QAC3ChT,KAAK0f,mBACL,MAEF,KAAK,EACH1f,KAAKmf,YAAYtM,EAAYE,OAC7B/S,KAAKwf,aACLxf,KAAKsf,SAASzM,EAAYG,OAAQH,EAAWQ,KAAMR,EAAUC,MAC7D9S,KAAKsf,SAASzM,EAAYG,QAASH,EAAWQ,KAAMR,EAAUC,MAC9D9S,KAAKwf,aACLxf,KAAKsf,SAASzM,EAAYE,MAAOF,EAAWO,KAAMP,EAAUK,KAC5DlT,KAAKsf,SAASzM,EAAYE,OAAQF,EAAWO,MAAOP,EAAUK,KAC9DlT,KAAKyf,WACLzf,KAAKwf,aACLxf,KAAKsf,SAASzM,EAAYI,KAAMJ,EAAWG,OAAQH,EAAUG,QAC7DhT,KAAKmf,YAAYtM,EAAYE,OAC7B/S,KAAKwf,aACLxf,KAAK0f,mBACL,MAEF,QACE1f,KAAKmf,YAAYtM,EAAYE,OAC7B/S,KAAKuf,qBACLvf,KAAKwf,aACLxf,KAAKsf,SAASzM,EAAYG,OAAQH,EAAWG,OAAQH,EAAUK,KAC/DlT,KAAKyf,WACLzf,KAAKuf,qBACLvf,KAAKsf,SAA4B,EAAnBzM,EAAYI,KAAUJ,EAAWG,OAAQH,EAAUG,QACjEhT,KAAKmf,cACLnf,KAAKqf,QAAQxM,EAAYG,OAAQH,EAAUM,MAC3CnT,KAAKwf,aACLxf,KAAKsf,SAASzM,EAAYI,MAAOJ,EAAWG,OAAQH,EAAUC,MAC9D9S,KAAKqf,QAAQxM,EAAYI,KAAMJ,EAAUM,MACzCnT,KAAKsf,SAASzM,EAAYI,KAAMJ,EAAWG,QAASH,EAAUK,KAC9DlT,KAAKyf,WACLzf,KAAKqf,QAAQxM,EAAYI,MAAOJ,EAAUG,QAC1ChT,KAAKmf,cACLnf,KAAKwf,aACLxf,KAAK0f,mBAGT1f,KAAK8f,eAGL,MAAMC,EAAgB/f,KAAK4d,YAAYiC,GACvC7f,KAAK0b,SAASqE,EAAc5B,MAAQ,GAAGnN,MAAQ3K,EAAO0N,MACtD/T,KAAK0b,SAASqE,EAAc5B,MAAQ,GAAGnN,MAAQ3K,EAAO0N,MAEtD,IAAK,IAAIkF,EAAI,EAAGA,EAAIjZ,KAAKkX,aAAc+B,IACrCjZ,KAAK0b,SAAS1b,KAAK0b,SAASvZ,OAAS,EAAI8W,GAAGjI,MAAQ3K,EAAO2N,OAG7DhU,KAAK2b,YAAc3b,KAAK0b,SAASvZ,OAASnC,KAAKiX,aACjD,CAKQ6I,YAAAA,GAEN9f,KAAK4b,oBAAoBoE,QACzBhgB,KAAK8b,qBAAqBkE,QAC1BhgB,KAAK+b,mBAAmBiE,QACxBhgB,KAAKgc,gBAAkB,EAGvB,IAAK,IAAI/C,EAAI,GAAIA,EAAIjZ,KAAK0b,SAASvZ,OAAS,GAAI8W,GAAK,GAAI,CACvD,MAAMgH,EAAYpI,EAAUiB,aAAa,IAAItC,EAAQG,aAC/C6F,EAAgBxc,KAAK0e,iBAAiBuB,GAG5C,GAAIzD,EAAe,CACjB,MAAMxR,EAAUhL,KAAK4b,oBAAoBe,IAAIH,IAAkB,EAC/Dxc,KAAK4b,oBAAoBuB,IAAIX,EAAexR,EAAU,EACxD,CAEAhL,KAAKue,UACHtF,EAAIpB,EAAUa,UAAU,EAAG,IAC3BuH,EACApI,EAAUiB,aAAa,CAAC,GAAI,EAAG,KAAM,IAAK,KAAM,OAGlD,IAAK,IAAI/V,EAAI,EAAGA,EAAI,GAAIA,IACtB/C,KAAKue,UACHtF,EAAIpB,EAAUa,UAAU,EAAG,IAC3Bb,EAAUiB,aAAa,IAAItC,EAAQI,SACnCiB,EAAUiB,aAAa,CAAC,KAAM,OAAS,EAAI1X,KAAKyX,UAGtD,CAGA,IAAK,IAAII,EAAI,GAAIA,EAAIjZ,KAAK0b,SAASvZ,OAAQ8W,GAAK,EAAI7X,KAAKyc,MAAM5E,EAAI,KACjEjZ,KAAKue,UACHtF,EACApB,EAAUiB,aAAa,IAAItC,EAAQI,SACnCiB,EAAUiB,aAAa,CAAC,GAAI,KAAO,EAAoB,EAAhB1X,KAAKyX,WAKhD,IAAK,IAAII,EAAI,IAAKA,EAAIjZ,KAAK0b,SAASvZ,OAAQ8W,GAAK,GAAK7X,KAAKyc,MAAM5E,EAAI,IACnEjZ,KAAKue,UAAUtF,EAAGzC,EAAQ7B,OAAQkD,EAAUiB,aAAa,CAAC,GAAI,KAAO,EAAoB,EAAhB1X,KAAKyX,WAIhF,MAAMqH,EAAiB,EAAE,GAAK,EAAG,IACjC,IAAK,IAAIjH,EAAI,EAAGA,EAAIjZ,KAAK0b,SAASvZ,OAAQ8W,GAAK,GAC7CjZ,KAAKue,UAAUtF,EAAGzC,EAAQD,KAAMsB,EAAUiB,aAAaoH,GAE3D,CAKAC,cAAAA,GACE,IAAK,MAAMC,KAAWpgB,KAAK0b,SACzB0E,EAAQ/B,QAAU+B,EAAQ/B,QAAQgC,OAAQ7B,GAAWA,EAAOrQ,SAAWqI,EAAQD,KAEnF,CAKA+J,SAAAA,CAAU1I,EAAmB2I,GAE3B,IAAK,MAAMH,KAAWpgB,KAAK0b,SACzB0E,EAAQ9B,KAAO,GAGjB,MAAMA,EAAc,GAEpB,IAAK,IAAIrF,EAAI,EAAGA,EAAIrB,EAAWqB,IAAK,CAClC,MAAMsD,EAASnb,KAAKyX,SAAWhB,EAAUiB,aAAa,EAAE,GAAK,KACvDwC,EAAIla,KAAKyc,MAAMzc,KAAKyX,SAAW7Y,KAAK0b,SAASvZ,QAAUnC,KAAKiX,cAC5DuH,EAAS3G,EAAUiB,aAAa,IAAItC,EAAQK,OAG5C2J,EAAW,CACfjE,SACAjB,IACAkD,SACAiC,MANYF,EAAW,EAAKnf,KAAKyX,SAAW0H,GAAa/B,IAAWhI,EAAQb,KAAO,EAAI,GAOvF8D,QAAS5B,EAAUmB,iBAAiBsC,EAAGtb,KAAKiX,gBAE9BjX,KAAK4d,YAAY4C,EAAIlF,GAC7BgD,KAAKJ,KAAKsC,GAClBlC,EAAKJ,KAAKsC,EACZ,CAEA,OAAOlC,CACT,CAKAI,gBAAAA,CAAiBF,GAEf,OAAIA,IAAWhI,EAAQ5B,YAAoB,cACvC4J,IAAWhI,EAAQf,YAAoB,cACvC+I,IAAWhI,EAAQhB,YAAoB,cACvCgJ,IAAWhI,EAAQtB,YAAoB,cACvCsJ,IAAWhI,EAAQ1B,YAAoB,cACvC0J,IAAWhI,EAAQ3B,YAAoB,cACvC2J,IAAWhI,EAAQzB,YAAoB,cACvCyJ,IAAWhI,EAAQlC,YAAoB,cACvCkK,IAAWhI,EAAQ/B,YAAoB,cACpC,IACT,EC/fK,MAAMiM,EAUXxhB,WAAAA,CAAYyhB,GASR,KAlBIJ,cAAQ,OACRlH,WAAK,OACLuH,cAAQ,OACRC,WAAK,OACLC,kBAAY,OACZC,kBAAY,OACZvJ,iBAAW,OACXmE,iBAAW,EAYjB3b,KAAKugB,SAAWI,EAAOJ,SACvBvgB,KAAKqZ,MAAQsH,EAAOtH,MACpBrZ,KAAK4gB,SAAWD,EAAOC,SACvB5gB,KAAK6gB,MAAQF,EAAOE,MACpB7gB,KAAK8gB,aAAeH,EAAOG,aAC3B9gB,KAAK+gB,aAAeJ,EAAOI,aAC3B/gB,KAAKwX,YAAcmJ,EAAOnJ,YAC1BxX,KAAK2b,YAAcgF,EAAOhF,WAC5B,CAKAqF,iBAAAA,CAAkBrF,GAChB3b,KAAK2b,YAAcA,CACrB,CAKAsF,YAAAA,CACEC,EACAT,EACAU,EACAC,EACArB,EACAzG,EACA+H,GAYC,IAVDC,EAAmBnJ,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,IACtBoJ,EAAoBpJ,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,IAUvB,MAAMqJ,EAAUhL,EAAQH,gBAAgBnC,EAAIsC,EAAQE,MAC9C+K,EAAehB,EAAQzgB,KAAKugB,SAC5BmB,EAAU,EAALpI,EAASmI,EACpB,IA+CIE,EA6BAC,EA5EAC,EAAe,EACfC,GAAU,EAsBd,GAnBIV,EAAWW,KACbb,GAAoBQ,EACXN,EAAWY,QACpBd,GAAoBQ,GAItBR,GAAoBQ,EAAKD,EAAe1B,EAAc9B,MAAQje,KAAKwX,YAIjEiJ,EADEW,EAAWa,OACLpK,EAAUsB,WAAWsH,EAAOzgB,KAAKqZ,MAAOC,GACvC8H,EAAWc,OACZrK,EAAUsB,WAAWsH,EAAOzgB,KAAK4gB,SAAUtH,GAE3CzB,EAAUsB,WAAWsH,EAAOzgB,KAAK6gB,MAAOvH,GAI9C4H,GAAW,GAAKA,EAAU,EAAG,CAC3BT,EAAQzgB,KAAK+gB,eACfN,EAAQ5I,EAAUsB,WAAWsH,EAAOzgB,KAAK8gB,aAAcxH,IAIzD,IAAK,MAAMkF,KAAUuB,EAAc1B,QAAS,CAC1C,MAAM8D,EAAU3D,EAAOrQ,OAAO+F,EAAIsC,EAAQE,MAC1C,GACEmB,EAAU0C,QACR2G,EACAM,EACAhD,EAAOjC,OAAU4F,EAAU,GAAM3D,EAAOjC,OAAS,EAAI,GAAK,GAC1D4F,GAEF,CACA1B,EAAQzgB,KAAKugB,SAAW,EACxBY,EAAWtJ,EAAUuC,SAAS2F,EAAc3B,GAAG/C,MAAMC,GAAIkG,EAASxhB,KAAK2b,aACvE,KACF,CACF,CACF,CAIA,IAAK,IAAI5Y,EAAIgd,EAAc1B,QAAQlc,OAAS,EAAGY,GAAK,EAAGA,IAAK,CAC1D,MAAMyb,EAASuB,EAAc1B,QAAQtb,GACrC,GAAIyb,EAAOrQ,SAAWqI,EAAQD,KAAM,CAClC,MAAM6L,EAAQ5D,EAAOrQ,OAAO+F,EAAIsC,EAAQE,MAEtCmB,EAAU0C,QACR2G,EACAM,EACAhD,EAAOjC,OAAU6F,EAAQ,IAAO5D,EAAOjC,OAAS,EAAI,GAAK,GACzD6F,KAMFT,EAAgB,CACdta,EAAGia,EAAc,EAAI9C,EAAOjC,OAAS+E,EAAc,GACnDha,EAAGia,EAAe,EAAI,KAGxBxB,EAAc1B,QAAQgE,OAAOtf,EAAG,GAEhC8e,EAAezgB,KAAKuX,MAAM8H,EAAQ,KAEtC,CACF,CAIA,IAAK,MAAMD,KAAOT,EAAczB,KAAM,CACpC,MAAMgE,EAAO9B,EAAIhC,OAAOtK,EAAIsC,EAAQE,MACpC,GAAI+J,EAAQD,EAAIC,OACV5I,EAAU0C,QAAQ2G,EAASM,EAAShB,EAAIjE,OAAQ+F,EAAM,IAAM,CAC9D7B,EAAQD,EAAIC,OAASD,EAAIC,MAAQA,GACjCU,EAAWtJ,EAAUuC,SAASoG,EAAIlF,GAAIkG,EAASxhB,KAAK2b,aACpDkG,GAAgB,EAChBC,GAAU,EAEVF,EAAgB,CACdva,EAAGia,EAAc,EAAId,EAAIjE,OAAS+E,EAAc,GAChDha,EAAGia,EAAe,EAAI,IAExB,KACF,CAEJ,CAMA,MAAO,CACLL,QAJFA,EAAUrJ,EAAUY,MAAMyI,GAAU,EAAG,GAKrCT,MAJFA,EAAQ5I,EAAUY,MAAMgI,EAAO,EAAGzgB,KAAKugB,UAKrCY,WACAU,eACAC,UACAH,gBACAC,gBAEJ,CAKAW,UAAAA,CACEjE,EACAhF,EACAyG,EACAmB,EACAsB,EACAlL,EACAsG,EACAlC,GAEA,MAAM8F,EAAUhL,EAAQH,gBAAgBnC,EAAIsC,EAAQE,MAEpD,IAAK,MAAM8J,KAAOlC,EAAM,CACtB,MAAMmE,EAAa7E,EAAY4C,EAAIlF,GAGnCkF,EAAIlF,EAAIzD,EAAUuC,SAASoG,EAAIlF,EAAGhC,EAAKkH,EAAIC,MAAOzgB,KAAK2b,aACvD6E,EAAI/G,QAAU5B,EAAUmB,iBAAiBwH,EAAIlF,EAAG,KAGhDkF,EAAIjE,QAAUvc,KAAK0iB,gBACjBlC,EACAiC,EACA1C,EACAyB,EACAN,EACAsB,EACAlL,EACAoE,GAIF,MAAMiH,EAAa/E,EAAY4C,EAAIlF,GACnC,GAAImH,IAAeE,EAAY,CAC7B,MAAMxE,EAAQsE,EAAWnE,KAAKsE,QAAQpC,IACvB,IAAXrC,IACFsE,EAAWnE,KAAK+D,OAAOlE,EAAO,GAC9BwE,EAAWrE,KAAKJ,KAAKsC,GAEzB,CACF,CACF,CAKQkC,eAAAA,CACNlC,EACAqC,EACA9C,EACAyB,EACAN,EACAsB,EACAlL,EACAoE,GAEA,MACM4G,EAAO9B,EAAIhC,OAAOtK,EAAIsC,EAAQE,MAGpC,GAAImM,EAAW1E,MAAQ4B,EAAc5B,MAAQ7G,EAC3C,OAAO,EAIT,IAAK,IAAIvU,EAAI,EAAGA,EATE,GASaA,IAAK,CAClC,MAAMqd,EAAU1E,GAAUmH,EAAW1E,MAAQpb,GAAK2Y,EAASvZ,QAG3D,GACEie,IAAYL,GACZS,EAAIC,MAAQ+B,GACZ3K,EAAU0C,QAAQ2G,EAASM,EAAShB,EAAIjE,OAAQ+F,EAAM,KACtD,CAEA,OAAgB,EADJtiB,KAAK8iB,4BAA4B5B,EAASV,EAAIjE,QACrCxZ,GAAMyd,EAAIC,MAAQ+B,GAAgBxiB,KAAKugB,QAC9D,CAGA,IAAK,MAAMwC,KAAY3C,EAAQ9B,KAAM,CACnC,MAAM0E,EAAYD,EAASvE,OAAOtK,EAAIsC,EAAQE,MAC9C,GACE8J,EAAIC,MAAQsC,EAAStC,OACrB5I,EAAU0C,QAAQiG,EAAIjE,OAAQ+F,EAAMS,EAASxG,OAAQyG,EAAW,KAChE,CAEA,OAAgB,EADJhjB,KAAK8iB,4BAA4BC,EAASxG,OAAQiE,EAAIjE,QAC7CxZ,GAAMyd,EAAIC,MAAQsC,EAAStC,OAAUzgB,KAAKugB,QACjE,CACF,CACF,CAGA,OAAIC,EAAIjE,QAAU,GAAY,GACrBiE,EAAIjE,OAAS,IAAa,GACvB,CACd,CAKQuG,2BAAAA,CAA4BG,EAAmBC,GACrD,OAAID,EAAY,IAAa,EACpBA,GAAa,IACVC,EAAOD,EADe,GACE,CACtC,CAKAE,mBAAAA,CACEC,EACAC,EACAC,EACAvD,EACAwD,EACApC,EACAlK,EACAQ,EACAC,EACAC,GAEA,MAAM6L,EAAgBrC,EAAWoC,EAkBjC,MAAO,CAAEH,UAhBTA,EAAYvL,EAAUuC,SACpBgJ,EACC3L,EAAWsI,EAAc9B,MAAQuF,EAAiBvM,EACnD,GAakBoM,WAXpBA,EAAaxL,EAAUuC,SACrBiJ,EACC3L,EAAYqI,EAAc9B,MAAQuF,EAAiBvM,EACpD,GAQ8BqM,WANhCA,EAAazL,EAAUuC,SACrBkJ,EACC3L,EAAYoI,EAAc9B,MAAQuF,EAAiBvM,EACpD,GAIJ,EC7TK,MAAMwM,EAOXvkB,WAAAA,CAAYwkB,EAA+Bnc,EAAeC,GAAiB,KANnEkc,SAAG,OACHnc,WAAK,OACLC,YAAM,OACPmc,gBAAU,OACTxI,YAAsB,IAG5Bnb,KAAK0jB,IAAMA,EACX1jB,KAAKuH,MAAQA,EACbvH,KAAKwH,OAASA,EACdxH,KAAK2jB,WAAanc,EAAS,GAC7B,CAKAoc,cAAAA,CAAeC,GACb7jB,KAAKmb,YAAc0I,CACrB,CAKAC,gBAAAA,CAAiBvc,EAAeC,GAC9BxH,KAAKuH,MAAQA,EACbvH,KAAKwH,OAASA,EACdxH,KAAK2jB,WAAanc,EAAS,GAC7B,CAKAwY,KAAAA,GACEhgB,KAAK0jB,IAAIK,UAAU,EAAG,EAAG/jB,KAAKuH,MAAOvH,KAAKwH,OAC5C,CAMQwc,OAAAA,CACNxJ,EACAyJ,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAtT,GAEAhR,KAAK0jB,IAAIa,UAAYvT,EACrBhR,KAAK0jB,IAAIc,YACTxkB,KAAK0jB,IAAIe,OAAOjK,EAAIyJ,GACpBjkB,KAAK0jB,IAAIgB,OAAOhK,EAAIwJ,GACpBlkB,KAAK0jB,IAAIgB,OAAOP,EAAIC,GACpBpkB,KAAK0jB,IAAIgB,OAAOL,EAAIC,GACpBtkB,KAAK0jB,IAAIiB,YACT3kB,KAAK0jB,IAAInb,MACX,CAKA6X,OAAAA,CACEjJ,EACAqD,EACAyJ,EACAxJ,EACAC,EACAwJ,EACAvJ,EACAiK,EACA5T,GAEA,MAAM6T,EAAK7kB,KAAK8kB,YAAYrK,EAAItD,GAC1B4N,EAAK/kB,KAAK8kB,YAAYnK,EAAIxD,GAC1B6N,EAAKhlB,KAAKilB,gBAAgBxK,EAAItD,GAC9B+N,EAAKllB,KAAKilB,gBAAgBtK,EAAIxD,GAcpC,GAXAnX,KAAK0jB,IAAIa,UAAYvT,EAAM2C,MAC3B3T,KAAK0jB,IAAIyB,SAAS,EAAGjB,EAAIlkB,KAAKuH,MAAO0c,EAAKC,GAG1ClkB,KAAKgkB,QAAQxJ,EAAKC,EAAKoK,EAAIZ,EAAIzJ,EAAKC,EAAIwJ,EAAIvJ,EAAKC,EAAIuJ,EAAIxJ,EAAKC,EAAKoK,EAAIb,EAAIlT,EAAM4C,QACjF5T,KAAKgkB,QAAQxJ,EAAKC,EAAKoK,EAAIZ,EAAIzJ,EAAKC,EAAIwJ,EAAIvJ,EAAKC,EAAIuJ,EAAIxJ,EAAKC,EAAKoK,EAAIb,EAAIlT,EAAM4C,QAGjF5T,KAAKgkB,QAAQxJ,EAAKC,EAAIwJ,EAAIzJ,EAAKC,EAAIwJ,EAAIvJ,EAAKC,EAAIuJ,EAAIxJ,EAAKC,EAAIuJ,EAAIlT,EAAM0C,MAGnE1C,EAAM6C,KAAM,CACd,MAAMuR,EAAe,EAAL3K,EAAUtD,EACpBkO,EAAe,EAAL1K,EAAUxD,EAC1B,IAAImO,EAAS9K,EAAKC,EAAK2K,EACnBG,EAAS7K,EAAKC,EAAK0K,EAEvB,IAAK,IAAIxR,EAAO,EAAGA,EAAOsD,EAAOtD,IAC/B7T,KAAKgkB,QACHsB,EAASN,EAAK,EACdf,EACAqB,EAASN,EAAK,EACdf,EACAsB,EAASL,EAAK,EACdhB,EACAqB,EAASL,EAAK,EACdhB,EACAlT,EAAM6C,MAERyR,GAAUF,EACVG,GAAUF,CAEd,CAGArlB,KAAK4kB,IAAI,EAAGX,EAAIjkB,KAAKuH,MAAO2c,EAAKD,EAAIW,EACvC,CAMAte,UAAAA,CACEA,EACAkf,EACAC,EACAlJ,GAEAkJ,EAAWA,GAAY,EACvBlJ,EAASA,GAAU,EAEnB,MAAMmJ,EAASF,EAAMtR,EAAI,EACnByR,EAASH,EAAMrR,EAEfyR,EAAUJ,EAAMne,EAAKjG,KAAKyc,MAAM2H,EAAMtR,EAAIuR,GAAYD,EAAMtR,EAC5D2R,EAAUL,EAAMle,EAChBwe,EAAU1kB,KAAKuB,IAAI+iB,EAAQF,EAAMtR,GAAK0R,EAAUJ,EAAMne,IACtD0e,EAAUJ,EAGVK,EAAQ5kB,KAAKyc,MAAMtB,GACnB0J,EAAQ7kB,KAAKyc,MAAM7d,KAAKuH,OAASue,EAAUJ,IAC3CQ,EAAQlmB,KAAKwH,OAGnBxH,KAAK0jB,IAAIyC,UAAU7f,EAAYsf,EAASC,EAASC,EAASC,EAN5C,EAM4DC,EAAOC,EAAOC,GAGpFJ,EAAUJ,GACZ1lB,KAAK0jB,IAAIyC,UACP7f,EACAkf,EAAMne,EACNwe,EACAH,EAASI,EACTC,EACAE,EAAQ,EACRD,EACAhmB,KAAKuH,MAAQ0e,EACbC,EAGN,CAMA1H,MAAAA,CACExH,EACAqH,EACAG,EACAhD,EACA4K,EACAJ,GAIO,IAHP/hB,EAAekU,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAClBjU,EAAeiU,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAClBkO,EAAclO,UAAAhW,OAAA,EAAAgW,UAAA,QAAAnZ,EAEd,MAAMinB,EAAUzH,EAAOtK,EAAIsH,EAAQxb,KAAKuH,MAAS,GAAMiP,EAAQE,MAAQM,GACjEkP,EAAU1H,EAAOrK,EAAIqH,EAAQxb,KAAKuH,MAAS,GAAMiP,EAAQE,MAAQM,GAEvEoP,GAAgBH,EAAQhiB,EACxB+hB,GAAgBE,EAAQhiB,EAExB,MAAMoiB,EAAQD,EAAQjlB,KAAKC,IAAI,EAAG2kB,EAAQE,EAAQG,GAAS,EAEvDC,EAAQJ,GACVlmB,KAAK0jB,IAAIyC,UACP9H,EACAG,EAAOnX,EACPmX,EAAOlX,EACPkX,EAAOtK,EACPsK,EAAOrK,EAAKqK,EAAOrK,EAAImS,EAASJ,EAChCE,EACAJ,EACAC,EACAC,EAAQI,EAGd,CAMAC,MAAAA,CACEvP,EACAqH,EACAoD,EACAjG,EACA4K,EACAJ,EACAQ,EACAC,GAEA,MAAMC,EACJ,IAAMtlB,KAAKyX,SAAW4I,EAAezhB,KAAK2jB,WAAa9L,EAAUiB,aAAa,EAAE,EAAG,IAErF,IAAI0F,EAEFA,EADEgI,EAAQ,EACDC,EAAS,EAAIjQ,EAAQP,mBAAqBO,EAAQF,YAClDkQ,EAAQ,EACRC,EAAS,EAAIjQ,EAAQL,oBAAsBK,EAAQJ,aAEnDqQ,EAAS,EAAIjQ,EAAQN,uBAAyBM,EAAQH,gBAGjErW,KAAKwe,OAAOxH,EAAWqH,EAASG,EAAQhD,EAAO4K,EAAOJ,EAAQU,GAAS,IAAM,EAC/E,CAMQ9B,GAAAA,CAAIvd,EAAWC,EAAWC,EAAeC,EAAgBod,GAC3DA,EAAM,GAAKA,EAAM,MACnB5kB,KAAK0jB,IAAIiD,YAAc,EAAI/B,EAC3B5kB,KAAK0jB,IAAIa,UAAYle,EAAOmN,IAC5BxT,KAAK0jB,IAAIyB,SAAS9d,EAAGC,EAAGC,EAAOC,GAC/BxH,KAAK0jB,IAAIiD,YAAc,EAE3B,CAKQ7B,WAAAA,CAAY8B,EAA4BzP,GAC9C,OAAOyP,EAAqBxlB,KAAKC,IAAI,EAAG,EAAI8V,EAC9C,CAKQ8N,eAAAA,CAAgB2B,EAA4BzP,GAClD,OAAOyP,EAAqBxlB,KAAKC,IAAI,GAAI,EAAI8V,EAC/C,CAKA0P,UAAAA,CACEnL,EACAoL,EACAxP,EACAN,EACAqH,GAGA,IAAK,IAAIpF,EAAI3B,EAAe,EAAG2B,EAAI,EAAGA,IAAK,CACzC,MAAMmH,EAAU1E,GAAUoL,EAAmB7N,GAAKyC,EAASvZ,QAE3D,IAAK,MAAMqe,KAAOJ,EAAQ9B,KAAM,CAC9B,MAAMyI,EAAclP,EAAUe,YAC5BwH,EAAQhC,GAAG7C,OAAOC,MAClB4E,EAAQrC,GAAGxC,OAAOC,MAClBgF,EAAI/G,SAAW,GAEXuN,EACJnP,EAAUe,YAAYwH,EAAQhC,GAAG7C,OAAOlU,EAAG+Y,EAAQrC,GAAGxC,OAAOlU,EAAGmZ,EAAI/G,SAAW,GAC9EsN,EAAcvG,EAAIjE,OAASvF,EAAYhX,KAAKuH,MAAS,EAClD0f,EAAUpP,EAAUe,YACxBwH,EAAQhC,GAAG7C,OAAOjU,EAClB8Y,EAAQrC,GAAGxC,OAAOjU,EAClBkZ,EAAI/G,SAAW,GAGjBzZ,KAAKwe,OACHxH,EACAqH,EACAmC,EAAIhC,OACJuI,EACAC,EACAC,GACC,IACA,EACD7G,EAAQ8G,KAEZ,CACF,CACF,CAKAC,aAAAA,CACEzL,EACAoL,EACAxP,EACAN,EACAqH,GAGA,IAAK,IAAIpF,EAAI3B,EAAe,EAAG2B,EAAI,EAAGA,IAAK,CACzC,MAAMmH,EAAU1E,GAAUoL,EAAmB7N,GAAKyC,EAASvZ,QAE3D,IAAK,MAAMqc,KAAU4B,EAAQ/B,QAAS,CACpC,MAAM0I,EAAc3G,EAAQhC,GAAG7C,OAAOC,MAChCwL,EACJ5G,EAAQhC,GAAG7C,OAAOlU,EAAK0f,EAAcvI,EAAOjC,OAASvF,EAAYhX,KAAKuH,MAAS,EAC3E0f,EAAU7G,EAAQhC,GAAG7C,OAAOjU,EAElCtH,KAAKwe,OACHxH,EACAqH,EACAG,EAAOrQ,OACP4Y,EACAC,EACAC,EACAzI,EAAOjC,OAAS,GAAK,EAAI,GACxB,EACD6D,EAAQ8G,KAEZ,CACF,CACF,CAKAE,aAAAA,CACE1L,EACAoL,EACAxP,EACAN,EACAqH,EACAgJ,GAGA,IAAK,IAAIpO,EAAI3B,EAAe,EAAG2B,EAAI,EAAGA,IAAK,CACzC,MAAMmH,EAAU1E,GAAUoL,EAAmB7N,GAAKyC,EAASvZ,QAG3D,IAAK,MAAMqc,KAAU4B,EAAQ/B,QAAS,CACpC,MAAM0I,EAAc3G,EAAQhC,GAAG7C,OAAOC,MAChCwL,EACJ5G,EAAQhC,GAAG7C,OAAOlU,EAAK0f,EAAcvI,EAAOjC,OAASvF,EAAYhX,KAAKuH,MAAS,EAC3E0f,EAAU7G,EAAQhC,GAAG7C,OAAOjU,EAG9B8Y,EAAQ8G,MAAQ9G,EAAQhC,GAAGhD,OAAOE,EAAItb,KAAKmb,aAAe8L,EAAU7G,EAAQ8G,MAE1EG,GACFA,EAAkB7I,EAAOrQ,OAAQiS,EAAQjC,MAAOK,EAAOjC,QAI3Dvc,KAAKwe,OACHxH,EACAqH,EACAG,EAAOrQ,OACP4Y,EACAC,EACAC,EACAzI,EAAOjC,OAAS,GAAK,EAAI,GACxB,EACD6D,EAAQ8G,KAEZ,CAGA,IAAK,MAAM1G,KAAOJ,EAAQ9B,KAAM,CAC9B,MAAMyI,EAAclP,EAAUe,YAC5BwH,EAAQhC,GAAG7C,OAAOC,MAClB4E,EAAQrC,GAAGxC,OAAOC,MAClBgF,EAAI/G,SAAW,GAEXuN,EACJnP,EAAUe,YAAYwH,EAAQhC,GAAG7C,OAAOlU,EAAG+Y,EAAQrC,GAAGxC,OAAOlU,EAAGmZ,EAAI/G,SAAW,GAC9EsN,EAAcvG,EAAIjE,OAASvF,EAAYhX,KAAKuH,MAAS,EAClD0f,EAAUpP,EAAUe,YACxBwH,EAAQhC,GAAG7C,OAAOjU,EAClB8Y,EAAQrC,GAAGxC,OAAOjU,EAClBkZ,EAAI/G,SAAW,GAGjBzZ,KAAKwe,OACHxH,EACAqH,EACAmC,EAAIhC,OACJuI,EACAC,EACAC,GACC,IACA,EACD7G,EAAQ8G,KAEZ,CACF,CACF,CAKAI,oBAAAA,CAAqBC,EAA6BC,GAChD,MAAM9D,EAAM1jB,KAAK0jB,IACjBA,EAAI+D,OAEJ,IAAK,MAAMC,KAAQH,EAAY,CAC7B,MAAMI,EAAUH,EAAcE,EAAKE,UAC7BC,EAAWzmB,KAAKuB,IAAIglB,EAAU,IAAK,GAEzC,GAAIE,GAAY,EAAG,SAGnB,MAAMC,EAAQ,EAAID,EAGZE,EAAgB,EAChBC,EAAiB,EACjBC,EAAc,GAAKJ,EAEzBnE,EAAIiD,YAAsB,GAARmB,EAClBpE,EAAIa,UAAY,UAEhB,IAAK,IAAIxhB,EAAI,EAAGA,EAAIglB,EAAehlB,IAAK,CACtC,MAAMmlB,EAASnlB,EAAIglB,EAAiB3mB,KAAK2Y,GAAK,EACxC1S,EAAIqgB,EAAKrgB,EAAIjG,KAAK0Y,IAAIoO,GAASD,EAC/B3gB,EAAIogB,EAAKpgB,EAAIlG,KAAK+mB,IAAID,GAASD,EAErCvE,EAAIc,YACJd,EAAI0E,IAAI/gB,EAAGC,EAAG0gB,EAAgB,EAAa,EAAV5mB,KAAK2Y,IACtC2J,EAAInb,MACN,CAGAmb,EAAIiD,YAAcmB,EAClBpE,EAAI2E,KAAO,kBACX3E,EAAIa,UAAY,UAChBb,EAAI4E,YAAc,UAClB5E,EAAI6E,UAAY,EAEhB,MAAMC,EAAI,IAAA3pB,OAAO6oB,EAAK5e,OAAM,WACtB2f,EAAQf,EAAKpgB,EAAI,GAAKugB,EAE5BnE,EAAIgF,WAAWF,EAAMd,EAAKrgB,EAAI,GAAIohB,GAClC/E,EAAIiF,SAASH,EAAMd,EAAKrgB,EAAI,GAAIohB,EAClC,CAEA/E,EAAIkF,SACN,CAKAC,qBAAAA,CAAsBtB,EAA8BC,GAClD,MAAM9D,EAAM1jB,KAAK0jB,IACjBA,EAAI+D,OAEJ,IAAK,MAAMC,KAAQH,EAAY,CAC7B,MAAMI,EAAUH,EAAcE,EAAKE,UAC7BC,EAAWzmB,KAAKuB,IAAIglB,EAAU,IAAK,GAEzC,GAAIE,GAAY,EAAG,SAGnB,MAAMiB,EAAiC,IAAvB1nB,KAAKyX,SAAW,KAAa,EAAIgP,GAC3CkB,EAAiC,IAAvB3nB,KAAKyX,SAAW,KAAa,EAAIgP,GAG3CC,EAAQ,EAAID,EAGZE,EAAgB,EAChBC,EAAiB,EACjBC,EAAc,GAAKJ,EAEzBnE,EAAIiD,YAAsB,GAARmB,EAElB,IAAK,IAAI/kB,EAAI,EAAGA,EAAIglB,EAAehlB,IAAK,CACtC,MAAMmlB,EAASnlB,EAAIglB,EAAiB3mB,KAAK2Y,GAAK,EACxC1S,EAAIqgB,EAAKrgB,EAAIjG,KAAK0Y,IAAIoO,GAASD,EAAca,EAC7CxhB,EAAIogB,EAAKpgB,EAAIlG,KAAK+mB,IAAID,GAASD,EAAcc,EAG7C/X,EAAQjO,EAAI,IAAM,EAAI,UAAY,UACxC2gB,EAAIa,UAAYvT,EAEhB0S,EAAIc,YACJd,EAAI0E,IAAI/gB,EAAGC,EAAG0gB,GAAkB,EAAe,GAAXH,GAAiB,EAAa,EAAVzmB,KAAK2Y,IAC7D2J,EAAInb,MACN,CAGAmb,EAAIiD,YAAcmB,EAClBpE,EAAI2E,KAAO,kBACX3E,EAAIa,UAAY,UAChBb,EAAI4E,YAAc,UAClB5E,EAAI6E,UAAY,EAEhB,MAAMC,EAAO,YACPQ,EAAQtB,EAAKrgB,EAAI,GAAKyhB,EACtBL,EAAQf,EAAKpgB,EAAI,GAAKugB,EAAWkB,EAEvCrF,EAAIgF,WAAWF,EAAMQ,EAAOP,GAC5B/E,EAAIiF,SAASH,EAAMQ,EAAOP,GAGtBZ,EAAW,KACbnE,EAAIiD,YAAoC,IAArB,EAAe,GAAXkB,GACvBnE,EAAIa,UAAY,UAChBb,EAAIc,YACJd,EAAI0E,IAAIV,EAAKrgB,EAAGqgB,EAAKpgB,EAAG,GAAI,EAAa,EAAVlG,KAAK2Y,IACpC2J,EAAInb,OAER,CAEAmb,EAAIkF,SACN,ECnhBK,MAAMK,EAcX/pB,WAAAA,CACUgqB,EACAC,GAEP,IADDpS,EAAWoB,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,GAAE,KAFR+Q,OAAAA,EAA4B,KAC5BC,OAAAA,EAAuC,KAfzCC,WAAY,EAAM,KAClBC,iBAAkC,KAAK,KACvCC,cAAgB,EAAE,KAClBC,YAAc,EAAE,KACPC,eAAS,OACTC,mBAAa,OACbC,kBAAY,EAE7B,KACQC,WAAa,EAAE,KACfC,cAAgB,EAAE,KAClBC,WAAa,EA0CrB,KAGQC,KAAO,KACb,IAAK9pB,KAAKopB,UAAW,OAErB,MAAM5B,EAAc3P,EAAUC,YAC9B,IAAIiS,GAAavC,EAAcxnB,KAAKspB,eAAiB,IAQrD,IALAS,EAAY3oB,KAAKuB,IAAIonB,EAAW/pB,KAAK0pB,cACrC1pB,KAAKspB,cAAgB9B,EACrBxnB,KAAKupB,aAAeQ,EAGb/pB,KAAKupB,aAAevpB,KAAKypB,eAC9BzpB,KAAKkpB,OAAOlpB,KAAKypB,eACjBzpB,KAAKupB,aAAevpB,KAAKypB,cAI3B,MAAMO,EAAgBhqB,KAAKupB,YAAcvpB,KAAKypB,cAG9CzpB,KAAKmpB,OAAOa,GAGZhqB,KAAKiqB,mBAGLjqB,KAAKqpB,iBAAmBa,sBAAsBlqB,KAAK8pB,OAjEnD9pB,KAAKwpB,UAAYzS,EACjB/W,KAAKypB,cAAgB,EAAI1S,EACzB/W,KAAK0pB,aAAoC,EAArB1pB,KAAKypB,aAC3B,CAKApX,KAAAA,GACMrS,KAAKopB,YAETppB,KAAKopB,WAAY,EACjBppB,KAAKspB,cAAgBzR,EAAUC,YAC/B9X,KAAKupB,YAAc,EACnBvpB,KAAK8pB,OACP,CAKAK,IAAAA,GACEnqB,KAAKopB,WAAY,EACa,OAA1BppB,KAAKqpB,mBACPe,qBAAqBpqB,KAAKqpB,kBAC1BrpB,KAAKqpB,iBAAmB,KAE5B,CAKAgB,MAAAA,GACE,OAAOrqB,KAAK6pB,UACd,CAsCQI,gBAAAA,GACNjqB,KAAK2pB,aACL,MAAM1oB,EAAM4W,EAAUC,YAElB7W,EAAMjB,KAAK4pB,eAAiB,MAC9B5pB,KAAK6pB,WAAazoB,KAAKuX,MAAyB,IAAlB3Y,KAAK2pB,YAAsB1oB,EAAMjB,KAAK4pB,gBACpE5pB,KAAK2pB,WAAa,EAClB3pB,KAAK4pB,cAAgB3oB,EAEzB,EAMK,MAAMqpB,EAIX,uBAAaC,CACXC,EACAC,GAE8B,IAD9BC,EAAYvS,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,UAEf,MAAMwS,EAAWH,EAAM9rB,IAAK8L,GAASxK,KAAK4qB,gBAAgBpgB,EAAMigB,EAAUC,IAC1E,OAAOG,QAAQC,IAAIH,EACrB,CAKA,sBAAeC,CACbpgB,EACAigB,EACAC,GAEA,OAAO,IAAIG,QAAQ,CAACE,EAASC,KAC3B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAADxsB,OAA0B2L,KAG5DygB,EAAIK,IADO,YAATZ,EACK,GAAA7rB,OAAM4rB,EAAQ,KAAA5rB,OAAI2L,EAAI,SAEtB,GAAA3L,OAAM4rB,EAAQ,WAAA5rB,OAAU6rB,EAAI,KAAA7rB,OAAI2L,EAAI,UAGjD,EAMK,MAAM+gB,EAQXrsB,WAAAA,GAAe,KAPPssB,KAAmC,CAAC,EAAE,KACtCC,YAIH,GA0CL,KAGQC,cAAiB9d,IACvB5N,KAAKwrB,KAAK5d,EAAM+d,UAAW,EAC3B3rB,KAAK4rB,mBAAmBhe,EAAM+d,QAAS,QAGtB,CAAC,GAAI,GAAI,GAAI,IACjBE,SAASje,EAAM+d,UAC1B/d,EAAMrC,kBAIV,KAGQugB,YAAele,IACrB5N,KAAKwrB,KAAK5d,EAAM+d,UAAW,EAC3B3rB,KAAK4rB,mBAAmBhe,EAAM+d,QAAS,OA1DvC3rB,KAAK+rB,wBACP,CAKQA,sBAAAA,GACNje,SAASC,iBAAiB,UAAW/N,KAAK0rB,eAC1C5d,SAASC,iBAAiB,QAAS/N,KAAK8rB,YAC1C,CAKAE,OAAAA,GACEle,SAASE,oBAAoB,UAAWhO,KAAK0rB,eAC7C5d,SAASE,oBAAoB,QAAShO,KAAK8rB,YAC7C,CAKAG,cAAAA,CACEC,GAMAlsB,KAAKyrB,YAAcS,CACrB,CAKAC,YAAAA,CAAaR,GACX,OAAO3rB,KAAKwrB,KAAKG,KAAY,CAC/B,CA2BQC,kBAAAA,CAAmBD,EAAiBniB,GAC1C,IAAK,MAAM4iB,KAAWpsB,KAAKyrB,YACrBW,EAAQ5iB,OAASA,GAAQ4iB,EAAQZ,KAAKK,SAASF,IACjDS,EAAQC,QAGd,CAKAC,kBAAAA,CAAmBC,GAEjB,CAMMC,sBAAAA,CAAuBC,GAC7B,OAAQA,GACN,IAAK,OACH,OAAO,GACT,IAAK,KACH,OAAO,GACT,IAAK,QACH,OAAO,GACT,IAAK,OACH,OAAO,GACT,QACE,OAAO,EAEb,EC5PK,MAAMtgB,EAAWA,KACtB,GAAsB,qBAAXugB,OAAwB,CACjC,MAAMC,EAAoB,iEAAiEC,KACzFC,UAAUC,WAENC,EAAgBL,OAAOM,WAAW,sCAAsCC,QACxEC,EAAwBL,UAAUM,eAAiB,EACzD,OAAOJ,GAAiBJ,GAAqBO,CAC/C,CACA,OAAO,GCCF,MAAME,EAA0B9vB,IAA4D,IAA3D,WAAEmf,EAAU,cAAE4Q,EAAa,OAAEvkB,EAAM,IAAEwkB,EAAG,UAAEC,GAAWjwB,EAI3F,MAAMkwB,EAAyBA,KACfpV,SAASkV,EAAI7M,OAAS,MAAQ,GAE5B,IAAO,IAAM,GAG/B,MAAkB,YAAd8M,GAAyC,WAAdA,GAAwC,YAAdA,EAChD,MAIP3uB,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EAEEG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,UAASC,SAAA,EAEtBG,EAAAA,EAAAA,MAAA,QAAMJ,UAAU,kBAAiBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAe8sB,IAAI,sCAAsCoC,IAAI,UAC5E9uB,EAAAA,EAAAA,MAAA,QAAMJ,UAAU,eAAcC,SAAA,CAC3Bge,EAAW,IAAE4Q,SAKlBzuB,EAAAA,EAAAA,MAAA,QAAMJ,UAAU,WAAUC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAe8sB,IAAI,uCAAuCoC,IAAI,UAC7EnvB,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAAcC,SAAE6uB,EAAIK,uBAItC/uB,EAAAA,EAAAA,MAAA,QAAMJ,UAAU,YAAWC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAe8sB,IAAI,iCAAiCoC,IAAI,YACvEnvB,EAAAA,EAAAA,KAAA,QAAMC,UAAU,kBAAiBC,SAAEqK,WAKvCvK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UACzBG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kBAAkB8J,QAAQ,cAAa7J,SAAA,EAEpDF,EAAAA,EAAAA,KAAA,UAAQqvB,GAAG,MAAMC,GAAG,MAAMC,EAAE,KAAKvlB,KAAK,OAAOI,OAAO,OAAOC,YAAY,OAEvErK,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,iCAAiCD,KAAK,OAAOI,OAAO,OAAOC,YAAY,MAE9E,CAAC,EAAG,GAAI,GAAI,GAAI,KAAKlK,IAAI,CAAC+hB,EAAO1d,KAChC,MAAMmlB,GAAc,IAAJnlB,EAAW,EAAI,KAAO3B,KAAK2Y,GAAK,KAC1CS,EAAK,IAAM,GAAKpZ,KAAK0Y,IAAIoO,GACzBjE,EAAK,IAAM,GAAK7iB,KAAK+mB,IAAID,GACzBxN,EAAK,IAAM,GAAKtZ,KAAK0Y,IAAIoO,GACzBhE,EAAK,IAAM,GAAK9iB,KAAK+mB,IAAID,GAC/B,OACE3pB,EAAAA,EAAAA,KAAA,QAAkBic,GAAIA,EAAIyJ,GAAIA,EAAIvJ,GAAIA,EAAIwJ,GAAIA,EAAIvb,OAAO,OAAOC,YAAY,KAAjE6X,MAIfliB,EAAAA,EAAAA,KAAA,QACEic,GAAG,MACHyJ,GAAG,MACHvJ,GAAI,IAAM,GAAKtZ,KAAK0Y,KAAK0T,IAA2B,KAAOpsB,KAAK2Y,GAAK,MACrEmK,GAAI,IAAM,GAAK9iB,KAAK+mB,KAAKqF,IAA2B,KAAOpsB,KAAK2Y,GAAK,MACrEpR,OAAO,UACPC,YAAY,IACZC,cAAc,WAGhBtK,EAAAA,EAAAA,KAAA,UAAQqvB,GAAG,MAAMC,GAAG,MAAMC,EAAE,IAAIvlB,KAAK,gBAGvC3J,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iBAAgBC,SAAA,CAAE6uB,EAAI7M,MAAM,mBCrExCsN,EAAgDzwB,IAGtD,IAHuD,kBAC5D8f,EAAiB,UACjB4Q,GAAY,GACb1wB,EACC,MAAO2wB,EAAOC,IAAYxjB,EAAAA,EAAAA,UAA+C,MAezE,IAbAG,EAAAA,EAAAA,WAAU,KACR,GAAImjB,EAAW,CACb,MAAM/b,EAAWC,YAAY,KAC3B,MAAMic,EAAW/Q,IACb+Q,GACFD,EAASC,IAEV,KAEH,MAAO,IAAMhc,cAAcF,EAC7B,GACC,CAACmL,EAAmB4Q,KAElBA,IAAcC,EAAO,OAAO,KAEjC,MAAMG,EAAaC,OAAO7C,KAAKyC,EAAM3Q,YAAYgR,OAEjD,OACE1vB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAAC,yBAChCG,EAAAA,EAAAA,MAAA,OAAAH,SAAA,EACEG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAAsBC,SAAC,YACvCG,EAAAA,EAAAA,MAAA,QAAMJ,UAAU,uBAAsBC,SAAA,CAAEwvB,EAAMtS,YAAY,WAE5D/c,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAAsBC,SAAC,WACvCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAAsBC,SAAEwvB,EAAM5Q,mBAGlDze,EAAAA,EAAAA,MAAA,SAAO0S,MAAO,CAAE/J,MAAO,OAAQgnB,SAAU,WAAY9vB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAAE,UACEG,EAAAA,EAAAA,MAAA,MAAI0S,MAAO,CAAEkd,aAAc,qBAAsB/vB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,OAAQC,cAAe,YAAajwB,SAAC,eAC7DF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,SAAUC,cAAe,YAAajwB,SAAC,YAC/DF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,SAAUC,cAAe,YAAajwB,SAAC,WAC/DF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,QAASC,cAAe,YAAajwB,SAAC,YAGlEF,EAAAA,EAAAA,KAAA,SAAAE,SACG2vB,EAAW1vB,IAAKuhB,IACf,MAAM0O,EAASV,EAAM3Q,WAAW2C,IAAc,EACxC2O,EAAQX,EAAM1Q,YAAY0C,IAAc,EACxC4O,EAAcZ,EAAMzQ,uBAAuByC,IAAc,EACzD6O,EAAaD,EAAc,GAAMD,EAAQC,EAAe,KAAKE,QAAQ,GAAK,IAEhF,OACEnwB,EAAAA,EAAAA,MAAA,MAAoB0S,MAAO,CAAEkd,aAAc,qBAAsB/vB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,MACE+S,MAAO,CACL0d,WAAY,WACZN,cAAe,WACfH,SAAU,YACV9vB,SAEDwhB,EAAUgP,QAAQ,YAAa,QAElC1wB,EAAAA,EAAAA,KAAA,MACE+S,MAAO,CAAEmd,UAAW,SAAUO,WAAY,WAAYN,cAAe,YAAajwB,SAEjFkwB,KAEHpwB,EAAAA,EAAAA,KAAA,MACE+S,MAAO,CAAEmd,UAAW,SAAUO,WAAY,WAAYN,cAAe,YAAajwB,SAEjFmwB,KAEHhwB,EAAAA,EAAAA,MAAA,MACE0S,MAAO,CAAEmd,UAAW,QAASO,WAAY,WAAYN,cAAe,YAAajwB,SAAA,CAEhFqwB,EAAW,SAvBP7O,QA6Bf1hB,EAAAA,EAAAA,KAAA,SAAAE,UACEG,EAAAA,EAAAA,MAAA,MAAI0S,MAAO,CAAE4d,WAAY,OAAQC,UAAW,qBAAsB1wB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAE0d,WAAY,UAAWT,SAAU,WAAY9vB,SAAC,WAC3DF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,SAAUO,WAAY,WAAYvwB,SACvD4vB,OAAOe,OAAOnB,EAAM3Q,YAAY+R,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,MAE3Djb,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEmd,UAAW,SAAUO,WAAY,WAAYvwB,SACvD4vB,OAAOe,OAAOnB,EAAM1Q,aAAa8R,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,MAE5D5a,EAAAA,EAAAA,MAAA,MAAI0S,MAAO,CAAEmd,UAAW,QAASO,WAAY,WAAYvwB,SAAA,CACtD4vB,OAAOe,OAAOnB,EAAMzQ,wBAAwB6R,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,GAAK,GAEnE6U,OAAOe,OAAOnB,EAAM1Q,aAAa8R,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,GACxD6U,OAAOe,OAAOnB,EAAMzQ,wBAAwB6R,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,GACtE,KACAuV,QAAQ,GACV,IAAI,gBAMhBxwB,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEge,UAAW,UAAWf,SAAU,WAAYvd,MAAO,WAAYvS,UAC3EG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,8BAA4BwvB,EAAM5Q,UAAU,kBC7G1CkS,GAAaC,EAAAA,EAAAA,YACzB,CAAAlyB,EAAoDqO,KAAS,IAA5D,MAAEpE,EAAK,OAAEC,EAAM,UAAEhJ,EAAY,GAAE,QAAEO,EAAO,MAAEuS,GAAOhU,EACjD,OACCsB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,sBAAqBC,SAAA,EAEnCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CACfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CACfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CACfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CAGfD,EAAAA,EAAAA,KAAA,UACCoN,IAAKA,EACLpE,MAAOA,EACPC,OAAQA,EACRzI,QAASA,EACTP,UAAS,eAAAK,OAAiBL,GAC1B8S,OAAKmF,EAAAA,EAAAA,GAAA,CACJgZ,eAAgB,aACbne,UAQTie,EAAWG,YAAc,aCrClB,MAAMC,EAAgB,WAEvB,IADLre,EAAmC6G,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,QAEtC,GAAI,YAAa0U,UAAW,CAC3B,MAAM+C,EAAqB,UAAVte,EAAoB,GAAe,WAAVA,EAAqB,GAAK,GACpEub,UAAUgD,QAAQD,EACnB,CACD,ECCaE,EAAmCxyB,IAAA,IAAC,KAChDyG,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACAlB,EAAA,OACAiB,EAAAA,EAAAA,KAAA,OACCgJ,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,IACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,UAErBF,EAAAA,EAAAA,KAAA,YAAUuK,OAAO,uBAINknB,EAAqCC,IAAA,IAAC,KAClDlsB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACAyxB,EAAA,OACA1xB,EAAAA,EAAAA,KAAA,OACCgJ,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,IACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,UAErBF,EAAAA,EAAAA,KAAA,YAAUuK,OAAO,sBAINonB,EAAqCC,IAAA,IAAC,KAClDpsB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACA2xB,EAAA,OACA5xB,EAAAA,EAAAA,KAAA,OACCgJ,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,IACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,UAErBF,EAAAA,EAAAA,KAAA,YAAUuK,OAAO,uBAINsnB,EAAsCC,IAAA,IAAC,KACnDtsB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACA6xB,EAAA,OACA9xB,EAAAA,EAAAA,KAAA,OACCgJ,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,IACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,UAErBF,EAAAA,EAAAA,KAAA,YAAUuK,OAAO,sBAINwnB,GAAkCC,IAAA,IAAC,KAC/CxsB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACA+xB,EAAA,OACA3xB,EAAAA,EAAAA,MAAA,OACC2I,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,MACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,SAAA,EAErBF,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,uDACRjK,EAAAA,EAAAA,KAAA,QAAMiK,EAAE,iBAIGgoB,GAA+BC,IAAA,IAAC,KAC5C1sB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACAiyB,EAAA,OACAlyB,EAAAA,EAAAA,KAAA,OACCgJ,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,MACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,UAErBF,EAAAA,EAAAA,KAAA,WAASuK,OAAO,sGAIL4nB,GAAiCC,IAAA,IAAC,KAC9C5sB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACAmyB,EAAA,OACA/xB,EAAAA,EAAAA,MAAA,OACC2I,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,MACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,SAAA,EAErBF,EAAAA,EAAAA,KAAA,QAAM8I,EAAE,IAAIC,EAAE,IAAIC,MAAM,KAAKC,OAAO,KAAKopB,GAAG,IAAIC,GAAG,OACnDtyB,EAAAA,EAAAA,KAAA,QAAMic,GAAG,IAAIyJ,GAAG,IAAIvJ,GAAG,KAAKwJ,GAAG,QAC/B3lB,EAAAA,EAAAA,KAAA,QAAMic,GAAG,KAAKyJ,GAAG,IAAIvJ,GAAG,IAAIwJ,GAAG,WAIpB4M,GAAkCC,IAAA,IAAC,KAC/ChtB,EAAO,GAAE,MACTiN,EAAQ,eAAc,UACtBxS,GACAuyB,EAAA,OACAnyB,EAAAA,EAAAA,MAAA,OACC2I,MAAOxD,EACPyD,OAAQzD,EACRuE,QAAQ,YACRC,KAAK,OACLI,OAAQqI,EACRpI,YAAY,MACZC,cAAc,QACdknB,eAAe,QACfvxB,UAAWA,EAAUC,SAAA,EAErBF,EAAAA,EAAAA,KAAA,UAAQqvB,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAC1BvvB,EAAAA,EAAAA,KAAA,UAAQqvB,GAAG,KAAKC,GAAG,KAAKC,EAAE,UCzIfkD,GAA4C1zB,IAQlD,IARmD,UACzD2zB,EAAS,aACTC,EAAY,OACZC,EAAS,OAAM,iBACfC,GAAmB,EAAK,SACxBC,EAAQ,iBACRC,GAAmB,EAAK,SACxBC,GACAj0B,EACA,MAAMk0B,EAA2C,CAChDC,WAAY,OACZC,iBAAkB,OAClBC,cAAe,OACfC,aAAc,OACdC,YAAa,OACbC,mBAAoB,QAGfC,EAAqB7mB,IAC1BA,EAAEK,kBACK,GAGFymB,EAAmB,SACxB9mB,EACAuhB,GAEK,IADLwF,EAAwC9Z,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,QAE3CjN,EAAEK,iBACFokB,EAAcsC,GACdhB,EAAUxE,EACX,EAEMyF,EAAiBA,CAAChnB,EAAqBuhB,KAC5CvhB,EAAEK,iBACU,OAAZ2lB,QAAY,IAAZA,GAAAA,EAAezE,IAGV0F,EAAmB1F,IACxBwE,EAAUxE,IAGL2F,EAAiB3F,IACV,OAAZyE,QAAY,IAAZA,GAAAA,EAAezE,IAIhB,MAAe,eAAX0E,GAEFvyB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,2BAA0BC,SAAA,EACxCG,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,oDACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAAC2xB,EAAa,CAACnsB,KAAM,MACrBxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBC,SAAC,iBAE1C6yB,IACA1yB,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,IACbA,EAAEK,iBACFokB,EAAc,UACN,OAAR4B,QAAQ,IAARA,GAAAA,KAEDxyB,QAASA,IAAc,OAARwyB,QAAQ,IAARA,OAAQ,EAARA,IACfkB,cAAeV,EACfvzB,UAAU,4EACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAACuyB,GAAU,CAAC/sB,KAAM,MAClBxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBC,SAAC,eAG5CG,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,SACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,SACnCqnB,YAAaA,IAAMJ,EAAgB,SACnCK,UAAWA,IAAMJ,EAAc,SAC/BK,cAAeV,EACfvzB,UAAU,oDACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAAC6xB,EAAc,CAACrsB,KAAM,MACtBxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBC,SAAC,kBAO/B,WAAX0yB,GAEFvyB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,EAEpCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,gCAA+BC,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,sDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC2xB,EAAa,CAACnsB,KAAM,QAEtBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,SACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,SACnCqnB,YAAaA,IAAMJ,EAAgB,SACnCK,UAAWA,IAAMJ,EAAc,SAC/BK,cAAeV,EACfvzB,UAAU,sDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC6xB,EAAc,CAACrsB,KAAM,WAKxBnF,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,+BAA8BC,SAAA,EAC5CG,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,KAAM,UAC7ConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,MACnCqnB,YAAaA,IAAMJ,EAAgB,MACnCK,UAAWA,IAAMJ,EAAc,MAC/BK,cAAeV,EACfvzB,UAAU,yEACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAACiyB,GAAO,CAACzsB,KAAM,MACfxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBC,SAAC,YAE3CG,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,OAAQ,UAC/ConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,yEACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAACmyB,GAAS,CAAC3sB,KAAM,MACjBxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBC,SAAC,mBAQhC,WAAX0yB,GAAmC,WAAXA,GAAuBC,GAEjDxyB,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,EAEpCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4BAA2BC,SAAA,EACzCF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,MACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,MACnCqnB,YAAaA,IAAMJ,EAAgB,MACnCK,UAAWA,IAAMJ,EAAc,MAC/BK,cAAeV,EACfvzB,UAAU,gDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACuxB,EAAW,CAAC/rB,KAAM,QAGpBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC2xB,EAAa,CAACnsB,KAAM,QAGtBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,SACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,SACnCqnB,YAAaA,IAAMJ,EAAgB,SACnCK,UAAWA,IAAMJ,EAAc,SAC/BK,cAAeV,EACfvzB,UAAU,mDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC6xB,EAAc,CAACrsB,KAAM,QAGvBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACyxB,EAAa,CAACjsB,KAAM,WAKvBnF,EAAAA,EAAAA,MAAA,UACCyzB,aAAcnnB,IACbA,EAAEK,iBACFokB,EAAc,UACV0B,EACHA,IAEAJ,EAAU,OAGZlyB,QAASA,KACJsyB,EACHA,IAEAJ,EAAU,OAGZwB,cAAeV,EACfvzB,UAAU,6EACV8S,MAAOkgB,EAAoB/yB,SAAA,EAE3BF,EAAAA,EAAAA,KAAC+xB,GAAU,CAACvsB,KAAM,MAClBxF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,6BAA4BC,SAAC,gBAOlC,WAAX0yB,GAEF5yB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,UACnCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4BAA2BC,SAAA,EACzCF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,MACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,MACnCqnB,YAAaA,IAAMJ,EAAgB,MACnCK,UAAWA,IAAMJ,EAAc,MAC/BK,cAAeV,EACfvzB,UAAU,gDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACuxB,EAAW,CAAC/rB,KAAM,QAGpBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC2xB,EAAa,CAACnsB,KAAM,QAGtBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,SACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,SACnCqnB,YAAaA,IAAMJ,EAAgB,SACnCK,UAAWA,IAAMJ,EAAc,SAC/BK,cAAeV,EACfvzB,UAAU,mDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC6xB,EAAc,CAACrsB,KAAM,QAGvBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACyxB,EAAa,CAACjsB,KAAM,aASzBxF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,UACvCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4BAA2BC,SAAA,EACzCF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,MACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,MACnCqnB,YAAaA,IAAMJ,EAAgB,MACnCK,UAAWA,IAAMJ,EAAc,MAC/BK,cAAeV,EACfvzB,UAAU,gDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACuxB,EAAW,CAAC/rB,KAAM,QAGpBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,SACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,SACnCqnB,YAAaA,IAAMJ,EAAgB,SACnCK,UAAWA,IAAMJ,EAAc,SAC/BK,cAAeV,EACfvzB,UAAU,mDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC6xB,EAAc,CAACrsB,KAAM,QAGvBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAACyxB,EAAa,CAACjsB,KAAM,QAGtBxF,EAAAA,EAAAA,KAAA,UACC8zB,aAAcnnB,GAAK8mB,EAAiB9mB,EAAG,QACvConB,WAAYpnB,GAAKgnB,EAAehnB,EAAG,QACnCqnB,YAAaA,IAAMJ,EAAgB,QACnCK,UAAWA,IAAMJ,EAAc,QAC/BK,cAAeV,EACfvzB,UAAU,kDACV8S,MAAOkgB,EAAoB/yB,UAE3BF,EAAAA,EAAAA,KAAC2xB,EAAa,CAACnsB,KAAM,aCsH1B,GA9cmBzG,IAWK,IAXJ,KAClBo1B,EAAI,gBACJC,EAAe,YACfC,EAAW,MACXhT,EAAQ,EAAC,KACT8K,EAAO,UAAS,UAChBmI,EAAY,cAAa,WACzBnhB,EAAa,UAAS,UACtBohB,EAAS,mBACTC,GAAqB,EAAK,KAC1Bt1B,EAAO,MACSH,EAChB,MAAMI,GAAIC,EAAAA,EAAAA,GAAgBF,GACpBu1B,EAAS7mB,IACTkhB,EAAgBqF,GAAQ,GACvBO,EAAaC,IAAkBxoB,EAAAA,EAAAA,WAAS,IAGzC,UACJyoB,EAAS,UACT5F,EAAS,WACT9Q,EAAU,OACV3T,EAAM,IACNwkB,EAAG,UACH8F,EAAS,YACTC,EAAW,mBACX/G,EAAkB,mBAClBgH,EAAkB,kBAClBlW,GCxCG,SACLsV,EACA9S,EACA8K,EACAiI,EACAC,GAEA,MAAMI,EAAS7mB,KAGRohB,EAAWgG,IAAgB7oB,EAAAA,EAAAA,UAEhC,WACI8oB,GAAe5oB,EAAAA,EAAAA,QAAO2iB,IACrB9Q,EAAYgX,IAAiB/oB,EAAAA,EAAAA,UAAS,IACtC5B,EAAQ4qB,IAAahpB,EAAAA,EAAAA,UAAS,IAC9B4iB,EAAKqG,IAAUjpB,EAAAA,EAAAA,UAAmB,CACvC+V,MAAO,IACPkN,iBAAkB,YAEdiG,GAAoBhpB,EAAAA,EAAAA,QAAwB,IAC5CipB,GAAqBjpB,EAAAA,EAAAA,QAAyB,KAGpDC,EAAAA,EAAAA,WAAU,KACR2oB,EAAaxoB,QAAUuiB,GACtB,CAACA,IAGJ,MAAM4F,GAAYvoB,EAAAA,EAAAA,QAA0B,MACtCkpB,GAAgBlpB,EAAAA,EAAAA,QAAmB,MACnCmpB,GAAmBnpB,EAAAA,EAAAA,QAAsB,MACzCopB,GAAkBppB,EAAAA,EAAAA,QAAqB,MACvCqpB,GAAcrpB,EAAAA,EAAAA,QAAiB,MAC/BspB,GAAkBtpB,EAAAA,EAAAA,QAAqB,MAGvCupB,GAAevpB,EAAAA,EAAAA,QAAO,CAC1BuW,SAAU,EACVV,MAAO,EACPS,QAAS,EACTrB,QAAS,EACTuU,eAAgB,EAChB9V,KAAM,GACN8E,UAAW,EACXC,WAAY,EACZC,WAAY,EACZhd,WAAY,KACZ+X,QAAS,KACTgW,aAAa,IAITC,GAAgB1pB,EAAAA,EAAAA,QAAmB,CACvCmX,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,QAAQ,IAIJqS,GAAY3pB,EAAAA,EAAAA,SAAM6L,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACnBK,GAAc,IACjBqE,YAAa,EAAI/Z,KAAKozB,IAAM1d,EAAeM,YAAc,EAAKhW,KAAK2Y,GAAM,KACzEwG,SAAUzJ,EAAeG,eAAkB,EAAIH,EAAeC,IAAO,KACrEsC,MAAO,EACPuH,SAAU,EACVC,MAAO,EACPC,aAAc,EACdC,aAAc,EACdlB,QAAS,MAIXhV,EAAAA,EAAAA,WAAU,KACR,MAAM8V,EAAS4T,EAAUvpB,QACzB2V,EAAOd,QAAUc,EAAOtJ,aAAesJ,EAAOxF,YAC9CwF,EAAOJ,SAAWI,EAAO1J,eAAkB,EAAI0J,EAAO5J,IAAO,KAC7D4J,EAAOtH,MAAQsH,EAAOJ,SAAW,EACjCI,EAAOC,UAAYD,EAAOJ,SAC1BI,EAAOE,OAASF,EAAOJ,SAAW,EAClCI,EAAOG,cAAgBH,EAAOJ,SAAW,EACzCI,EAAOI,aAAeJ,EAAOJ,SAAW,GACvC,IAKH,MAAMkU,GAAavmB,EAAAA,EAAAA,aAAaoL,IAC9B,MAAMob,EAAUtzB,KAAKyc,MAAMvE,EAAK,IAC1Bqb,EAAUvzB,KAAKyc,MAAMvE,EAAe,GAAVob,GAC1BE,EAASxzB,KAAKyc,MAAM,IAAMvE,EAAKlY,KAAKyc,MAAMvE,KAEhD,OAAIob,EAAU,GAAKA,EAAU,GACrB,IAAN71B,OAAW61B,EAAO,KAAA71B,OAAI81B,EAAU,GAAK,IAAM,IAAE91B,OAAG81B,EAAO,KAAA91B,OAAI+1B,GAEzDF,EAAU,GAAKA,GAAW,GACtB,GAAN71B,OAAU61B,EAAO,KAAA71B,OAAI81B,EAAU,GAAK,IAAM,IAAE91B,OAAG81B,EAAO,KAAA91B,OAAI+1B,GAEtD,MAAN/1B,OAAa81B,EAAU,GAAK,IAAM,IAAE91B,OAAG81B,EAAO,KAAA91B,OAAI+1B,EAAS,GAAK,IAAM,IAAE/1B,OAAG+1B,IAC1E,IAKGC,GAAY3mB,EAAAA,EAAAA,aAAY,CAAC4mB,EAAqBlpB,KAClD+nB,EAAQoB,GACFA,EAAQD,KAASlpB,GACnB6K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYse,GAAO,IAAE,CAACD,GAAMlpB,IAEvBmpB,IAER,IAKGC,GAAoB9mB,EAAAA,EAAAA,aAAY,KACpC,MAAM+mB,EAAS9B,EAAUnoB,QACzB,IAAKiqB,EAAQ,OAGb,MAAMtU,EAAS4T,EAAUvpB,QACzBiqB,EAAO1tB,MAAQoZ,EAAOpZ,MACtB0tB,EAAOztB,OAASmZ,EAAOnZ,OAEvB,MAAMkc,EAAMuR,EAAOC,WAAW,MAC9B,OAAKxR,GAGLoQ,EAAc9oB,QAAU,IAAIyQ,EAAWkF,EAAO1J,cAAe0J,EAAOzJ,cACpE6c,EAAiB/oB,QAAU,IAAI0V,EAAc,CAC3CH,SAAUI,EAAOJ,SACjBlH,MAAOsH,EAAOtH,MACduH,SAAUD,EAAOC,SACjBC,MAAOF,EAAOE,MACdC,aAAcH,EAAOG,aACrBC,aAAcJ,EAAOI,aACrBvJ,YAAamJ,EAAOnJ,YACpBmE,YAAa,IAEfqY,EAAgBhpB,QAAU,IAAIyY,EAAaC,EAAK/C,EAAOpZ,MAAOoZ,EAAOnZ,QACrEwsB,EAAgBhpB,QAAQ4Y,eAAejD,EAAOxF,aAC9C+Y,EAAgBlpB,QAAU,IAAIugB,EAG9B2I,EAAgBlpB,QAAQihB,eAAe,CACrC,CACET,KAAM,CAAC5Y,EAAUA,GACjBpJ,KAAM,OACN6iB,OAAQA,KACNiI,EAActpB,QAAQ+W,MAAO,IAGjC,CACEyJ,KAAM,CAAC5Y,EAAWA,GAClBpJ,KAAM,OACN6iB,OAAQA,KACNiI,EAActpB,QAAQgX,OAAQ,IAGlC,CACEwJ,KAAM,CAAC5Y,EAAQA,GACfpJ,KAAM,OACN6iB,OAAQA,KACNiI,EAActpB,QAAQiX,QAAS,IAGnC,CACEuJ,KAAM,CAAC5Y,EAAUA,GACjBpJ,KAAM,OACN6iB,OAAQA,KACNiI,EAActpB,QAAQkX,QAAS,IAGnC,CACEsJ,KAAM,CAAC5Y,EAAUA,GACjBpJ,KAAM,KACN6iB,OAAQA,KACNiI,EAActpB,QAAQ+W,MAAO,IAGjC,CACEyJ,KAAM,CAAC5Y,EAAWA,GAClBpJ,KAAM,KACN6iB,OAAQA,KACNiI,EAActpB,QAAQgX,OAAQ,IAGlC,CACEwJ,KAAM,CAAC5Y,EAAQA,GACfpJ,KAAM,KACN6iB,OAAQA,KACNiI,EAActpB,QAAQiX,QAAS,IAGnC,CACEuJ,KAAM,CAAC5Y,EAAUA,GACjBpJ,KAAM,KACN6iB,OAAQA,KACNiI,EAActpB,QAAQkX,QAAS,OAK9B,QA9EP,GA+EC,IAKGiT,GAAajnB,EAAAA,EAAAA,aAAYknB,UAC7B,IACE,MAAMC,QAAe/K,EAAYC,WAC/B,CAAC,aAAc,WACf,uBACAG,GAMF,OAHAyJ,EAAanpB,QAAQ1E,WAAa+uB,EAAO,GACzClB,EAAanpB,QAAQqT,QAAUgX,EAAO,IAE/B,CACT,CAAE,MAAOC,GAEP,OADAC,QAAQD,MAAM,8BAA+BA,IACtC,CACT,GACC,CAAC5K,IAKE8K,GAAYtnB,EAAAA,EAAAA,aAAY,KAC5B,MAAMyS,EAAS4T,EAAUvpB,QACnBqQ,EAAQ8Y,EAAanpB,QAY3B,GATAqQ,EAAM8F,SAAW,EACjB9F,EAAMoF,MAAQ,EACdpF,EAAM6F,QAAU,EAChB7F,EAAM+Y,eAAiB,EACvB/Y,EAAM+H,UAAY,EAClB/H,EAAMgI,WAAa,EACnBhI,EAAMiI,WAAa,EAGfwQ,EAAc9oB,SAAW+oB,EAAiB/oB,QAAS,CACrD8oB,EAAc9oB,QAAQ2U,MAAMC,EAAOe,EAAOd,SAC1C,MAAMlE,EAAcmY,EAAc9oB,QAAQkR,iBAC1C6X,EAAiB/oB,QAAQgW,kBAAkBrF,GAC3CN,EAAMiD,KAAOwV,EAAc9oB,QAAQsV,UAAUK,EAAO/I,UAAW+I,EAAOJ,SACxE,CAGAkT,EAAc,GACdC,EAAU,GACVE,EAAkB5oB,QAAU,GAC5B6oB,EAAmB7oB,QAAU,GAC7B6pB,EAAU,QAAS,KACnBA,EAAU,mBAAoB,YAC7B,CAACjV,EAAOiV,IAKL3L,GAAShb,EAAAA,EAAAA,aACZoL,IACC,GAA6B,YAAzBka,EAAaxoB,QAAuB,OAExC,MAAM2V,EAAS4T,EAAUvpB,QACnBqQ,EAAQ8Y,EAAanpB,QACrByqB,EAAU1B,EAAiB/oB,QAC3B0I,EAAOogB,EAAc9oB,QAE3B,IAAKyqB,IAAY/hB,EAAM,OAEvB,MAAMqM,EAAgBrM,EAAKkK,YAAYvC,EAAM8F,SAAWR,EAAOd,SACzD0D,EAAgBlI,EAAM8F,SAGtBuU,EAAeD,EAAQxU,aAC3B5F,EAAM6F,QACN7F,EAAMoF,MACNpF,EAAM8F,SACNmT,EAActpB,QACd+U,EACAzG,EACCgC,GAAM5H,EAAKkK,YAAYtC,GACxBqF,EAAOpZ,MACPoZ,EAAOnZ,QAGT6T,EAAM6F,QAAUwU,EAAaxU,QAC7B7F,EAAMoF,MAAQiV,EAAajV,MAC3BpF,EAAM8F,SAAWtJ,EAAUuC,SAASiB,EAAM8F,SAAU7H,EAAK+B,EAAMoF,MAAO/M,EAAKwI,kBAGzC,IAA9BwZ,EAAa7T,cACf6R,EAAWplB,GAASlN,KAAKC,IAAIiN,EAAOonB,EAAa7T,aAAc,IAI7D6T,EAAa/T,eAAiB+T,EAAa7T,aAAe,GAC5D+R,EAAkB5oB,QAAQkT,KAAK,CAC7B7W,EAAGquB,EAAa/T,cAAeta,EAC/BC,EAAGouB,EAAa/T,cAAera,EAC/BwB,OAAQ4sB,EAAa7T,aACrB+F,UAAW+N,KAAK10B,QAKhBy0B,EAAa9T,eAAiB8T,EAAa5T,SAC7C+R,EAAmB7oB,QAAQkT,KAAK,CAC9B7W,EAAGquB,EAAa9T,cAAeva,EAC/BC,EAAGouB,EAAa9T,cAAeta,EAC/BsgB,UAAW+N,KAAK10B,QAKpBw0B,EAAQlT,WACNlH,EAAMiD,KACNhF,EACAyG,EACA1E,EAAM6F,QACN7F,EAAMoF,MACNE,EAAOrJ,aACNgE,GAAM5H,EAAKkK,YAAYtC,GACxB5H,EAAKuI,eAIP,MAAM2Z,EAAeH,EAAQtS,oBAC3B9H,EAAM+H,UACN/H,EAAMgI,WACNhI,EAAMiI,WACNvD,EACAwD,EACAlI,EAAM8F,SACNR,EAAO1J,cACP0J,EAAOlJ,SACPkJ,EAAOjJ,UACPiJ,EAAOhJ,WAGT0D,EAAM+H,UAAYwS,EAAaxS,UAC/B/H,EAAMgI,WAAauS,EAAavS,WAChChI,EAAMiI,WAAasS,EAAatS,WAG5BjI,EAAM8F,SAAWR,EAAOd,UACtBxE,EAAM+Y,gBAAkB7Q,EAAgB5C,EAAOd,SACjD4T,EAAenlB,GAASA,EAAO,GAC/BoF,EAAKyM,iBACL9E,EAAM+Y,eAAiB,GAEvB/Y,EAAM+Y,gBAAkB9a,GAK5Bub,EAAU,QAASxc,OAAO,EAAIjX,KAAKuX,MAAM0C,EAAMoF,MAAQ,OACvDoU,EAAU,mBAAoBJ,EAAWpZ,EAAM+Y,kBAEjD,CAACK,EAAYI,IAMT1L,IAASjb,EAAAA,EAAAA,aACZ2nB,IACC,GAA6B,YAAzBrC,EAAaxoB,QACf,OAGF,MAAM2V,EAAS4T,EAAUvpB,QACnBqQ,EAAQ8Y,EAAanpB,QACrB8qB,EAAW9B,EAAgBhpB,QAC3B0I,EAAOogB,EAAc9oB,QAE3B,IAAK8qB,IAAapiB,IAAS2H,EAAM/U,aAAe+U,EAAMgD,QAAS,OAE/DyX,EAAS9V,QAET,MAAM+V,EAAcriB,EAAKkK,YAAYvC,EAAM8F,UACrC6U,EAAcne,EAAUmB,iBAAiBqC,EAAM8F,SAAUR,EAAO1J,eAChE8I,EAAgBrM,EAAKkK,YAAYvC,EAAM8F,SAAWR,EAAOd,SACzDoW,EAAgBpe,EAAUmB,iBAC9BqC,EAAM8F,SAAWR,EAAOd,QACxBc,EAAO1J,eAEHif,EAAUre,EAAUe,YACxBmH,EAAc3B,GAAG/C,MAAM/T,EACvByY,EAAchC,GAAG1C,MAAM/T,EACvB2uB,GAGF,IAAI5uB,EAAI,EACJqa,GAAOqU,EAAY9X,MAAQ+X,EAC3BG,EAAOxV,EAAOnZ,OAGlBsuB,EAASxvB,WACP+U,EAAM/U,WACN2N,EACAoH,EAAM+H,UACN0S,EAASnS,WAAahD,EAAOlJ,SAAWye,GAE1CJ,EAASxvB,WACP+U,EAAM/U,WACN2N,EACAoH,EAAMgI,WACNyS,EAASnS,WAAahD,EAAOjJ,UAAYwe,GAE3CJ,EAASxvB,WACP+U,EAAM/U,WACN2N,EACAoH,EAAMiI,WACNwS,EAASnS,WAAahD,EAAOhJ,UAAYue,GAI3C,MAAMxa,EAAWhI,EAAKuI,cACtB,IAAK,IAAIhD,EAAI,EAAGA,EAAI0H,EAAOrJ,aAAc2B,IAAK,CAC5C,MAAMmH,EAAU1E,GAAUqa,EAAY5X,MAAQlF,GAAKyC,EAASvZ,QAC5Die,EAAQgW,OAAShW,EAAQjC,MAAQ4X,EAAY5X,MAC7CiC,EAAQwE,IAAM/M,EAAUmC,eAAef,EAAI0H,EAAOrJ,aAAcqJ,EAAOpJ,YACvE6I,EAAQ8G,KAAOiP,EAEfte,EAAUiD,QACRsF,EAAQhC,GACR/C,EAAM6F,QAAUP,EAAO3J,UAAY3P,EACnC6uB,EAAUvV,EAAOtJ,aACjBgE,EAAM8F,UAAYf,EAAQgW,OAAS1iB,EAAKwI,iBAAmB,GAC3DyE,EAAOxF,YACPwF,EAAOpZ,MACPoZ,EAAOnZ,OACPmZ,EAAO3J,WAETa,EAAUiD,QACRsF,EAAQrC,GACR1C,EAAM6F,QAAUP,EAAO3J,UAAY3P,EAAIqa,EACvCwU,EAAUvV,EAAOtJ,aACjBgE,EAAM8F,UAAYf,EAAQgW,OAAS1iB,EAAKwI,iBAAmB,GAC3DyE,EAAOxF,YACPwF,EAAOpZ,MACPoZ,EAAOnZ,OACPmZ,EAAO3J,WAGT3P,GAAQqa,EACRA,GAAUtB,EAAQnC,MAGhBmC,EAAQhC,GAAGhD,OAAOE,GAAKqF,EAAOxF,aAC9BiF,EAAQrC,GAAGxC,OAAOjU,GAAK8Y,EAAQhC,GAAG7C,OAAOjU,GACzC8Y,EAAQrC,GAAGxC,OAAOjU,GAAK6uB,IAKzBL,EAAS1V,QACPO,EAAOxJ,MACPiJ,EAAQhC,GAAG7C,OAAOlU,EAClB+Y,EAAQhC,GAAG7C,OAAOjU,EAClB8Y,EAAQhC,GAAG7C,OAAOrH,EAClBkM,EAAQrC,GAAGxC,OAAOlU,EAClB+Y,EAAQrC,GAAGxC,OAAOjU,EAClB8Y,EAAQrC,GAAGxC,OAAOrH,EAClBkM,EAAQwE,IACRxE,EAAQpP,OAGVmlB,EAAO/V,EAAQhC,GAAG7C,OAAOjU,EAC3B,CAGAwuB,EAAS1O,cACP1L,EACAqa,EAAY5X,MACZwC,EAAOrJ,aACPqJ,EAAO3J,UACPqE,EAAMgD,QACN,CAACG,EAAQlC,EAAcC,KAErB,GAAI7I,EAAKgL,iBAAkB,CACzB,MAAMlC,EAAgB9I,EAAKgL,iBAAiBF,GACxChC,GACF9I,EAAK2I,0BAA0BC,EAAcC,EAAQC,EAAeC,EAExE,IAKJqZ,EAASvP,OACP5F,EAAO3J,UACPqE,EAAMgD,QACNhD,EAAMoF,MAAQE,EAAOJ,SACrBI,EAAOxF,YAAcwF,EAAOd,QAC5Bc,EAAOpZ,MAAQ,EACfoZ,EAAOnZ,OAAS,EACZmZ,EAAOxF,YAAcwF,EAAOd,QAC5BhI,EAAUe,YACRmH,EAAc3B,GAAGhD,OAAO9T,EACxByY,EAAchC,GAAG3C,OAAO9T,EACxB2uB,GAEFtV,EAAOnZ,OACP,EACJ6T,EAAMoF,OAAS6T,EAActpB,QAAQ+W,MAAQ,EAAIuS,EAActpB,QAAQgX,MAAQ,EAAI,GACnFjC,EAAchC,GAAG1C,MAAM/T,EAAIyY,EAAc3B,GAAG/C,MAAM/T,GAIpD,MAAMkgB,EAAcmO,KAAK10B,MACzB60B,EAASxO,qBAAqBsM,EAAkB5oB,QAASwc,GACzDsO,EAASjN,sBAAsBgL,EAAmB7oB,QAASwc,GAG3DoM,EAAkB5oB,QAAU4oB,EAAkB5oB,QAAQqV,OACnDqH,GAASF,EAAcE,EAAKE,UAAY,KAE3CiM,EAAmB7oB,QAAU6oB,EAAmB7oB,QAAQqV,OACrDqH,GAASF,EAAcE,EAAKE,UAAY,MAG7C,CAACnL,IAMG2W,IAAYllB,EAAAA,EAAAA,aAAYknB,UAC5B7B,EAAa,WAERyB,UAKsBG,KAM3BK,IAGAvB,EAAYjpB,QAAU,IAAIie,EAASC,EAAQC,GAAQrS,EAAeC,KAClEkd,EAAYjpB,QAAQqH,QAEpBkhB,EAAa,YAVXgC,QAAQD,MAAM,8BANdC,QAAQD,MAAM,sCAiBf,CAACN,EAAmBG,EAAYK,EAAWtM,EAAQC,KAKhDkK,IAAcnlB,EAAAA,EAAAA,aAAY,KACA,IAADmoB,EAA7B,GAAkB,YAAd9I,EACFgG,EAAa,UACM,QAAnB8C,EAAApC,EAAYjpB,eAAO,IAAAqrB,GAAnBA,EAAqBlM,YAChB,GAAkB,WAAdoD,EAAwB,CAAC,IAAD+I,EACjC/C,EAAa,WACM,QAAnB+C,EAAArC,EAAYjpB,eAAO,IAAAsrB,GAAnBA,EAAqBjkB,OACvB,GACC,CAACkb,IAKEgJ,IAAWroB,EAAAA,EAAAA,aAAY,KAAO,IAADsoB,EAAAC,EACd,QAAnBD,EAAAvC,EAAYjpB,eAAO,IAAAwrB,GAAnBA,EAAqBrM,OACE,QAAvBsM,EAAAvC,EAAgBlpB,eAAO,IAAAyrB,GAAvBA,EAAyBzK,UACzBuH,EAAa,aACZ,KAGH1oB,EAAAA,EAAAA,WAAU,KACJ4R,EAAaiW,IACfC,EAAgB7pB,GAChB8pB,GAAY,GACZ2D,OAED,CAAC9Z,EAAYiW,EAAM5pB,EAAQ6pB,EAAiBC,EAAa2D,KAK5D,MAAMjK,IAAqBpe,EAAAA,EAAAA,aAAa/B,IAClC+nB,EAAgBlpB,SAClBkpB,EAAgBlpB,QAAQshB,mBAAmBngB,IAE5C,KAGHtB,EAAAA,EAAAA,WAAU,KACU,YAAd0iB,GAA2B2G,EAAgBlpB,SAC7CkpB,EAAgBlpB,QAAQshB,mBAAmB0G,IAE5C,CAACzF,EAAWyF,KAGfnoB,EAAAA,EAAAA,WAAU,IACD,KAAO,IAAD6rB,EAAAC,EACQ,QAAnBD,EAAAzC,EAAYjpB,eAAO,IAAA0rB,GAAnBA,EAAqBvM,OACE,QAAvBwM,EAAAzC,EAAgBlpB,eAAO,IAAA2rB,GAAvBA,EAAyB3K,WAE1B,IAKH,MAAMsH,IAAqBplB,EAAAA,EAAAA,aACzB,CAACue,EAAoEmK,KACnE,OAAQnK,GACN,IAAK,OACH6H,EAActpB,QAAQ+W,KAAO6U,EAC7B,MACF,IAAK,QACHtC,EAActpB,QAAQgX,MAAQ4U,EAC9B,MACF,IAAK,KACHtC,EAActpB,QAAQiX,OAAS2U,EAC/B,MACF,IAAK,OACHtC,EAActpB,QAAQkX,OAAS0U,IAIrC,IAMIxZ,IAAoBlP,EAAAA,EAAAA,aAAY,IAChC4lB,EAAc9oB,QACT8oB,EAAc9oB,QAAQoS,kBAAkBsV,GAE1C,KACN,CAACA,IAEJ,MAAO,CACLS,YACA5F,YACA9Q,aACA3T,SACAwkB,MACAD,cAAeqF,EACfU,aACAC,eACAkD,YACAjK,sBACAgH,sBACAlW,qBAEJ,CD3mBMyZ,CAAWxJ,EAAezN,EAAO8K,EAAMiI,EAAiBC,IAS5D/nB,EAAAA,EAAAA,WAAU,KACJsoB,EAAUnoB,UAEZmoB,EAAUnoB,QAAQzD,MAAQ,IAC1B4rB,EAAUnoB,QAAQxD,OAAS,MAE5B,CAAC2rB,KAGJtoB,EAAAA,EAAAA,WAAU,KACJmoB,GAAwB,YAAdzF,GACZjB,GAAmB,IAEpB,CAAC0G,EAAQzF,EAAWjB,IAGvB,MAAMwK,IAAgB5oB,EAAAA,EAAAA,aACnBue,IACmB,YAAdc,GAGJ+F,EAAmB7G,GAAW,IAEhC,CAACc,EAAW+F,IAGRyD,IAAmB7oB,EAAAA,EAAAA,aACtBue,IAEC6G,EAAmB7G,GAAW,IAEhC,CAAC6G,IA0BH,OAtBAzoB,EAAAA,EAAAA,WAAU,KACR,MAAM6gB,EAAiBxgB,IAGrB,GADwC,CAAE,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAC1DA,EAAEygB,SAET,OADAzgB,EAAEK,kBACK,GAIL0nB,GAA0B,WAAV/nB,EAAE4pB,KAA8B,MAAV5pB,EAAE4pB,MAC1C5pB,EAAEK,iBACF8nB,MAKJ,OADA3G,OAAO3e,iBAAiB,UAAW2d,GAAe,GAC3C,KACLgB,OAAO1e,oBAAoB,UAAW0d,GAAe,KAEtD,CAACuH,EAAaI,KAGf90B,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE/J,MAAO,OAAQ4Z,SAAU,YAAa1iB,UAClDG,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL/J,MAAO,OACP4Z,SAAU,WACV6V,QAAS,OACTC,cAAe,SACf9yB,IAAK,UACL+yB,eAAgB,SAChBC,WAAY,UACZ14B,SAAA,EAGAw0B,IACA10B,EAAAA,EAAAA,KAACgT,EAAW,CACVpR,KAAK,SACL2P,MAAO+iB,EACPnhB,WAAYA,EACZC,SAlFcyjB,UACtBlC,GAAe,SACTE,KAiFExhB,WAAYlU,EAAEY,MAAM84B,OAAOC,YAC3B55B,KAAMA,EACNoU,eACEjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEgmB,aAAc,QAAS74B,SAAA,CAClCq0B,IACCl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAC,UACtDF,EAAAA,EAAAA,KAAA,OACE+sB,IAAKwH,EACLpF,IAAI,aACJpc,MAAO,CACLimB,OAAQ,SACRhwB,MAAO,QACPC,OAAQ,OACR8vB,aAAc,cAKtB/4B,EAAAA,EAAAA,KAAA,KAAG+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAClDu0B,EACGt1B,EAAEY,MAAM84B,OAAOI,iBACf95B,EAAEY,MAAM84B,OAAOK,eAGrBl5B,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEge,UAAW,UAAW7wB,SACjCu0B,GACCp0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACEG,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACduJ,MAAO,QACPke,WAAY,OACZX,SAAU,YACV9vB,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SACrDf,EAAEY,MAAM84B,OAAOM,eAGpB94B,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACduJ,MAAO,QACPke,WAAY,OACZX,SAAU,YACV9vB,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SACrDf,EAAEY,MAAM84B,OAAOO,gBAGpB/4B,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACduJ,MAAO,QACPke,WAAY,OACZX,SAAU,YACV9vB,SACH,kBAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOje,iBAE3Eva,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACduJ,MAAO,QACPke,WAAY,OACZX,SAAU,YACV9vB,SACH,kBAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOQ,eAI7Eh5B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACEG,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOS,MACzEt5B,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,OAGDG,EAAAA,EAAAA,MAAA,QAAM0S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAA,CAAC,KACpDf,EAAEY,MAAM84B,OAAOM,gBAGtB94B,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOS,MACzEt5B,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,OAGDG,EAAAA,EAAAA,MAAA,QAAM0S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAA,CAAC,KACpDf,EAAEY,MAAM84B,OAAOO,iBAGtB/4B,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOS,MACzEt5B,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,OAGDG,EAAAA,EAAAA,MAAA,QAAM0S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAA,CAAC,KAAGf,EAAEY,MAAM84B,OAAOje,kBAE7Eva,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL0lB,QAAS,OACTG,WAAY,SACZhzB,IAAK,UACLmzB,aAAc,UACd74B,SAAA,EAEFF,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,YAGDF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAEf,EAAEY,MAAM84B,OAAOS,MACzEt5B,EAAAA,EAAAA,KAAA,OACE+S,MAAO,CACL5J,QAAS,iBACT2J,gBAAiB,UACjB5J,aAAc,UACd8mB,SAAU,UACVvd,MAAO,SACPvS,SACH,OAGDG,EAAAA,EAAAA,MAAA,QAAM0S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAA,CAAC,KAAGf,EAAEY,MAAM84B,OAAOQ,kBAMnFr5B,EAAAA,EAAAA,KAAA,KAAG+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,UAAWse,UAAW,QAAS7wB,SACpEf,EAAEY,MAAM84B,OAAOU,oBAQX,WAAdvK,IACChvB,EAAAA,EAAAA,KAACgT,EAAW,CACVpR,KAAK,QACL2P,MAAK,gBAAAjR,OAAQnB,EAAEY,MAAMgU,OACrBd,QAAS9T,EAAEY,MAAM84B,OAAOW,iBACxBpmB,SAAU0hB,EACVzhB,WAAYlU,EAAEY,MAAM05B,SACpBtmB,WAAYA,EACZjU,KAAMA,KAKVmB,EAAAA,EAAAA,MAAA,OACEf,GAAG,QACHyT,MAAO,CAAE0lB,QAAS,OAAQE,eAAgB,SAAUC,WAAY,SAAU5vB,MAAO,QAAS9I,SAAA,CAE3E,aAAd8uB,IACChvB,EAAAA,EAAAA,KAACgT,EAAW,CAACpR,KAAK,WAAWsR,MAAO3I,EAAQ4I,WAAYA,EAAYjU,KAAMA,KAI5EmB,EAAAA,EAAAA,MAAA,OACE0S,MAAO,CACL6P,SAAU,WACVzZ,QAAS,EACT6vB,OAAQ,EACRhwB,MAAO,OACP0wB,SAAU,QACVzwB,OAAQ,QACRwvB,QAAuB,aAAdzJ,EAA2B,OAAS,QAC7C2K,WAA0B,UAAd3K,EAAwB,SAAW,WAC/C9uB,SAAA,EAGFF,EAAAA,EAAAA,KAAC6uB,EAAG,CACF3Q,WAAYA,EACZ4Q,cAAeA,EACfvkB,OAAQA,EACRwkB,IAAKA,EACLC,UAAWA,KAIbhvB,EAAAA,EAAAA,KAACgxB,EAAU,CACT5jB,IAAKwnB,EACL5rB,MAAO,IACPC,OAAQ,IACR8J,MAAO,CAAED,gBAAiB,UAAW9J,MAAO,OAAQC,OAAQ,iBAMlEjJ,EAAAA,EAAAA,KAACwvB,EAAc,CACb3Q,kBAAmBA,EACnB4Q,UAAW+E,GAAoC,YAAdxF,IAA4ByF,IAI9DA,GAAwB,YAAdzF,IACThvB,EAAAA,EAAAA,KAACyyB,GAAY,CACXC,UAAW6F,GACX5F,aAAc6F,GACd5F,OAAO,SACPzf,WAAYA,EACZymB,WAAW,eACXC,YAAY,uBE9dXC,GAAWA,CAAC9R,EAAgB+R,KAA6B,IAADC,EAAAC,EACpE,MAAOC,EAAOC,GAAYC,EAAAA,SAAeC,OAClCC,EAAaC,GAAkBH,EAAAA,SAAe,IAC9CI,EAAcC,GAAmBL,EAAAA,SAAyB,IAiFjE,OA/EAA,EAAAA,UAAgB,KACf,IAAKpS,EAAO0S,IAAK,OAEjBH,EAAe,GAEf,MAwCMI,EAAeC,IAGpB,MAAMC,EAAWD,EAAUz6B,IAC1B26B,GACCA,EAAI36B,IAAI46B,GACK,UAAZA,EAAK,GAAiB,CAAC,EAAG,SAAWA,IAgBxC,OAXA/S,EAAOgT,UAAUz2B,QAAQ,CAACu2B,EAAK/xB,KAC9B+xB,EAAIv2B,QAAQ,CAAC8I,EAAOvE,KACL,IAAVuE,IACHwtB,EAAS9xB,EAAIif,EAAO0S,IAAI3xB,GAAGD,EAAIkf,EAAO0S,IAAI5xB,GAAK,CAC9CuE,EAAM,GAAD/M,OACF0nB,EAAOiT,SAAW,SAAW,eAMhCjT,EAAOiT,UACVlB,IA/DiBc,KAClB,IAAIP,EAAc,EAClB,MAAMY,EAAyB,GAG/BL,EAASt2B,QAAQ,CAACu2B,EAAKlb,KAClBkb,EAAIK,MAAMJ,GAAoB,IAAZA,EAAK,MAC1BG,EAAavb,KAAKC,GAClB0a,GAAe,KAKbY,EAAat3B,OAAS,IACzB62B,EAAgBS,GAGhB3uB,WAAW,KACVkuB,EAAgB,KACd,MAIJ,MAAMW,EAAeP,EAAS/J,OAAO,CAACuK,EAAKP,EAAKlb,KAC3Csb,EAAa5N,SAAS1N,GAEzByb,EAAIC,QACH,IAAIC,MAAMV,EAAS,GAAGj3B,QAAQoG,KAAK,CAAC,EAAG,WAIxCqxB,EAAI1b,KAAKmb,GAEHO,GACL,IAGH,OADAd,EAAeD,GACRc,GA2BCI,CAAUX,IAGXA,GAGRV,EAASpqB,GAAQ4qB,EAAY5qB,KAE3B,CAACiY,EAAOiT,SAAoB,QAAZjB,EAAEhS,EAAO0S,WAAG,IAAAV,OAAA,EAAVA,EAAYlxB,EAAa,QAAZmxB,EAAEjS,EAAO0S,WAAG,IAAAT,OAAA,EAAVA,EAAYlxB,EAAGif,EAAOgT,YAEnD,CAAEd,QAAOC,WAAUG,cAAaE,iBC5E3BiB,GAAwC18B,IAY9C,IAZ+C,MACrDgH,EAAK,MACL21B,EAAK,MACLxoB,EAAK,QACLyoB,EAAO,SACPC,GAAW,EAAK,YAChBC,EAAW,WACX1oB,EAAa,UAAS,SACtBvF,EAAQ,OACRkuB,EAAM,eACNC,GAAiB,EAAK,WACtBC,GAAa,GACbj9B,EAEA,MAAMk9B,EAAiBF,GAAkBD,IAAWE,EAEpD,OACC37B,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,cAAaC,SAAA,EAC3BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,MACtBO,IAAVsF,IACA1F,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBC,SAAC,WACzCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBC,SAAE6F,YAIjCtF,IAAVi7B,IACAr7B,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBC,SAAEw7B,QAI5Cr7B,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uBAAsBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBC,SACtCgT,EAAMiB,sBAIR0nB,MAIFx7B,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,sBAAqBC,SAAA,CAElCy7B,IAAYK,IACZh8B,EAAAA,EAAAA,KAAA,UACCQ,QAASm7B,EACT17B,UAAU,kBACV8S,MAAO,CAAED,gBAAiBK,GAAajT,SAEtC07B,EAAQ,gBAAAt7B,OACAsN,EAAW,GAAK,aAAW,gBAAAtN,OAC3BsN,EAAW,GAAK,YAK1BquB,IACAj8B,EAAAA,EAAAA,KAAA,UACCQ,QAASs7B,EACT77B,UAAU,uCACV8S,MAAO,CAAED,gBAAiBK,GAAajT,SAEtC0N,EAAW,eAAO,8B,eC2HlB,MAAMsuB,GAAc,IA1MpB,MAAyBv7B,WAAAA,GAAA,KACvBC,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQs7B,aAAe,EAAC,KACPC,aAAe,IAEhC,KACQC,UAA+B,KAAI,KACnCC,YAAiC,KAAI,KACrCC,UAAuC,KAAI,KAC3CC,UAAmC,KAAI,KACvCC,YAAqC,KAAI,KACzCC,cAAmC,IAAI,CAE/C,UAAMl7B,GACDC,KAAKb,oBAEHc,GAAAA,KAGND,KAAK46B,UAAY,IAAI36B,GAAAA,GAAW,CAC/BC,WAAY,CAAEC,KAAM,UACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAK66B,YAAc,IAAI56B,GAAAA,GAAW,CACjCC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAK86B,UAAY,IAAI76B,GAAAA,GAAmB,CACvCU,WAAY,IACZC,QAAS,EACTV,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHV,KAAK+6B,UAAY,IAAI96B,GAAAA,GAAeA,GAAAA,GAAY,CAC/CC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKg7B,YAAc,IAAI/6B,GAAAA,GAAeA,GAAAA,GAAY,CACjDC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKi7B,cAAgB,IAAIh7B,GAAAA,GAAW,CACnCC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHV,KAAKb,aAAc,EACpB,CAGA+7B,QAAAA,GACC,IAAKl7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAK46B,UAAW,OAExD,MAAM35B,EAAMhB,GAAAA,KACRgB,EAAMjB,KAAK06B,aAAe16B,KAAK26B,eAEnC36B,KAAK06B,aAAez5B,EACpBjB,KAAK46B,UAAUp5B,qBAAqB,KAAM,MAAOP,GAClD,CAGAk6B,UAAAA,GACC,IAAKn7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAK66B,YAAa,OAC1D,MAAM55B,EAAMhB,GAAAA,KACZD,KAAK66B,YAAYr5B,qBAAqB,KAAM,MAAOP,GACnDjB,KAAK66B,YAAYr5B,qBAAqB,KAAM,MAAOP,EAAM,IAC1D,CAGAm6B,QAAAA,GACC,IAAKp7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAK86B,UAAW,OACxD,MAAM75B,EAAMhB,GAAAA,KACZD,KAAK86B,UAAUt5B,qBAAqB,KAAM,KAAMP,EACjD,CAGAo6B,aAAAA,CAAc5d,GACb,IAAKzd,KAAKb,aAAea,KAAKZ,QAAUY,KAAK+6B,UAAW,OAGxD,GAAItd,GAAS,EAEZ,YADAzd,KAAKs7B,aAIN,MAAMr6B,EAAMhB,GAAAA,KAEsB,CAAC,CAAC,MAAO,CAAC,KAAM,MAAO,CAAC,KAAM,KAAM,OAE1CmB,KAAKuB,IAAI8a,EAAQ,EAAG,IAC1C3a,QAAQ,CAACT,EAAMU,KACpB/C,KAAK+6B,UAAWv5B,qBAAqBa,EAAM,KAAMpB,EAAU,IAAJ8B,IAEzD,CAGAu4B,UAAAA,GACC,IAAKt7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAKg7B,YAAa,OAC1D,MAAM/5B,EAAMhB,GAAAA,KAGI,CACf,CAAE2C,MAAO,CAAC,KAAM,KAAM,MAAOrB,KAAM,GACnC,CAAEqB,MAAO,CAAC,KAAM,KAAM,MAAOrB,KAAM,IACnC,CAAEqB,MAAO,CAAC,KAAM,KAAM,MAAOrB,KAAM,IACnC,CAAEqB,MAAO,CAAC,KAAM,KAAM,KAAM,MAAOrB,KAAM,MAGlCuB,QAAQxF,IAAsB,IAArB,MAAEsF,EAAK,KAAErB,GAAMjE,EAC/B0C,KAAKg7B,YAAax5B,qBAAqBoB,EAAO,KAAM3B,EAAMM,IAE5D,CAGAg6B,YAAAA,GACC,IAAKv7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAKi7B,cAAe,OAC5D,MAAMh6B,EAAMhB,GAAAA,KAEE,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACvC6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKi7B,cAAez5B,qBAAqBa,EAAM,KAAMpB,EAAU,GAAJ8B,IAE7D,CAEAI,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,CACd,CAEAgE,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAEAiE,OAAAA,GAAiB,IAADm4B,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACV77B,KAAKb,cAEI,QAAdq8B,EAAAx7B,KAAK46B,iBAAS,IAAAY,GAAdA,EAAgBn4B,UACA,QAAhBo4B,EAAAz7B,KAAK66B,mBAAW,IAAAY,GAAhBA,EAAkBp4B,UACJ,QAAdq4B,EAAA17B,KAAK86B,iBAAS,IAAAY,GAAdA,EAAgBr4B,UACF,QAAds4B,EAAA37B,KAAK+6B,iBAAS,IAAAY,GAAdA,EAAgBt4B,UACA,QAAhBu4B,EAAA57B,KAAKg7B,mBAAW,IAAAY,GAAhBA,EAAkBv4B,UACA,QAAlBw4B,EAAA77B,KAAKi7B,qBAAa,IAAAY,GAAlBA,EAAoBx4B,UAEpBrD,KAAK46B,UAAY,KACjB56B,KAAK66B,YAAc,KACnB76B,KAAK86B,UAAY,KACjB96B,KAAK+6B,UAAY,KACjB/6B,KAAKg7B,YAAc,KACnBh7B,KAAKi7B,cAAgB,KAErBj7B,KAAKb,aAAc,EACpB,GC9LY28B,GAAc,GAGrBC,GAAa,CACjB,EAAG,CAAEC,MAAO,CAAC,CAAC,IAAKhrB,MAAO,WAC1BirB,EAAG,CACDD,MAAO,CACL,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,IAEdhrB,MAAO,WAETkrB,EAAG,CACDF,MAAO,CACL,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,GACT,CAAC,IAAK,IAAK,IAEbhrB,MAAO,WAETmrB,EAAG,CACDH,MAAO,CACL,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,MAEXhrB,MAAO,WAETorB,EAAG,CACDJ,MAAO,CACL,CAAC,IAAK,KACN,CAAC,IAAK,MAERhrB,MAAO,WAETqrB,EAAG,CACDL,MAAO,CACL,CAAC,EAAG,IAAK,KACT,CAAC,IAAK,IAAK,GACX,CAAC,EAAG,EAAG,IAEThrB,MAAO,WAETsrB,EAAG,CACDN,MAAO,CACL,CAAC,EAAG,EAAG,GACP,CAAC,IAAK,IAAK,KACX,CAAC,EAAG,IAAK,IAEXhrB,MAAO,WAETurB,EAAG,CACDP,MAAO,CACL,CAAC,IAAK,IAAK,GACX,CAAC,EAAG,IAAK,KACT,CAAC,EAAG,EAAG,IAEThrB,MAAO,YAOE4nB,GAAcA,IAClBkB,MAAM0C,KAAK1C,MAlEQ,IAkEa,IAAMA,MAAMgC,IAAavzB,KAAK,CAAC,EAAG,WAG9Dk0B,GAAkBA,KAC7B,MAAMC,EAAa,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5CC,EAAgBD,EAAWt7B,KAAKyc,MAAMzc,KAAKyX,SAAW6jB,EAAWv6B,SACvE,OAAO45B,GAAWY,IAGPC,GAAcA,CACzBrW,EACAkS,EAAgBn7B,KAEZ,IADF+J,EAAGw1B,EAAOv1B,EAAGw1B,GAAiCx/B,EAGhD,IAAK,IAAIgK,EAAI,EAAGA,EAAIif,EAAOgT,UAAUp3B,OAAQmF,GAAK,EAChD,IAAK,IAAID,EAAI,EAAGA,EAAIkf,EAAOgT,UAAUjyB,GAAGnF,OAAQkF,GAAK,EAEnD,GAA+B,IAA3Bkf,EAAOgT,UAAUjyB,GAAGD,MAInBoxB,EAAMnxB,EAAIif,EAAO0S,IAAI3xB,EAAIw1B,KAEzBrE,EAAMnxB,EAAIif,EAAO0S,IAAI3xB,EAAIw1B,GAAOz1B,EAAIkf,EAAO0S,IAAI5xB,EAAIw1B,IAEa,UAAjEpE,EAAMnxB,EAAIif,EAAO0S,IAAI3xB,EAAIw1B,GAAOz1B,EAAIkf,EAAO0S,IAAI5xB,EAAIw1B,GAAO,IAE1D,OAAO,GAYXE,GAA4B9M,IAA2B,IAA1B,KAAE9vB,EAAI,WAAE68B,GAAY/M,EACrD,MAAMjf,EAAQ+qB,GAAW57B,GAAM6Q,MACzBisB,EAAmB,IAAT98B,EAEhB,OACE5B,EAAAA,EAAAA,KAAA,OACEC,UAAS,aAAAK,OAAgBo+B,EAA+B,GAArB,mBAAuB,KAAAp+B,OAAIm+B,EAAa,qBAAuB,IAClG1rB,MAAO,CACLD,gBAAiB4rB,EAAU,cAAgBD,EAAa,UAAYhsB,EACpEksB,YAAaD,EAAU,2BAA6BD,EAAa,UAAS,GAAAn+B,OAAMmS,EAAK,MACrFmsB,UAAWF,EACP,OAAM,8EAYZG,GAA8BjN,IAAmC,IAAlC,MAAEsI,EAAK,aAAEM,EAAe,IAAI5I,EAC/D,OACE5xB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,SAC/Bg6B,EAAM/5B,IAAI,CAAC26B,EAAK/xB,IACf+xB,EAAI36B,IAAI,CAAC46B,EAAMjyB,KACb9I,EAAAA,EAAAA,KAACw+B,GAAI,CAAmB58B,KAAMm5B,EAAK,GAAI0D,WAAYjE,EAAalN,SAASvkB,IAAG,GAAAzI,OAA9DyI,EAAC,KAAAzI,OAAIwI,SAYvBg2B,GAAsChN,IAAuB,IAADiN,EAAA,IAArB,MAAEtB,EAAK,MAAEhrB,GAAOqf,EAC3D,OACE9xB,EAAAA,EAAAA,KAAA,OACEC,UAAU,oBACV8S,MAAO,CACLisB,oBAAoB,UAAD1+B,QAAoB,QAARy+B,EAAAtB,EAAM,UAAE,IAAAsB,OAAA,EAARA,EAAUn7B,SAAU,EAAC,UACpDq7B,iBAAiB,UAAD3+B,OAAYm9B,EAAM75B,OAAM,UACxCuF,QAAS,SACT+1B,OAAQ,qBACRh/B,SAEDu9B,EAAMt9B,IAAI,CAAC26B,EAAK/xB,IACf+xB,EAAI36B,IAAI,CAAC46B,EAAMjyB,KACb9I,EAAAA,EAAAA,KAAA,OAEEC,UAAS,aAAAK,OAAwB,IAATy6B,EAAa,mBAAqB,IAC1DhoB,MAAO,CACLD,gBAA0B,IAATioB,EAAatoB,EAAQ,cACtCksB,YAAsB,IAAT5D,EAAU,GAAAz6B,OAAMmS,EAAK,MAAO,2BACzCmsB,UACW,IAAT7D,EAAU,0EAEN,SACN,GAAAz6B,OATMyI,EAAC,KAAAzI,OAAIwI,SA4azB,GAjZ8CkpB,IAQvC,IARwC,MAC7C0J,EAAK,gBACLtH,EAAe,YACfC,EAAW,WACXlhB,EAAU,KACVgZ,EAAO,UAAS,UAChBmI,EAAY,SAAQ,UACpBC,GACDvC,EACC,MAAMyC,EAAS7mB,KAER8mB,EAAaC,IAAkBxoB,EAAAA,EAAAA,WAAS,IACxCgzB,EAAYC,IAAiBjzB,EAAAA,EAAAA,WAAS,IACtC6H,EAAUqrB,IAAoBlzB,EAAAA,EAAAA,WAAS,IACvCmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCqzB,EAAeC,IAAoBtzB,EAAAA,EAAAA,WAAS,IAE5CuzB,EAAcC,IAAmBxzB,EAAAA,EAAAA,UAASuvB,IAC1CnxB,EAAQ4qB,IAAahpB,EAAAA,EAAAA,UAAS,IAC9BpG,EAAO65B,IAAYzzB,EAAAA,EAAAA,UAAS,IAC5B,CAAE0zB,IAAwB1zB,EAAAA,EAAAA,UAAS,IACnC2zB,EAAWC,IAAgB5zB,EAAAA,EAAAA,UAAS+xB,OAEpC8B,EAAUC,IAAe9zB,EAAAA,EAAAA,UAAwB,OACjD+zB,EAAeC,IAAoBh0B,EAAAA,EAAAA,UAAiB,MAErD,OAAE6b,EAAM,gBAAEoY,EAAe,YAAErG,EAAW,aAAEsG,GCrNvBC,MACxB,MAAOtY,EAAQuY,IAAap0B,EAAAA,EAAAA,UAAS,CAAC,GA6ChC4tB,GAAcpqB,EAAAA,EAAAA,aAClB8tB,GACA8C,EAAU,CACT7F,IAAK,CAAE5xB,EAAGy0B,GAAc,EAAI,EAAGx0B,EAAG,GAClCiyB,UAAWyC,GAASS,KAAkBT,MACtCxC,UAAU,IAEZ,IAGD,MAAO,CAAEjT,SAAQoY,gBA1BOrhC,IAQX,IARY,EACxB+J,EAAC,EACDC,EAAC,SACDkyB,GAKAl8B,EACAwhC,EAAUxwB,IAAImI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVnI,GAAI,IACP2qB,IAAK,CAAE5xB,EAAGiH,EAAK2qB,IAAI5xB,EAAIA,EAAGC,EAAGgH,EAAK2qB,IAAI3xB,EAAIA,GAC1CkyB,eAcgClB,cAAasG,aA9CzBG,IACrB,MAAMC,EAAeC,KAAKC,MAAMD,KAAKE,UAAU5Y,IARhC6Y,MASfJ,EAAazF,WATE6F,EASiBJ,EAAazF,WAPzB76B,IAAI,CAAC2gC,EAAGt8B,IAAMq8B,EAAO1gC,IAAI4gC,GAAUA,EAAOv8B,KAElDrE,IAAI26B,GAAOA,EAAIkG,WAQ3B,MAAMC,EAAOR,EAAa/F,IAAI5xB,EAC9B,IAAIkV,EAAS,EACb,KAAOqgB,GAAYoC,EAAcD,EAAO,CAAE13B,EAAG,EAAGC,EAAG,KAIlD,GAHA03B,EAAa/F,IAAI5xB,GAAKkV,EACtBA,IAAWA,GAAUA,EAAS,EAAI,GAAK,IAEnCA,EAASyiB,EAAazF,UAAU,GAAGp3B,OAEtC,YADA68B,EAAa/F,IAAI5xB,EAAIm4B,GAKvBV,EAAUE,MD0LqDH,IACzD,MAAEpG,EAAK,SAAEC,EAAQ,YAAEG,EAAW,aAAEE,GAAiBV,GAAS9R,EAAQ,KACtEkZ,MAGIC,GAAkB90B,EAAAA,EAAAA,QAAY,MAE9B60B,GAA2BvxB,EAAAA,EAAAA,aAAY,KACvCmwB,IACF/F,EAAY+F,EAAUrC,OACtBsC,EAAa7B,QAEd,CAAC4B,EAAW/F,IAETqH,GAAazxB,EAAAA,EAAAA,aAChB0xB,IACMhD,GAAYrW,EAAQkS,EAAO,CAAEpxB,EAAGu4B,EAAKt4B,EAAG,MAC3Cq3B,EAAgB,CAAEt3B,EAAGu4B,EAAKt4B,EAAG,EAAGkyB,UAAU,IAC1CiB,GAAYS,aAGhB,CAAC3U,EAAQkS,EAAOkG,IAGZ7H,GAAgB5oB,EAAAA,EAAAA,aACnBue,IACC,IAAIla,IAAYmrB,EAEhB,OAAQjR,GACN,IAAK,KACHmS,EAAanG,GACbgC,GAAYU,aACZ,MACF,IAAK,OAEHqD,EAAY,IACZ,MACF,IAAK,OACHmB,GAAY,GACZ,MACF,IAAK,QACHA,EAAW,KAIjB,CAACptB,EAAUmrB,EAAYjF,EAAOmG,EAAce,IAGxC5I,GAAmB7oB,EAAAA,EAAAA,aACtBue,IACmB,SAAdA,GAEF+R,EAAYC,IAGhB,CAACA,IAGGoB,EAAQpP,IAA6C,IAA5C,QAAE9E,GAA8B8E,EACxCle,GACa,KAAZoZ,GACF6S,EAAYC,IAKZqB,EAAOnP,IAAsE,IAArE,QAAEhF,EAAO,OAAEoU,GAA8CpP,EACrE,IAAK+M,GAAcnrB,EACjB,GAAgB,KAAZoZ,EACFgU,GAAY,QACP,GAAgB,KAAZhU,EACTgU,EAAW,QACN,GAAgB,KAAZhU,EAAgB,CAEzB,GAAIoU,EAAQ,OACZvB,EAAY,GACd,MAAuB,KAAZ7S,IACTiT,EAAanG,GACbgC,GAAYU,eAqDZ6E,EAA+B90B,IAEnC,GAAwB,IADN,CAAE,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GACpCA,EAAEygB,SAET,OADAzgB,EAAEK,kBACK,GA4FX,OAxFAV,EAAAA,EAAAA,WAAU,KACR6hB,OAAO3e,iBAAiB,UAAWiyB,GAA6B,GAChEvF,GAAY16B,OACL,KACL06B,GAAYp3B,YAEb,IEhXsB48B,EAACC,EAAsBC,KACjD,MAAMC,GAAgBx1B,EAAAA,EAAAA,QAAmBs1B,IAEzCr1B,EAAAA,EAAAA,WAAU,KACTu1B,EAAcp1B,QAAUk1B,GACtB,CAACA,KAEJr1B,EAAAA,EAAAA,WAAU,KAOT,GAAc,OAAVs1B,EAAgB,CACnB,MAAMtiC,EAAKqU,YAPCmuB,KACRD,EAAcp1B,SACjBo1B,EAAcp1B,WAKcm1B,GAC7B,MAAO,IAAMhuB,cAActU,EAC5B,GACE,CAACsiC,KFgWHF,CAAY,MACNhN,GAAgB1gB,GAAamrB,IAhE5Bd,GAAYrW,EAAQkS,EAAO,CAAEpxB,EAAG,EAAGC,EAAG,IAGrCif,EAAO0S,IAAI3xB,EAAI,GACjB42B,EAAgBD,EAAe,GAC3BA,EAAe,GAAK,GACtBL,GAAiB,GACjBhL,GAAY,GACZD,EAAgB7pB,GAChB01B,EAAY,MACZ/D,GAAYc,gBAEZ7C,EAASE,QAGX+F,EAAgB,CAAEt3B,EAAG,EAAGC,EAAG,EAAGkyB,UAAU,IACxCiB,GAAYW,YAfduD,EAAgB,CAAEt3B,EAAG,EAAGC,EAAG,EAAGkyB,UAAU,MAkEzC+E,IAEH1zB,EAAAA,EAAAA,WAAU,KACR,GAAIguB,EAAc,EAAG,CAEnB,IAAIhX,EAAe,EACnB,OAAQgX,GACN,KAAK,EACHhX,EAAe,IAAMvd,EACrB,MACF,KAAK,EACHud,EAAe,IAAMvd,EACrB,MACF,KAAK,EACHud,EAAe,IAAMvd,EACrB,MACF,KAAK,EACHud,EAAe,IAAMvd,EACrB,MACF,QACEud,EAAe,IAAMvd,EAAQu0B,EAIjC4B,GAAYY,cAAcxC,GAE1BnF,EAAWplB,GAASA,EAAOuT,GAC3Buc,EAAsB9vB,IACpB,MAAMgyB,EAAWhyB,EAAOuqB,EAElB0H,EAAWn/B,KAAKyc,MAAMyiB,EAAW,IAAM,EAI7C,OAHIC,EAAWj8B,GACb65B,EAASoC,GAEJD,IAET9B,EAAYC,EACd,GACC,CAAC5F,EAAav0B,EAAOm6B,KAGxB5zB,EAAAA,EAAAA,WAAU,KAER,MAAM21B,EAAWp/B,KAAKC,IAAI,IAAK,IAAqB,IAAbiD,EAAQ,IAC/Co6B,EAAiB8B,IAChB,CAACl8B,KAEJuG,EAAAA,EAAAA,WAAU,KACR2zB,EAAYC,IACX,CAACA,KAGJ5zB,EAAAA,EAAAA,WAAU,KACR,MAAM6gB,EAAiBxgB,GAAqB40B,EAAK50B,GAC3C4gB,EAAe5gB,GAAqB20B,EAAM30B,GAKhD,OAHAwhB,OAAO3e,iBAAiB,UAAW2d,GACnCgB,OAAO3e,iBAAiB,QAAS+d,GAE1B,KACLY,OAAO1e,oBAAoB,UAAW0d,GACtCgB,OAAO1e,oBAAoB,QAAS8d,KAGrC,CAAC4R,EAAYnrB,EAAUgU,EAAQkS,EAAOgG,EAAekB,EAAYf,KAGpE/zB,EAAAA,EAAAA,WAAU,KACR,MAAM41B,EAAaf,EAAgB10B,QACnC,MAAO,KACDy1B,GACFC,aAAaD,KAGhB,KAGD7hC,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iBAAiB8S,MAAO,CAAED,gBAAiBK,GAA0B,WAAYjT,SAAA,EAE9FF,EAAAA,EAAAA,KAACy7B,GAAU,CACT11B,MAAOA,EACP21B,MAAOgE,EACPxsB,MAAO3I,EACPoxB,QAASA,IAAMyD,GAAeD,GAC9BvD,SAAUuD,EACVhsB,WAAYA,EACZvF,SAAU6mB,EACVqH,OAAQA,KACNyD,GAAY,GACZE,EAAiBN,GACjBC,GAAc,IAEhBrD,eAAgBrH,EAChBsH,WAAYsD,KAGdt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UACzBG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,mBAAkBC,SAAA,EAE/BF,EAAAA,EAAAA,KAAA,OACEC,UAAU,qBACVmiC,UAAWb,EACXc,QAASf,EAAMphC,UAEfG,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAE0lB,QAAS,OAAQ7yB,IAAK,QAAS1F,SAAA,EAE3CF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE0lB,QAAS,OAAQC,cAAe,SAAUE,WAAY,UAAW14B,UAC7EF,EAAAA,EAAAA,KAAC6+B,GAAK,CAAC3E,MAAOA,EAAOM,aAAcA,OAIrCn6B,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,eACtCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,UAClCF,EAAAA,EAAAA,KAAC8+B,GAAS,CAACrB,MAAOqC,EAAUrC,MAAOhrB,MAAOqtB,EAAUrtB,UAE5C,YAAT0Z,IACCnsB,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE/J,MAAO,OAAQ+nB,UAAW,SAAUte,MAAO,WAAYvS,UACnEF,EAAAA,EAAAA,KAAA,OACE+sB,IAAG,uBAAAzsB,OAAyB6rB,EAAI,YAChCgD,IAAG,GAAA7uB,OAAK6rB,EAAI,sBACZpZ,MAAO,CAAE/J,MAAO,MAAOgwB,OAAQ,SAAUsJ,UAAW,uBAS/DnD,IAAeG,IACdt/B,EAAAA,EAAAA,KAACgT,EAAW,CACVpR,KAAK,QACLuR,WAAYA,EACZC,SAAUA,IAAMgsB,GAAc,KAKjCE,IACCt/B,EAAAA,EAAAA,KAACgT,EAAW,CACVpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+CiK,EAAM,wCAC5D4I,WAAYA,EACZG,eACEjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,UACEQ,QApLC+hC,KACjBhD,GAAY,GACZH,EAAcI,IAmLEv/B,UAAU,qCAAoCC,SAC/C,2BAGDF,EAAAA,EAAAA,KAAA,UACEQ,QArLQgiC,KACxBpO,EAAgB7pB,GAChB8pB,GAAY,GACZM,GAAe,GACfsL,EAAY,OAkLIhgC,UAAU,sCAAqCC,SAChD,4BAQR8T,IACChU,EAAAA,EAAAA,KAACgT,EAAW,CAACpR,KAAK,WAAWsR,MAAO3I,EAAQ4I,WAAYA,KAGxDuhB,IACA10B,EAAAA,EAAAA,KAACgT,EAAW,CACVpR,KAAK,SACLuR,WAAYA,EACZC,SA1NMyhB,KAChBF,GAAe,GACfwF,EAASE,MACT4F,EAAYC,GACZH,EAAa7B,MACbgD,IACA7B,GAAiB,GACjBlK,EAAU,GACVwK,EAAgBjE,GAChBkE,EAAS,GACTC,EAAqB,GACrBN,GAAY,IAgNFlsB,WAAW,qBACXE,kBAAkB,EAClBD,eACEjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEmd,UAAW,UAAWhwB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEid,SAAU,SAAUW,WAAY,OAAQle,MAAO,UAAWsmB,aAAc,UAAW74B,SAC7Fo0B,IAEFC,IACCl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAC,UACtDF,EAAAA,EAAAA,KAAA,OACE+sB,IAAKwH,EACLpF,IAAI,aACJpc,MAAO,CAAEimB,OAAQ,SAAUhwB,MAAO,QAASC,OAAQ,OAAQ8vB,aAAc,cAI/E14B,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEN,MAAO,UAAWud,SAAU,YAAa9vB,SAAA,EACrDF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,oDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,0DAELF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,UAAWse,UAAW,QAAS7wB,UACxEF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,wEAShBu0B,GAAUC,IACT10B,EAAAA,EAAAA,KAACyyB,GAAY,CACXC,UAAW6F,EACX5F,aAAc6F,EACd5F,OAAO,SACPzf,WAAYA,EACZ0f,kBAAkB,EAClBC,SAAUA,KACH9e,GAAamrB,IAChBkB,EAAanG,GACbgC,GAAYU,qBG3jBb6F,GAAyB,CACrC,CAAE7gC,KAAM,QAAS2I,OAAQ,EAAGm4B,OAAQ,IACpC,CAAE9gC,KAAM,SAAU2I,OAAQ,EAAGm4B,OAAQ,KACrC,CAAE9gC,KAAM,WAAY2I,OAAQ,EAAGm4B,OAAQ,IACvC,CAAE9gC,KAAM,SAAU2I,OAAQ,EAAGm4B,OAAQ,KACrC,CAAE9gC,KAAM,QAAS2I,OAAQ,EAAGo4B,cAAe,QAASD,OAAQ,KAC5D,CAAE9gC,KAAM,OAAQ2I,OAAQ,EAAGo4B,cAAe,OAAQD,OAAQ,MCkKpD,MAAME,GAAa,IA1LnB,MAAwBjiC,WAAAA,GAAA,KACtBC,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQgiC,cAAgB,EAAC,KACjB9hC,cAAgB,EAAC,KACRE,aAAe,KAEhC,KACQE,SAA8B,KAAI,KAClCE,UAAmC,KAAI,KACvCD,UAAuC,KAAI,KAC3CE,WAAqC,KAAI,KACzCC,YAAqC,IAAI,CAEjD,UAAMC,GACDC,KAAKb,oBAEHc,GAAAA,KAGND,KAAKN,SAAW,IAAIO,GAAAA,GAAW,CAC9BC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKJ,UAAY,IAAIK,GAAAA,GAAeA,GAAAA,GAAY,CAC/CC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHV,KAAKL,UAAY,IAAIM,GAAAA,GAAmB,CACvCU,WAAY,IACZC,QAAS,EACTV,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKH,WAAa,IAAII,GAAAA,GAAgB,CACrCY,MAAO,CAAEV,KAAM,QACfC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHV,KAAKF,YAAc,IAAIG,GAAAA,GAAeA,GAAAA,GAAY,CACjDC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,KACPC,gBAEHV,KAAKb,aAAc,EACpB,CAEQ2B,WAAAA,CAAYC,EAAkBC,GACrC,MAAMC,EAAMhB,GAAAA,KACNiB,EAAcH,EAAWf,KAAKR,aAC9B2B,EAAWC,KAAKC,IAAIJ,EAAKC,GAK/B,MAHiB,UAAbF,EAAsBhB,KAAKohC,cAAgBjgC,EACzB,UAAbH,IAAsBhB,KAAKV,cAAgB6B,GAE7CA,CACR,CAGAkgC,WAAAA,GACC,IAAKrhC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKN,SAAU,OACvD,MAAM6B,EAAOvB,KAAKc,YAAYd,KAAKohC,cAAe,SAClDphC,KAAKN,SAAS8B,qBAAqB,KAAM,MAAOD,EACjD,CAGA+/B,YAAAA,GACC,IAAKthC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKJ,UAAW,OACxD,MAAMqB,EAAMhB,GAAAA,KACE,CAAC,KAAM,KAAM,KAAM,MAC3B6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKJ,UAAW4B,qBAAqBa,EAAM,MAAOpB,EAAU,IAAJ8B,IAE1D,CAGAw+B,WAAAA,GACC,IAAKvhC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKN,SAAU,OACvD,MAAM6B,EAAOvB,KAAKc,YAAYd,KAAKohC,cAAe,SAClDphC,KAAKN,SAAS8B,qBAAqB,KAAM,MAAOD,GAChDvB,KAAKN,SAAS8B,qBAAqB,KAAM,MAAOD,EAAO,KACvDvB,KAAKohC,cAAgB7/B,EAAO,GAC7B,CAGAg6B,YAAAA,GACC,IAAKv7B,KAAKb,aAAea,KAAKZ,MAAO,OAErC,MAAM0C,EAAW9B,KAAKc,YAAYd,KAAKohC,cAAe,SAChDv/B,EAAY7B,KAAKc,YAAYd,KAAKV,cAAe,SAQvD,GANIU,KAAKL,WACRK,KAAKL,UAAU6B,qBAAqB,KAAM,KAAMM,GAE7C9B,KAAKH,YACRG,KAAKH,WAAW2B,qBAAqB,KAAMK,GAExC7B,KAAKF,YAAa,CAEN,CAAC,KAAM,KAAM,KAAM,MAC3BgD,QAAQ,CAACT,EAAMU,KACrB/C,KAAKF,YAAa0B,qBACjBa,EACA,KACAP,EAAW,GAAU,GAAJiB,IAGpB,CACD,CAGAy+B,WAAAA,GACC,IAAKxhC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKF,YAAa,OAC1D,MAAMmB,EAAMhB,GAAAA,KACE,CAAC,KAAM,KAAM,MACrB6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKF,YAAa0B,qBAAqBa,EAAM,MAAOpB,EAAU,IAAJ8B,IAE5D,CAEAI,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,CACd,CAEAgE,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAEAiE,OAAAA,GAAiB,IAADE,EAAAE,EAAAD,EAAAE,EAAAC,EACV3D,KAAKb,cAEG,QAAboE,EAAAvD,KAAKN,gBAAQ,IAAA6D,GAAbA,EAAeF,UACD,QAAdI,EAAAzD,KAAKJ,iBAAS,IAAA6D,GAAdA,EAAgBJ,UACF,QAAdG,EAAAxD,KAAKL,iBAAS,IAAA6D,GAAdA,EAAgBH,UACD,QAAfK,EAAA1D,KAAKH,kBAAU,IAAA6D,GAAfA,EAAiBL,UACD,QAAhBM,EAAA3D,KAAKF,mBAAW,IAAA6D,GAAhBA,EAAkBN,UAElBrD,KAAKN,SAAW,KAChBM,KAAKJ,UAAY,KACjBI,KAAKL,UAAY,KACjBK,KAAKH,WAAa,KAClBG,KAAKF,YAAc,KAEnBE,KAAKb,aAAc,EACpB,GCiND,GArY4C7B,IAOrC,IAPsC,OAC5C+3B,EAAM,cACNoM,EAAa,WACbC,EAAU,SACVvH,EAAQ,UACRwH,EAAY,GAAE,SACd39B,EAAW,IACX1G,EACA,MAAM61B,GAAYvoB,EAAAA,EAAAA,QAA0B,OACrCg3B,EAAOC,IAAYn3B,EAAAA,EAAAA,UAAqB,CAAC,CAAErD,EAAG,GAAIC,EAAG,OACrDw6B,EAAMC,IAAWr3B,EAAAA,EAAAA,UAAe,CACtCyW,SAAU,CAAE9Z,EAAG,GAAIC,EAAG,IACtBwB,OAAQ,EACR3I,KAAM,WAEAssB,EAAWuV,IAAgBt3B,EAAAA,EAAAA,UAAoB,UAC/Cu3B,EAAeC,IAAoBx3B,EAAAA,EAAAA,UAAoB,UACvD+V,EAAO0hB,IAAYz3B,EAAAA,EAAAA,UAAiB,KACrC03B,GAAiBx3B,EAAAA,EAAAA,QAAe,GAChCye,GAAmBze,EAAAA,EAAAA,QAAe,GAClCy3B,GAAez3B,EAAAA,EAAAA,QAAe,IAC7B03B,EAAaC,IAAkB73B,EAAAA,EAAAA,WAAkB,IACjD83B,EAAYC,IAAiB/3B,EAAAA,EAAAA,UAAiB,GAC/Cg4B,GAAkB93B,EAAAA,EAAAA,QAAe,GACjC+3B,GAAc/3B,EAAAA,EAAAA,SAAgB,GAE9Bg4B,EAAajB,EAAY39B,GAG/B6G,EAAAA,EAAAA,WAAU,KACT83B,EAAY33B,SAAU,EACtBm2B,GAAWphC,OACJ,KACN4iC,EAAY33B,SAAU,EACtBm2B,GAAW99B,YAEV,IAGH,MAAMw/B,GAAoB30B,EAAAA,EAAAA,aAAY,KACrC,MAAM40B,EAAmBA,KAAA,CACxBz7B,EAAGjG,KAAKyc,MAAMzc,KAAKyX,SAAW8oB,GAC9Br6B,EAAGlG,KAAKyc,MAAMzc,KAAKyX,SAAW8oB,KAG/B,IAAI1I,EAAM6J,IAEV,KAAOlB,EAAMmB,KAAK3iB,GAAWA,EAAQ/Y,IAAM4xB,EAAI5xB,GAAK+Y,EAAQ9Y,IAAM2xB,EAAI3xB,IACrE2xB,EAAM6J,IAEP,OAAO7J,GACL,CAAC0I,EAAWC,IAGToB,GAAgB90B,EAAAA,EAAAA,aAAY,KAEjC,MAAM+0B,EAAcjC,GAAW3R,OAC9B,CAAC6T,EAAKpB,IAASoB,GAAOpB,EAAKb,QAAU,GACrC,GAED,IAAIpoB,EAASzX,KAAKyX,SAAWoqB,EAGzBE,EAAenC,GAAW,GAC9B,IAAK,MAAMoC,KAAYpC,GAEtB,GADAnoB,GAAUuqB,EAASnC,QAAU,EACzBpoB,GAAU,EAAG,CAChBsqB,EAAeC,EACf,KACD,CAGD,MAAO,CACNjiB,SAAU0hB,IACV/5B,OAAQq6B,EAAar6B,OACrB3I,KAAMgjC,EAAahjC,OAElB,CAAC0iC,IAGEnX,GAAgBxd,EAAAA,EAAAA,aACpBN,IACA,IAAIusB,EAQJ,OALIvsB,EAAMknB,IAAIuO,WAAW,UACxBz1B,EAAMrC,iBAICqC,EAAMknB,KACb,IAAK,UACc,SAAdrI,GACHyV,EAAiB,MAElB,MACD,IAAK,YACc,OAAdzV,GACHyV,EAAiB,QAElB,MACD,IAAK,YACc,UAAdzV,GACHyV,EAAiB,QAElB,MACD,IAAK,aACc,SAAdzV,GACHyV,EAAiB,WAKrB,CAAC/H,EAAU1N,KAIZ5hB,EAAAA,EAAAA,WAAU,KACT6hB,OAAO3e,iBAAiB,UAAW2d,GAC5B,IAAMgB,OAAO1e,oBAAoB,UAAW0d,IACjD,CAACA,IAGJ,MAAM4X,GAAYp1B,EAAAA,EAAAA,aAAY,KACzBisB,IAGJ6H,EAAaC,GAEbJ,EAAS0B,IACR,MAAMC,EAAW,IAAID,GACfE,GAAIhtB,EAAAA,EAAAA,GAAA,GAAQ+sB,EAAS,IAG3B,OAAQvB,GACP,IAAK,KACJwB,EAAKn8B,GAAK,EACV,MACD,IAAK,OACJm8B,EAAKn8B,GAAK,EACV,MACD,IAAK,OACJm8B,EAAKp8B,GAAK,EACV,MACD,IAAK,QACJo8B,EAAKp8B,GAAK,EAWZ,GANIo8B,EAAKp8B,EAAI,IAAGo8B,EAAKp8B,EAAIs6B,EAAY,GACjC8B,EAAKp8B,GAAKs6B,IAAW8B,EAAKp8B,EAAI,GAC9Bo8B,EAAKn8B,EAAI,IAAGm8B,EAAKn8B,EAAIq6B,EAAY,GACjC8B,EAAKn8B,GAAKq6B,IAAW8B,EAAKn8B,EAAI,GAIjCk8B,EAAST,KAAK3iB,GAAWA,EAAQ/Y,IAAMo8B,EAAKp8B,GAAK+Y,EAAQ9Y,IAAMm8B,EAAKn8B,GAWpE,OARKq7B,EAAY33B,UAChB23B,EAAY33B,SAAU,EACtBm2B,GAAW5F,eAEXzwB,WAAW,KACV42B,KACE,IAEG6B,EAOR,GAHAC,EAAS3J,QAAQ4J,GAGbA,EAAKp8B,IAAMy6B,EAAK3gB,SAAS9Z,GAAKo8B,EAAKn8B,IAAMw6B,EAAK3gB,SAAS7Z,EAAG,CAE7D,MAAM87B,EAAWpC,GAAWnkB,KAAK6mB,GAAKA,EAAEvjC,OAAS2hC,EAAK3hC,MACtD,GAAgC,WAApB,OAARijC,QAAQ,IAARA,OAAQ,EAARA,EAAUlC,eAEbqB,GAAe,GACfE,EAAc,KACdC,EAAgB13B,QAAU,EAC1Bm2B,GAAWG,oBACL,GAAgC,UAApB,OAAR8B,QAAQ,IAARA,OAAQ,EAARA,EAAUlC,gBAA4BsC,EAASrhC,OAAS,EAAG,CAErE,MAAMwhC,EAAmBviC,KAAKuB,IAAI,EAAG6gC,EAASrhC,OAAS,GACvD,IAAK,IAAIY,EAAI,EAAGA,EAAI4gC,EAAkB5gC,IACrCygC,EAASI,MAEVzC,GAAWI,aACZ,MACCJ,GAAWE,cAIZ,MACMwC,EADY/B,EAAKh5B,OACS45B,EAAgB13B,QAChDq3B,EAAar3B,SAAW64B,EAExB/4B,WAAW,KACV22B,EAAcoC,IACZ,GACH9B,EAAQiB,KAGJX,EAAar3B,QAAU,KAAO,IACjCm3B,EAAS7zB,GAAQlN,KAAKC,IAAI,GAAIiN,EAAO,KACrC6yB,GAAWK,cAEb,MAECgC,EAASI,MAGV,OAAOJ,MAGN,CAACrJ,EAAU8H,EAAeN,EAAWG,EAAMkB,EAAetB,IA8J7D,OA3JA72B,EAAAA,EAAAA,WAAU,KACT,GAAIy3B,GAAeE,EAAa,EAAG,CAClC,MAAMvwB,EAAWC,YAAY,KAC5BuwB,EAAcn0B,GACTA,GAAQ,KACXi0B,GAAe,GACfG,EAAgB13B,QAAU,EACnB,GAEDsD,EAAO,MAEb,KACH,MAAO,IAAM6D,cAAcF,EAC5B,GACE,CAACqwB,EAAaE,KAGjB33B,EAAAA,EAAAA,WAAU,KACT,MAAMi5B,EAAYhsB,IACbA,EAAYsqB,EAAep3B,SAAWyV,IACzC6iB,IACAlB,EAAep3B,QAAU8M,GAE1BuR,EAAiBre,QAAUkf,sBAAsB4Z,IAIlD,OADAza,EAAiBre,QAAUkf,sBAAsB4Z,GAC1C,KACFza,EAAiBre,SACpBof,qBAAqBf,EAAiBre,WAGtC,CAACs4B,EAAW7iB,KAGf5V,EAAAA,EAAAA,WAAU,KACT,MAAMoqB,EAAS9B,EAAUnoB,QACzB,IAAKiqB,EAAQ,OAEb,MAAMvR,EAAMuR,EAAOC,WAAW,MAC9B,IAAKxR,EAAK,OAGVA,EAAIK,UAAU,EAAG,EAAG6e,EAAYA,GAGhClf,EAAIyC,UAAUkP,EAAO/uB,WAAY,EAAG,EAAGs8B,EAAYA,GAGnDlf,EAAI4E,YAAc,2BAClB5E,EAAI6E,UAAY,GAChB,IAAK,IAAIxlB,EAAI,EAAGA,GAAK4+B,EAAW5+B,IAC/B2gB,EAAIc,YACJd,EAAIe,OAAO1hB,EAAIiB,EAAU,GACzB0f,EAAIgB,OAAO3hB,EAAIiB,EAAU4+B,GACzBlf,EAAIe,OAAO,EAAG1hB,EAAIiB,GAClB0f,EAAIgB,OAAOke,EAAY7/B,EAAIiB,GAC3B0f,EAAI/a,SA0CL,IAAIo7B,EACJ,OAvCAnC,EAAM9+B,QAAQ,CAACsd,EAASjC,KACvB,GAAc,IAAVA,EAAa,CAEhB,IAAI6lB,EACJ,OAAQvX,GACP,IAAK,KACJuX,EAAY3O,EAAO4O,OACnB,MACD,IAAK,OACJD,EAAY3O,EAAO6O,SACnB,MACD,IAAK,OACJF,EAAY3O,EAAO8O,SACnB,MACD,IAAK,QACJH,EAAY3O,EAAO+O,UAGrB1gB,EAAIyC,UACH6d,EACA5jB,EAAQ/Y,EAAIrD,EACZoc,EAAQ9Y,EAAItD,EACZA,EACAA,EAEF,MAEC0f,EAAIyC,UACHkP,EAAOgP,KACPjkB,EAAQ/Y,EAAIrD,EACZoc,EAAQ9Y,EAAItD,EACZA,EACAA,KAOK89B,EAAK3hC,MACZ,IAAK,QACJ4jC,EAAY1O,EAAOiP,MACnB,MACD,IAAK,SACJP,EAAY1O,EAAOkP,OACnB,MACD,IAAK,WACJR,EAAY1O,EAAOmP,SACnB,MACD,IAAK,SACJT,EAAY1O,EAAOoP,OACnB,MACD,IAAK,QACJV,EAAY1O,EAAOqP,MACnB,MACD,IAAK,OACJX,EAAY1O,EAAOsP,KAGrBjhB,EAAIyC,UACH4d,EACAjC,EAAK3gB,SAAS9Z,EAAIrD,EAClB89B,EAAK3gB,SAAS7Z,EAAItD,EAClBA,EACAA,GAIGs+B,IAEH5e,EAAI4E,YAAc,UAClB5E,EAAI6E,UAAY,EAChB7E,EAAIkhB,WAAW,EAAG,EAAGhC,EAAa,EAAGA,EAAa,GAGlDlf,EAAIa,UAAY,UAChBb,EAAI2E,KAAO,kBACX3E,EAAImhB,YAAc,QAClBnhB,EAAIohB,WAAa,EACjBphB,EAAIiF,SAAS,UAAD9pB,QAAY2jC,EAAa,KAAMzT,QAAQ,GAAE,KAAK,GAAI,IAC9DrL,EAAIohB,WAAa,IAEhB,CACFlD,EACAE,EACArV,EACA4I,EACAsM,EACA39B,EACA4+B,EACAN,EACAE,KAIAjkC,EAAAA,EAAAA,KAACgxB,EAAU,CACV5jB,IAAKwnB,EACL5rB,MAAOq7B,EACPp7B,OAAQo7B,EACRpkC,UAAU,qDACV8S,MAAO,CACNme,eAAgB,WC/BpB,GAhV4CnyB,IASrC,IATsC,aAC5CynC,EAAY,YACZnS,EAAW,gBACXD,EAAe,WACfjhB,EAAa,UAAS,KACtBgZ,EAAI,UACJmI,EAAY,QAAO,UACnBmS,EAAS,UACTlS,GACAx1B,EACA,MAAM2nC,GAAer6B,EAAAA,EAAAA,QAAuB,OACrCyqB,EAAQ6P,EAAeC,GCd9Bza,KAEA,MAAO2K,EAAQ+P,IAAa16B,EAAAA,EAAAA,UAA6B,OAClD26B,EAASC,IAAc56B,EAAAA,EAAAA,WAAS,IAChC4qB,EAAOiQ,IAAY76B,EAAAA,EAAAA,UAAwB,MA4ElD,OA1EAG,EAAAA,EAAAA,WAAU,KACT,MAAM26B,EAAala,GACX,IAAIT,QAAQ,CAACE,EAASC,KAC5B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAADxsB,OAA0BysB,KAC9DL,EAAIK,IAAMA,IAIU8J,WACrB,IACCkQ,GAAW,GACXC,EAAS,MAET,MAAM9a,EAAQ,0BACRgb,EAAY/a,EAAI,SAAA7rB,OAAY6rB,EAAI,KAAM,IAG3CuZ,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAr+B,SACSukB,QAAQC,IAAI,CACrB0a,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,iBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,mBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,mBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,oBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,cACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,eACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,gBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,kBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,gBACjCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,eAAcC,MAAM,IACpDF,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,iBAElCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,cAAaC,MAAM,IACnDF,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,gBAElCD,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAG4mC,EAAS,cAGlCL,EAAU,CACTnB,SACAC,WACAC,WACAC,YACAC,OACAC,QACAC,SACAC,WACAC,SACAC,QACAC,OACAr+B,cAEF,CAAE,MAAOq/B,GACRJ,EAASI,aAAeta,MAAQsa,EAAIn0B,QAAU,wBAC/C,CAAC,QACA8zB,GAAW,EACZ,GAGDM,IACE,CAAClb,IAEG,CAAC2K,EAAQgQ,EAAS/P,IDlEoBuQ,CAAenb,IAErDjZ,EAAOq0B,IAAYp7B,EAAAA,EAAAA,UAAS,IAC5BuvB,EAAO8L,IAAYr7B,EAAAA,EAAAA,UAASq6B,IAC5B5K,EAAU6L,IAAet7B,EAAAA,EAAAA,WAAS,IAClCu7B,EAAeC,IAAoBx7B,EAAAA,EAAAA,WAAS,IAC5Cy7B,EAAYC,IAAiB17B,EAAAA,EAAAA,WAAS,IACtCmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCqzB,EAAeC,IAAoBtzB,EAAAA,EAAAA,WAAS,IAC5C,CAAE27B,IAAiB37B,EAAAA,EAAAA,UAAS,CAAEnD,MAAO,EAAGC,OAAQ,KAChD8+B,EAAgBC,IAAqB77B,EAAAA,EAAAA,WAAS,IAC9C87B,EAAgBC,IAAqB/7B,EAAAA,EAAAA,UAAS,KAC9Cg8B,EAAYC,IAAiBj8B,EAAAA,EAAAA,UAAS,IACtCk8B,EAAgBC,IAAqBn8B,EAAAA,EAAAA,UAAS,GAE/Co8B,EAAiB36B,KAGvBtB,EAAAA,EAAAA,WAAU,KACT,MAAMk8B,EAAeA,KACpBV,EAAc,CAAE9+B,MAAOmlB,OAAOsa,WAAYx/B,OAAQklB,OAAOua,eAM1D,OAHAva,OAAO3e,iBAAiB,SAAUg5B,GAClCA,IAEO,IAAMra,OAAO1e,oBAAoB,SAAU+4B,IAChD,KAGHl8B,EAAAA,EAAAA,WAAU,KACT,MAAMq8B,EAAkBh8B,IACT,MAAVA,EAAE4pB,KAAyB,WAAV5pB,EAAE4pB,MACtB5pB,EAAEK,iBACE06B,IAAkBE,GACrB9S,MAMH,OADA3G,OAAO3e,iBAAiB,UAAWm5B,GAC5B,IAAMxa,OAAO1e,oBAAoB,UAAWk5B,IAEjD,CAACjB,EAAeE,IAEnB,MAAM9S,GAAcnlB,EAAAA,EAAAA,aAAY,KAC3B+3B,IAAkBE,GACrBH,EAAY13B,IAASA,IAEpB,CAAC23B,EAAeE,IAEb/S,GAAYllB,EAAAA,EAAAA,aAAY,MACxB+3B,GAAiB5Q,IACrB6Q,GAAiB,GACjBE,GAAc,GACdN,EAAS,GACTa,EAAc,GACdZ,EAAShB,GACTjH,GAAY,KAEX,CAACmI,EAAe5Q,EAAQ0P,IAcrBoC,GAAiBj5B,EAAAA,EAAAA,aAAY,KAClC,IAAKi4B,EAAY,CAChB,MAAMiB,EAAWnN,EAAQ,EACzB8L,EAASqB,GAELA,GAAY,GACfhB,GAAc,GACdxT,GAAY,GACZD,EAAgB+T,IAIhBG,EAAkBv4B,GAAQA,EAAO,EAEnC,GACE,CAAC63B,EAAYlM,EAAOyM,EAAY9T,EAAaD,IAE1C0U,GAAoBn5B,EAAAA,EAAAA,aACxBpF,IACA,MAAMw+B,EAAWZ,EAAa59B,EAI9B,GAHA69B,EAAcW,GACdxB,EAASwB,GAELtC,GAAasC,GAAYtC,EAI5B,OAHAoB,GAAc,GACdxT,GAAY,QACZD,EAAgB2U,GAKjB,MAAMC,EAAkB,CAAC,GAAI,IAAK,IAAK,IAAK,KACtCC,EAAeD,EAAgBlnB,OAAO3iB,GAAKgpC,GAAchpC,GAAGyE,OAC7ColC,EAAgBlnB,OAAO3iB,GAAK4pC,GAAY5pC,GAAGyE,OAE7CqlC,IAClBf,EAAkB,4BAClBF,GAAkB,GAClBz7B,WAAW,IAAMy7B,GAAkB,GAAQ,QAI7C,CAACG,EAAY1B,EAAWpS,EAAaD,IAGhC8U,GAAuBv5B,EAAAA,EAAAA,aAC3Bue,IACA,GAAIwZ,IAAkB9L,IAAagM,EAAY,CAE9C,MAAMv4B,EAAQ,IAAI85B,cAAc,UAAW,CAC1C5S,IAAI,QAADj2B,OAAU4tB,EAAUkb,OAAO,GAAGC,cAAgBnb,EAAU5pB,MAAM,IACjEglC,SAAS,IAEVnb,OAAOob,cAAcl6B,EACtB,GAED,CAACq4B,EAAe9L,EAAUgM,IA8B3B,OACCvnC,EAAAA,EAAAA,MAAA,OACCJ,UAAU,iBACV8S,MAAO,CAAED,gBAAiBK,GAA0B,WACpD/F,IAAKs5B,EAAaxmC,SAAA,EAGlBF,EAAAA,EAAAA,KAACy7B,GAAU,CACVC,MAAOA,EACPxoB,MAAOA,EACPyoB,QAAS7G,EACT8G,SAAUA,EACVzoB,WAAYA,EACZvF,SAAU26B,EACVzM,OAAQA,KACPyD,GAAY,GACZE,EAAiB7D,GACjB6L,GAAY,IAEb1L,eAAgB2L,EAChB1L,WAAYsD,KAIbt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAa8S,MAAO,CAAEy2B,YAAa,KAAMtpC,UACvDG,EAAAA,EAAAA,MAAA,OACCJ,UAAU,mBACV8S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUD,eAAgB,UAAWz4B,SAAA,CAG1EymC,IACA3mC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC5BF,EAAAA,EAAAA,KAAA,OAAAE,SAAK,kBAKN0mC,IACA5mC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UAC1BG,EAAAA,EAAAA,MAAA,OAAAH,SAAA,CAAK,gCAA2B0mC,OAKjC9P,GAAU4Q,IAAkBE,IAC5B5nC,EAAAA,EAAAA,KAAA,OACC+S,MAAO,CACN02B,UAAU,SAADnpC,OAzEOopC,MACtB,MAIMvgC,EAAUo/B,EAAiB,GAAK,GAEhCoB,EAAiBpB,EAAiB,IAAM,EAOxCqB,GAJiBzb,OAAOsa,WAAuB,EAAVt/B,GAPxBi6B,IAYbyG,GAHL1b,OAAOua,YANa,GAMgBiB,EAJjB,IALDvG,IAanB,IAAInmB,EAAQpa,KAAKuB,IAAIwlC,EAAQC,GAE7B,OAAItB,GACHtrB,EAAQpa,KAAKuB,IAAI6Y,EAAO,KACjBpa,KAAKC,IAAIma,EAAO,KAEhBpa,KAAKuB,IAAI6Y,EAAO,IAmDEysB,GAAgB,KACpCI,gBAAiB,UAChB5pC,UAEFF,EAAAA,EAAAA,KAAC+pC,GAAa,CAEbjT,OAAQA,EACRoM,cAAe4F,EACfkB,cAAexC,EACfrE,WAAYyF,EACZhN,SAAUA,GALLyM,KAWPN,GAAkBL,IAAkBE,IACpC5nC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UACjCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4BAA2BC,UACzCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAAwBC,SAAE+nC,SAMxCP,GAAiB5Q,IAClB92B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUyhB,EACVxhB,WAAW,qBACXE,kBAAkB,EAClBD,eACCjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEmd,UAAW,UAAWhwB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEid,SAAU,OAAQW,WAAY,OAAQle,MAAO,WAAYvS,SACpEo0B,IAEDC,IACAl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAC,UACtDF,EAAAA,EAAAA,KAAA,OACC+sB,IAAKwH,EACLpF,IAAI,aACJpc,MAAO,CAAEimB,OAAQ,SAAUhwB,MAAO,QAASC,OAAQ,OAAQ8vB,aAAc,cAI5E14B,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEN,MAAO,UAAWud,SAAU,YAAa9vB,SAAA,EACtDF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,qDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,gDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,8CAEJF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,UAAWse,UAAW,WAAY7wB,UAC3EF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,mEAOP07B,IAAagM,IACb5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,QACLuR,WAAYA,EACZC,SAAU0hB,IAIX8S,IACA5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,WACLsR,MAAOA,EACPC,WAAYA,IAKbmsB,IACAt/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+C6nC,EAAU,wCAChEh1B,WAAYA,EACZG,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UACCQ,QAxOU+hC,KAClBhD,GAAY,GACZkI,EAAYjI,IAuOJv/B,UAAU,qCAAoCC,SAC9C,2BAGDF,EAAAA,EAAAA,KAAA,UACCQ,QAzOiBgiC,KACzBpO,EAAgB+T,GAChB9T,GAAY,GACZsT,GAAiB,GACjBE,GAAc,IAsON5nC,UAAU,sCAAqCC,SAC/C,iCAWNqoC,GAAkBb,IAAkBE,IACpC5nC,EAAAA,EAAAA,KAACyyB,GAAY,CACZC,UAAWwW,EACX/1B,WAAYA,EACZyf,OAAO,SACPqX,kBAAkB,QEnNhB,MAAMC,GAAkB,IAzIxB,MAA6BvpC,WAAAA,GAAA,KAC3BC,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQspC,aAAe,EAAC,KACPC,aAAe,IAEhC,KACQC,UAA+B,KAAI,KACnCC,WAAoC,KAAI,KACxCC,eAA4C,KAAI,KAChD7N,cAAuC,IAAI,CAEnD,UAAMl7B,GACDC,KAAKb,oBAEHc,GAAAA,KAGND,KAAK4oC,UAAY,IAAI3oC,GAAAA,GAAW,CAC/BC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAK6oC,WAAa,IAAI5oC,GAAAA,GAAeA,GAAAA,GAAY,CAChDC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAK8oC,eAAiB,IAAI7oC,GAAAA,GAAmB,CAC5CU,WAAY,IACZC,QAAS,EACTV,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKi7B,cAAgB,IAAIh7B,GAAAA,GAAeA,GAAAA,GAAY,CACnDC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHV,KAAKb,aAAc,EACpB,CAGA4pC,QAAAA,GACC,IAAK/oC,KAAKb,aAAea,KAAKZ,QAAUY,KAAK4oC,UAAW,OAExD,MAAM3nC,EAAMhB,GAAAA,KACRgB,EAAMjB,KAAK0oC,aAAe1oC,KAAK2oC,eAEnC3oC,KAAK0oC,aAAeznC,EAEpBjB,KAAK4oC,UAAUpnC,qBAAqB,KAAM,MAAOP,GACjDjB,KAAK4oC,UAAUpnC,qBAAqB,KAAM,MAAOP,EAAM,KACxD,CAGA+nC,SAAAA,GACC,IAAKhpC,KAAKb,aAAea,KAAKZ,QAAUY,KAAK6oC,WAAY,OACzD,MAAM5nC,EAAMhB,GAAAA,KAEZD,KAAK6oC,WAAWrnC,qBAAqB,CAAC,KAAM,MAAO,KAAMP,EAC1D,CAGAgoC,aAAAA,GACC,IAAKjpC,KAAKb,aAAea,KAAKZ,QAAUY,KAAK8oC,eAAgB,OAC7D,MAAM7nC,EAAMhB,GAAAA,KACZD,KAAK8oC,eAAetnC,qBAAqB,KAAM,KAAMP,EACtD,CAGAs6B,YAAAA,GACC,IAAKv7B,KAAKb,aAAea,KAAKZ,QAAUY,KAAKi7B,cAAe,OAC5D,MAAMh6B,EAAMhB,GAAAA,KAGE,CAAC,KAAM,KAAM,KAAM,KAAM,MACjC6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKi7B,cAAez5B,qBAAqBa,EAAM,KAAMpB,EAAU,IAAJ8B,IAE7D,CAEAI,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,CACd,CAEAgE,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAEAiE,OAAAA,GAAiB,IAAD6lC,EAAAC,EAAAC,EAAAvN,EACV77B,KAAKb,cAEI,QAAd+pC,EAAAlpC,KAAK4oC,iBAAS,IAAAM,GAAdA,EAAgB7lC,UACD,QAAf8lC,EAAAnpC,KAAK6oC,kBAAU,IAAAM,GAAfA,EAAiB9lC,UACE,QAAnB+lC,EAAAppC,KAAK8oC,sBAAc,IAAAM,GAAnBA,EAAqB/lC,UACH,QAAlBw4B,EAAA77B,KAAKi7B,qBAAa,IAAAY,GAAlBA,EAAoBx4B,UAEpBrD,KAAK4oC,UAAY,KACjB5oC,KAAK6oC,WAAa,KAClB7oC,KAAK8oC,eAAiB,KACtB9oC,KAAKi7B,cAAgB,KAErBj7B,KAAKb,aAAc,EACpB,GCzFKkqC,GAAa,IADP,GAmXZ,GAhX4B1oB,IAC3B,MAAOlP,EAAOq0B,IAAYp7B,EAAAA,EAAAA,UAAS,IAC5BuzB,EAAcC,IAAmBxzB,EAAAA,EAAAA,WAAe,OAANiW,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQkhB,QAAS,IACnEqP,EAAiBC,IAAsB7+B,EAAAA,EAAAA,UAAS,IAChDuoB,EAAaC,IAAkBxoB,EAAAA,EAAAA,WAAS,IACxCy7B,EAAYC,IAAiB17B,EAAAA,EAAAA,WAAS,IACtC8+B,EAAYC,IAAiB/+B,EAAAA,EAAAA,WAAe,OAANiW,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQ5U,MAAO,KAE9DulC,GAAe9+B,EAAAA,EAAAA,SAAO,GACtBu1B,GAAQv1B,EAAAA,EAAAA,QAAO,GACf++B,GAAQ/+B,EAAAA,EAAAA,QAAO,KACfg/B,GAAeh/B,EAAAA,EAAAA,QAAO,GACtBi/B,GAAaj/B,EAAAA,EAAAA,QAAe,CAAC,CAAEvD,EAAG,IAAKC,EAAG,EAAGwiC,QAAQ,KACrDC,GAAgBn/B,EAAAA,EAAAA,QAAO,GACvBo/B,GAAep/B,EAAAA,EAAAA,QAAO,IAG5BC,EAAAA,EAAAA,WAAU,KACT49B,GAAgB1oC,OACT,KACN0oC,GAAgBplC,YAEf,IAEH,MAAM4mC,GAAM/7B,EAAAA,EAAAA,aAAY,KAClByS,IAEAsS,EAEMA,IAAgBkT,EAC1B+D,IAEA/J,EAAMn1B,QAAU2V,EAAO5H,QAAQoxB,iBAC/BT,EAAa1+B,SAEb2U,IAPAtN,MAUC,CAACsO,EAAQsS,EAAakT,IAEnB+D,GAASh8B,EAAAA,EAAAA,aAAY,KACrByS,IACLipB,EAAa5+B,SAAW2V,EAAO5H,QAAQqxB,WAAa,IACpD3B,GAAgBM,aACd,CAACpoB,IAEEtO,GAAQnE,EAAAA,EAAAA,aAAY,KACzBglB,GAAe,GACfkT,GAAc,GACdN,EAAS,GACT5H,GAAsB,OAANvd,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQkhB,QAAS,GACzCsP,EAAmB,GACnBI,EAAM3+B,QAAU,IAChB4+B,EAAa5+B,QAAU,EACvBg/B,EAAah/B,QAAU,EACvB6+B,EAAW7+B,QAAU,CAAC,CAAE3D,EAAG,IAAKC,EAAG,EAAGwiC,QAAQ,IAC9CL,GAAoB,OAAN9oB,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQ5U,MAAO,KACrCg8B,EAAMn1B,QAAU,GACd,CAAC2V,IAEEhB,GAAQzR,EAAAA,EAAAA,aAAY,KACzBy7B,EAAM3+B,QAAU,IAChB4+B,EAAa5+B,QAAU,EACvBg/B,EAAah/B,QAAU,EACvB6+B,EAAW7+B,QAAU,CAAC,CAAE3D,EAAG,IAAKC,EAAG,EAAGwiC,QAAQ,IAC9C3J,EAAMn1B,QAAU,EAEZizB,GAAgB,GAAKqL,KAA0B,OAAN3oB,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQkhB,QAAS,GACrE5nB,KAEA6gB,GAAe,GACfkT,GAAc,KAEb,CAACnI,EAAcqL,EAAiB3oB,EAAQtO,IAErCg4B,GAAYn8B,EAAAA,EAAAA,aAAY,KAAO,IAADo8B,EAAAC,EACnC,MAAMC,EAAgBlB,EAAkB,EAClClC,EAAWnJ,EAAe,EAEhCsL,EAAmBiB,GACnBtM,EAAgBkJ,GACV,OAANzmB,QAAM,IAANA,GAA+B,QAAzB2pB,GAANC,EAAA5pB,EAAQ8pB,WAAUlC,qBAAa,IAAA+B,GAA/BA,EAAAI,KAAAH,EAAkCnD,GAClCqB,GAAgBQ,gBAEZ7B,GAAY,GAAKoD,KAAwB,OAAN7pB,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQkhB,QAAS,IAC/DmM,GAAc,GACR,OAANzlB,QAAM,IAANA,GAAAA,EAAQ8pB,UAAU7X,aAAY,GACxB,OAANjS,QAAM,IAANA,GAAAA,EAAQ8pB,UAAU9X,gBAAgBlhB,GAClCg3B,GAAgBlN,gBAEhB5b,KAEC,CAAC2pB,EAAiBrL,EAActd,EAAQlP,EAAOkO,IAE5CgrB,GAAOz8B,EAAAA,EAAAA,aACX08B,IACA,IAAKjqB,EAAQ,OAEb,MAAM6G,EAAczP,YAAY9W,MAGhC,GAFkBumB,EAAcuiB,EAAc/+B,QAE9Bq+B,GAAY,OAE5BU,EAAc/+B,QAAUwc,EAExB,MAAMyN,EAAS2V,EAAQ3V,QACjB,KACL4V,EAAI,WACJC,EAAU,WACVxkC,EAAU,UACVykC,EAAS,UACTC,EAAS,KACTC,EAAI,MACJC,GACGvqB,EAAOwqB,QACL,QAAEC,GAAYzqB,EAAO5H,QAGrBsyB,EAAejqC,KAAKyc,MAAMpM,EAAQ,KAAO,EACzC65B,EAAenF,EAAa,EAAI,EAAyB,IAApBkF,EAAe,GACpDE,EAAQ1B,EAAW7+B,QAKzB,GAHA4/B,EAAQ7mB,UAAU,EAAG,EAAGkR,EAAO1tB,MAAO0tB,EAAOztB,QAC7CojC,EAAQzkB,UAAU7f,EAAY,EAAG,GAE7B2sB,IAAgBkT,IAAexlB,EAAO5H,QAAQohB,SAAU,CAC3DyP,EAAa5+B,SAAWogC,EAAU,EAClCxB,EAAa5+B,QAAU5J,KAAKuB,IAAIinC,EAAa5+B,QAAS,GACtD2+B,EAAM3+B,SAAW4+B,EAAa5+B,QAE9Bg/B,EAAah/B,QAAU5J,KAAKuB,IAC3BvB,KAAKC,IAA2B,EAAvBuoC,EAAa5+B,SAAc,IACpC,IAGD,IAAK,IAAIjI,EAAIwoC,EAAMppC,OAAS,EAAGY,GAAK,EAAGA,IAAK,CAC3C,GAAIwoC,EAAMxoC,GAAGsE,GAjJC,GAiJgB,CAC7BkkC,EAAMlpB,OAAOtf,EAAG,GAChB,QACD,CAQA,GANA6nC,EAAQzkB,UAAU4kB,EAAWQ,EAAMxoC,GAAGsE,EAAGkkC,EAAMxoC,GAAGuE,GAClDsjC,EAAQzkB,UAAU6kB,EAAWO,EAAMxoC,GAAGsE,EAAGkkC,EAAMxoC,GAAGuE,EAAIkiC,GAEtD+B,EAAMxoC,GAAGsE,GAAKikC,EAIbvoC,IAAMwoC,EAAMppC,OAAS,GACrBopC,EAAMxoC,GAAGsE,GAAK4tB,EAAO1tB,MAAQ,MAC5B4+B,EACA,CAED,MAAMqF,EAAmBpqC,KAAKuB,IAAI8O,EAAQ,IAAK,KACzCg6B,EAA2B,GAAnBV,EAAUvjC,OAClBkkC,EAAOzW,EAAOztB,OAASsjC,EAAWtjC,OAASgiC,EAAa,GAGxDmC,EAAYJ,EAAMxoC,GAAGuE,EACrBskC,EAAQxqC,KAAKyc,MAAMzc,KAAKyX,UAAY6yB,EAAOD,IAASA,EAG1D,IAAII,EAAOD,EACPxqC,KAAK2b,IAAI6uB,EAAQD,GAAa,KAEjCE,EAAOD,GAASxqC,KAAKyX,SAAW,GAAM,IAAM,IAAM2yB,EAElDK,EAAOzqC,KAAKC,IAAIoqC,EAAMrqC,KAAKuB,IAAI+oC,EAAMG,KAItC,MAAMC,EAAc,IAAgC,EAA1B1qC,KAAKyc,MAAMpM,EAAQ,KACvCs6B,EACL3qC,KAAKyc,MAAsB,GAAhBzc,KAAKyX,UAAiBzX,KAAKC,IAAI,IAAKyqC,GAEhDP,EAAMrtB,KAAK,CACV7W,EAAGkkC,EAAMxoC,GAAGsE,EAAI0kC,EAChBzkC,EAAGukC,EACH/B,QAAQ,GAEV,CAEA,IACEyB,EAAMxoC,GAAG+mC,QACVyB,EAAMxoC,GAAGsE,EAjMI,GAiMasZ,EAAO5H,QAAQizB,QACxC7F,EACA,CACDoF,EAAMxoC,GAAG+mC,QAAS,EAElB,MAAMuB,EAAejqC,KAAKyc,MAAMpM,EAAQ,KAAO,EACzCoQ,EACLlB,EAAO5H,QAAQkzB,kBAAyC,GAApBZ,EAAe,GAC9C/D,EAAW71B,EAAQoQ,EAIzB,GAHA4mB,GAAgBO,YAIfroB,EAAO5H,QAAQisB,WACfrkB,EAAO5H,QAAQisB,UAAY,GAC3BsC,GAAY3mB,EAAO5H,QAAQisB,UAC1B,CAAC,IAADkH,EAAAC,EAEDrG,EAASnlB,EAAO5H,QAAQisB,WACM,QAA9BkH,GAAAC,EAAAxrB,EAAO8pB,WAAUhJ,qBAAa,IAAAyK,GAA9BA,EAAAxB,KAAAyB,EAAiCxrB,EAAO5H,QAAQisB,WAEhDoB,GAAc,GACdzlB,EAAO8pB,UAAU7X,aAAY,GAC7BjS,EAAO8pB,UAAU9X,gBAAgBhS,EAAO5H,QAAQisB,UACjD,KAAO,CAAC,IAADoH,EAAAC,EACNvG,EAASwB,GACqB,QAA9B8E,GAAAC,EAAA1rB,EAAO8pB,WAAUhJ,qBAAa,IAAA2K,GAA9BA,EAAA1B,KAAA2B,EAAiC/E,GAGjC,MAAMgF,EAC4C,EAAjDlrC,KAAKyc,MAAMypB,EA9Na,IA+NnBiF,EAASnrC,KAAKC,IACnBsf,EAAO5H,QAAQ5U,IAAMmoC,EA/Nb,KAkOT7C,EAAc8C,EACf,CACD,CAEA,MAAMC,EACL7C,EAAM3+B,QArOQ,IAsOdiqB,EAAOztB,OAASsjC,EAAWtjC,OAAS,GAC/BilC,EAAgB9C,EAAM3+B,SAAW,EAGjC0hC,EAAW/rB,EAAO5H,QAAQizB,MAzOX,EA0OfW,EACLhsB,EAAO5H,QAAQizB,MA7OF,GAEO,EA4OfY,EAAUjD,EAAM3+B,QA5OD,EA6Of6hC,EAAalD,EAAM3+B,QA9OV,GACM,EAgPf8hC,EAAWvB,EAAMxoC,GAAGsE,EAAI,EACxB0lC,EAAYxB,EAAMxoC,GAAGsE,EAtPb,GAsP8B,EACtC2lC,EAAgBzB,EAAMxoC,GAAGuE,EAAIyjC,EAAUvjC,OAAS,EAChDylC,EAAgB1B,EAAMxoC,GAAGuE,EAAIkiC,EAAa,EAG1C0D,EACLP,EAAYG,GACZJ,EAAWK,IACVH,EAAUI,GAAiBH,EAAaI,GAE1CvD,EAAa1+B,QAAUwhC,GAEnBU,GAAcV,GAAeC,IAChCpC,GAEF,CAEAO,EAAQnjB,OACRmjB,EAAQuC,UACPxsB,EAAO5H,QAAQizB,MAAQoB,GACvBzD,EAAM3+B,QAAUqiC,IAEjBzC,EAAQ0C,OAAQtD,EAAah/B,QAAU5J,KAAK2Y,GAAM,KAClD6wB,EAAQzkB,UAAU0kB,GAAM,IAAiB,IACzCD,EAAQhiB,SACT,CAIA,GAFAgiB,EAAQzkB,UAAU2kB,EAAY,EAAG7V,EAAOztB,OAASsjC,EAAWtjC,OAAS,IAEjE2+B,IAAexlB,EAAO5H,QAAQw0B,aACjCpN,EAAMn1B,UAEN4/B,EAAQrmB,UAAY,qBACpBqmB,EAAQzlB,SAAS,EAAG,EAAG8P,EAAO1tB,MAAO0tB,EAAOztB,QAE5CojC,EAAQviB,KAAO,gBACfuiB,EAAQrmB,UAAY,OACpBqmB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpBqiB,EAAQliB,WAAW,YAAa,GAAI,KACpCkiB,EAAQjiB,SAAS,YAAa,GAAI,KAE9B+gB,EAAa1+B,UAChB4/B,EAAQviB,KAAO,qBACfuiB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpBqiB,EAAQliB,WAAW,yBAA0B,GAAI,KACjDkiB,EAAQrmB,UAAY,OACpBqmB,EAAQjiB,SAAS,yBAA0B,GAAI,UAE1C,CACN,IAAKsK,EAAa,CAGjB,GAFAkN,EAAMn1B,WAED2V,EAAO5H,QAAQw0B,aAAc,CACjC3C,EAAQrmB,UAAY,qBACpBqmB,EAAQzlB,SAAS,EAAG,EAAG8P,EAAO1tB,MAAO0tB,EAAOztB,QAE5CojC,EAAQviB,KAAO,gBACfuiB,EAAQrmB,UAAY,OACpBqmB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpB,MAAMilB,EAAa5C,EAAQ6C,YAC1B9sB,EAAO5H,QAAQ8Z,WACdtrB,MACImmC,GAAUzY,EAAO1tB,MAAQimC,GAAc,EAC7C5C,EAAQliB,WAAW/H,EAAO5H,QAAQ8Z,UAAW6a,EAAQ,KACrD9C,EAAQjiB,SAAShI,EAAO5H,QAAQ8Z,UAAW6a,EAAQ,IACpD,CAGA,MAAM5lB,EAAQ1mB,KAAK2b,IAAI3b,KAAK+mB,IAAoB,IAAhBgY,EAAMn1B,UACtC4/B,EAAQviB,KAAO,qBACfuiB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpBqiB,EAAQjkB,YAAcmB,EACtB8iB,EAAQliB,WAAW,yBAA0B,GAAI,KACjDkiB,EAAQrmB,UAAY,OACpBqmB,EAAQjiB,SAAS,yBAA0B,GAAI,KAC/CiiB,EAAQjkB,YAAc,CACvB,CAEA,GAAIsM,IAAgBtS,EAAO5H,QAAQw0B,aAAc,CAChD3C,EAAQzkB,UAAU8kB,EAAM,GAAI,GAAI,GAAI,IACpCL,EAAQrmB,UAAY,OACpBqmB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpBqiB,EAAQviB,KAAO,qBACfuiB,EAAQliB,WAAW,GAAD7pB,OAAI4S,GAAS,GAAI,IACnCm5B,EAAQjiB,SAAS,GAAD9pB,OAAI4S,GAAS,GAAI,IAEjCm5B,EAAQzkB,UAAU+kB,EAAO,IAAK,GAAI,GAAI,IACtCN,EAAQliB,WAAW,GAAD7pB,OAAIo/B,GAAgB,IAAK,IAC3C2M,EAAQjiB,SAAS,GAAD9pB,OAAIo/B,GAAgB,IAAK,IAGzC,MAAM0P,EAAkBvsC,KAAKyc,MAAMpM,EAAQ,KAAO,EAClD,GAAIk8B,EAAkB,EAAG,CACxB/C,EAAQviB,KAAO,qBACfuiB,EAAQtiB,YAAc,OACtBsiB,EAAQriB,UAAY,EACpBqiB,EAAQrmB,UAAY,OACpB,MAAMqpB,EAAS,SAAA/uC,OAAY8uC,GAC3B/C,EAAQliB,WAAWklB,EAAW,GAAI,IAClChD,EAAQjiB,SAASilB,EAAW,GAAI,GACjC,CACD,CACD,GAED,CACCjtB,EACAsS,EACAkT,EACA10B,EACAwsB,EACAuL,EACAa,IAYF,OARAx/B,EAAAA,EAAAA,WAAU,MACLozB,GAAgB,GAAKqL,KAA0B,OAAN3oB,QAAM,IAANA,OAAM,EAANA,EAAQ5H,QAAQkhB,QAAS,MACrEmM,GAAc,GACR,OAANzlB,QAAM,IAANA,GAAAA,EAAQ8pB,UAAU7X,aAAY,GACxB,OAANjS,QAAM,IAANA,GAAAA,EAAQ8pB,UAAU9X,gBAAgBlhB,KAEjC,CAAC63B,EAAiBrL,EAActd,EAAQlP,IAEpC,CAACw4B,EAAKU,ICtXd,GAlCmBA,IAClB,MAAMxX,GAAYvoB,EAAAA,EAAAA,QAA0B,MACtC+e,GAAa/e,EAAAA,EAAAA,QAAO,GACpBijC,GAAUjjC,EAAAA,EAAAA,QAAO,GA4BvB,OA1BAC,EAAAA,EAAAA,WAAU,KACT,IAAK8/B,EAAM,OAEX,MAAM1V,EAAS9B,EAAUnoB,QACzB,IAAKiqB,EAAQ,OAEb,MAAM2V,EAAU3V,EAAOC,WAAW,KAAM,CAAEpN,OAAO,IACjD,IAAK8iB,EAAS,OAEdA,EAAQkD,uBAAwB,EAEhC,MAAM3kB,EAASA,KACdQ,EAAW3e,UACX2/B,EAAKC,EAASjhB,EAAW3e,SACzB6iC,EAAQ7iC,QAAU0hB,OAAOxC,sBAAsBf,IAKhD,OAFAA,IAEO,KACF0kB,EAAQ7iC,SACX0hB,OAAOtC,qBAAqByjB,EAAQ7iC,WAGpC,CAAC2/B,IAEGxX,GCiFR,GAnGe71B,IAWK,IAXJ,MACf28B,EAAK,YACLrH,EAAW,gBACXD,EAAe,KACfjI,EAAI,UACJmI,EAAY,aAAY,aACxB0a,GAAe,EAAK,cACpB9L,EAAa,cACb8G,EAAa,SACbpO,GAAW,EAAK,UAChB6K,GACa1nC,EACb,MAAO+3B,EAAQgQ,EAAS/P,GClBxB5K,KAEA,MAAO2K,EAAQ+P,IAAa16B,EAAAA,EAAAA,UAA6B,OAClD26B,EAASC,IAAc56B,EAAAA,EAAAA,WAAS,IAChC4qB,EAAOiQ,IAAY76B,EAAAA,EAAAA,UAAwB,MAyDlD,OAvDAG,EAAAA,EAAAA,WAAU,KACT,MAAM26B,EAAala,GACX,IAAIT,QAAQ,CAACE,EAASC,KAC5B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAADxsB,OAA0BysB,KAC9DL,EAAIK,IAAMA,IAIU8J,WACrB,IACCkQ,GAAW,GACXC,EAAS,MAET,MAAM9a,EAAQ,sBACRsjB,EAAWrjB,EAAI,SAAA7rB,OAAY6rB,EAAI,KAAM,IAG1CmgB,EACAvkC,EACAwkC,EACAC,EACAC,EACAC,EACAC,SACSrgB,QAAQC,IAAI,CACrB0a,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,cAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,YAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,YAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,mBAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,mBAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,cAChCvI,EAAU,GAAD3mC,OAAI4rB,GAAQ5rB,OAAGkvC,EAAQ,iBAGjC3I,EAAU,CACTyF,OACAvkC,aACAwkC,aACAC,YACAC,YACAC,OACAC,SAEF,CAAE,MAAOvF,GACRJ,EAASI,aAAeta,MAAQsa,EAAIn0B,QAAU,wBAC/C,CAAC,QACA8zB,GAAW,EACZ,GAGDM,IACE,CAAClb,IAEG,CAAC2K,EAAQgQ,EAAS/P,ID3CQuQ,CAAenb,GAE1C/J,EAASgY,EAAAA,QAAc,IACvBtD,EAEE,CACN8V,OAAQ9V,EACRtc,QAAS,CACR8Z,UAAWA,EACXsX,gBAAiB,EACjB6B,MAAO,GACP7nC,IAAK,IACLimC,WAAY,GACZgB,QAAS,IACTa,kBAAmB,GACnBhS,MAAOA,EACPsT,aAAcA,EACdpT,SAAUA,EACV6K,UAAWA,GAEZyF,UAAW,CACV7X,cACAD,kBACA8O,gBACA8G,kBArBkB,KAwBlB,CACFlT,EACAxC,EACAoH,EACArH,EACAD,EACA4a,EACA9L,EACA8G,EACApO,EACA6K,KAGMiF,EAAKU,GAAQqD,GAAmBrtB,GACjCwS,EAAY8a,GAAUtD,GAa5B,OAAItF,GAEF9mC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0EAAyEC,UACvFG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,yBAAwBC,SAAA,EACtCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8EACfD,EAAAA,EAAAA,KAAA,KAAAE,SAAG,2BAMH62B,GAEF/2B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wEAAuEC,UACrFG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,6BAA4BC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBAAgBC,SAAC,8BAC9BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,UAASC,SAAE62B,UAO3B/2B,EAAAA,EAAAA,KAACgxB,EAAU,CACV5jB,IAAKwnB,EACL5rB,MAAO,IACPC,OAAQ,IACRzI,QAtCkBmvC,KACnB,IAAKvtB,EAAQ,OAEb,MAAMsU,EAAS9B,EAAUnoB,SACP,OAANiqB,QAAM,IAANA,OAAM,EAANA,EAAQC,WAAW,QAG9B+U,KAgCAzrC,UAAU,yCE0Mb,GAxSsDlB,IAS/C,IATgD,aACtDynC,EAAY,YACZnS,EAAW,gBACXD,EAAe,WACfjhB,EAAa,UAAS,KACtBgZ,EAAI,UACJmI,EAAY,cAAa,UACzBmS,EAAS,UACTlS,GACAx1B,EACA,MAAM2nC,GAAer6B,EAAAA,EAAAA,QAAuB,MACtCujC,GAAmBvjC,EAAAA,EAAAA,QAAuB,OAEzC6G,EAAOq0B,IAAYp7B,EAAAA,EAAAA,UAAS,IAC5BuvB,EAAO8L,IAAYr7B,EAAAA,EAAAA,UAASq6B,IAC5BzgC,EAAO65B,IAAYzzB,EAAAA,EAAAA,UAAS,IAC5B0jC,EAAaC,IAAkB3jC,EAAAA,EAAAA,WAAS,IACxC4jC,EAAaC,IAAkB7jC,EAAAA,EAAAA,UAAS,KACxCyvB,EAAU6L,IAAet7B,EAAAA,EAAAA,WAAS,IAClCu7B,EAAeC,IAAoBx7B,EAAAA,EAAAA,WAAS,IAC5Cy7B,EAAYC,IAAiB17B,EAAAA,EAAAA,WAAS,IACtC8jC,EAAcC,IAAmB/jC,EAAAA,EAAAA,WAAS,IAC1CmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCqzB,EAAeC,IAAoBtzB,EAAAA,EAAAA,WAAS,IAC5C,CAAE27B,IAAiB37B,EAAAA,EAAAA,UAAS,CAAEnD,MAAO,EAAGC,OAAQ,IAEjDs/B,EAAiB36B,KAGvBtB,EAAAA,EAAAA,WAAU,KACT,MAAMk8B,EAAeA,KACpBV,EAAc,CAAE9+B,MAAOmlB,OAAOsa,WAAYx/B,OAAQklB,OAAOua,eAM1D,OAHAva,OAAO3e,iBAAiB,SAAUg5B,GAClCA,IAEO,IAAMra,OAAO1e,oBAAoB,SAAU+4B,IAChD,KAGHl8B,EAAAA,EAAAA,WAAU,KACT,MAAMq8B,EAAkBh8B,IACT,MAAVA,EAAE4pB,KAAyB,WAAV5pB,EAAE4pB,MACtB5pB,EAAEK,iBACE06B,IAAkBE,GACrB9S,MAMH,OADA3G,OAAO3e,iBAAiB,UAAWm5B,GAC5B,IAAMxa,OAAO1e,oBAAoB,UAAWk5B,IAEjD,CAACjB,EAAeE,IAEnB,MAAM9S,GAAcnlB,EAAAA,EAAAA,aAAY,KAC3B+3B,IAAkBE,GACrBH,EAAY13B,IAASA,IAEpB,CAAC23B,EAAeE,IAEb/S,GAAYllB,EAAAA,EAAAA,aAAY,KACxB+3B,IACJC,GAAiB,GACjBE,GAAc,GACdqI,GAAgB,GAChB3I,EAAS,GACTC,EAAShB,GACTjH,GAAY,KAEX,CAACmI,EAAelB,IAeboC,GAAiBj5B,EAAAA,EAAAA,aACrBwgC,IACIA,IAAkBvI,IACrBsI,GAAgB,GAChBrI,GAAc,GACdxT,GAAY,KAGd,CAACuT,EAAYvT,IAGR+b,GAAqBzgC,EAAAA,EAAAA,aACzBpF,IACAg9B,EAASh9B,GACT6pB,EAAgB7pB,IAEjB,CAAC6pB,IAGI0U,GAAoBn5B,EAAAA,EAAAA,aACxBo5B,IACAxB,EAASwB,GAET,MAAM/G,EAAWn/B,KAAKyc,MAAMypB,EAAW,KAAO,EAC1C/G,EAAWj8B,IACd65B,EAASoC,GACTgO,EAAe,aAAD1vC,OAAW0hC,EAAQ,MACjC8N,GAAe,GAEfvjC,WAAW,IAAMujC,GAAe,GAAQ,OAG1C,CAAC/pC,IAiCF,OACC1F,EAAAA,EAAAA,MAAA,OACCJ,UAAU,iBACV8S,MAAO,CAAED,gBAAiBK,GAA0B,WACpD/F,IAAKs5B,EAAaxmC,SAAA,EAGlBF,EAAAA,EAAAA,KAACy7B,GAAU,CACV11B,MAAOA,EACP21B,MAAOA,EACPxoB,MAAOA,EACPyoB,QAAS7G,EACT8G,SAAUA,EACVzoB,WAAYA,EACZvF,SAAU26B,EACVzM,OAAQA,KACPyD,GAAY,GACZE,EAAiB7D,GACjB6L,GAAY,IAEb1L,eAAgB2L,EAChB1L,WAAYsD,KAIbt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UAC1BG,EAAAA,EAAAA,MAAA,OACCJ,UAAU,mBACV8S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUD,eAAgB,SAAU1vB,OAAQ,SAClFmE,IAAKwiC,EAAiB1vC,SAAA,CAErBwnC,IAAkBuI,IAClBjwC,EAAAA,EAAAA,KAAA,OACC+S,MAAO,CACN02B,UAAU,SAADnpC,OA/DOopC,MACtB,MAGMvgC,EAAUo/B,EAAiB,GAAK,GAEhCoB,EAAiBpB,EAAiB,IAAM,EAGxC8H,EAAiBliB,OAAOsa,WAAuB,EAAVt/B,EACrCmnC,EACLniB,OAAOua,YANa,GAMgBiB,EAJjB,GAUdC,EAASyG,EAhBK,IAiBdxG,EAHkBhnC,KAAKuB,IAAIksC,EADf,KAZG,IAiBrB,IAAIrzB,EAAQpa,KAAKuB,IAAIwlC,EAAQC,GAE7B,OAAItB,GACHtrB,EAAQpa,KAAKuB,IAAI6Y,EAAO,KACjBpa,KAAKC,IAAIma,EAAO,KAEhBpa,KAAKuB,IAAI6Y,EAAO,KAsCEysB,GAAgB,KACpCI,gBAAiB,UAChB5pC,UAEFF,EAAAA,EAAAA,KAACuwC,GAAc,CACd7U,MAAO8K,EACPnS,YAAauU,EACbxU,gBAAiBgc,EACjBjkB,KAAMA,EACNmI,UAAU,aACV0a,cAAc,EACd9L,cAAe4F,EACfkB,cAAexC,EACf5L,SAAUA,EACV6K,UAAWA,MAMboJ,GAAenI,IAAkBE,IACjC5nC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAoB8S,MAAO,CAAEy9B,IAAK,OAAQtwC,UACxDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4BAA4B8S,MAAO,CAAED,gBAAiB,UAAWL,MAAO,SAAUvS,UAChGF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAAwBC,SAAE6vC,SAMxCrI,IACD1nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUyhB,EACVxhB,WAAW,qBACXE,kBAAkB,EAClBD,eACCjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEmd,UAAW,UAAWhwB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEid,SAAU,SAAUW,WAAY,OAAQle,MAAO,UAAWsmB,aAAc,UAAW74B,SAC9Fo0B,IAEDC,IACAl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAC,UACtDF,EAAAA,EAAAA,KAAA,OACC+sB,IAAKwH,EACLpF,IAAI,aACJpc,MAAO,CAAEimB,OAAQ,SAAUhwB,MAAO,QAASC,OAAQ,OAAQ8vB,aAAc,cAI5E14B,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEN,MAAO,UAAWud,SAAU,QAAS9vB,SAAA,EAClDF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kCACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,0CACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,oCAEJF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,UAAWse,UAAW,QAAS7wB,UACzEF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,uDAOP07B,IAAagM,IACb5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,QACLuR,WAAYA,EACZC,SAAU0hB,IAIX8S,IACA5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,WACLsR,MAAOA,EACPC,WAAYA,IAKbmsB,IACAt/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+C4S,EAAK,wCAC3DC,WAAYA,EACZG,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UACCQ,QA1MU+hC,KAClBhD,GAAY,GACZkI,EAAYjI,IAyMJv/B,UAAU,qCAAoCC,SAC9C,2BAGDF,EAAAA,EAAAA,KAAA,UACCQ,QA3MiBgiC,KACzBpO,EAAgBlhB,GAChBmhB,GAAY,GACZsT,GAAiB,GACjBE,GAAc,GACdqI,GAAgB,IAuMRjwC,UAAU,sCAAqCC,SAC/C,qCC5HH,MAAMuwC,GAAgB,IAhLtB,MAA2B9vC,WAAAA,GAAA,KACzBC,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQ6vC,eAAiB,EAAC,KACTC,eAAiB,IAElC,KACQC,YAAiC,KAAI,KACrCC,WAAoC,KAAI,KACxCC,aAAsC,KAAI,KAC1CC,UAA+B,KAAI,KACnCC,WAAoC,IAAI,CAEhD,UAAMxvC,GACDC,KAAKb,oBAEHc,GAAAA,KAGND,KAAKmvC,YAAc,IAAIlvC,GAAAA,GAAW,CACjCC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAKovC,WAAa,IAAInvC,GAAAA,GAAeA,GAAAA,GAAY,CAChDC,WAAY,CAAEC,KAAM,UACpBC,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHV,KAAKqvC,aAAe,IAAIpvC,GAAAA,GAAeA,GAAAA,GAAY,CAClDC,WAAY,CAAEC,KAAM,QACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKsvC,UAAY,IAAIrvC,GAAAA,GAAW,CAC/BC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHV,KAAKuvC,WAAa,IAAItvC,GAAAA,GAAeA,GAAAA,GAAY,CAChDC,WAAY,CAAEC,KAAM,YACpBC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHV,KAAKb,aAAc,EACpB,CAGAqwC,aAAAA,GACC,IAAKxvC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKmvC,YAAa,OAE1D,MAAMluC,EAAMhB,GAAAA,KACRgB,EAAMjB,KAAKivC,eAAiBjvC,KAAKkvC,iBAErClvC,KAAKivC,eAAiBhuC,EACtBjB,KAAKmvC,YAAY3tC,qBAAqB,KAAM,MAAOP,GACpD,CAGAwuC,WAAAA,GACC,IAAKzvC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKmvC,YAAa,OAE1D,MAAMluC,EAAMhB,GAAAA,KACRgB,EAAMjB,KAAKivC,eAAiBjvC,KAAKkvC,iBAErClvC,KAAKivC,eAAiBhuC,EACtBjB,KAAKmvC,YAAY3tC,qBAAqB,KAAM,MAAOP,GACpD,CAGAyuC,cAAAA,GACC,IAAK1vC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKovC,WAAY,OACzD,MAAMnuC,EAAMhB,GAAAA,KAEZD,KAAKovC,WAAW5tC,qBAAqB,KAAM,MAAOP,GAClDjB,KAAKovC,WAAW5tC,qBAAqB,KAAM,MAAOP,EAAM,IACzD,CAGA0uC,kBAAAA,GACC,IAAK3vC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKqvC,aAAc,OAC3D,MAAMpuC,EAAMhB,GAAAA,KAEE,CAAC,KAAM,KAAM,KAAM,MAC3B6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKqvC,aAAc7tC,qBAAqBa,EAAM,MAAOpB,EAAU,IAAJ8B,IAE7D,CAGA6sC,YAAAA,GACC,IAAK5vC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKsvC,UAAW,OACxD,MAAMruC,EAAMhB,GAAAA,KAEE,CAAC,KAAM,KAAM,MACrB6C,QAAQ,CAACT,EAAMU,KACpB/C,KAAKsvC,UAAW9tC,qBAAqBa,EAAM,KAAMpB,EAAU,GAAJ8B,IAEzD,CAGA8sC,WAAAA,GACC,IAAK7vC,KAAKb,aAAea,KAAKZ,QAAUY,KAAKuvC,WAAY,OACzD,MAAMtuC,EAAMhB,GAAAA,KAEK,CAAC,KAAM,KAAM,KAAM,MAC3B6C,QAAQ,CAACT,EAAMU,KACvB/C,KAAKuvC,WAAY/tC,qBAAqBa,EAAM,MAAOpB,EAAU,IAAJ8B,KAG1D/C,KAAKuvC,WAAW/tC,qBAAqB,CAAC,KAAM,KAAM,MAAO,KAAMP,EAAM,GACtE,CAEAkC,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,CACd,CAEAgE,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAEAiE,OAAAA,GAAiB,IAADysC,EAAAC,EAAAC,EAAAC,EAAAC,EACVlwC,KAAKb,cAEM,QAAhB2wC,EAAA9vC,KAAKmvC,mBAAW,IAAAW,GAAhBA,EAAkBzsC,UACH,QAAf0sC,EAAA/vC,KAAKovC,kBAAU,IAAAW,GAAfA,EAAiB1sC,UACA,QAAjB2sC,EAAAhwC,KAAKqvC,oBAAY,IAAAW,GAAjBA,EAAmB3sC,UACL,QAAd4sC,EAAAjwC,KAAKsvC,iBAAS,IAAAW,GAAdA,EAAgB5sC,UACD,QAAf6sC,EAAAlwC,KAAKuvC,kBAAU,IAAAW,GAAfA,EAAiB7sC,UAEjBrD,KAAKmvC,YAAc,KACnBnvC,KAAKovC,WAAa,KAClBpvC,KAAKqvC,aAAe,KACpBrvC,KAAKsvC,UAAY,KACjBtvC,KAAKuvC,WAAa,KAElBvvC,KAAKb,aAAc,EACpB,GC5KYgxC,GAAe,IACfC,GAAgB,IAMhBC,GAAe,oBASfC,GAAa,sBAWbC,GAA2B,CACvC,CAAEv/B,MAAO,oBAAqBlI,OAAQ,GAAI0nC,YAAa,GACvD,CAAEx/B,MAAO,qBAAsBlI,OAAQ,GAAI0nC,YAAa,GACxD,CAAEx/B,MAAO,qBAAsBlI,OAAQ,GAAI0nC,YAAa,GACxD,CAAEx/B,MAAO,mBAAoBlI,OAAQ,GAAI0nC,YAAa,GACtD,CAAEx/B,MAAO,qBAAsBlI,OAAQ,IAAK0nC,YAAa,GACzD,CAAEx/B,MAAO,oBAAqBlI,OAAQ,IAAK0nC,YAAa,IAI5CC,GAA6B,CACzC,CACCjmC,KAAM,UACNkmC,YAAa,CACZ,oBACA,qBACA,qBACA,mBACA,uBAGF,CACClmC,KAAM,QACNkmC,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,oBACA,oBACA,oBACA,mBACA,uBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,qBACA,qBACA,qBACA,oBACA,uBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACClmC,KAAM,OACNkmC,YAAa,CACZ,qBACA,qBACA,qBACA,oBACA,qBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACClmC,KAAM,OACNkmC,YAAa,CACZ,qBACA,sBACA,sBACA,sBACA,sBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,oBACA,oBACA,oBACA,oBACA,qBAGF,CACClmC,KAAM,SACNkmC,YAAa,CACZ,oBACA,qBACA,qBACA,qBACA,sBAYUC,GAAoB,IAGpBC,GAAkB,CAC9B,cAAe,CACd5/B,MAAO,qBACPlT,MAAO,+BACPqT,YAAa,qCAEd,gBAAiB,CAChBH,MAAO,mBACPlT,MAAO,8BACPqT,YAAa,2CAEd,aAAc,CACbH,MAAO,qBACPlT,MAAO,sBACPqT,YAAa,oCAEd,aAAc,CACbH,MAAO,oBACPlT,MAAO,sBACPqT,YAAa,6BAEd,aAAc,CACbH,MAAO,qBACPlT,MAAO,0BACPqT,YAAa,iCC5JT0/B,GAA0BA,CAC/BxX,EACA/0B,KAEA,MAAMyF,EAAQ0mC,IAAcnsC,EAAQ,GAAKmsC,GAAatuC,QAGtD,GAAImC,EAAQ,IAAM,EAAG,CAEpB,MACMwsC,EADezX,EAAM,IAAM,KAAQ/0B,EAAQ,IAAM,GAEpDlD,KAAKuB,IAAI,EAAIvB,KAAKyc,MAAMvZ,EAAQ,GAAIisC,GAAYpuC,OAAS,GACzDf,KAAKuB,IAAI,EAAIvB,KAAKyc,MAAMvZ,EAAQ,GAAIisC,GAAYpuC,OAAS,GAC5D,MAAO,CACNhC,KAAMowC,GAAYO,GAClBC,cAAehnC,EAAM2mC,YAAYrX,EAAMtvB,EAAM2mC,YAAYvuC,QAE3D,CAAO,GAAImC,EAAQ,IAAM,EAAG,CAE3B,MAAM0sC,EAAqB5vC,KAAK2b,IAAIsc,EAAMj4B,KAAKyc,MAAMozB,MAC/CH,EAAY1vC,KAAKC,IACtB,EACAD,KAAKuB,IACJ4tC,GAAYpuC,OAAS,EACrBouC,GAAYpuC,OAAS,EAAI6uC,IAG3B,MAAO,CACN7wC,KAAMowC,GAAYO,GAClBC,cAAehnC,EAAM2mC,YAAYrX,EAAMtvB,EAAM2mC,YAAYvuC,QAE3D,CAAO,CAEN,MAAM+uC,EAAgB9vC,KAAKyc,MAAOwb,EDhCL,ECgC8B,GACrD8X,EAAgB/vC,KAAKuB,IAAIuuC,EAAgB9vC,KAAKyc,MAAMvZ,EAAQ,GAAI,GACtE,MAAO,CACNnE,KAAMowC,GAAYnvC,KAAKuB,IAAIwuC,EAAeZ,GAAYpuC,OAAS,IAC/D4uC,cAAehnC,EAAM2mC,YAAYrX,EAAMtvB,EAAM2mC,YAAYvuC,QAE3D,GAIKivC,GAAuBA,KAC5B,MAAMC,EAAuB,CAC5B,cACA,gBACA,aACA,aACA,cAIKC,EAAU,CAAC,GAAI,GAAI,GAAI,GAAI,IAC3BrO,EAAcqO,EAAQjiB,OAAO,CAAC9V,EAAGC,IAAMD,EAAIC,EAAG,GACpD,IAAIX,EAASzX,KAAKyX,SAAWoqB,EAE7B,IAAK,IAAIlgC,EAAI,EAAGA,EAAIsuC,EAAMlvC,OAAQY,IAEjC,GADA8V,GAAUy4B,EAAQvuC,GACd8V,GAAU,EACb,OAAOw4B,EAAMtuC,GAIf,OAAOsuC,EAAM,IAGDE,GAAgBjtC,IAC5B,MAAMktC,EAAoB,GAQpBC,EAAgBrwC,KAAKuB,IDsDQ,ICtD2B,IAAR2B,EAAc,IAGpE,IAAK,IAAIotC,EAAI,EAAGA,ED7EiB,EC6EOA,IACvCF,EAAOE,GAAK,GAGb,IAAK,IAAI5jB,EAAI,EAAGA,EDlFc,ECkFOA,IACpC,IAAK,IAAI4jB,EAAI,EAAGA,EDlFgB,ECkFQA,IAAK,CAC5C,MAAM,KAAEvxC,EAAI,cAAE4wC,GAAkBF,GAAwB/iB,EAAGxpB,GAGrDqtC,EAAavwC,KAAKyX,SAAW44B,EAC7BG,EAAcD,EAAaP,UAAyBpyC,EAEpDqI,EAAK,GAADqqC,EArBX,KAsBOpqC,EAAK,GAADwmB,EDtFmB,GCwF7B0jB,EAAOE,GAAG5jB,GAAK,CACdzmB,IACAC,IACAC,MD9FuB,GC+FvBC,OD9FwB,GC+FxBwJ,MAAO+/B,GAAiB5wC,EAAK6Q,MAC7BlI,OAAQ3I,EAAK2I,OACb+oC,OAAQ1xC,EAAKqwC,YACbA,YAAarwC,EAAKqwC,YAClBmB,aACAC,cAEF,CAGD,OAAOJ,GAOKM,GAAwBxtC,GAC7BlD,KAAKC,IDjImB,GADI,IAIY,GCgItBiD,EAAQ,IAIrBytC,GAAsBztC,GAC3BlD,KAAKuB,IDhIiB,GADI,EAEW,GCiIrB2B,EAAQ,IC3IzB,SAAS0tC,GACfC,EACAT,EACAU,EACA3wB,EACAD,GAEA,IAEI6wB,EAFAC,EAAc,EACdC,GAAW,EAEf,MAAMC,EAAYL,EAAK5qC,EAAI4qC,EAAKvwB,GAC1B6wB,EAAYN,EAAK3qC,EAAI2qC,EAAKO,GAGhC,IAAK,IAAId,EAAI,EAAGA,EAAIF,EAAOrvC,OAAQuvC,IAClC,IAAK,IAAI5jB,EAAI,EAAGA,EAAI0jB,EAAOE,GAAGvvC,OAAQ2rB,IAAK,CAC1C,MAAM2kB,EAAQjB,EAAOE,GAAG5jB,GACxB,GAAI2kB,EAAMZ,OAAS,GAEjBS,EAAYL,EAAK3sC,OAASmtC,EAAMprC,GAChCirC,EAAYL,EAAK3sC,OAASmtC,EAAMprC,EAAIorC,EAAMlrC,OAC1CgrC,EAAYN,EAAK3sC,OAASmtC,EAAMnrC,GAChCirC,EAAYN,EAAK3sC,OAASmtC,EAAMnrC,EAAImrC,EAAMjrC,OACzC,CACDirC,EAAMZ,QAAU,EAGK,IAAjBY,EAAMZ,SACTO,GAAeK,EAAM3pC,OAEjB2pC,EAAMd,YAAcc,EAAMb,cAC7BO,EAAe,CACd9qC,EAAGorC,EAAMprC,EAAIorC,EAAMlrC,MAAQ,EAC3BD,EAAGmrC,EAAMnrC,EAAImrC,EAAMjrC,OAAS,EAC5BrH,KAAMsyC,EAAMb,eAMf,MAAMc,EAAWtxC,KAAKuB,IACrBsvC,EAAK5qC,EAAI4qC,EAAK3sC,OAASmtC,EAAMprC,EAC7BorC,EAAMprC,EAAIorC,EAAMlrC,OAAS0qC,EAAK5qC,EAAI4qC,EAAK3sC,SAElCqtC,EAAWvxC,KAAKuB,IACrBsvC,EAAK3qC,EAAI2qC,EAAK3sC,OAASmtC,EAAMnrC,EAC7BmrC,EAAMnrC,EAAImrC,EAAMjrC,QAAUyqC,EAAK3qC,EAAI2qC,EAAK3sC,SAezC,OAZIqtC,GAAYD,GAEfT,EAAKO,IAAMP,EAAKO,GAEhBP,EAAK3qC,GAAK2qC,EAAKO,GAAK,GAAKG,EAAWA,IAGpCV,EAAKvwB,IAAMuwB,EAAKvwB,GAEhBuwB,EAAK5qC,GAAK4qC,EAAKvwB,GAAK,GAAKgxB,EAAWA,GAG9B,CAAEN,cAAaC,WAAUF,eACjC,CAEF,CAID,GACCI,EAAYN,EAAK3sC,OAAS4sC,EAAO5qC,GACjC2qC,EAAK3qC,EAAI2qC,EAAK3sC,OAAS4sC,EAAO5qC,EAAI4qC,EAAO1qC,QACzC8qC,EAAYL,EAAK3sC,OAAS4sC,EAAO7qC,GACjCirC,EAAYL,EAAK3sC,OAAS4sC,EAAO7qC,EAAI6qC,EAAO3qC,OAGxC0qC,EAAKO,GAAK,EAAG,CAChB,IAAII,GACFX,EAAK5qC,GAAK6qC,EAAO7qC,EAAI6qC,EAAO3qC,MAAQ,KAAO2qC,EAAO3qC,MAAQ,GAC5DqrC,EAAexxC,KAAKC,KAAK,IAAMD,KAAKuB,IAAI,IAAMiwC,IAC9C,MAAMC,EAAWD,GAAgBxxC,KAAK2Y,GAAK,GAC3Ck4B,EAAKvwB,GAAKuwB,EAAKxxB,MAAQrf,KAAK+mB,IAAI0qB,GAChCZ,EAAKO,IAAMpxC,KAAK2b,IAAIk1B,EAAKxxB,MAAQrf,KAAK0Y,IAAI+4B,IAC1CZ,EAAK3qC,EAAI4qC,EAAO5qC,EAAI2qC,EAAK3sC,OAAS,EACnC,CAyBD,OArBIgtC,EAAYhxB,EAAc2wB,EAAK3sC,QAAUgtC,EAAYL,EAAK3sC,UAC7D2sC,EAAKvwB,IAAMuwB,EAAKvwB,GAEZ4wB,EAAYhxB,EAAc2wB,EAAK3sC,OAClC2sC,EAAK5qC,EAAIia,EAAc2wB,EAAK3sC,OAE5B2sC,EAAK5qC,EAAI4qC,EAAK3sC,QAKZitC,EAAYN,EAAK3sC,SACpB2sC,EAAKO,IAAMP,EAAKO,GAChBP,EAAK3qC,EAAI2qC,EAAK3sC,QAIX2sC,EAAK3qC,EAAIia,EAAe0wB,EAAK3sC,SAChC+sC,GAAW,GAGL,CAAED,cAAaC,WAAUF,eACjC,CC7DA,MAi5BA,GAj5BkD70C,IAQ3C,IAPN28B,MAAO8K,EAAY,gBACnBpS,EAAe,YACfC,EAAW,WACXlhB,EAAa,qBAAoB,KACjCgZ,EAAO,UAAS,UAChBmI,EAAY,6BAAkB,UAC9BC,GACAx1B,EAEA,MAAM01B,EAAS7mB,KAGR8mB,EAAaC,IAAkBxoB,EAAAA,EAAAA,WAAS,IACxCgzB,EAAYC,IAAiBjzB,EAAAA,EAAAA,WAAS,IACtCmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCqzB,EAAeC,IAAoBtzB,EAAAA,EAAAA,WAAS,IAC5CooC,EAAcC,IAAmBroC,EAAAA,EAAAA,WAAS,IAC1CsoC,EAAkBC,IAAuBvoC,EAAAA,EAAAA,UAAS,IAGlDpG,EAAO65B,IAAYzzB,EAAAA,EAAAA,UHmEE,IGlErB5B,EAAQ4qB,IAAahpB,EAAAA,EAAAA,UAAS,IAC9BuzB,EAAcC,IAAmBxzB,EAAAA,EAAAA,UAASq6B,IAG1CmO,EAAqBC,IAA0BzoC,EAAAA,EAAAA,UAEpD,IAGIyoB,GAAYvoB,EAAAA,EAAAA,QAA0B,MACtCye,GAAmBze,EAAAA,EAAAA,QAAsB,MACzCwoC,GAAiBxoC,EAAAA,EAAAA,SAAO,GACxByoC,GAAkBzoC,EAAAA,EAAAA,SAAO,GAGzBksB,GAAgB5oB,EAAAA,EAAAA,aACpBue,IACKiR,IACc,SAAdjR,GACH2mB,EAAepoC,SAAU,EAEzBF,WAAW,KACVsoC,EAAepoC,SAAU,GACvB,MACqB,UAAdyhB,IACV4mB,EAAgBroC,SAAU,EAE1BF,WAAW,KACVuoC,EAAgBroC,SAAU,GACxB,QAIN,CAAC0yB,IAEI4V,GAAc1oC,EAAAA,EAAAA,QAAsB,MACpC2oC,GAAsB3oC,EAAAA,EAAAA,QAC3BknC,GH6B2B,IG3BtB0B,GAAqB5oC,EAAAA,EAAAA,QAAgC,MAGrD6oC,GAAU7oC,EAAAA,EAAAA,QAAa,CAC5BvD,EAAG8oC,IACH7oC,EAAG8oC,IACH1uB,GAAI,EACJ8wB,GAAI,EACJltC,OH9GyB,GG+GzBmb,MAAOsxB,GHkBoB,GGjB3B/gC,MAAOs/B,KAIFoD,GAAY9oC,EAAAA,EAAAA,QAAe,CAChCvD,GAAI8oC,GAAe2B,GHYQ,IGZ+B,EAC1DxqC,EAAG8oC,IACH7oC,MAAOuqC,GHUoB,GGT3BtqC,OHhI2B,GGiI3BiZ,MH7H0B,GG8H1BzP,MAAOq/B,KAIFsD,GAAY/oC,EAAAA,EAAAA,QAAkB2mC,GHGR,IGAtBqC,GAAchpC,EAAAA,EAAAA,QAAkB,IAChCipC,GAAgBjpC,EAAAA,EAAAA,QAAe,IAC/BkpC,GAAoBlpC,EAAAA,EAAAA,QAAwB,IAI5CmpC,GAAqB7lC,EAAAA,EAAAA,aAAY,KACtC,MAAM8lC,EAAclC,GAAqBxtC,GACnC2vC,EAAYlC,GAAmBztC,GAErCovC,EAAU1oC,QAAU,CACnB3D,GAAI8oC,GAAe6D,GAAe,EAClC1sC,EAAG8oC,IACH7oC,MAAOysC,EACPxsC,OHvJ0B,GGwJ1BiZ,MHpJyB,GGqJzBzP,MAAOq/B,IAGRoD,EAAQzoC,QAAU,CACjB3D,EAAG8oC,IACH7oC,EAAG8oC,IACH1uB,GAAI,EACJ8wB,GAAI,EACJltC,OHzJwB,GG0JxBmb,MAAOwzB,EACPjjC,MAAOs/B,IAGRyC,GAAgB,IACd,CAACzuC,IAEE4vC,GAAUhmC,EAAAA,EAAAA,aAAY,KAC3B,MAAMqyB,EAAWj8B,EAAQ,EACzB65B,EAASoC,GACToT,EAAU3oC,QAAUumC,GAAahR,GACjCwT,IACA/E,GAAca,eACZ,CAACvrC,EAAOyvC,IAELI,GAAWjmC,EAAAA,EAAAA,aAAY,KAC5BgwB,EAAgB5vB,GAAQA,EAAO,GAC/BylC,IACA/E,GAAcY,gBACZ,CAACmE,IAEEK,GAAalmC,EAAAA,EAAAA,aAAY,KAC9B,IAAK4kC,GAAgB7f,IAAgByK,EAAY,CAChD,MAAM2W,EAAejzC,KAAKyX,SAAWzX,KAAK2Y,GAAM,EAAI3Y,KAAK2Y,GAAK,EAC9D05B,EAAQzoC,QAAQ0W,GAAK+xB,EAAQzoC,QAAQyV,MAAQrf,KAAK+mB,IAAIksB,GACtDZ,EAAQzoC,QAAQwnC,IAAMiB,EAAQzoC,QAAQyV,MAAQrf,KAAK0Y,IAAIu6B,GACvDtB,GAAgB,EACjB,GACE,CAACD,EAAc7f,EAAayK,IAGzByU,GAAejkC,EAAAA,EAAAA,aACpB,CAAC7G,EAAWC,EAAWnH,KACtB,MAAMwgB,EAASiwB,GAAgBzwC,GAC/ByzC,EAAY5oC,QAAQkT,KAAK,CACxB7W,EAAGA,EAAIitC,GACPhtC,EAAGA,EAAIgtC,GACP/sC,MH1DyB,GG2DzBC,OH3DyB,GG4DzBrH,OACAsgB,MH5D0B,EG6D1BzP,MAAO2P,EAAO3P,MACdujC,QAAQ,KAGV,IAGKC,GAAkBtmC,EAAAA,EAAAA,aAAa/N,IACpC,MAAMc,EAAM00B,KAAK10B,MAEjB,OAAQd,GACP,IAAK,cACJozC,EAAoBvoC,QAAU0oC,EAAU1oC,QAAQzD,MAChDmsC,EAAU1oC,QAAQzD,MAAQnG,KAAKuB,IACJ,IAA1B+wC,EAAU1oC,QAAQzD,MAClB4oC,KAEDuD,EAAU1oC,QAAQ3D,EAAIjG,KAAKC,IAC1B,EACAD,KAAKuB,IAAIwtC,GAAeuD,EAAU1oC,QAAQzD,MAAOmsC,EAAU1oC,QAAQ3D,IAEpEysC,EAAkB9oC,QAAQkT,KAAK,CAC9B/d,OACAs0C,QAASxzC,EAAM0vC,KAEhB,MAGD,IAAK,gBACJ4C,EAAoBvoC,QAAU0oC,EAAU1oC,QAAQzD,MAChDmsC,EAAU1oC,QAAQzD,MAAQnG,KAAKC,IACJ,GAA1BqyC,EAAU1oC,QAAQzD,MAClB,IAEDmsC,EAAU1oC,QAAQ3D,EAAIjG,KAAKC,IAC1B,EACAD,KAAKuB,IAAIwtC,GAAeuD,EAAU1oC,QAAQzD,MAAOmsC,EAAU1oC,QAAQ3D,IAEpEysC,EAAkB9oC,QAAQkT,KAAK,CAC9B/d,OACAs0C,QAASxzC,EAAM0vC,KAEhB,MAGD,IAAK,aAAc,CAClB8C,EAAQzoC,QAAQyV,MAAgC,GAAxBgzB,EAAQzoC,QAAQyV,MAExC,MAAMi0B,EAAetzC,KAAKuzC,KACzBlB,EAAQzoC,QAAQ0W,IAAM,EAAI+xB,EAAQzoC,QAAQwnC,IAAM,GAEjDiB,EAAQzoC,QAAQ0W,GACd+xB,EAAQzoC,QAAQ0W,GAAKgzB,EAAgBjB,EAAQzoC,QAAQyV,MACvDgzB,EAAQzoC,QAAQwnC,GACdiB,EAAQzoC,QAAQwnC,GAAKkC,EAAgBjB,EAAQzoC,QAAQyV,MACvDqzB,EAAkB9oC,QAAQkT,KAAK,CAC9B/d,OACAs0C,QAASxzC,EAAM0vC,KAEhB,KACD,CAEA,IAAK,aAEJ,IAAK,IAAI5tC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,MAAMmlB,EAAS9mB,KAAKyX,SAAWzX,KAAK2Y,GAAM,EAAI3Y,KAAK2Y,GAAK,EACxD85B,EAAc7oC,QAAQkT,KAAK,CAC1B7W,EAAGosC,EAAQzoC,QAAQ3D,EACnBC,EAAGmsC,EAAQzoC,QAAQ1D,EACnBoa,GAAI+xB,EAAQzoC,QAAQyV,MAAQrf,KAAK+mB,IAAID,GACrCsqB,IAAKpxC,KAAK2b,IAAI02B,EAAQzoC,QAAQyV,MAAQrf,KAAK0Y,IAAIoO,IAC/C5iB,OH1QqB,GG2QrBmb,MAAOgzB,EAAQzoC,QAAQyV,MACvBzP,MAAOs/B,IAET,CACA,MAGD,IAAK,aACJpS,EAAgB5vB,GAAQA,EAAO,KAI/B,IAEGsmC,IAAiB1mC,EAAAA,EAAAA,aAAY,KAClC,MAAMjN,EAAM00B,KAAK10B,MAGjB2yC,EAAY5oC,QAAU4oC,EAAY5oC,QAAQqV,OAAOw0B,KAC3CA,EAAQN,SAEbM,EAAQvtC,GAAKutC,EAAQp0B,MAIpBo0B,EAAQvtC,EAAIutC,EAAQrtC,OAASksC,EAAU1oC,QAAQ1D,GAC/CutC,EAAQxtC,EAAIqsC,EAAU1oC,QAAQ3D,EAAIqsC,EAAU1oC,QAAQzD,OACpDstC,EAAQxtC,EAAIwtC,EAAQttC,MAAQmsC,EAAU1oC,QAAQ3D,GAE9CmtC,EAAgBK,EAAQ10C,MACxB6uC,GAAcW,sBACP,GAIDkF,EAAQvtC,EAAI8oC,KAIpB0D,EAAkB9oC,QAAU8oC,EAAkB9oC,QAAQqV,OACrDy0B,IACC,GAAI7zC,EAAM6zC,EAAcL,QAAS,CAEhC,OAAQK,EAAc30C,MACrB,IAAK,cACL,IAAK,gBACJuzC,EAAU1oC,QAAQzD,MAAQuqC,GAAqBxtC,GAC/CovC,EAAU1oC,QAAQ3D,EAAIjG,KAAKC,IAC1B,EACAD,KAAKuB,IACJwtC,GAAeuD,EAAU1oC,QAAQzD,MACjCmsC,EAAU1oC,QAAQ3D,IAGpB,MAED,IAAK,aAAc,CAClBosC,EAAQzoC,QAAQyV,MAAQsxB,GAAmBztC,GAE3C,MAAMowC,EAAetzC,KAAKuzC,KACzBlB,EAAQzoC,QAAQ0W,IAAM,EAAI+xB,EAAQzoC,QAAQwnC,IAAM,GAEjDiB,EAAQzoC,QAAQ0W,GACd+xB,EAAQzoC,QAAQ0W,GAAKgzB,EAAgBjB,EAAQzoC,QAAQyV,MACvDgzB,EAAQzoC,QAAQwnC,GACdiB,EAAQzoC,QAAQwnC,GAAKkC,EAAgBjB,EAAQzoC,QAAQyV,MACvD,KACD,EAED,OAAO,CACR,CACA,OAAO,IAKT0yB,EAAuB,IAAIW,EAAkB9oC,WAC3C,CAACwpC,EAAiBlwC,KAKrBuG,EAAAA,EAAAA,WAAU,KACTmkC,GAAcjvC,OACP,KACNivC,GAAc3rC,YAEb,KAGHwH,EAAAA,EAAAA,WAAU,KACT,MAAMogB,EAAM,IAAIC,MAEfD,EAAIK,IADQ,YAATZ,EACI,yBAAA7rB,OAA4B6rB,EAAI,YHtON,0BG0OlCO,EAAIE,OAAS,KACZqoB,EAAmBxoC,QAAUigB,IAE5B,KAGHpgB,EAAAA,EAAAA,WAAU,KACLozB,GAAgB,GAAKhL,IACxBC,GAAe,GACfN,GAAY,GACZD,EAAgB7pB,KAEf,CAACm1B,EAAchL,EAAanqB,EAAQ8pB,EAAaD,KAGpD9nB,EAAAA,EAAAA,WAAU,KACT,MAAMkqC,EAAkB7pC,IACT,UAAVA,EAAE4pB,KAA6B,eAAV5pB,EAAE4pB,IAC1Bue,EAAgBroC,SAAU,EACN,SAAVE,EAAE4pB,KAA4B,cAAV5pB,EAAE4pB,IAChCse,EAAepoC,SAAU,EACL,MAAVE,EAAE4pB,KAAe7B,IAAgB6f,GAC3C5nC,EAAEK,iBACF6oC,KACoB,MAAVlpC,EAAE4pB,KAAe7B,GAAe6f,GAC1C5nC,EAAEK,iBACFoyB,EAAcrvB,IAASA,IACH,MAAVpD,EAAE4pB,KAAyB,MAAV5pB,EAAE4pB,KACzB7B,GAAe6f,GAClBnV,EAAcrvB,IAASA,IAKpB0mC,EAAgB9pC,IACP,UAAVA,EAAE4pB,KAA6B,eAAV5pB,EAAE4pB,IAC1Bue,EAAgBroC,SAAU,EACN,SAAVE,EAAE4pB,KAA4B,cAAV5pB,EAAE4pB,MAChCse,EAAepoC,SAAU,IAO3B,OAHA8C,SAASC,iBAAiB,UAAWgnC,GACrCjnC,SAASC,iBAAiB,QAASinC,GAE5B,KACNlnC,SAASE,oBAAoB,UAAW+mC,GACxCjnC,SAASE,oBAAoB,QAASgnC,KAErC,CAAC/hB,EAAa6f,EAAcsB,KAG/BvpC,EAAAA,EAAAA,WAAU,KACT,MAAMoqB,EAAS9B,EAAUnoB,QACzB,IAAKiqB,IAAWjC,IAAWC,EAAa,OAExC,MAAMgiB,EAAoB/pC,IACzB,GAAK+nB,IAAeyK,GAEhBxyB,EAAEgqC,QAAQ/yC,OAAS,EAAG,CACzB+I,EAAEK,iBACF,MAAM4pC,EAAQjqC,EAAEgqC,QAAQ,GAClBE,EAAOngB,EAAOogB,wBACdC,EAASH,EAAMI,QAAUH,EAAKrzB,KAC9ByzB,EAAcp0C,KAAKC,IACxB,EACAD,KAAKuB,IAAIyyC,EAAK7tC,MAAQmsC,EAAU1oC,QAAQzD,MAAO+tC,IAEhD5B,EAAU1oC,QAAQ3D,EAAImuC,EAAc9oB,OAAO+oB,iBACtC3C,IACJW,EAAQzoC,QAAQ3D,EAAIqsC,EAAU1oC,QAAQ3D,EAAIqsC,EAAU1oC,QAAQzD,MAAQ,EAEtE,GAGKmuC,EAAqBxqC,IACtBwyB,IACCoV,IACJ5nC,EAAEK,iBACF6oC,KAEGlpC,EAAEgqC,QAAQ/yC,OAAS,IACtBmxC,EAAYtoC,QAAUE,EAAEgqC,QAAQ,GAAGK,WAI/BI,EAAkBA,KACvBrC,EAAYtoC,QAAU,MAOvB,OAJAiqB,EAAOlnB,iBAAiB,YAAaknC,EAAkB,CAAEW,SAAS,IAClE3gB,EAAOlnB,iBAAiB,aAAc2nC,EAAmB,CAAEE,SAAS,IACpE3gB,EAAOlnB,iBAAiB,WAAY4nC,GAE7B,KACN1gB,EAAOjnB,oBAAoB,YAAainC,GACxChgB,EAAOjnB,oBAAoB,aAAc0nC,GACzCzgB,EAAOjnB,oBAAoB,WAAY2nC,KAEtC,CAAC3iB,EAAQC,EAAayK,EAAYoV,EAAcsB,KAGnDvpC,EAAAA,EAAAA,WAAU,KACT,MAAMoqB,EAAS9B,EAAUnoB,QACzB,IAAKiqB,IAAWhC,EAAa,OAC7B,MAAMvP,EAAMuR,EAAOC,WAAW,MAC9B,IAAKxR,EAAK,OAEV,IAAI3iB,EAAWgX,YAAY9W,MAE3B,MAAM0pC,EAAOA,KACZ,MAAM1pC,EAAM8W,YAAY9W,MAClB40C,GAAa50C,EAAMF,GAAY,IAGrC,GAFAA,EAAWE,EAEPy8B,GAAcG,EACjBxU,EAAiBre,QAAUkf,sBAAsBygB,OADlD,CAgCA,GA5BAjnB,EAAIK,UAAU,EAAG,EAAGosB,GAAcC,IAG9BoD,EAAmBxoC,SAEtB0Y,EAAIyC,UACHqtB,EAAmBxoC,QACnB,EACA,EACAmlC,GACAC,IAGD1sB,EAAIa,UAAY,qBAChBb,EAAIyB,SAAS,EAAG,EAAGgrB,GAAcC,MAGjC1sB,EAAIa,UAAY,UAChBb,EAAIyB,SAAS,EAAG,EAAGgrB,GAAcC,KCndX0F,EACzBpyB,EACA8tB,KAEAA,EAAO1uC,QAAQw8B,IACdA,EAAOx8B,QAAQ2vC,IACd,GAAIA,EAAMZ,OAAS,EAAG,CACrBnuB,EAAIc,YACJ,MAAMlf,EAAS,EACfoe,EAAIe,OAAOguB,EAAMprC,EAAI/B,EAAQmtC,EAAMnrC,GACnCoc,EAAIgB,OAAO+tB,EAAMprC,EAAIorC,EAAMlrC,MAAQjC,EAAQmtC,EAAMnrC,GACjDoc,EAAIqyB,iBACHtD,EAAMprC,EAAIorC,EAAMlrC,MAChBkrC,EAAMnrC,EACNmrC,EAAMprC,EAAIorC,EAAMlrC,MAChBkrC,EAAMnrC,EAAIhC,GAEXoe,EAAIgB,OAAO+tB,EAAMprC,EAAIorC,EAAMlrC,MAAOkrC,EAAMnrC,EAAImrC,EAAMjrC,OAASlC,GAC3Doe,EAAIqyB,iBACHtD,EAAMprC,EAAIorC,EAAMlrC,MAChBkrC,EAAMnrC,EAAImrC,EAAMjrC,OAChBirC,EAAMprC,EAAIorC,EAAMlrC,MAAQjC,EACxBmtC,EAAMnrC,EAAImrC,EAAMjrC,QAEjBkc,EAAIgB,OAAO+tB,EAAMprC,EAAI/B,EAAQmtC,EAAMnrC,EAAImrC,EAAMjrC,QAC7Ckc,EAAIqyB,iBACHtD,EAAMprC,EACNorC,EAAMnrC,EAAImrC,EAAMjrC,OAChBirC,EAAMprC,EACNorC,EAAMnrC,EAAImrC,EAAMjrC,OAASlC,GAE1Boe,EAAIgB,OAAO+tB,EAAMprC,EAAGorC,EAAMnrC,EAAIhC,GAC9Boe,EAAIqyB,iBAAiBtD,EAAMprC,EAAGorC,EAAMnrC,EAAGmrC,EAAMprC,EAAI/B,EAAQmtC,EAAMnrC,GAG/D,MAAMqL,EAAU8/B,EAAMZ,OAASY,EAAMjC,YACrC9sB,EAAIa,UAAYkuB,EAAMzhC,MACtB0S,EAAIiD,YAAc,GAAgB,GAAVhU,EACxB+Q,EAAInb,OACJmb,EAAIiD,YAAc,EAGd8rB,EAAMZ,OAASY,EAAMjC,cACxB9sB,EAAI4E,YAAc,kBAClB5E,EAAI6E,UAAY,EAChB7E,EAAI/a,UAID8pC,EAAMd,YAAcc,EAAMb,cAC7BluB,EAAIa,UAAY,wBAChBb,EAAI2E,KAAO,aACX3E,EAAI+K,UAAY,SAChB/K,EAAIsyB,aAAe,SACnBtyB,EAAIiF,SACH,SACA8pB,EAAMprC,EAAIorC,EAAMlrC,MAAQ,EACxBkrC,EAAMnrC,EAAImrC,EAAMjrC,OAAS,IAI3Bkc,EAAIiB,WACL,ODyZAmxB,CAAWpyB,EAAKiwB,EAAU3oC,SCvfHirC,EAACvyB,EAA+BwuB,KACzDxuB,EAAIc,YAEJd,EAAIe,OAAOytB,EAAO7qC,EADH,EACe6qC,EAAO5qC,GACrCoc,EAAIgB,OAAOwtB,EAAO7qC,EAAI6qC,EAAO3qC,MAFd,EAE8B2qC,EAAO5qC,GACpDoc,EAAIqyB,iBACH7D,EAAO7qC,EAAI6qC,EAAO3qC,MAClB2qC,EAAO5qC,EACP4qC,EAAO7qC,EAAI6qC,EAAO3qC,MAClB2qC,EAAO5qC,EAPO,GASfoc,EAAIgB,OAAOwtB,EAAO7qC,EAAI6qC,EAAO3qC,MAAO2qC,EAAO5qC,EAAI4qC,EAAO1qC,OATvC,GAUfkc,EAAIqyB,iBACH7D,EAAO7qC,EAAI6qC,EAAO3qC,MAClB2qC,EAAO5qC,EAAI4qC,EAAO1qC,OAClB0qC,EAAO7qC,EAAI6qC,EAAO3qC,MAbJ,EAcd2qC,EAAO5qC,EAAI4qC,EAAO1qC,QAEnBkc,EAAIgB,OAAOwtB,EAAO7qC,EAhBH,EAgBe6qC,EAAO5qC,EAAI4qC,EAAO1qC,QAChDkc,EAAIqyB,iBACH7D,EAAO7qC,EACP6qC,EAAO5qC,EAAI4qC,EAAO1qC,OAClB0qC,EAAO7qC,EACP6qC,EAAO5qC,EAAI4qC,EAAO1qC,OArBJ,GAuBfkc,EAAIgB,OAAOwtB,EAAO7qC,EAAG6qC,EAAO5qC,EAvBb,GAwBfoc,EAAIqyB,iBAAiB7D,EAAO7qC,EAAG6qC,EAAO5qC,EAAG4qC,EAAO7qC,EAxBjC,EAwB6C6qC,EAAO5qC,GACnEoc,EAAIa,UAAY2tB,EAAOlhC,MACvB0S,EAAInb,OACJmb,EAAIiB,aD2dFsxB,CAAWvyB,EAAKgwB,EAAU1oC,SCtgBLkrC,EAACxyB,EAA+BuuB,KACvDvuB,EAAIc,YACJd,EAAI0E,IAAI6pB,EAAK5qC,EAAG4qC,EAAK3qC,EAAG2qC,EAAK3sC,OAAQ,EAAa,EAAVlE,KAAK2Y,IAC7C2J,EAAIa,UAAY0tB,EAAKjhC,MAErB0S,EAAIohB,WAAa,GACjBphB,EAAImhB,YAAcoN,EAAKjhC,MACvB0S,EAAInb,OACJmb,EAAIiB,YAEJjB,EAAIohB,WAAa,EACjBphB,EAAImhB,YAAc,eD4fhBqR,CAASxyB,EAAK+vB,EAAQzoC,SCtZKmrC,EAC7BzyB,EACA0yB,KAEAA,EAAWtzC,QAAQmvC,IAClBvuB,EAAIc,YACJd,EAAI0E,IAAI6pB,EAAK5qC,EAAG4qC,EAAK3qC,EAAG2qC,EAAK3sC,OAAQ,EAAa,EAAVlE,KAAK2Y,IAC7C2J,EAAIa,UAAY0tB,EAAKjhC,MACrB0S,EAAIohB,WAAa,GACjBphB,EAAImhB,YAAcoN,EAAKjhC,MACvB0S,EAAInb,OACJmb,EAAIiB,YACJjB,EAAIohB,WAAa,EACjBphB,EAAImhB,YAAc,iBD0YjBsR,CAAezyB,EAAKmwB,EAAc7oC,SCtYTqrC,EAC3B3yB,EACA4yB,KAEAA,EAASxzC,QAAQ+xC,IAEhBnxB,EAAIc,YACJd,EAAI0E,IACHysB,EAAQxtC,EAAIwtC,EAAQttC,MAAQ,EAC5BstC,EAAQvtC,EAAIutC,EAAQrtC,OAAS,EAC7BqtC,EAAQttC,MAAQ,EAChB,EACU,EAAVnG,KAAK2Y,IAEN2J,EAAIa,UAAYswB,EAAQ7jC,MACxB0S,EAAIohB,WAAa,GACjBphB,EAAImhB,YAAcgQ,EAAQ7jC,MAC1B0S,EAAInb,OACJmb,EAAIiB,YAGJjB,EAAIa,UAAY,QAChBb,EAAI2E,KAAO,aACX3E,EAAI+K,UAAY,SAChB/K,EAAIsyB,aAAe,SAGnB,MAAM/3C,EAAO2yC,GAAgBiE,EAAQ10C,MAAMrC,MAAMy4C,MAAM,KAAK,GAC5D7yB,EAAIiF,SACH1qB,EACA42C,EAAQxtC,EAAIwtC,EAAQttC,MAAQ,EAC5BstC,EAAQvtC,EAAIutC,EAAQrtC,OAAS,GAI9Bkc,EAAIohB,WAAa,EACjBphB,EAAImhB,YAAc,iBDmWjBwR,CAAa3yB,EAAKkwB,EAAY5oC,SAE1B8nC,EAAc,CAGhBO,EAAgBroC,SAChB0oC,EAAU1oC,QAAQ3D,EAAI8oC,GAAeuD,EAAU1oC,QAAQzD,MAEvDmsC,EAAU1oC,QAAQ3D,GAAKqsC,EAAU1oC,QAAQyV,MAAQo1B,EAAY,GACnDzC,EAAepoC,SAAW0oC,EAAU1oC,QAAQ3D,EAAI,IAC1DqsC,EAAU1oC,QAAQ3D,GAAKqsC,EAAU1oC,QAAQyV,MAAQo1B,EAAY,IAI9DjB,KAGA,MAAM,YACLxC,EAAW,SACXC,EACAF,aAAcqE,GACXxE,GACHyB,EAAQzoC,QACR2oC,EAAU3oC,QACV0oC,EAAU1oC,QACVolC,GACAD,IA+CD,GA5CIqG,GACHrE,EAAaqE,EAAenvC,EAAGmvC,EAAelvC,EAAGkvC,EAAer2C,MAI7DiyC,EAAc,GACjBpD,GAAcU,iBAIfmE,EAAc7oC,QAAU6oC,EAAc7oC,QAAQqV,OAAO4xB,IACpD,MAAM33B,EAAS03B,GACdC,EACA0B,EAAU3oC,QACV0oC,EAAU1oC,QACVolC,GACAD,IAoBD,OAjBI71B,EAAO83B,YAAc,GACxB1e,EAAUplB,GAAQA,EAAOgM,EAAO83B,aAG7B93B,EAAO63B,cACVA,EACC73B,EAAO63B,aAAa9qC,EACpBiT,EAAO63B,aAAa7qC,EACpBgT,EAAO63B,aAAahyC,MAKtB8xC,EAAK5qC,GAAK4qC,EAAKvwB,GAAKm0B,EAAY,GAChC5D,EAAK3qC,GAAK2qC,EAAKO,GAAKqD,EAAY,IAGxBv7B,EAAO+3B,WAGZD,EAAc,GACjB1e,EAAUplB,GAAQA,EAAO8jC,GAItBC,EAAU,CAEb,KAAIwB,EAAc7oC,QAAQ7I,OAAS,GAYlC,OAJAgyC,IACAN,EAAc7oC,QAAU,GACxB4oC,EAAY5oC,QAAU,QACtB8oC,EAAkB9oC,QAAU,IAXS,CAErC,MAAMyrC,EAAc5C,EAAc7oC,QAAQ44B,MAC1C6P,EAAQzoC,QAAQ3D,EAAIovC,EAAYpvC,EAChCosC,EAAQzoC,QAAQ1D,EAAImvC,EAAYnvC,EAChCmsC,EAAQzoC,QAAQ0W,GAAK+0B,EAAY/0B,GACjC+xB,EAAQzoC,QAAQwnC,GAAKiE,EAAYjE,EAClC,CAOD,CAEA,GAAoBmB,EAAU3oC,QFjenB0uB,MAAM4F,GAAUA,EAAO5F,MAAM+Y,GAA0B,IAAjBA,EAAMZ,SEsetD,OAJAqC,IACAL,EAAc7oC,QAAU,GACxB4oC,EAAY5oC,QAAU,QACtB8oC,EAAkB9oC,QAAU,IAK7ByoC,EAAQzoC,QAAQ3D,GAAKosC,EAAQzoC,QAAQ0W,GAAKm0B,EAAY,GACtDpC,EAAQzoC,QAAQ1D,GAAKmsC,EAAQzoC,QAAQwnC,GAAKqD,EAAY,EACvD,MAECpC,EAAQzoC,QAAQ3D,EAAIqsC,EAAU1oC,QAAQ3D,EAAIqsC,EAAU1oC,QAAQzD,MAAQ,EACpEksC,EAAQzoC,QAAQ1D,EAAIosC,EAAU1oC,QAAQ1D,EHtmBf,GG0mBtB+rC,EAAgBroC,SAChB0oC,EAAU1oC,QAAQ3D,EAAI8oC,GAAeuD,EAAU1oC,QAAQzD,MAEvDmsC,EAAU1oC,QAAQ3D,GAAKqsC,EAAU1oC,QAAQyV,MAAQo1B,EAAY,GACnDzC,EAAepoC,SAAW0oC,EAAU1oC,QAAQ3D,EAAI,IAC1DqsC,EAAU1oC,QAAQ3D,GAAKqsC,EAAU1oC,QAAQyV,MAAQo1B,EAAY,IAI/DxsB,EAAiBre,QAAUkf,sBAAsBygB,EAjJjD,GAsJD,OAFAA,IAEO,KACFthB,EAAiBre,SACpBof,qBAAqBf,EAAiBre,WAGtC,CACFioB,EACAyK,EACAG,EACAiV,EACAxuC,EACA6vC,EACAD,EACAU,GACAzC,IAKD,MAAM/e,GAAYA,KACjB6f,EAAoB,GACpB9U,EH5gB2B,GG6gB3BzK,EAAU,GACVwK,EAAgB6G,GAChB4O,EAAU3oC,QAAUumC,GH/gBO,GGghB3BwC,IACAH,EAAY5oC,QAAU,GACtB6oC,EAAc7oC,QAAU,GACxB8oC,EAAkB9oC,QAAU,GAC5B2yB,GAAc,GACdG,GAAY,GACZ5K,GAAe,GACf6f,GAAgB,IAoBjB,OACCn0C,EAAAA,EAAAA,MAAA,OACCJ,UAAU,iBACV8S,MAAO,CAAED,gBAAiBK,GAAajT,SAAA,EAGvCF,EAAAA,EAAAA,KAACy7B,GAAU,CACV11B,MAAOA,EACP21B,MAAOgE,EACPxsB,MAAO3I,EACPoxB,QACCjH,GAAe6f,IAAiBjV,EAC7B,IAAMF,GAAeD,QACrB1+B,EAEJm7B,SAAUuD,EACVhsB,WAAYA,EACZvF,SAAU6mB,EACVqH,OAAQA,KACPyD,GAAY,GACZE,EAAiBN,GACjBC,GAAc,IAEfrD,eAAgBrH,EAChBsH,WAAYsD,KAIbt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAa8S,MAAO,CAAEy2B,YAAa,KAAMtpC,UACvDG,EAAAA,EAAAA,MAAA,OACCJ,UAAU,mBACV8S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUD,eAAgB,SAAUxvB,QAAS,OAAQ2J,gBAAiBK,GAAajT,SAAA,EAEzHF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE6P,SAAU,WAAY4tB,IAAK,EAAGhtB,KAAM,EAAGC,MAAO,EAAGxa,OAAQ,OAAQE,QAAS,gBAAiBjJ,SAEvGw0B,GAAeigB,EAAoB/wC,OAAS,IAC5CvD,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUhzB,IAAK,UAAW1F,SAAA,EACpEF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,QAASke,WAAY,KAAMzwB,SAAC,eAGvEy0C,EAAoBx0C,IAAI,CAACm2C,EAAS12B,KAClC,MAAMwC,EAASiwB,GAAgBiE,EAAQ10C,MACjCu2C,EAAYt1C,KAAKu1C,MACrB9B,EAAQJ,QAAU9e,KAAK10B,OAAS,KAElC,OACCrC,EAAAA,EAAAA,MAAA,OAECJ,UAAU,uBACV8S,MAAO,CAAE4rB,YAAavc,EAAO3P,OAAQvS,SAAA,EAErCF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,YAAa9vB,SACpCkiB,EAAO7iB,MAAMy4C,MAAM,KAAK,MAE1B33C,EAAAA,EAAAA,MAAA,QAAM0S,MAAO,CAAEid,SAAU,UAAWW,WAAY,OAAQle,MAAO,SAAUvS,SAAA,CACvEi4C,EAAU,SARPv4B,WAkBX5f,EAAAA,EAAAA,KAACgxB,EAAU,CACV5jB,IAAKwnB,EACL5rB,MAAO4oC,GACP3oC,OAAQ4oC,GACR5xC,UAAU,wBACV8S,MAAO,CACNslC,OACC3jB,IAAgByK,GAAcoV,EAAe,OAAS,cAKvD7f,IACD10B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAO+iB,EACPnhB,WAAYA,EACZC,SACsB,IAArBqhC,EACG,IAAMC,EAAoB,GACL,IAArBD,EACC,IAAMC,EAAoB,GAC1B7f,GAELxhB,WACsB,IAArBohC,EACG,mBACqB,IAArBA,EACC,mBACA,qBAELlhC,kBAAkB,EAClBD,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,YAAWC,SAAA,CACxBq0B,IACAl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,qBAAoBC,SAAC,UACrCF,EAAAA,EAAAA,KAAA,OACC+sB,IAAKwH,EACLpF,IAAI,aACJlvB,UAAU,iCAIS,IAArBw0C,GACAp0C,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EAECG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,iEAAgEC,SAAA,EAC9EG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,0BAAyBC,SAAA,EACvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oCACfD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,UAASC,SAAC,eAE3BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,0BAAyBC,SAAA,EACvCF,EAAAA,EAAAA,KAAA,OACC+S,MAAO,CAAED,gBAAiBi/B,IAC1B9xC,UAAU,0BAEXD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,UAASC,SAAC,eAE3BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,0BAAyBC,SAAA,CACtC8xC,GAAY1tC,MAAM,EAAG,GAAGnE,IAAIyB,IAC5B5B,EAAAA,EAAAA,KAAA,OAEC+S,MAAO,CAAED,gBAAiBlR,EAAK6Q,OAC/BxS,UAAU,sBAFL2B,EAAK6Q,SAKZzS,EAAAA,EAAAA,KAAA,QAAMC,UAAU,UAASC,SAAC,mBAI5BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oCAAmCC,SAChDu0B,GACAp0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,qCACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,sCAGJG,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,4CAKNF,EAAAA,EAAAA,KAAA,UACCQ,QAASq0B,GACT50B,UAAU,mDAAkDC,SAC5D,cAIsB,IAArBu0C,GACHp0C,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kCAAiCC,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,qDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,mDACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,0CACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,oDAGJF,EAAAA,EAAAA,KAAA,UACCQ,QAASA,IAAMk0C,EAAoB,GACnCz0C,UAAU,mDAAkDC,SAC5D,wBAKFG,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kCAAiCC,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAAwBC,SAAC,mCAGtCG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,eACC,KACHF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,kBAAqB,IAAI,0BAG3DG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,WACAF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,eAAiB,2BAGpDG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,WACAF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,kBAAiBC,SAAC,eAAkB,IAAI,yBAG3DG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,iBACCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAAcC,SAAC,eAAiB,iBAGpDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SAAC,yDAG1CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBAAgBC,SAAC,mDAK/BF,EAAAA,EAAAA,KAAA,UACCQ,QAASA,IAAMk0C,EAAoB,GACnCz0C,UAAU,mDAAkDC,SAC5D,4BAWNi/B,IAAeG,IACft/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,QACLqR,QAAQ,wCACRE,WAAYA,EACZC,SAAUA,IAAMgsB,GAAc,GAC9B/rB,WAAW,2BAKZisB,IACAt/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+CiK,EAAM,wCAC5D4I,WAAYA,EACZG,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UACCQ,QA/PU+hC,KAClBhD,GAAY,GACZH,EAAcI,IA8PNv/B,UAAU,qCAAoCC,SAC9C,2BAGDF,EAAAA,EAAAA,KAAA,UACCQ,QAhQiBgiC,KACzBpO,EAAgB7pB,GAChB8pB,GAAY,GACZM,GAAe,GACf6f,GAAgB,GACZ1pB,EAAiBre,SACpBof,qBAAqBf,EAAiBre,UA2P/BxM,UAAU,sCAAqCC,SAC/C,iCAWNu0B,GAAUC,IACV10B,EAAAA,EAAAA,KAACyyB,GAAY,CACZC,UAAW6F,EACX3F,OAAO,aACPzf,WAAYA,EACZ4f,kBAAmBwhB,EACnBvhB,SAAU6iB,QEz7BTyC,IAAsBC,EAAAA,EAAAA,MAAK,IAAM,uDAEjCC,GAAkBA,KACvBx4C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC5BF,EAAAA,EAAAA,KAAA,OAAAE,SAAK,kBAoOP,GAhO4DnB,IAQrD,IARsD,MAC5D28B,EAAQ,EAAC,YACTrH,EAAW,gBACXD,EAAe,WACfjhB,EAAa,UAAS,KACtBgZ,EAAI,UACJmI,EAAY,UAAS,UACrBC,GACAx1B,EACA,MAAM2nC,GAAer6B,EAAAA,EAAAA,QAAuB,OAGrC6G,EAAOq0B,IAAYp7B,EAAAA,EAAAA,UAAS,IAC5BiO,EAAOq+B,IAAYtsC,EAAAA,EAAAA,UAAS,IAC5Bu7B,EAAeC,IAAoBx7B,EAAAA,EAAAA,WAAS,IAC5Cy7B,EAAYC,IAAiB17B,EAAAA,EAAAA,WAAS,IACtCmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCusC,EAAYC,IAAiBxsC,EAAAA,EAAAA,UAI1B,MAEJo8B,EAAiB36B,IAEjBinB,GAAYllB,EAAAA,EAAAA,aAAY,KACxB+3B,IACJC,GAAiB,GACjBE,GAAc,GACdN,EAAS,GACTkR,EAAS,GACTlZ,GAAY,GACZoZ,EAAc,QAEb,CAACjR,IAaEoB,GAAoBn5B,EAAAA,EAAAA,aAAao5B,IACtCxB,EAASwB,IACP,IAEG6P,GAAsBjpC,EAAAA,EAAAA,aAC3B,CAACkpC,EAAkBC,KAClBL,EAASI,EAAW,IAErB,IAGKE,GAA2BppC,EAAAA,EAAAA,aAChC,CAACqpC,EAAoB7Q,KACpBN,GAAc,GACd8Q,EAAc,CACbM,MAAOD,EACP9lC,MAAOi1B,EACP+Q,IAAKF,GAAcn2C,KAAKu1C,KAAK1c,EAAQ,MAGvC,CAACA,IAQF,OACCr7B,EAAAA,EAAAA,MAAA,OACCJ,UAAU,iBACV8S,MAAO,CAAED,gBAAiBK,EAAYumB,SAAU,QAASV,OAAQ,UACjE5rB,IAAKs5B,EAAaxmC,SAAA,EAGlBF,EAAAA,EAAAA,KAACy7B,GAAU,CACVvoB,MAAOA,EACPwoB,MAAOA,EAAQthB,EAAQ,EACvBjH,WAAYA,EACZvF,SAAU26B,EACVzM,OAAQA,IAAMyD,GAAY,GAC1BxD,eAAgB2L,IAAkBE,EAClC5L,WAAYsD,KAIbt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UAC1BG,EAAAA,EAAAA,MAAA,OACCJ,UAAU,mBACV8S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUD,eAAgB,SAAU6Q,YAAa,UAAW2P,UAAW,QAASj5C,SAAA,EAGpHwnC,IAAkBE,IACnB5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUyhB,EACVxhB,WAAW,eACXE,kBAAkB,EAClBD,eACCjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEmd,UAAW,UAAWhwB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAI+S,MAAO,CAAEid,SAAU,OAAQW,WAAY,OAAQle,MAAO,WAAYvS,SACpEo0B,IAEDC,IACAl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,QAAM+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAC,UACtDF,EAAAA,EAAAA,KAAA,OACC+sB,IAAKwH,EACLpF,IAAI,aACJpc,MAAO,CAAEimB,OAAQ,SAAUhwB,MAAO,QAASC,OAAQ,OAAQ8vB,aAAc,cAI5E14B,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEN,MAAO,UAAWud,SAAU,YAAa9vB,SAAA,EACtDG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,eAAQw7B,EAAM,iCACjB17B,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iEACHF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,2DACHG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,sBAAU2C,KAAKu1C,KAAK1c,EAAQ,GAAG,4BAEnC17B,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,UAAWse,UAAW,WAAY7wB,UAC3EF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,uDAQPwnC,IAAkBE,IAClB5nC,EAAAA,EAAAA,KAACo5C,EAAAA,SAAQ,CAACC,UAAUr5C,EAAAA,EAAAA,KAACw4C,GAAe,IAAIt4C,UACvCF,EAAAA,EAAAA,KAACs4C,GAAmB,CACnBpV,cAAe4F,EACfwQ,gBAAiBV,EACjBzV,WAAY4V,EACZ5lC,WAAYA,EACZomC,YAAa7d,EACbvP,KAAMA,MAMRyb,GAAc8Q,IACd14C,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SApFiBomC,KACtBplB,EAAgBlhB,GAChBmhB,GAAY,IAmFPhhB,WAAW,YACXC,eACCjT,EAAAA,EAAAA,MAAA,OAAK0S,MAAO,CAAEmd,UAAW,UAAWhwB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MACC+S,MAAO,CACNid,SAAU,SACVW,WAAY,OACZle,MAAOimC,EAAWQ,IAAM,UAAY,WACnCh5C,SAEDw4C,EAAWQ,IAAM,gBAAe,aAElCl5C,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE0lB,QAAS,OAAQE,eAAgB,SAAU/yB,IAAK,SAAUozB,OAAQ,UAAW94B,SACzFq7B,MAAM0C,KAAK,CAAEr6B,OAAQ83B,IAASv7B,IAAI,CAAC2gC,EAAGt8B,KACtCxE,EAAAA,EAAAA,KAAA,QAEC+S,MAAO,CAAEid,SAAU,SAAU5b,QAAS5P,EAAIk0C,EAAWO,MAAQ,EAAI,IAAM/4C,SACvE,UAFKsE,OAORnE,EAAAA,EAAAA,MAAA,KAAG0S,MAAO,CAAEid,SAAU,UAAWvd,MAAO,SAAUvS,SAAA,CAChDw4C,EAAWO,MAAM,OAAKvd,EAAM,aAE9Br7B,EAAAA,EAAAA,MAAA,KAAG0S,MAAO,CAAEid,SAAU,SAAUW,WAAY,OAAQle,MAAO,WAAYvS,SAAA,CACrEw4C,EAAWxlC,MAAM,aAElBwlC,EAAWO,QAAUvd,IACrB17B,EAAAA,EAAAA,KAAA,KAAG+S,MAAO,CAAEid,SAAU,WAAYvd,MAAO,WAAYvS,SAAC,kDAU1Do/B,IACAt/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+C4S,EAAK,iCAC3DC,WAAYA,EACZG,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UACCQ,QAvKU+hC,KAClBhD,GAAY,IAuKJt/B,UAAU,qCAAoCC,SAC9C,2BAGDF,EAAAA,EAAAA,KAAA,UACCQ,QAzKiBgiC,KACzBpO,EAAgBlhB,GAChBmhB,GAAY,GACZsT,GAAiB,GACjBE,GAAc,IAsKN5nC,UAAU,sCAAqCC,SAC/C,+B,0BCzNV,MAAMu5C,IAAiBlB,EAAAA,EAAAA,MAAK,IAAM,uDAE5BC,GAAkBA,KACvBx4C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC5BF,EAAAA,EAAAA,KAAA,OAAAE,SAAK,kBAwbP,GApbkDnB,IAS3C,IAT4C,MAClD28B,EAAQ,EAAC,MACT31B,EAAQ,EAAC,YACTsuB,EAAW,gBACXD,EAAe,WACfjhB,EAAa,UAAS,KACtBgZ,EAAI,UACJmI,EAAY,cAAa,UACzBC,GACAx1B,EACA,MAAM2nC,GAAer6B,EAAAA,EAAAA,QAAuB,OACrCqtC,EAASC,IAAcxtC,EAAAA,EAAAA,UAAS,IAGhC2gC,EAAc8M,IAAmBztC,EAAAA,EAAAA,UACvCtJ,KAAKuB,IAAIvB,KAAKC,IAAIiD,EAAO,GAAID,GAAAA,GAAOlC,UAE9BukC,EAAYC,IAAiBj8B,EAAAA,EAAAA,UAAS,GAGvC0tC,EAAc/zC,GAAAA,GAAOgnC,EAAe,IAGnC55B,EAAOq0B,IAAYp7B,EAAAA,EAAAA,UAAS,IAC5BnG,EAAO8zC,IAAY3tC,EAAAA,EAAAA,UAAS0tC,EAAY7zC,QACxC+zC,EAAgBC,IAAqB7tC,EAAAA,EAAAA,UAASuvB,IAC9CgM,EAAeC,IAAoBx7B,EAAAA,EAAAA,WAAS,IAC5C8tC,EAAiBC,IAAsB/tC,EAAAA,EAAAA,WAAS,IAChDguC,EAAUC,IAAejuC,EAAAA,EAAAA,WAAS,IAClCy7B,EAAYC,IAAiB17B,EAAAA,EAAAA,WAAS,IACtCmzB,EAAUC,IAAepzB,EAAAA,EAAAA,WAAS,IAClCkuC,EAAmBC,IAAwBnuC,EAAAA,EAAAA,WAAS,GAGrDouC,GAAWluC,EAAAA,EAAAA,QAAO6G,GAClBsnC,GAAgBnuC,EAAAA,EAAAA,QAAO87B,GACvBsS,GAAkBpuC,EAAAA,EAAAA,QAAOygC,GACzB4N,GAAoBruC,EAAAA,EAAAA,QAAO0tC,IAGjCztC,EAAAA,EAAAA,WAAU,IACF,KACN5L,GAAAA,EAAgBoE,WAEf,KAGHwH,EAAAA,EAAAA,WAAU,KACTiuC,EAAS9tC,QAAUyG,GACjB,CAACA,KACJ5G,EAAAA,EAAAA,WAAU,KACTkuC,EAAc/tC,QAAU07B,GACtB,CAACA,KACJ77B,EAAAA,EAAAA,WAAU,KACTmuC,EAAgBhuC,QAAUqgC,GACxB,CAACA,KACJxgC,EAAAA,EAAAA,WAAU,KACTouC,EAAkBjuC,QAAUstC,GAC1B,CAACA,IAEJ,MAAMxR,EAAiB36B,IAEjBinB,GAAYllB,EAAAA,EAAAA,aAAYknB,UACxB6Q,UAEEhnC,GAAAA,EAAgBc,OAEtBmmC,GAAiB,GACjBuS,GAAmB,GACnBE,GAAY,GACZvS,GAAc,GACdN,EAAS,GACTuS,EAASD,EAAY7zC,OACrBu5B,GAAY,GACZoa,EAAW5pC,GAAQA,EAAO,KAEzB,CAAC23B,EAAemS,EAAY7zC,QAEzB20C,GAAahrC,EAAAA,EAAAA,aAAY,KAC9BuqC,GAAmB,GACnBE,GAAY,GACZ7S,EAAS,GACTuS,EAASD,EAAY7zC,OACrB2zC,EAAW5pC,GAAQA,EAAO,IACxB,CAAC8pC,EAAY7zC,QAMVw8B,GAAoB7yB,EAAAA,EAAAA,aAAY,KAErC,MAAMirC,EAAaJ,EAAc/tC,QAAU8tC,EAAS9tC,QACpD2nB,EAAgBwmB,GAChBvmB,GAAY,GACZsT,GAAiB,GACjBE,GAAc,IACZ,CAACzT,EAAiBC,IAEfyU,GAAoBn5B,EAAAA,EAAAA,aAAao5B,IACtCxB,EAASwB,IACP,IAEG8R,GAAoBlrC,EAAAA,EAAAA,aAAamrC,IACtChB,EAASgB,IACP,IAEGC,GAAqBprC,EAAAA,EAAAA,aAC1B,CAACupC,EAAc8B,KAId,GAHAZ,EAAYlB,GACZgB,GAAmB,GAEfhB,EAECuB,EAAgBhuC,SAAW3G,GAAAA,GAAOlC,SAErCwkC,EAAcr4B,GAAQA,EAAOwqC,EAAS9tC,SACtC6tC,GAAqB,GACrBzS,GAAc,QAGT,CAEN,MAAMgB,EAAW6R,EAAkBjuC,QAAU,EAC7CutC,EAAkBnR,GAEdA,GAAY,GAEfhB,GAAc,EAGhB,GAED,IAGKoT,GAAkBtrC,EAAAA,EAAAA,aAAY,KAEnCy4B,EAAcr4B,GAAQA,EAAOmD,GAG7B,MAAMgoC,EAAYpO,EAAe,EAC3BqO,EAAkBr1C,GAAAA,GAAOo1C,EAAY,GAE3CtB,EAAgBsB,GAChBhB,GAAmB,GACnBE,GAAY,GACZ7S,EAAS,GACTuS,EAASqB,EAAgBn1C,OACzB2zC,EAAW5pC,GAAQA,EAAO,IACxB,CAAC+8B,EAAc55B,IAEZsmC,EAAiBA,KACtBplB,EAAgB+T,EAAaj1B,GAC7BmhB,GAAY,IAGb,OACCh0B,EAAAA,EAAAA,MAAA,OACCJ,UAAU,iBACV8S,MAAO,CAAED,gBAAiBK,EAAYumB,SAAU,QAASV,OAAQ,UACjE5rB,IAAKs5B,EAAaxmC,SAAA,EAGlBF,EAAAA,EAAAA,KAACy7B,GAAU,CACV11B,MAAO+mC,EACP55B,MAAOi1B,EAAaj1B,EACpBwoB,MAAOqe,EACP5mC,WAAYA,EACZvF,SAAU26B,EACVzM,OAAQA,IAAMyD,GAAY,GAC1BxD,eAAgB2L,IAAkBuS,IAAoBrS,EACtD5L,WAAYsD,KAIbt/B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UAC1BG,EAAAA,EAAAA,MAAA,OACCJ,UAAU,mBACV8S,MAAO,CAAE0lB,QAAS,OAAQG,WAAY,SAAUD,eAAgB,SAAU6Q,YAAa,UAAW2P,UAAW,QAASj5C,SAAA,EAGpHwnC,IAAkBE,IACnB5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUyhB,EACVxhB,WAAW,qBACXE,kBAAkB,EAClBD,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qCAAoCC,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6DAA4DC,SACxEo0B,IAEDC,IACAl0B,EAAAA,EAAAA,MAAA6uB,EAAAA,SAAA,CAAAhvB,SAAA,EACCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,qBAAoBC,SAAC,UACrCF,EAAAA,EAAAA,KAAA,OACC+sB,IAAKwH,EACLpF,IAAI,aACJlvB,UAAU,kCAIbI,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,+BAA8BC,SAAA,CAAC,SACpC4sC,EAAa,OAAKhnC,GAAAA,GAAOlC,WAEjCvD,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,0DAAyDC,SAAA,EACvEG,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,sBAAU25C,EAAY5zC,YAAY,cACrC5F,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,6BAAiB25C,EAAY7zC,UAChC3F,EAAAA,EAAAA,MAAA,KAAAH,SAAA,CAAG,uBAAWw7B,MACd17B,EAAAA,EAAAA,KAAA,KAAAE,SAAG,sDAEJF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gDAA+CC,UAC7DF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,6CAQPwnC,IAAkBuS,IAClBj6C,EAAAA,EAAAA,KAACo5C,EAAAA,SAAQ,CAACC,UAAUr5C,EAAAA,EAAAA,KAACw4C,GAAe,IAAIt4C,UACvCF,EAAAA,EAAAA,KAACy5C,GAAc,CAEdvW,cAAe4F,EACfsS,cAAeP,EACfQ,eAAgBN,EAChB5nC,WAAYA,EACZgZ,KAAMA,EACNuP,MAAOqe,EACPF,YAAaA,GAPRH,KAaPO,GAAmBE,IAAaE,IAChCr6C,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAU6nC,EACV5nC,WAAW,+BACXC,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAuBC,SAAA,EACrCG,EAAAA,EAAAA,MAAA,MAAIJ,UAAU,gDAA+CC,SAAA,CAAC,aACrD4sC,EAAa,mBAEtB9sC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SAAC,kBACzCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAoBC,SAAC,wBAGlCG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4DAA2DC,SAAA,EACzEG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qCAAoCC,SAAA,EAClDF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,yBACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOgT,EAAQlN,EAAQM,GAAAA,GAAQM,gBAE/BZ,EAAQ,IACR3F,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,sCAAqCC,SAAA,EACnDF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,uBACNG,EAAAA,EAAAA,MAAA,QAAAH,SAAA,CACE8F,EAAM,SAAIM,GAAAA,GAAQM,WAAW,OAC7BZ,EAAQM,GAAAA,GAAQM,kBAIpBvG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,+EAA8EC,SAAA,EAC5FF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,kBACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOgT,WAIT7S,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,wBAAuBC,SAAA,CAAC,2BACd,KACtBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,4BAA2BC,SACzCioC,EAAaj1B,YASnB+mC,GAAmBE,GAAYE,IAC/Br6C,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUomC,EACVnmC,WAAW,yBACXC,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAuBC,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iDAAgDC,SAAC,yBAG/DF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SAAC,kBACzCG,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,qBAAoBC,SAAA,CAAC,uBACf4F,GAAAA,GAAOlC,OAAO,gBAIjCvD,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,4DAA2DC,SAAA,EACzEG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qCAAoCC,SAAA,EAClDG,EAAAA,EAAAA,MAAA,QAAAH,SAAA,CAAM,6BAAwB4sC,EAAa,SAC3C9sC,EAAAA,EAAAA,KAAA,QAAAE,SAAOgT,EAAQlN,EAAQM,GAAAA,GAAQM,gBAE/BZ,EAAQ,IACR3F,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,sCAAqCC,SAAA,EACnDF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,uBACNG,EAAAA,EAAAA,MAAA,QAAAH,SAAA,CACE8F,EAAM,SAAIM,GAAAA,GAAQM,WAAW,OAC7BZ,EAAQM,GAAAA,GAAQM,kBAIpBvG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,mEAAkEC,SAAA,EAChFG,EAAAA,EAAAA,MAAA,QAAAH,SAAA,CAAM,eAAa4sC,EAAa,QAChC9sC,EAAAA,EAAAA,KAAA,QAAAE,SAAOgT,QAER7S,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,qCAAoCC,SAAA,EAClDF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,yBACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOioC,QAER9nC,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,uFAAsFC,SAAA,EACpGF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,0BACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOioC,EAAaj1B,WAItB7S,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,wBAAuBC,SAAA,CAAC,oBAClB65C,UAQtBE,IAAoBE,IAAavS,IACjC5nC,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUunC,EACVtnC,WAAW,0BACXC,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAuBC,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iDAAgDC,SAAC,eAG/DF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,SAAC,kBAC1BG,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,qBAAoBC,SAAA,CAC/BgT,EAAM,MAAI2mC,EAAY5zC,YAAY,cAEpCjG,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iCAAgCC,SAC7Cq7B,MAAM0C,KAAK,CAAEr6B,OAAQ83B,IAASv7B,IAAI,CAAC2gC,EAAGt8B,KACtCxE,EAAAA,EAAAA,KAAA,QAECC,UAAS,YAAAK,OACRkE,EAAIu1C,EAAiB,cAAgB,cACnC75C,SACH,gBAJKsE,OASRnE,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,wBAAuBC,SAAA,CAAC,oBAClB65C,UAQtBnS,IAAeuS,IACfn6C,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACLuR,WAAYA,EACZC,SAAUomC,EACVnmC,WAAW,YACXC,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,wBAAuBC,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,8CAA6CC,SAAC,eAG5DF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,SAAC,kBAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAoBC,SAAC,2BAClCG,EAAAA,EAAAA,MAAA,KAAGJ,UAAU,qCAAoCC,SAAA,CAC/CgT,EAAM,kBAQXosB,IACAt/B,EAAAA,EAAAA,KAACgT,EAAW,CACXpR,KAAK,SACL2P,MAAM,uBACN0B,QAAO,mDAAA3S,OAA+C6nC,EAAaj1B,EAAK,iCACxEC,WAAYA,EACZG,eACCjT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,oBAAmBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,UACCQ,QAhUU+hC,KAClBhD,GAAY,IAgUJt/B,UAAU,qCAAoCC,SAC9C,2BAGDF,EAAAA,EAAAA,KAAA,UACCQ,QAASgiC,EACTviC,UAAU,sCAAqCC,SAC/C,4BAWPF,EAAAA,EAAAA,KAAA,OAAK+S,MAAO,CAAE/J,MAAO,QAAS9I,UAC7BF,EAAAA,EAAAA,KAAA,OACC+sB,IAAI,2CACJoC,IAAI,gBACJpc,MAAO,CAAE/J,MAAO,OAAQC,OAAQ,gBC7bxB2oC,GAAe,IACfC,GAAgB,IAIhByJ,GAAa1J,IACb2J,GAAa1J,IACb2J,GAAkB,GAIlBC,GAAc,GAadC,GAAkC,CAC9CC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,WAIKC,GAAY,CAAC,IAAK,IAAK,IAAK,KAC5BC,GAAc,CAAC,IAAK,IAAK,IAAK,KAG9BC,GAAe,CAAC,KAAM,KAAM,KAAM,MCjCzCC,GAAa,CAClB,IACA,KACA,IACA,KACA,IACA,IACA,KACA,IACA,KACA,IACA,KACA,KAGM,SAASC,GAAYC,GAE3B,MAAMC,EAAQD,EAAMC,MAAM,yBAC1B,IAAKA,EAAO,OAAO,GAEnB,MAAO,CAAEv4C,EAAMw4C,EAAYC,GAAaF,EAClCG,EAAS3iC,SAAS0iC,EAAW,IAEnC,IAAIE,EAAYP,GAAW73B,QAAQvgB,GAKnC,MAJmB,MAAfw4C,GAAoBG,IACL,MAAfH,GAAoBG,IAGF,IAAdD,EAAS,GAAUC,CAC5B,CASO,SAASC,GAAeN,EAAeO,GAE7C,OATM,SAAqBC,GAC3B,MAAMJ,EAAS35C,KAAKyc,MAAMs9B,EAAO,IAAM,EAEvC,MAAM,GAANt8C,OAAU47C,GADQU,EAAO,KACMt8C,OAAGk8C,EACnC,CAKQK,CADMV,GAAYC,GACCO,EAC3B,CCmRO,MAAMG,GAAe,IA9T5B,MAAmBn8C,WAAAA,GAAA,KACVo8C,MAA+B,KAAI,KACnCn8C,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQm8C,UAAuC,KAAI,KAC3CC,WAAqC,KAAI,KACzCC,WAAqC,KAAI,KACzCC,SAA6B,KAAI,KACjCC,UAA8B,KAAI,KAClCC,UAA8B,KAAI,KAClCC,WAAY,CAAK,CAEzB,UAAM97C,GACL,IAAIC,KAAKb,YAET,UAEOc,GAAAA,KAGND,KAAKs7C,MAAQ,IAAIr7C,GAAAA,GAAeA,GAAAA,GAAY,CAC3CC,WAAY,CACXC,KAAM,QAEPC,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,MAERE,gBAGHV,KAAKs7C,MAAM76C,OAAOmL,OAAS,GAG3B5L,KAAK87C,YAEL97C,KAAKb,aAAc,CACpB,CAAE,MAAOm2B,GACRC,QAAQD,MAAM,8BAA+BA,EAC9C,CACD,CAEQwmB,SAAAA,GAEP97C,KAAKu7C,UAAY,IAAIt7C,GAAAA,GAAmB,CACvCU,WAAY,IACZC,QAAS,EACTV,WAAY,CAAEC,KAAM,QACpBC,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKC,QAAS,IAAMC,QAAS,OAC7DE,gBACHV,KAAKu7C,UAAU96C,OAAOmL,OAAS,EAG/B5L,KAAKw7C,WAAa,IAAIv7C,GAAAA,GAAgB,CACrCG,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKE,QAAS,KAChDu7C,YAAa,IACbC,gBAAiB,GACjBC,UAAW,IACXr7C,QAAS,MACPF,gBACHV,KAAKw7C,WAAW/6C,OAAOmL,OAAS,GAGhC5L,KAAKy7C,WAAa,IAAIx7C,GAAAA,GAAgB,CACrCY,MAAO,CAAEV,KAAM,SACfC,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKC,QAAS,EAAGC,QAAS,MAC1DE,gBACHV,KAAKy7C,WAAWh7C,OAAOmL,OAAS,EACjC,CAEAswC,mBAAAA,CACCC,EACAv8B,GAEQ,IADRw8B,EAAajkC,UAAAhW,OAAA,QAAAnD,IAAAmZ,UAAA,GAAAA,UAAA,GAAG,EAEZnY,KAAK67C,WAAa77C,KAAKZ,QAE3Ba,GAAAA,GAAek8C,IAAIvwC,MAAQuwC,EAEb,UAAVv8B,EACW,IAAVw8B,GAEHp8C,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAAD86C,EAChCr8C,KAAKZ,OACK,QAAdi9C,EAAAr8C,KAAKu7C,iBAAS,IAAAc,GAAdA,EAAgB76C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAAD+6C,EACjCt8C,KAAKZ,OAAsB,QAAfk9C,EAAAt8C,KAAKw7C,kBAAU,IAAAc,GAAfA,EAAiB96C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,KAGfrS,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAADg7C,EAChCv8C,KAAKZ,OACK,QAAdm9C,EAAAv8C,KAAKu7C,iBAAS,IAAAgB,GAAdA,EAAgB/6C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK47C,UAAY,IAAI37C,GAAAA,GAAUsB,IAAS,IAADi7C,EACjCx8C,KAAKZ,OAAsB,QAAfo9C,EAAAx8C,KAAKy7C,kBAAU,IAAAe,GAAfA,EAAiBh7C,qBAAqB,KAAMD,IAC3D,MAAM8Q,MAAM,MAGfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAADk7C,EACjCz8C,KAAKZ,OAAsB,QAAfq9C,EAAAz8C,KAAKw7C,kBAAU,IAAAiB,GAAfA,EAAiBj7C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,OAEI,YAAVuN,EACI,IAAVw8B,GAEHp8C,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAADm7C,EAChC18C,KAAKZ,OACK,QAAds9C,EAAA18C,KAAKu7C,iBAAS,IAAAmB,GAAdA,EAAgBl7C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK47C,UAAY,IAAI37C,GAAAA,GAAUsB,IAAS,IAADo7C,EACjC38C,KAAKZ,OAAsB,QAAfu9C,EAAA38C,KAAKy7C,kBAAU,IAAAkB,GAAfA,EAAiBn7C,qBAAqB,KAAMD,IAC3D,MAAM8Q,MAAM,MAEfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAADq7C,EACjC58C,KAAKZ,OAAsB,QAAfw9C,EAAA58C,KAAKw7C,kBAAU,IAAAoB,GAAfA,EAAiBp7C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,KAGfrS,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAADs7C,EAChC78C,KAAKZ,OACK,QAAdy9C,EAAA78C,KAAKu7C,iBAAS,IAAAsB,GAAdA,EAAgBr7C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK47C,UAAY,IAAI37C,GAAAA,GAAUsB,IAAS,IAADu7C,EACjC98C,KAAKZ,OAAsB,QAAf09C,EAAA98C,KAAKy7C,kBAAU,IAAAqB,GAAfA,EAAiBt7C,qBAAqB,KAAMD,IAC3D,MAAM8Q,MAAM,MAEfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAADw7C,EACjC/8C,KAAKZ,OAAsB,QAAf29C,EAAA/8C,KAAKw7C,kBAAU,IAAAuB,GAAfA,EAAiBv7C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,IAIF,IAAV+pC,GAEHp8C,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAADy7C,EAChCh9C,KAAKZ,OACK,QAAd49C,EAAAh9C,KAAKu7C,iBAAS,IAAAyB,GAAdA,EAAgBx7C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK47C,UAAY,IAAI37C,GAAAA,GAAUsB,IAAS,IAAD07C,EACjCj9C,KAAKZ,OAAsB,QAAf69C,EAAAj9C,KAAKy7C,kBAAU,IAAAwB,GAAfA,EAAiBz7C,qBAAqB,KAAMD,IAC3D,MAAM8Q,MAAM,MAEfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAAD27C,EACjCl9C,KAAKZ,OAAsB,QAAf89C,EAAAl9C,KAAKw7C,kBAAU,IAAA0B,GAAfA,EAAiB17C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,KAGfrS,KAAK07C,SAAW,IAAIz7C,GAAAA,GAAUsB,IAAS,IAAD47C,EAChCn9C,KAAKZ,OACK,QAAd+9C,EAAAn9C,KAAKu7C,iBAAS,IAAA4B,GAAdA,EAAgB37C,qBAAqB,KAAM,KAAMD,IAChD,MAAM8Q,MAAM,GAEfrS,KAAK47C,UAAY,IAAI37C,GAAAA,GAAUsB,IAAS,IAAD67C,EACjCp9C,KAAKZ,OAAsB,QAAfg+C,EAAAp9C,KAAKy7C,kBAAU,IAAA2B,GAAfA,EAAiB57C,qBAAqB,KAAMD,IAC3D,MAAM8Q,MAAM,MAEfrS,KAAK27C,UAAY,IAAI17C,GAAAA,GAAUsB,IAAS,IAAD87C,EACjCr9C,KAAKZ,OAAsB,QAAfi+C,EAAAr9C,KAAKw7C,kBAAU,IAAA6B,GAAfA,EAAiB77C,qBAAqB,MAAOD,IAC5D,MAAM8Q,MAAM,IAIjBpS,GAAAA,GAAeoS,QACfrS,KAAK67C,WAAY,EAClB,CAEAyB,kBAAAA,GAA4B,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC1B39C,GAAAA,GAAekqB,OACF,QAAbozB,EAAAv9C,KAAK07C,gBAAQ,IAAA6B,GAAbA,EAAepzB,OACD,QAAdqzB,EAAAx9C,KAAK27C,iBAAS,IAAA6B,GAAdA,EAAgBrzB,OACF,QAAdszB,EAAAz9C,KAAK47C,iBAAS,IAAA6B,GAAdA,EAAgBtzB,OACH,QAAbuzB,EAAA19C,KAAK07C,gBAAQ,IAAAgC,GAAbA,EAAer6C,UACD,QAAds6C,EAAA39C,KAAK27C,iBAAS,IAAAgC,GAAdA,EAAgBt6C,UACF,QAAdu6C,EAAA59C,KAAK47C,iBAAS,IAAAgC,GAAdA,EAAgBv6C,UAChBrD,KAAK07C,SAAW,KAChB17C,KAAK27C,UAAY,KACjB37C,KAAK47C,UAAY,KACjB57C,KAAK67C,WAAY,CAClB,CAEAgC,mBAAAA,GACK79C,KAAK67C,WACR57C,GAAAA,GAAeqS,OAEjB,CAEAwrC,oBAAAA,GACK99C,KAAK67C,YAAc77C,KAAKZ,OAC3Ba,GAAAA,GAAeoS,OAEjB,CAEA0rC,SAAAA,CAAU5B,GACTl8C,GAAAA,GAAek8C,IAAIvwC,MAAQuwC,CAC5B,CAEA6B,QAAAA,CAASnqC,GACR,IAAK7T,KAAKb,cAAgBa,KAAKs7C,OAASt7C,KAAKZ,MAAO,OAEpD,MAAMu7C,EAAQH,GAAa3mC,GACvB8mC,GACH36C,KAAKs7C,MAAM95C,qBAAqBm5C,EAAO,KAEzC,CAEAsD,WAAAA,CAAYpqC,GACX,IAAK7T,KAAKb,cAAgBa,KAAKs7C,OAASt7C,KAAKZ,MAAO,OAGpD,MAAM8+C,EAAY1D,GAAa3mC,GAC/B,GAAIqqC,EAAW,CACdl+C,KAAKs7C,MAAM95C,qBAAqB08C,EAAW,MAE3C,MAAMC,EAAYD,EAAUjvB,QAAQ,IAAK,KACzCnkB,WAAW,KACN9K,KAAKs7C,QAAUt7C,KAAKZ,OACvBY,KAAKs7C,MAAM95C,qBAAqB28C,EAAW,WAAOn/C,EAAW,KAE5D,GACJ,CACD,CAOAo/C,eAAAA,CAAgBzD,GACV36C,KAAKb,aAAgBa,KAAKs7C,QAASt7C,KAAKZ,OAC7CY,KAAKs7C,MAAM95C,qBAAqBm5C,EAAO,KACxC,CAKA0D,sBAAAA,CAAuB1D,GACtB,IAAK36C,KAAKb,cAAgBa,KAAKs7C,OAASt7C,KAAKZ,MAAO,OAGpDY,KAAKs7C,MAAM95C,qBAAqBm5C,EAAO,MAGvC,MAAMwD,ED/MD,SAAyBxD,EAAe/5C,GAC9C,OAAOq6C,GAAeN,EAAiB,GAAV/5C,EAC9B,CC6MoB09C,CAAgB3D,EAAO,GACzC7vC,WAAW,KACN9K,KAAKs7C,QAAUt7C,KAAKZ,OACvBY,KAAKs7C,MAAM95C,qBAAqB28C,EAAW,WAAOn/C,EAAW,KAE5D,GACJ,CAEAu/C,QAAAA,GACMv+C,KAAKb,aAAgBa,KAAKs7C,QAASt7C,KAAKZ,OAG7CY,KAAKs7C,MAAM95C,qBAAqB,CAAC,KAAM,OAAQ,WAAOxC,EAAW,GAClE,CAEAuD,SAAAA,GACC,IAAKvC,KAAKb,cAAgBa,KAAKs7C,OAASt7C,KAAKZ,MAAO,OAGtC,CAAC,KAAM,KAAM,KAAM,MAC3B0D,QAAQ,CAACT,EAAMU,KACpB+H,WAAW,KACN9K,KAAKs7C,QAAUt7C,KAAKZ,OACvBY,KAAKs7C,MAAM95C,qBAAqBa,EAAM,WAAOrD,EAAW,KAEnD,GAAJ+D,IAEL,CAEAI,QAAAA,CAAS/D,GACRY,KAAKZ,MAAQA,EACTA,EACHY,KAAK69C,sBACK79C,KAAK67C,WACf77C,KAAK89C,sBAEP,CAEA16C,OAAAA,GACC,OAAOpD,KAAKZ,KACb,CAEAiE,OAAAA,GACCrD,KAAKs9C,qBACDt9C,KAAKs7C,QACRt7C,KAAKs7C,MAAMj4C,UACXrD,KAAKs7C,MAAQ,MAEVt7C,KAAKu7C,YACRv7C,KAAKu7C,UAAUl4C,UACfrD,KAAKu7C,UAAY,MAEdv7C,KAAKw7C,aACRx7C,KAAKw7C,WAAWn4C,UAChBrD,KAAKw7C,WAAa,MAEfx7C,KAAKy7C,aACRz7C,KAAKy7C,WAAWp4C,UAChBrD,KAAKy7C,WAAa,MAEnBz7C,KAAKb,aAAc,CACpB,GCtTYq/C,GAAoB,CAChCC,SAAU,CACT5gD,GAAI,eACJiS,MAAO,kBACP4uC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAI9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAI/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAI/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAK/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,SAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,IC9EIuhC,GAA2B,CACvCP,SAAU,CACT5gD,GAAI,yBACJiS,MAAO,yBACP4uC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,SAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,ICjEIwhC,GAAqB,CACjCR,SAAU,CACT5gD,GAAI,iBACJiS,MAAO,iBACP4uC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,SAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,ICjEIyhC,GAAoB,CAChCT,SAAU,CACT5gD,GAAI,eACJiS,MAAO,eACP4uC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,SAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,IC5EI0hC,GAAkB,CAC9BV,SAAU,CACT5gD,GAAI,cACJiS,MAAO,wBACP4uC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GAGjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GAEjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,SAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,IChFI2hC,GAAiB,CAC7BX,SAAU,CACT5gD,GAAI,aACJiS,MAAO,aACP4uC,OAAQ,YACRC,WAAY,OACZxC,IAAK,IACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAI/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,KAAMjE,MAAO,KAAM9mC,KAAM,GACjC,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,IAEhCvN,WAAY,CACXu4C,YAAa,WAEd/0B,KAAM,CACLg1B,UAAW,EACXC,QAAS,GACTthC,MAAO,ICnGI4hC,GAAsB,CAClCZ,SAAU,CACT5gD,GAAI,kBACJiS,MAAO,kBACP4uC,OAAQ,cACRC,WAAY,OACZxC,IAAK,IACLvsB,SAAU,IAEXhtB,MAAO,CAEN,CAAEg8C,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAC9B,CAAE+qC,KAAM,EAAGjE,MAAO,KAAM9mC,KAAM,GAG9B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAG/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAE/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC,KAAM,GAAIjE,MAAO,KAAM9mC,KAAM,GAC/B,CAAE+qC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","sources":["components/Content/PageNavigation/PageNavigation.tsx","components/Content/Games/candy-crush/utils/audioManager.ts","components/Content/Games/candy-crush/constants.ts","components/icons/BrowserIcons.tsx","components/Content/BrowserWindow/ThemeDropdown.tsx","components/Content/BrowserWindow/SettingsDropdown.tsx","components/Content/BrowserWindow/NameChangeModal.tsx","components/Content/BrowserWindow/BrowserWindow.tsx","components/Content/Games/ui/GameCard.tsx","components/Content/Games/ui/GameOverlay.tsx","components/Content/Games/racing/constants.ts","components/Content/Games/racing/utils/math.ts","components/Content/Games/racing/engine/road.ts","components/Content/Games/racing/engine/physics.ts","components/Content/Games/racing/engine/render.ts","components/Content/Games/racing/engine/gameLoop.ts","utils/functions.ts","components/Content/Games/racing/components/HUD.tsx","components/Content/Games/racing/components/BillboardStats.tsx","components/Content/Games/ui/GameCanvas.tsx","utils/haptics.ts","components/Content/Games/ui/ControlIcons.tsx","components/Content/Games/ui/GameControls.tsx","components/Content/Games/racing/game.tsx","components/Content/Games/racing/hooks/useCarGame.ts","components/Content/Games/tetris/hooks/useBoard.tsx","components/Content/Games/ui/GameHeader.tsx","components/Content/Games/tetris/utils/audioManager.ts","components/Content/Games/tetris/game.tsx","components/Content/Games/tetris/hooks/usePlayer.ts","components/Content/Games/tetris/hooks/useInterval.ts","components/Content/Games/snake/types.ts","components/Content/Games/snake/utils/audioManager.ts","components/Content/Games/snake/game.tsx","components/Content/Games/snake/index.tsx","components/Content/Games/snake/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/utils/audioManager.ts","components/Content/Games/flappy-bird/hooks/useFlappyAnimation.ts","components/Content/Games/flappy-bird/hooks/useCanvas.ts","components/Content/Games/flappy-bird/game.tsx","components/Content/Games/flappy-bird/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/index.tsx","components/Content/Games/breakout/utils/audioManager.ts","components/Content/Games/breakout/constants.ts","components/Content/Games/breakout/utils/brickHelpers.ts","components/Content/Games/breakout/utils/collisionHelpers.ts","components/Content/Games/breakout/game.tsx","components/Content/Games/breakout/utils/drawingHelpers.ts","components/Content/Games/penalty-shootout/index.tsx","components/Content/Games/candy-crush/index.tsx","components/Content/Games/rhythm-highway/constants.ts","components/Content/Games/rhythm-highway/utils/laneAssigner.ts","components/Content/Games/rhythm-highway/utils/audioManager.ts","components/Content/Games/rhythm-highway/songs/twinkle-star.ts","components/Content/Games/rhythm-highway/songs/mary-had-a-little-lamb.ts","components/Content/Games/rhythm-highway/songs/hot-cross-buns.ts","components/Content/Games/rhythm-highway/songs/jingle-bells.ts","components/Content/Games/rhythm-highway/songs/row-row-row.ts","components/Content/Games/rhythm-highway/songs/ode-to-joy.ts","components/Content/Games/rhythm-highway/songs/when-the-saints.ts","components/Content/Games/rhythm-highway/songs/oh-susanna.ts","components/Content/Games/rhythm-highway/songs/london-bridge.ts","components/Content/Games/rhythm-highway/songs/happy-birthday.ts","components/Content/Games/rhythm-highway/songs/canon-in-d.ts","components/Content/Games/rhythm-highway/songs/entertainer.ts","components/Content/Games/rhythm-highway/songs/minuet-in-g.ts","components/Content/Games/rhythm-highway/songs/turkish-march.ts","components/Content/Games/rhythm-highway/songs/greensleeves.ts","components/Content/Games/rhythm-highway/songs/fur-elise.ts","components/Content/Games/rhythm-highway/songs/moonlight-sonata.ts","components/Content/Games/rhythm-highway/songs/hungarian-dance.ts","components/Content/Games/rhythm-highway/songs/mountain-king.ts","components/Content/Games/rhythm-highway/songs/carmen-habanera.ts","components/Content/Games/rhythm-highway/songs/electronic-beat.ts","components/Content/Games/rhythm-highway/songs/neon-pulse.ts","components/Content/Games/rhythm-highway/songs/digital-storm.ts","components/Content/Games/rhythm-highway/songs/cyber-chase.ts","components/Content/Games/rhythm-highway/songs/synth-wave.ts","components/Content/Games/rhythm-highway/songs/index.ts","components/Content/Games/rhythm-highway/index.tsx","components/Content/Games/game-selector.tsx","components/Content/Content.tsx"],"sourcesContent":["import React from 'react';\nimport './PageNavigation.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\n\ninterface PageNavigationProps {\n  currentSection: string;\n  onNavigate: (action: string) => void;\n  lang?: Language;\n}\n\nconst PageNavigation: React.FC<PageNavigationProps> = ({ currentSection, onNavigate, lang = 'en' }) => {\n  const t = getTranslations(lang);\n  const navItems = [\n    { id: '', label: t.navigation.home, icon: '' },\n    { id: 'goTo-about', label: t.navigation.about, icon: '' },\n    { id: 'goTo-work', label: t.navigation.work, icon: '' },\n    { id: 'goTo-portfolio', label: t.navigation.portfolio, icon: '' },\n    { id: 'goTo-contact', label: t.navigation.contact, icon: '' },\n    { id: 'goTo-games', label: t.navigation.games, icon: '' },\n  ];\n\n  const getActiveClass = (itemId: string) => {\n    return currentSection === itemId ? 'active' : '';\n  };\n\n  return (\n    <div className=\"page-navigation\">\n      <div className=\"nav-container\">\n        {navItems.map((item) => (\n          <button\n            key={item.id}\n            className={`nav-item ${getActiveClass(item.id)}`}\n            onClick={() => onNavigate(item.id)}\n            aria-current={currentSection === item.id ? 'page' : undefined}\n          >\n            <span className=\"nav-icon\">{item.icon}</span>\n            <span className=\"nav-label\">{item.label}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PageNavigation;\n","import * as Tone from 'tone'\n\nexport type BombSoundType = 'cross' | 'radius'\n\nexport class CandyCrushAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastBassTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate lastUiTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015 // 15ms minimum between triggers\n\n\t// Synthesizers\n\tprivate uiSynth: Tone.Synth | null = null\n\tprivate popSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\t// Start audio context (requires user gesture)\n\t\tawait Tone.start()\n\n\t\t// UI synth - soft clicks (triangle wave for soft sound)\n\t\tthis.uiSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Pop synth - match clear sounds (sine for clean pops)\n\t\tthis.popSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bass synth - deep booms for match5 and bombs\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Bell synth - chimes for combos and score\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Noise synth - error buzz and explosion texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -20,\n\t\t}).toDestination()\n\n\t\t// Melody synth - win/lose fanfares (triangle for musical quality)\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Helper to get safe trigger time for monophonic synths\n\tprivate getSafeTime(\n\t\tlastTime: number,\n\t\tsynthKey: 'bass' | 'noise' | 'ui'\n\t): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\t// Update the tracked time\n\t\tif (synthKey === 'bass') this.lastBassTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\t\telse if (synthKey === 'ui') this.lastUiTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Soft click when selecting a candy\n\tplaySelect(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tthis.uiSynth.triggerAttackRelease('C6', '32n', time)\n\t}\n\n\t// Quick whoosh when swapping candies\n\tplaySwap(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time1 = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tconst time2 = time1 + 0.05\n\t\tthis.lastUiTime = time2 // Update to the last scheduled time\n\n\t\tthis.uiSynth.triggerAttackRelease('G5', '32n', time1)\n\t\tthis.uiSynth.triggerAttackRelease('E5', '32n', time2)\n\t}\n\n\t// Error buzz for invalid move\n\tplayInvalidMove(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('16n', noiseTime)\n\t\t}\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('E2', '16n', bassTime)\n\t\t}\n\t}\n\n\t// Light pop for match-3\n\tplayMatch3(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tthis.popSynth.triggerAttackRelease('E5', '16n')\n\t}\n\n\t// Fuller pop with sparkle for match-4\n\tplayMatch4(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', now)\n\t\tthis.popSynth.triggerAttackRelease('G5', '32n', now + 0.05)\n\t}\n\n\t// Deep boom with chord for match-5+\n\tplayMatch5(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '8n', bassTime)\n\t\t}\n\t\tif (this.bellSynth) {\n\t\t\tthis.bellSynth.triggerAttackRelease(\n\t\t\t\t['C4', 'E4', 'G4'],\n\t\t\t\t'8n',\n\t\t\t\tbassTime + 0.05\n\t\t\t)\n\t\t}\n\t}\n\n\t// Helper to select appropriate match sound based on length\n\tplayMatchSound(length: number): void {\n\t\tif (length >= 5) {\n\t\t\tthis.playMatch5()\n\t\t} else if (length === 4) {\n\t\t\tthis.playMatch4()\n\t\t} else {\n\t\t\tthis.playMatch3()\n\t\t}\n\t}\n\n\t// Explosive sound for bombs\n\tplayBombExplode(type?: BombSoundType): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\t// Get safe times for each synth to avoid timing conflicts in chain reactions\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\t// Bass impact\n\t\tif (this.bassSynth) {\n\t\t\tconst note = type === 'cross' ? 'C1' : 'E1'\n\t\t\tthis.bassSynth.triggerAttackRelease(note, '4n', bassTime)\n\t\t}\n\n\t\t// Noise burst\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\n\t\t// Sparkle aftermath (bellSynth is polyphonic, no timing issues)\n\t\tif (this.bellSynth) {\n\t\t\tconst sparkleNotes =\n\t\t\t\ttype === 'cross' ? ['G5', 'B5', 'D6'] : ['E5', 'G5', 'B5']\n\t\t\tthis.bellSynth.triggerAttackRelease(sparkleNotes, '16n', bassTime + 0.1)\n\t\t}\n\t}\n\n\t// Escalating chimes for combo chains\n\tplayCombo(chainLevel: number): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\n\t\t// Base notes that escalate with chain level\n\t\tconst baseNotes = ['C5', 'E5', 'G5', 'B5', 'D6', 'F6']\n\t\tconst numNotes = Math.min(chainLevel, baseNotes.length)\n\t\tconst notes = baseNotes.slice(0, numNotes)\n\n\t\tconst now = Tone.now()\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Coin ding for score popup\n\tplayScorePopup(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tthis.bellSynth.triggerAttackRelease('G6', '32n')\n\t}\n\n\t// Victory fanfare - ascending arpeggio with final chord\n\tplayWin(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5', 'E5', 'G5']\n\n\t\t// Play ascending arpeggio\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '16n', now + i * 0.1)\n\t\t})\n\n\t\t// Final triumphant chord\n\t\tthis.melodySynth.triggerAttackRelease(\n\t\t\t['C5', 'E5', 'G5', 'C6'],\n\t\t\t'4n',\n\t\t\tnow + 0.7\n\t\t)\n\t}\n\n\t// Sad descending phrase for lose\n\tplayLose(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\n\t\tphrase.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '8n', now + i * 0.25)\n\t\t})\n\t}\n\n\t// Mute control\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\t// Cleanup all synths\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.uiSynth?.dispose()\n\t\tthis.popSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.uiSynth = null\n\t\tthis.popSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance for easy access\nexport const candyCrushAudio = new CandyCrushAudioManager()\n","// Game dimensions\nexport const GAME_WIDTH = 400\nexport const GAME_HEIGHT = 600\n\n// Grid settings\nexport const GRID = {\n\tsize: 8,\n\tcellSize: 44,\n\toffsetX: 20, // Centered: (400 - 359) / 2  20\n\toffsetY: 132, // Below header (98) + progress bar (114) + spacing\n\tgap: 1,\n}\n\n// Calculated grid dimensions\nexport const GRID_PIXEL_SIZE =\n\tGRID.size * GRID.cellSize + (GRID.size - 1) * GRID.gap\n\n// Bomb configuration\nexport interface BombConfig {\n\tspawnChance: number // 0.0-1.0 for random spawn when filling\n\tmatchSpawnChance: number // 0.0-1.0 for 4+ match rewards\n}\n\n// Level configuration\nexport interface LevelConfig {\n\tlevel: number\n\tmoves: number\n\ttargetScore: number\n\tcandyTypes: number\n\tbombConfig?: BombConfig\n}\n\nexport const LEVELS: LevelConfig[] = [\n\t{ level: 1, moves: 30, targetScore: 800, candyTypes: 5 },\n\t{ level: 2, moves: 30, targetScore: 1200, candyTypes: 5 },\n\t{\n\t\tlevel: 3,\n\t\tmoves: 28,\n\t\ttargetScore: 1500,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.02, matchSpawnChance: 0.15 },\n\t},\n\t{\n\t\tlevel: 4,\n\t\tmoves: 25,\n\t\ttargetScore: 1800,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.03, matchSpawnChance: 0.2 },\n\t},\n\t{\n\t\tlevel: 5,\n\t\tmoves: 22,\n\t\ttargetScore: 2000,\n\t\tcandyTypes: 7,\n\t\tbombConfig: { spawnChance: 0.04, matchSpawnChance: 0.25 },\n\t},\n]\n\n// Default gameplay settings (used as fallback)\nexport const GAMEPLAY = {\n\tdefaultCandyTypes: 6,\n\tdefaultMoves: 30,\n\tdefaultTargetScore: 1000,\n}\n\n// Scoring\nexport const SCORING = {\n\tmatch3: 30,\n\tmatch4: 60,\n\tmatch5: 100,\n\tmatchLT: 80,\n\tchainBonus: 10, // Per chain level above 1\n\tmovesBonus: 20, // Points per remaining move on win\n}\n\n// Bomb candy frames in spritesheet\nexport const BOMB_FRAMES = {\n\tcross: 7, // Frame 7 - cross/+ pattern bomb\n\tradius: 8, // Frame 8 - 3x3 radius bomb\n}\n\n// Bomb scoring\nexport const BOMB_SCORING = {\n\tcrossActivation: 150, // Base points for cross bomb activation\n\tradiusActivation: 100, // Base points for radius bomb activation\n\tperCandyCleared: 10, // Bonus per candy cleared by bomb\n}\n\n// Special candy combo points\nexport const COMBO_POINTS = {\n\tstripedStriped: 300,\n\tstripedWrapped: 500,\n\twrappedWrapped: 400,\n\tbombStriped: 600,\n\tbombWrapped: 700,\n\tbombBomb: 1000,\n}\n\n// Animation timings (ms)\nexport const ANIMATION = {\n\tswapDuration: 200,\n\tclearDuration: 150,\n\tdropDurationPerRow: 80,\n\tfillDuration: 150,\n\tselectScale: 1.15,\n\tselectDuration: 100,\n\tscorePopupDuration: 800,\n\tchainIndicatorDuration: 1000,\n}\n\n// Candy colors (for procedural drawing fallback)\n// Supports up to 9 candy types for harder difficulty levels\nexport const CANDY_COLORS = [\n\t0xe91e63, // Red/Pink\n\t0xff9800, // Orange\n\t0xffeb3b, // Yellow\n\t0x4caf50, // Green\n\t0x2196f3, // Blue\n\t0x9c27b0, // Purple\n\t0x00bcd4, // Cyan/Teal\n\t0x795548, // Brown\n\t0x607d8b, // Blue Grey\n]\n\n// UI Colors\nexport const COLORS = {\n\tbackground: 0x1a1a2e,\n\tgridBackground: 0x16213e,\n\tgridBorder: 0x0f3460,\n\ttextPrimary: 0xffffff,\n\ttextSecondary: 0xe94560,\n\tscorePopup: 0xffd700,\n\tchainIndicator: 0xff6b6b,\n\t// Header UI colors\n\theaderPanel: 0x16213e,\n\theaderBorder: 0x0f3460,\n\tstatCardBg: 0x1a1a2e,\n\ttargetAccent: 0xe94560,\n\tscoreAccent: 0xffd700,\n\tmovesAccent: 0x4fc3f7,\n}\n\n// UI element positions - aligned with grid background (x: 10, width: 379)\nexport const UI = {\n\theader: {\n\t\tx: 10,\n\t\ty: 10,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 88,\n\t\tborderRadius: 16,\n\t\tpadding: 12,\n\t},\n\t// Stat cards within header\n\tstatCard: {\n\t\twidth: 108,\n\t\theight: 64,\n\t\tborderRadius: 12,\n\t\tgap: 10,\n\t\taccentHeight: 18, // Height of the colored top bar with label\n\t},\n\t// Text positions centered in each card (below the accent bar)\n\t// Card Y = 22, accent = 18px, remaining = 46px, center = 22 + 18 + 23 = 63\n\tscoreDisplay: {\n\t\tx: GAME_WIDTH / 2,\n\t\ty: 63,\n\t},\n\tmovesDisplay: {\n\t\tx: 10 + GRID_PIXEL_SIZE + 20 - 12 - 108 / 2, // header.x + header.width - padding - cardWidth/2\n\t\ty: 63,\n\t},\n\ttargetDisplay: {\n\t\tx: 10 + 12 + 108 / 2, // header.x + padding + cardWidth/2 = 76\n\t\ty: 63,\n\t},\n\tprogressBar: {\n\t\tx: 10,\n\t\ty: 106,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 8,\n\t\tborderRadius: 4,\n\t},\n}\n\n// Candy sprite settings\nexport const CANDY_SPRITE = {\n\tsize: 84, // Spritesheet frame size\n\tdisplaySize: 42, // Actual display size\n\tspecialOverlaySize: 42,\n\tbaseScale: 42 / 84, // Scale needed to display at displaySize\n}\n\n// Match patterns for special candy creation\nexport const SPECIAL_PATTERNS = {\n\t// 4 in a row creates striped\n\tstriped: 4,\n\t// 5 in a row creates color bomb\n\tcolorBomb: 5,\n\t// L or T shape creates wrapped (checked separately)\n}\n","import React from 'react';\n\nexport const BackIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M10 3L5 8l5 5V3z\" />\n    <rect x=\"3\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const ForwardIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M6 3l5 5-5 5V3z\" />\n    <rect x=\"5\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC = () => (\n  <svg\n    viewBox=\"0 0 16 16\"\n    width=\"14\"\n    height=\"14\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"1.5\"\n  >\n    <path\n      d=\"M14 8a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 5.5 3.5\"\n      strokeLinecap=\"round\"\n    />\n    <polyline points=\"11 2 14 2 14 5\" />\n  </svg>\n);\n\nexport const StopIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <rect x=\"4\" y=\"4\" width=\"8\" height=\"8\" />\n  </svg>\n);\n\nexport const HomeIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M2 8l6-5 6 5v5a1 1 0 0 1-1 1H9v-4H7v4H3a1 1 0 0 1-1-1V8z\" />\n    <polygon points=\"8,1 1,7 2,8 8,3 14,8 15,7\" />\n  </svg>\n);\n","import React from 'react';\n\ninterface ThemeDropdownProps {\n  currentTheme: string;\n  onSelectTheme: (theme: string) => void;\n  themes: {\n    classic: string;\n    vaporwave: string;\n    terminal: string;\n  };\n  variant?: 'menubar' | 'statusbar';\n}\n\nconst ThemeDropdown: React.FC<ThemeDropdownProps> = ({\n  currentTheme,\n  onSelectTheme,\n  themes,\n  variant = 'menubar',\n}) => {\n  const className = variant === 'statusbar' ? 'status-theme-dropdown' : 'theme-dropdown';\n\n  return (\n    <div className={className}>\n      <button\n        className={currentTheme === 'classic' ? 'active' : ''}\n        onClick={() => onSelectTheme('classic')}\n      >\n        {themes.classic}\n      </button>\n      <button\n        className={currentTheme === 'vaporwave' ? 'active' : ''}\n        onClick={() => onSelectTheme('vaporwave')}\n      >\n        {themes.vaporwave}\n      </button>\n      <button\n        className={currentTheme === 'terminal' ? 'active' : ''}\n        onClick={() => onSelectTheme('terminal')}\n      >\n        {themes.terminal}\n      </button>\n    </div>\n  );\n};\n\nexport default ThemeDropdown;\n","import React from 'react';\nimport { Language } from '../../../types/i18n';\n\ninterface SettingsDropdownProps {\n  lang: Language;\n  mode: 'night' | 'day' | '';\n  onSelectLang: (lang: Language) => void;\n  onSelectMode: (mode: 'night' | 'day') => void;\n  onChangeName: () => void;\n  onShowWelcome: () => void;\n  translations: {\n    language: string;\n    theme: string;\n    dayMode: string;\n    nightMode: string;\n    changeName: string;\n    showWelcome: string;\n  };\n}\n\nconst SettingsDropdown: React.FC<SettingsDropdownProps> = ({\n  lang,\n  mode,\n  onSelectLang,\n  onSelectMode,\n  onChangeName,\n  onShowWelcome,\n  translations,\n}) => {\n  return (\n    <div className=\"settings-dropdown\">\n      <div className=\"settings-section\">\n        <div className=\"settings-section-header\">{translations.language}</div>\n        <button\n          className={lang === 'en' ? 'active' : ''}\n          onClick={() => onSelectLang('en')}\n        >\n          English\n        </button>\n        <button\n          className={lang === 'es' ? 'active' : ''}\n          onClick={() => onSelectLang('es')}\n        >\n          Espaol\n        </button>\n      </div>\n      <div className=\"settings-separator\" />\n      <div className=\"settings-section\">\n        <div className=\"settings-section-header\">{translations.theme}</div>\n        <button\n          className={mode === 'day' ? 'active' : ''}\n          onClick={() => onSelectMode('day')}\n        >\n          {translations.dayMode}\n        </button>\n        <button\n          className={mode === 'night' ? 'active' : ''}\n          onClick={() => onSelectMode('night')}\n        >\n          {translations.nightMode}\n        </button>\n      </div>\n      <div className=\"settings-separator\" />\n      <button onClick={onChangeName}>{translations.changeName}</button>\n      <div className=\"settings-separator\" />\n      <button onClick={onShowWelcome}>{translations.showWelcome}</button>\n    </div>\n  );\n};\n\nexport default SettingsDropdown;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\n\ninterface NameChangeModalProps {\n  isOpen: boolean;\n  currentName: string;\n  onSave: (name: string) => void;\n  onClose: () => void;\n  lang: Language;\n}\n\nconst NameChangeModal: React.FC<NameChangeModalProps> = ({\n  isOpen,\n  currentName,\n  onSave,\n  onClose,\n  lang,\n}) => {\n  const [name, setName] = useState(currentName);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const t = getTranslations(lang);\n\n  useEffect(() => {\n    if (isOpen) {\n      setName(currentName);\n      setTimeout(() => inputRef.current?.focus(), 100);\n    }\n  }, [isOpen, currentName]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(name);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"name-modal-overlay\" onClick={onClose}>\n      <div className=\"name-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"name-modal-titlebar\">\n          <span>{t.browser.settings.changeName}</span>\n          <button className=\"name-modal-close\" onClick={onClose}>\n            \n          </button>\n        </div>\n        <form onSubmit={handleSubmit} className=\"name-modal-content\">\n          <label htmlFor=\"name-input\">{t.welcome.nameLabel}</label>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            id=\"name-input\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder={t.welcome.namePlaceholder}\n          />\n          <div className=\"name-modal-buttons\">\n            <button type=\"submit\" className=\"name-modal-ok\">\n              OK\n            </button>\n            <button type=\"button\" className=\"name-modal-cancel\" onClick={onClose}>\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default NameChangeModal;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './BrowserWindow.css';\nimport '../../../styles/themes/index.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\nimport { BackIcon, ForwardIcon, RefreshIcon, StopIcon, HomeIcon } from '../../icons';\nimport ThemeDropdown from './ThemeDropdown';\nimport SettingsDropdown from './SettingsDropdown';\nimport NameChangeModal from './NameChangeModal';\n\ninterface BrowserWindowProps {\n  currentSection: string;\n  children: React.ReactNode;\n  onNavigate: (action: string) => void;\n  onMinimize?: () => void;\n  onOpen?: () => void;\n  isMobile?: boolean;\n  browserOpen?: boolean;\n  browserMinimized?: boolean;\n  lang: Language;\n  mode: 'night' | 'day' | '';\n  setMode: (mode: 'night' | 'day' | '') => void;\n  setLang: (lang: Language) => void;\n  visitorName: string;\n  setName: (name: string) => void;\n  onShowWelcome: () => void;\n}\n\nconst BrowserWindow: React.FC<BrowserWindowProps> = ({\n  currentSection,\n  children,\n  onNavigate,\n  onMinimize,\n  onOpen,\n  isMobile = false,\n  browserOpen = true,\n  browserMinimized = false,\n  lang,\n  mode,\n  setMode,\n  setLang,\n  visitorName,\n  setName,\n  onShowWelcome,\n}) => {\n  const t = getTranslations(lang);\n  const [isMaximized, setIsMaximized] = useState(false);\n  const [showBSOD, setShowBSOD] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState<string>(() => {\n    return localStorage.getItem('browserTheme') || 'classic';\n  });\n  const [menubarThemeOpen, setMenubarThemeOpen] = useState(false);\n  const [statusbarThemeOpen, setStatusbarThemeOpen] = useState(false);\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [nameModalOpen, setNameModalOpen] = useState(false);\n  const menubarRef = useRef<HTMLDivElement>(null);\n  const statusbarRef = useRef<HTMLDivElement>(null);\n  const settingsRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menubarRef.current && !menubarRef.current.contains(event.target as Node)) {\n        setMenubarThemeOpen(false);\n      }\n      if (statusbarRef.current && !statusbarRef.current.contains(event.target as Node)) {\n        setStatusbarThemeOpen(false);\n      }\n      if (settingsRef.current && !settingsRef.current.contains(event.target as Node)) {\n        setSettingsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Sync isMaximized with browserOpen on mobile\n  useEffect(() => {\n    if (isMobile && browserOpen) {\n      setIsMaximized(true);\n    }\n  }, [isMobile, browserOpen]);\n\n  const setTheme = useCallback((theme: string, source: 'menubar' | 'statusbar') => {\n    setCurrentTheme(theme);\n    localStorage.setItem('browserTheme', theme);\n    if (source === 'menubar') {\n      setMenubarThemeOpen(false);\n    } else {\n      setStatusbarThemeOpen(false);\n    }\n  }, []);\n\n  const toggleMenubarTheme = useCallback(() => {\n    setMenubarThemeOpen(prev => !prev);\n  }, []);\n\n  const toggleStatusbarTheme = useCallback(() => {\n    setStatusbarThemeOpen(prev => !prev);\n  }, []);\n\n  const handleMenubarThemeSelect = useCallback((theme: string) => setTheme(theme, 'menubar'), [setTheme]);\n  const handleStatusbarThemeSelect = useCallback((theme: string) => setTheme(theme, 'statusbar'), [setTheme]);\n\n  const toggleSettings = useCallback(() => {\n    setSettingsOpen(prev => !prev);\n  }, []);\n\n  const handleSelectLang = useCallback((newLang: Language) => {\n    setLang(newLang);\n    setSettingsOpen(false);\n  }, [setLang]);\n\n  const handleSelectMode = useCallback((newMode: 'night' | 'day') => {\n    setMode(newMode);\n    setSettingsOpen(false);\n  }, [setMode]);\n\n  const handleChangeName = useCallback(() => {\n    setSettingsOpen(false);\n    setNameModalOpen(true);\n  }, []);\n\n  const handleSaveName = useCallback((newName: string) => {\n    setName(newName);\n    document.cookie = `name=${newName}`;\n  }, [setName]);\n\n  const handleShowWelcome = useCallback(() => {\n    setSettingsOpen(false);\n    onShowWelcome();\n  }, [onShowWelcome]);\n\n  const getSectionUrl = (section: string): string => {\n    const urls: { [key: string]: string } = {\n      '': 'http://maw.dev/index.html',\n      'goTo-about': 'http://maw.dev/about-me.htm',\n      'goTo-work': 'http://maw.dev/work/tech-stack.html',\n      'goTo-portfolio': 'http://maw.dev/portfolio/gallery.cgi',\n      'goTo-contact': 'http://maw.dev/contact/guestbook.php',\n    };\n    return urls[section] || 'http://maw.dev/';\n  };\n\n  const getSectionTitle = (section: string): string => {\n    const titles: { [key: string]: string } = {\n      '': t.browser.titles.home,\n      'goTo-about': t.browser.titles.about,\n      'goTo-work': t.browser.titles.work,\n      'goTo-portfolio': t.browser.titles.portfolio,\n      'goTo-contact': t.browser.titles.contact,\n      'goTo-games': t.browser.titles.games,\n    };\n    return titles[section] || t.browser.titles.home;\n  };\n\n  const handleBack = () => {\n    onNavigate('');\n  };\n\n  const handleHome = () => {\n    onNavigate('');\n  };\n\n  // Handle click on browser when mobile and hidden - opens it\n  const handleBrowserClick = () => {\n    if (isMobile && !browserOpen) {\n      onOpen?.();\n      setIsMaximized(true);\n    }\n  };\n\n  return (\n    <div\n      className={`browser-window ${isMaximized ? 'maximized' : ''} ${browserMinimized ? 'minimized' : ''}`}\n      onClick={handleBrowserClick}\n    >\n      {/* Title Bar */}\n      <div\n        className=\"browser-titlebar\"\n        onDoubleClick={() => {\n          if (!isMobile) {\n            setIsMaximized(!isMaximized);\n          }\n        }}\n      >\n        <div className=\"browser-titlebar-text\">\n          <span className=\"browser-icon\"></span>\n          {getSectionTitle(currentSection)}\n        </div>\n        <div className=\"browser-titlebar-controls\">\n          <button\n            className=\"titlebar-button minimize\"\n            aria-label=\"Minimize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile: only works when maximized, returns to hidden state\n                if (isMaximized) {\n                  setIsMaximized(false);\n                  onMinimize?.();\n                }\n              } else {\n                // Desktop: hide browser completely\n                onMinimize?.();\n              }\n            }}\n          >\n            _\n          </button>\n          <button\n            className=\"titlebar-button maximize\"\n            aria-label=\"Maximize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile when maximized: do nothing\n                if (isMaximized) return;\n                // Mobile when hidden: maximize\n                setIsMaximized(true);\n                onOpen?.();\n              } else {\n                // Desktop: toggle maximize\n                setIsMaximized(!isMaximized);\n              }\n            }}\n          >\n            \n          </button>\n          <button\n            className=\"titlebar-button close\"\n            aria-label=\"Close\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile && !isMaximized) {\n                // Mobile hidden state: do nothing\n                return;\n              }\n              // Desktop or mobile maximized: trigger BSOD\n              setShowBSOD(true);\n            }}\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      {/* Menu Bar */}\n      <div className=\"browser-menubar\">\n        <span className=\"menu-item\">{t.browser.menus.file}</span>\n        <span className=\"menu-item\">{t.browser.menus.edit}</span>\n        <span className=\"menu-item\">{t.browser.menus.view}</span>\n        <span className=\"menu-item\">{t.browser.menus.favorites}</span>\n        <div className=\"menu-item-wrapper\" ref={menubarRef}>\n          <span className=\"menu-item\" onClick={toggleMenubarTheme}>\n            {t.browser.menus.themes}\n          </span>\n          {menubarThemeOpen && (\n            <ThemeDropdown\n              currentTheme={currentTheme}\n              onSelectTheme={handleMenubarThemeSelect}\n              themes={t.browser.themes}\n              variant=\"menubar\"\n            />\n          )}\n        </div>\n        <div className=\"menu-item-wrapper\" ref={settingsRef}>\n          <span className=\"menu-item\" onClick={toggleSettings}>\n            {t.browser.settings.title}\n          </span>\n          {settingsOpen && (\n            <SettingsDropdown\n              lang={lang}\n              mode={mode}\n              onSelectLang={handleSelectLang}\n              onSelectMode={handleSelectMode}\n              onChangeName={handleChangeName}\n              onShowWelcome={handleShowWelcome}\n              translations={t.browser.settings}\n            />\n          )}\n        </div>\n        <span className=\"menu-item\">{t.browser.menus.help}</span>\n      </div>\n\n      {/* Navigation Bar */}\n      <div className=\"browser-navbar\">\n        <div className=\"nav-buttons\">\n          <button\n            className=\"nav-button back\"\n            onClick={handleBack}\n            disabled={currentSection === ''}\n            aria-label=\"Back\"\n          >\n            <BackIcon />\n          </button>\n          <button className=\"nav-button forward\" disabled aria-label=\"Forward\">\n            <ForwardIcon />\n          </button>\n          <button className=\"nav-button refresh\" aria-label=\"Refresh\">\n            <RefreshIcon />\n          </button>\n          <button className=\"nav-button stop\" aria-label=\"Stop\">\n            <StopIcon />\n          </button>\n          <button className=\"nav-button home\" onClick={handleHome} aria-label=\"Home\">\n            <HomeIcon />\n          </button>\n        </div>\n        <div className=\"nav-addressbar\">\n          <input\n            type=\"text\"\n            value={getSectionUrl(currentSection)}\n            readOnly\n            className=\"addressbar-input\"\n          />\n        </div>\n        <button className=\"nav-button go\">Go</button>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"browser-content\">\n        <div className={`browser-viewport theme-${currentTheme}`}>{children}</div>\n      </div>\n\n      {/* BSOD Easter Egg */}\n      {showBSOD && (\n        <div className=\"bsod-overlay\" onClick={() => setShowBSOD(false)}>\n          <div className=\"bsod-content\">\n            <h1>{t.browser.bsod.title}</h1>\n            <p className=\"bsod-main-text\">{t.browser.bsod.mainText}</p>\n            <p>{t.browser.bsod.collectingError}</p>\n            <p className=\"bsod-error\">{t.browser.bsod.errorCode}</p>\n            <p className=\"bsod-code\">{t.browser.bsod.stopCode}</p>\n            <p className=\"bsod-hint\">{t.browser.bsod.clickToRestart}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Status Bar */}\n      <div className=\"browser-statusbar\">\n        <div className=\"status-text\">{t.browser.statusDone}</div>\n        <div className=\"status-icons\">\n          <div className=\"status-theme-selector\" ref={statusbarRef}>\n            <button\n              className=\"status-theme-button\"\n              onClick={toggleStatusbarTheme}\n              aria-label={t.browser.menus.themes}\n            >\n               {t.browser.themes[currentTheme as keyof typeof t.browser.themes] || currentTheme}\n            </button>\n            {statusbarThemeOpen && (\n              <ThemeDropdown\n                currentTheme={currentTheme}\n                onSelectTheme={handleStatusbarThemeSelect}\n                themes={t.browser.themes}\n                variant=\"statusbar\"\n              />\n            )}\n          </div>\n          <span className=\"status-icon\"></span>\n          <span className=\"status-zone\">{t.browser.statusZone}</span>\n        </div>\n      </div>\n\n      {/* Name Change Modal */}\n      <NameChangeModal\n        isOpen={nameModalOpen}\n        currentName={visitorName}\n        onSave={handleSaveName}\n        onClose={() => setNameModalOpen(false)}\n        lang={lang}\n      />\n    </div>\n  );\n};\n\nexport default BrowserWindow;\n","import React from 'react'\n\ninterface GameCardProps {\n\ttitle: string\n\ticon?: string\n\tcolor?: string\n\tgradientFrom?: string\n\tgradientTo?: string\n\tonClick: () => void\n\tdescription?: string\n\tdisabled?: boolean\n}\n\nexport const GameCard: React.FC<GameCardProps> = ({\n\ttitle,\n\ticon,\n\tcolor,\n\tgradientFrom,\n\tgradientTo,\n\tonClick,\n\tdescription,\n\tdisabled = false,\n}) => {\n\tconst bgStyle =\n\t\tgradientFrom && gradientTo\n\t\t\t? {\n\t\t\t\t\tbackground: `linear-gradient(135deg, ${gradientFrom} 0%, ${gradientTo} 100%)`,\n\t\t\t\t}\n\t\t\t: { backgroundColor: color || '#4b5563' }\n\n\treturn (\n\t\t<button\n\t\t\tonClick={onClick}\n\t\t\tdisabled={disabled}\n\t\t\tclassName=\"game-card\"\n\t\t\tstyle={bgStyle}\n\t\t>\n\t\t\t{/* Hover Overlay */}\n\t\t\t<div className=\"game-card-overlay\" />\n\n\t\t\t{/* Content */}\n\t\t\t<div className=\"game-card-content\">\n\t\t\t\t{/* Icon */}\n\t\t\t\t{icon && <div className=\"game-card-icon\">{icon}</div>}\n\n\t\t\t\t{/* Title */}\n\t\t\t\t<h3 className=\"game-card-title\">{title}</h3>\n\n\t\t\t\t{/* Description */}\n\t\t\t\t{description && (\n\t\t\t\t\t<p className=\"game-card-description\">{description}</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Corner Accent */}\n\t\t\t<div className=\"game-card-accent-top\">\n\t\t\t\t<div className=\"game-card-accent-triangle\" />\n\t\t\t</div>\n\n\t\t\t{/* Bottom Accent */}\n\t\t\t<div className=\"game-card-accent-bottom\" />\n\t\t</button>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\n\ninterface GameOverlayProps {\n\ttype: 'start' | 'pause' | 'gameOver' | 'levelComplete' | 'custom'\n\ttitle?: string\n\tmessage?: string\n\tscore?: number\n\tlevel?: number\n\tbrandColor?: string\n\tonAction?: () => void\n\tactionText?: string\n\tcustomContent?: React.ReactNode\n\tshowPressToStart?: boolean\n\tlang?: string\n}\n\nexport const GameOverlay: React.FC<GameOverlayProps> = ({\n\ttype,\n\ttitle,\n\tmessage,\n\tscore,\n\tlevel,\n\tbrandColor = '#00d26a',\n\tonAction,\n\tactionText,\n\tcustomContent,\n\tshowPressToStart = true,\n}) => {\n\tconst [showBlink, setShowBlink] = useState(true)\n\n\tuseEffect(() => {\n\t\tif (showPressToStart && type === 'start') {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetShowBlink(prev => !prev)\n\t\t\t}, 500)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [showPressToStart, type])\n\n\tconst defaultTitles = {\n\t\tstart: ' LISTO PARA JUGAR',\n\t\tpause: ' PAUSA',\n\t\tgameOver: ' GAME OVER',\n\t\tlevelComplete: ' NIVEL COMPLETADO!',\n\t\tcustom: '',\n\t}\n\n\tconst displayTitle = title || defaultTitles[type]\n\n\treturn (\n\t\t<div className=\"game-overlay\">\n\t\t\t{/* Background Overlay */}\n\t\t\t<div className=\"game-overlay-bg\" />\n\n\t\t\t{/* Content Card */}\n\t\t\t<div className=\"game-overlay-card\">\n\t\t\t\t{/* Decorative Border Glow */}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-overlay-glow\"\n\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"game-overlay-content\">\n\t\t\t\t\t{/* Title */}\n\t\t\t\t\t{displayTitle && (\n\t\t\t\t\t\t<h2 className=\"game-overlay-title\">{displayTitle}</h2>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Score Display */}\n\t\t\t\t\t{score !== undefined && (\n\t\t\t\t\t\t<div className=\"game-overlay-score\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-label\">Puntuacin Final</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-value\">\n\t\t\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Display */}\n\t\t\t\t\t{level !== undefined && type === 'levelComplete' && (\n\t\t\t\t\t\t<div className=\"game-overlay-level\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-label\">Nivel</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-value\">{level}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Message */}\n\t\t\t\t\t{message && (\n\t\t\t\t\t\t<p className=\"game-overlay-message\">{message}</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Content */}\n\t\t\t\t\t{customContent}\n\n\t\t\t\t\t{/* Action Button or Press to Start */}\n\t\t\t\t\t{type === 'start' && showPressToStart && !onAction ? (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"game-overlay-blink\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: brandColor,\n\t\t\t\t\t\t\t\topacity: showBlink ? 1 : 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPRESIONA ESPACIO PARA COMENZAR\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : onAction && actionText ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t\tclassName=\"game-overlay-button\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: brandColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{actionText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","/**\n * Key codes for input handling\n */\nexport const KEY = {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  A: 65,\n  D: 68,\n  S: 83,\n  W: 87,\n  SPACE: 32,\n};\n\n/**\n * Road configuration constants\n */\nexport const ROAD = {\n  LENGTH: {\n    NONE: 0,\n    SHORT: 25,\n    MEDIUM: 50,\n    LONG: 100,\n  },\n  HILL: {\n    NONE: 0,\n    LOW: 20,\n    MEDIUM: 40,\n    HIGH: 60,\n  },\n  CURVE: {\n    NONE: 0,\n    EASY: 2,\n    MEDIUM: 4,\n    HARD: 6,\n  },\n};\n\n/**\n * Game colors\n */\nexport const COLORS = {\n  SKY: '#72D7EE',\n  TREE: '#005108',\n  FOG: '#005108',\n  LIGHT: {\n    road: '#6B6B6B',\n    grass: '#10AA10',\n    rumble: '#555555',\n    lane: '#CCCCCC',\n  },\n  DARK: {\n    road: '#696969',\n    grass: '#009A00',\n    rumble: '#BBBBBB',\n  },\n  START: {\n    road: 'white',\n    grass: 'white',\n    rumble: 'white',\n  },\n  FINISH: {\n    road: 'black',\n    grass: 'black',\n    rumble: 'black',\n  },\n};\n\n/**\n * Background layer configuration\n */\nexport const BACKGROUND = {\n  HILLS: { x: 5, y: 5, w: 1280, h: 480 },\n  SKY: { x: 5, y: 495, w: 1280, h: 480 },\n  TREES: { x: 5, y: 985, w: 1280, h: 480 },\n};\n\n/**\n * Sprite definitions\n */\nconst SPRITES_DEF = {\n  PALM_TREE: { x: 5, y: 5, w: 215, h: 540 },\n  BILLBOARD08: { x: 230, y: 5, w: 385, h: 265 },\n  TREE1: { x: 625, y: 5, w: 360, h: 360 },\n  DEAD_TREE1: { x: 5, y: 555, w: 135, h: 332 },\n  BILLBOARD09: { x: 150, y: 555, w: 328, h: 282 },\n  BOULDER3: { x: 230, y: 280, w: 320, h: 220 },\n  COLUMN: { x: 995, y: 5, w: 200, h: 315 },\n  BILLBOARD01: { x: 625, y: 375, w: 300, h: 170 },\n  BILLBOARD06: { x: 488, y: 555, w: 298, h: 190 },\n  BILLBOARD05: { x: 5, y: 897, w: 298, h: 190 },\n  BILLBOARD07: { x: 313, y: 897, w: 298, h: 190 },\n  BOULDER2: { x: 621, y: 897, w: 298, h: 140 },\n  TREE2: { x: 1205, y: 5, w: 282, h: 295 },\n  BILLBOARD04: { x: 1205, y: 310, w: 268, h: 170 },\n  DEAD_TREE2: { x: 1205, y: 490, w: 150, h: 260 },\n  BOULDER1: { x: 1205, y: 760, w: 168, h: 248 },\n  BUSH1: { x: 5, y: 1097, w: 240, h: 155 },\n  CACTUS: { x: 929, y: 897, w: 235, h: 118 },\n  BUSH2: { x: 255, y: 1097, w: 232, h: 152 },\n  BILLBOARD03: { x: 5, y: 1262, w: 230, h: 220 },\n  BILLBOARD02: { x: 245, y: 1262, w: 215, h: 220 },\n  STUMP: { x: 995, y: 330, w: 195, h: 140 },\n  SEMI: { x: 1365, y: 490, w: 122, h: 144 },\n  TRUCK: { x: 1365, y: 644, w: 100, h: 78 },\n  CAR03: { x: 1383, y: 760, w: 88, h: 55 },\n  CAR02: { x: 1383, y: 825, w: 80, h: 59 },\n  CAR04: { x: 1383, y: 894, w: 80, h: 57 },\n  CAR01: { x: 1205, y: 1018, w: 80, h: 56 },\n  PLAYER_UPHILL_LEFT: { x: 1383, y: 961, w: 80, h: 45 },\n  PLAYER_UPHILL_STRAIGHT: { x: 1295, y: 1018, w: 80, h: 45 },\n  PLAYER_UPHILL_RIGHT: { x: 1385, y: 1018, w: 80, h: 45 },\n  PLAYER_RIGHT: { x: 995, y: 480, w: 80, h: 41 },\n  PLAYER_STRAIGHT: { x: 1085, y: 480, w: 80, h: 41 },\n  PLAYER_LEFT: { x: 995, y: 531, w: 80, h: 41 },\n  COIN: { x: 1395, y: 1092, w: 60, h: 60 },\n};\n\n// Add computed properties\nconst SPRITES_COMPUTED = {\n  ...SPRITES_DEF,\n  SCALE: 0.3 * (1 / SPRITES_DEF.PLAYER_STRAIGHT.w),\n  BILLBOARDS: [\n    SPRITES_DEF.BILLBOARD01,\n    SPRITES_DEF.BILLBOARD02,\n    SPRITES_DEF.BILLBOARD03,\n    SPRITES_DEF.BILLBOARD04,\n    SPRITES_DEF.BILLBOARD05,\n    SPRITES_DEF.BILLBOARD06,\n    SPRITES_DEF.BILLBOARD07,\n    SPRITES_DEF.BILLBOARD08,\n    SPRITES_DEF.BILLBOARD09,\n  ],\n  PLANTS: [\n    SPRITES_DEF.TREE1,\n    SPRITES_DEF.TREE2,\n    SPRITES_DEF.DEAD_TREE1,\n    SPRITES_DEF.DEAD_TREE2,\n    SPRITES_DEF.PALM_TREE,\n    SPRITES_DEF.BUSH1,\n    SPRITES_DEF.BUSH2,\n    SPRITES_DEF.CACTUS,\n    SPRITES_DEF.STUMP,\n    SPRITES_DEF.BOULDER1,\n    SPRITES_DEF.BOULDER2,\n    SPRITES_DEF.BOULDER3,\n  ],\n  CARS: [\n    SPRITES_DEF.CAR01,\n    SPRITES_DEF.CAR02,\n    SPRITES_DEF.CAR03,\n    SPRITES_DEF.CAR04,\n    SPRITES_DEF.SEMI,\n    SPRITES_DEF.TRUCK,\n  ],\n} as const;\n\nexport const SPRITES = SPRITES_COMPUTED;\n\n/**\n * Default game configuration\n */\nexport const DEFAULT_CONFIG = {\n  fps: 60,\n  width: 720,\n  height: 960,\n  roadWidth: 2000,\n  segmentLength: 200,\n  rumbleLength: 3,\n  lanes: 3,\n  fieldOfView: 100,\n  cameraHeight: 1000,\n  drawDistance: 300,\n  fogDensity: 5,\n  centrifugal: 0.3,\n  skySpeed: 0.001,\n  hillSpeed: 0.002,\n  treeSpeed: 0.003,\n  totalCars: 200,\n};\n","/**\n * Math utilities for 3D car racing game\n * Optimized for performance in game loop\n */\n\nexport class MathUtils {\n  /**\n   * Get current timestamp\n   */\n  static timestamp(): number {\n    return performance.now();\n  }\n\n  /**\n   * Convert to integer with default value\n   */\n  static toInt(obj: string | number | null | undefined, def: number = 0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseInt(String(obj), 10);\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Convert to float with default value\n   */\n  static toFloat(obj: string | number | null | undefined, def: number = 0.0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseFloat(String(obj));\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Clamp value between min and max\n   */\n  static limit(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(value, max));\n  }\n\n  /**\n   * Get random integer between min and max (inclusive)\n   */\n  static randomInt(min: number, max: number): number {\n    return Math.round(this.interpolate(min, max, Math.random()));\n  }\n\n  /**\n   * Get random choice from array\n   */\n  static randomChoice<T>(options: T[]): T {\n    return options[this.randomInt(0, options.length - 1)];\n  }\n\n  /**\n   * Calculate percent remaining\n   */\n  static percentRemaining(n: number, total: number): number {\n    return (n % total) / total;\n  }\n\n  /**\n   * Accelerate value\n   */\n  static accelerate(v: number, accel: number, dt: number): number {\n    return v + accel * dt;\n  }\n\n  /**\n   * Linear interpolation\n   */\n  static interpolate(a: number, b: number, percent: number): number {\n    return a + (b - a) * percent;\n  }\n\n  /**\n   * Ease in interpolation\n   */\n  static easeIn(a: number, b: number, percent: number): number {\n    return a + (b - a) * Math.pow(percent, 2);\n  }\n\n  /**\n   * Ease out interpolation\n   */\n  static easeOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (1 - Math.pow(1 - percent, 2));\n  }\n\n  /**\n   * Ease in-out interpolation\n   */\n  static easeInOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (-Math.cos(percent * Math.PI) / 2 + 0.5);\n  }\n\n  /**\n   * Exponential fog calculation\n   */\n  static exponentialFog(distance: number, density: number): number {\n    return 1 / Math.pow(Math.E, distance * distance * density);\n  }\n\n  /**\n   * Increase value with wrapping\n   */\n  static increase(start: number, increment: number, max: number): number {\n    let result = start + increment;\n    while (result >= max) result -= max;\n    while (result < 0) result += max;\n    return result;\n  }\n\n  /**\n   * Check overlap between two objects\n   * Optimized version with early exit\n   */\n  static overlap(x1: number, w1: number, x2: number, w2: number, percent: number = 1): boolean {\n    const half1 = percent * 0.5;\n    const half2 = percent * 0.5;\n    const min1 = x1 - w1 * half1;\n    const max1 = x1 + w1 * half1;\n    const min2 = x2 - w2 * half2;\n    const max2 = x2 + w2 * half2;\n    return !(max1 < min2 || min1 > max2);\n  }\n\n  /**\n   * Project 3D point to 2D screen\n   * Optimized for performance\n   */\n  static project(\n    p: {\n      world: { x?: number; y?: number; z?: number };\n      camera: { x?: number; y?: number; z?: number };\n      screen: { x?: number; y?: number; w?: number; scale?: number };\n    },\n    cameraX: number,\n    cameraY: number,\n    cameraZ: number,\n    cameraDepth: number,\n    width: number,\n    height: number,\n    roadWidth: number\n  ): void {\n    p.camera.x = (p.world.x || 0) - cameraX;\n    p.camera.y = (p.world.y || 0) - cameraY;\n    p.camera.z = (p.world.z || 0) - cameraZ;\n    p.screen.scale = cameraDepth / p.camera.z;\n    p.screen.x = Math.round(width / 2 + (p.screen.scale * p.camera.x * width) / 2);\n    p.screen.y = Math.round(height / 2 - (p.screen.scale * p.camera.y * height) / 2);\n    p.screen.w = Math.round((p.screen.scale * roadWidth * width) / 2);\n  }\n}\n\n// Pre-calculated values for performance\nexport const DEG_TO_RAD = Math.PI / 180;\nexport const RAD_TO_DEG = 180 / Math.PI;\n\n/**\n * Fast sine approximation for non-critical calculations\n */\nexport function fastSin(x: number): number {\n  x = x % (2 * Math.PI);\n  if (x < 0) x += 2 * Math.PI;\n\n  if (x < Math.PI) {\n    return (4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  } else {\n    x -= Math.PI;\n    return (-4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  }\n}\n\n/**\n * Fast cosine approximation for non-critical calculations\n */\nexport function fastCos(x: number): number {\n  return fastSin(x + Math.PI / 2);\n}\n","import type { RoadSegment, Car, Sprite } from '../types';\nimport { COLORS, SPRITES, ROAD } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Road generation and management system\n * Optimized for performance and memory usage\n */\nexport class RoadEngine {\n  private segments: RoadSegment[] = [];\n  private segmentLength: number;\n  private rumbleLength: number;\n  private trackLength: number = 0;\n  private billboardPlacements: Map<string, number> = new Map();\n  private billboardImpressions: Map<string, number> = new Map();\n  private billboardInstances: Map<\n    string,\n    { segmentIndex: number; offset: number; seenInLaps: Set<number> }[]\n  > = new Map();\n  private nextBillboardId: number = 0;\n\n  constructor(segmentLength: number = 200, rumbleLength: number = 3) {\n    this.segmentLength = segmentLength;\n    this.rumbleLength = rumbleLength;\n  }\n\n  /**\n   * Get all road segments\n   */\n  getSegments(): RoadSegment[] {\n    return this.segments;\n  }\n\n  /**\n   * Get track length\n   */\n  getTrackLength(): number {\n    return this.trackLength;\n  }\n\n  /**\n   * Get billboard placements count\n   */\n  getBillboardPlacements(): Map<string, number> {\n    return new Map(this.billboardPlacements);\n  }\n\n  /**\n   * Get billboard impressions count\n   */\n  getBillboardImpressions(): Map<string, number> {\n    return new Map(this.billboardImpressions);\n  }\n\n  /**\n   * Record billboard impression for a specific segment and offset in a specific lap\n   */\n  recordBillboardImpression(\n    segmentIndex: number,\n    offset: number,\n    billboardName: string,\n    currentLap: number\n  ): void {\n    const instances = this.billboardInstances.get(billboardName);\n    if (!instances) return;\n\n    // Find the specific billboard instance at this segment and offset\n    const instance = instances.find(\n      (inst) => inst.segmentIndex === segmentIndex && Math.abs(inst.offset - offset) < 0.1 // Small tolerance for floating point comparison\n    );\n\n    if (instance && !instance.seenInLaps.has(currentLap)) {\n      instance.seenInLaps.add(currentLap);\n      const current = this.billboardImpressions.get(billboardName) || 0;\n      this.billboardImpressions.set(billboardName, current + 1);\n    }\n  }\n\n  /**\n   * Get billboard statistics as an object\n   */\n  getBillboardStats(totalLaps: number): {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } {\n    const placements: Record<string, number> = {};\n    const impressions: Record<string, number> = {};\n    const maxPossibleImpressions: Record<string, number> = {};\n\n    this.billboardPlacements.forEach((count, name) => {\n      placements[name] = count;\n      maxPossibleImpressions[name] = count * totalLaps;\n    });\n\n    this.billboardImpressions.forEach((count, name) => {\n      impressions[name] = count;\n    });\n\n    // Calculate a realistic track length in meters\n    // Game units don't correspond to real meters, so we apply a scale factor\n    // Adjusted for actual segment counts (typically 3000-6000 segments)\n    // Target track lengths: 2-4 km for realistic racing circuits\n    const realisticTrackLength = Math.round(this.segments.length * 0.65);\n\n    return {\n      placements,\n      impressions,\n      maxPossibleImpressions,\n      trackLength: realisticTrackLength,\n      totalSegments: this.segments.length,\n      totalLaps,\n    };\n  }\n\n  /**\n   * Find segment by Z position\n   */\n  findSegment(z: number): RoadSegment {\n    return this.segments[Math.floor(z / this.segmentLength) % this.segments.length];\n  }\n\n  /**\n   * Get last Y position\n   */\n  private lastY(): number {\n    return this.segments.length === 0 ? 0 : this.segments[this.segments.length - 1].p2.world.y;\n  }\n\n  /**\n   * Add a road segment\n   */\n  private addSegment(curve: number, y: number): void {\n    const n = this.segments.length;\n    this.segments.push({\n      index: n,\n      p1: {\n        world: { y: this.lastY(), z: n * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      p2: {\n        world: { y: y, z: (n + 1) * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      curve: curve,\n      sprites: [],\n      cars: [],\n      color: Math.floor(n / this.rumbleLength) % 2 ? COLORS.DARK : COLORS.LIGHT,\n    });\n  }\n\n  /**\n   * Add a sprite to a segment\n   */\n  private addSprite(n: number, sprite: Sprite, offset: number): void {\n    if (this.segments[n]) {\n      const spriteInstance = { source: sprite, offset: offset };\n\n      // If it's a billboard, track it with a unique ID\n      const billboardName = this.getBillboardName(sprite);\n      if (billboardName) {\n        const billboardId = `${billboardName}_${this.nextBillboardId++}`;\n        // Store the billboard ID in the sprite instance for later reference\n        (spriteInstance as any).billboardId = billboardId;\n\n        // Track the instance\n        if (!this.billboardInstances.has(billboardName)) {\n          this.billboardInstances.set(billboardName, []);\n        }\n        this.billboardInstances.get(billboardName)!.push({\n          segmentIndex: n,\n          offset: offset,\n          seenInLaps: new Set<number>(),\n        });\n      }\n\n      this.segments[n].sprites.push(spriteInstance);\n    }\n  }\n\n  /**\n   * Add a road section with easing\n   */\n  private addRoad(enter: number, hold: number, leave: number, curve: number, y: number): void {\n    const startY = this.lastY();\n    const endY = startY + MathUtils.toInt(y, 0) * this.segmentLength;\n    const total = enter + hold + leave;\n\n    // Enter phase with easing\n    for (let n = 0; n < enter; n++) {\n      this.addSegment(\n        MathUtils.easeIn(0, curve, n / enter),\n        MathUtils.easeInOut(startY, endY, n / total)\n      );\n    }\n\n    // Hold phase\n    for (let n = 0; n < hold; n++) {\n      this.addSegment(curve, MathUtils.easeInOut(startY, endY, (enter + n) / total));\n    }\n\n    // Leave phase with easing\n    for (let n = 0; n < leave; n++) {\n      this.addSegment(\n        MathUtils.easeInOut(curve, 0, n / leave),\n        MathUtils.easeInOut(startY, endY, (enter + hold + n) / total)\n      );\n    }\n  }\n\n  /**\n   * Add straight road section\n   */\n  private addStraight(num: number = ROAD.LENGTH.MEDIUM): void {\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add hill section\n   */\n  private addHill(num: number = ROAD.LENGTH.MEDIUM, height: number = ROAD.HILL.MEDIUM): void {\n    this.addRoad(num, num, num, 0, height);\n  }\n\n  /**\n   * Add curve section\n   */\n  private addCurve(\n    num: number = ROAD.LENGTH.MEDIUM,\n    curve: number = ROAD.CURVE.MEDIUM,\n    height: number = ROAD.HILL.NONE\n  ): void {\n    this.addRoad(num, num, num, curve, height);\n  }\n\n  /**\n   * Add rolling hills section\n   */\n  private addLowRollingHills(\n    num: number = ROAD.LENGTH.SHORT,\n    height: number = ROAD.HILL.LOW\n  ): void {\n    this.addRoad(num, num, num, 0, height / 2);\n    this.addRoad(num, num, num, 0, -height);\n    this.addRoad(num, num, num, ROAD.CURVE.EASY, height);\n    this.addRoad(num, num, num, 0, 0);\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, height / 2);\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add S-curves section\n   */\n  private addSCurves(): void {\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.NONE\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.MEDIUM,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.EASY,\n      -ROAD.HILL.LOW\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.MEDIUM,\n      -ROAD.HILL.MEDIUM\n    );\n  }\n\n  /**\n   * Add bumps section\n   */\n  private addBumps(): void {\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n    this.addRoad(10, 10, 10, 0, -5);\n    this.addRoad(10, 10, 10, 0, 8);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -7);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n  }\n\n  /**\n   * Add downhill to end section\n   */\n  private addDownhillToEnd(num: number = 200): void {\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, -this.lastY() / this.segmentLength);\n  }\n\n  /**\n   * Reset and rebuild road\n   */\n  reset(track: number = 0, playerZ: number): void {\n    this.segments = [];\n\n    // Build track based on track number\n    switch (track) {\n      case 1: // Speed Circuit - Fast track with long straights\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.LOW);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 2: // Mountain Pass - Challenging hills and curves\n        this.addHill(ROAD.LENGTH.SHORT, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.HIGH);\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.EASY, -ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.SHORT, -ROAD.HILL.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 3: // Technical Circuit - Lots of curves\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addCurve(ROAD.LENGTH.MEDIUM, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.LOW);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addDownhillToEnd();\n        break;\n\n      default: // Track 0 - Original balanced track\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addLowRollingHills();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.LOW);\n        this.addBumps();\n        this.addLowRollingHills();\n        this.addCurve(ROAD.LENGTH.LONG * 2, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addSCurves();\n        this.addDownhillToEnd();\n    }\n\n    this.resetSprites();\n\n    // Mark start and finish lines\n    const playerSegment = this.findSegment(playerZ);\n    this.segments[playerSegment.index + 2].color = COLORS.START;\n    this.segments[playerSegment.index + 3].color = COLORS.START;\n\n    for (let n = 0; n < this.rumbleLength; n++) {\n      this.segments[this.segments.length - 1 - n].color = COLORS.FINISH;\n    }\n\n    this.trackLength = this.segments.length * this.segmentLength;\n  }\n\n  /**\n   * Reset sprites on the track\n   */\n  private resetSprites(): void {\n    // Clear billboard tracking\n    this.billboardPlacements.clear();\n    this.billboardImpressions.clear();\n    this.billboardInstances.clear();\n    this.nextBillboardId = 0;\n\n    // Add billboards and plants randomly\n    for (let n = 20; n < this.segments.length - 50; n += 60) {\n      const billboard = MathUtils.randomChoice([...SPRITES.BILLBOARDS]);\n      const billboardName = this.getBillboardName(billboard);\n\n      // Track billboard placement\n      if (billboardName) {\n        const current = this.billboardPlacements.get(billboardName) || 0;\n        this.billboardPlacements.set(billboardName, current + 1);\n      }\n\n      this.addSprite(\n        n + MathUtils.randomInt(0, 50),\n        billboard,\n        MathUtils.randomChoice([1, -1, 1.1, -1.1, 1.2, -1.2])\n      );\n\n      for (let i = 0; i < 20; i++) {\n        this.addSprite(\n          n + MathUtils.randomInt(0, 50),\n          MathUtils.randomChoice([...SPRITES.PLANTS]),\n          MathUtils.randomChoice([1.1, -1.1]) * (1 + Math.random())\n        );\n      }\n    }\n\n    // Add plants along the track\n    for (let n = 10; n < this.segments.length; n += 3 + Math.floor(n / 100)) {\n      this.addSprite(\n        n,\n        MathUtils.randomChoice([...SPRITES.PLANTS]),\n        MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5)\n      );\n    }\n\n    // Add columns randomly\n    for (let n = 120; n < this.segments.length; n += 30 + Math.floor(n / 20)) {\n      this.addSprite(n, SPRITES.COLUMN, MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5));\n    }\n\n    // Add coins in lanes\n    const LANE_POSITIONS = [-0.5, 0, 0.5];\n    for (let n = 0; n < this.segments.length; n += 30) {\n      this.addSprite(n, SPRITES.COIN, MathUtils.randomChoice(LANE_POSITIONS));\n    }\n  }\n\n  /**\n   * Remove all coins from the track\n   */\n  removeAllCoins(): void {\n    for (const segment of this.segments) {\n      segment.sprites = segment.sprites.filter((sprite) => sprite.source !== SPRITES.COIN);\n    }\n  }\n\n  /**\n   * Reset cars on the track\n   */\n  resetCars(totalCars: number, maxSpeed: number): Car[] {\n    // Clear existing cars from segments\n    for (const segment of this.segments) {\n      segment.cars = [];\n    }\n\n    const cars: Car[] = [];\n\n    for (let n = 0; n < totalCars; n++) {\n      const offset = Math.random() * MathUtils.randomChoice([-0.8, 0.8]);\n      const z = Math.floor(Math.random() * this.segments.length) * this.segmentLength;\n      const sprite = MathUtils.randomChoice([...SPRITES.CARS]);\n      const speed = maxSpeed / 4 + (Math.random() * maxSpeed) / (sprite === SPRITES.SEMI ? 4 : 2);\n\n      const car: Car = {\n        offset,\n        z,\n        sprite,\n        speed,\n        percent: MathUtils.percentRemaining(z, this.segmentLength),\n      };\n      const segment = this.findSegment(car.z);\n      segment.cars.push(car);\n      cars.push(car);\n    }\n\n    return cars;\n  }\n\n  /**\n   * Get billboard name from sprite object\n   */\n  getBillboardName(sprite: Sprite): string | null {\n    // Check each billboard sprite to find which one matches\n    if (sprite === SPRITES.BILLBOARD01) return 'BILLBOARD01';\n    if (sprite === SPRITES.BILLBOARD02) return 'BILLBOARD02';\n    if (sprite === SPRITES.BILLBOARD03) return 'BILLBOARD03';\n    if (sprite === SPRITES.BILLBOARD04) return 'BILLBOARD04';\n    if (sprite === SPRITES.BILLBOARD05) return 'BILLBOARD05';\n    if (sprite === SPRITES.BILLBOARD06) return 'BILLBOARD06';\n    if (sprite === SPRITES.BILLBOARD07) return 'BILLBOARD07';\n    if (sprite === SPRITES.BILLBOARD08) return 'BILLBOARD08';\n    if (sprite === SPRITES.BILLBOARD09) return 'BILLBOARD09';\n    return null;\n  }\n}\n","import type { Car, RoadSegment, InputState } from '../types';\nimport { SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Physics and collision engine for 3D car racing game\n * Optimized for performance with spatial optimizations\n */\nexport class PhysicsEngine {\n  private maxSpeed: number;\n  private accel: number;\n  private breaking: number;\n  private decel: number;\n  private offRoadDecel: number;\n  private offRoadLimit: number;\n  private centrifugal: number;\n  private trackLength: number;\n\n  constructor(config: {\n    maxSpeed: number;\n    accel: number;\n    breaking: number;\n    decel: number;\n    offRoadDecel: number;\n    offRoadLimit: number;\n    centrifugal: number;\n    trackLength: number;\n  }) {\n    this.maxSpeed = config.maxSpeed;\n    this.accel = config.accel;\n    this.breaking = config.breaking;\n    this.decel = config.decel;\n    this.offRoadDecel = config.offRoadDecel;\n    this.offRoadLimit = config.offRoadLimit;\n    this.centrifugal = config.centrifugal;\n    this.trackLength = config.trackLength;\n  }\n\n  /**\n   * Update track length\n   */\n  updateTrackLength(trackLength: number): void {\n    this.trackLength = trackLength;\n  }\n\n  /**\n   * Update player physics\n   */\n  updatePlayer(\n    playerX: number,\n    speed: number,\n    position: number,\n    inputState: InputState,\n    playerSegment: RoadSegment,\n    dt: number,\n    _findSegment: (z: number) => RoadSegment,\n    //roadWidth: number = 2000,\n    canvasWidth: number = 720,\n    canvasHeight: number = 960\n  ): {\n    playerX: number;\n    speed: number;\n    position: number;\n    pointsEarned: number;\n    crashed: boolean;\n    coinCollected?: { x: number; y: number };\n    crashPosition?: { x: number; y: number };\n  } {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n    const speedPercent = speed / this.maxSpeed;\n    const dx = dt * 2 * speedPercent;\n    let pointsEarned = 0;\n    let crashed = false;\n\n    // Handle movement\n    if (inputState.left) {\n      playerX = playerX - dx;\n    } else if (inputState.right) {\n      playerX = playerX + dx;\n    }\n\n    // Apply centrifugal force\n    playerX = playerX - dx * speedPercent * playerSegment.curve * this.centrifugal;\n\n    // Handle acceleration/deceleration\n    if (inputState.faster) {\n      speed = MathUtils.accelerate(speed, this.accel, dt);\n    } else if (inputState.slower) {\n      speed = MathUtils.accelerate(speed, this.breaking, dt);\n    } else {\n      speed = MathUtils.accelerate(speed, this.decel, dt);\n    }\n\n    // Handle off-road physics and sprite collisions\n    if (playerX < -1 || playerX > 1) {\n      if (speed > this.offRoadLimit) {\n        speed = MathUtils.accelerate(speed, this.offRoadDecel, dt);\n      }\n\n      // Check sprite collisions\n      for (const sprite of playerSegment.sprites) {\n        const spriteW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (spriteW / 2) * (sprite.offset > 0 ? 1 : -1),\n            spriteW\n          )\n        ) {\n          speed = this.maxSpeed / 5;\n          position = MathUtils.increase(playerSegment.p1.world.z, -playerW, this.trackLength);\n          break;\n        }\n      }\n    }\n\n    // Handle coin collection\n    let coinCollected: { x: number; y: number } | undefined;\n    for (let i = playerSegment.sprites.length - 1; i >= 0; i--) {\n      const sprite = playerSegment.sprites[i];\n      if (sprite.source === SPRITES.COIN) {\n        const coinW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (coinW / 10) * (sprite.offset > 0 ? 1 : -1),\n            coinW\n          )\n        ) {\n          // Store coin position for animation\n          // Since we're in the physics update, screen coordinates might not be available\n          // We'll use a simple approximation based on player position\n          coinCollected = {\n            x: canvasWidth / 2 + sprite.offset * canvasWidth * 0.3, // Approximate screen position\n            y: canvasHeight / 2 - 100, // Slightly above center\n          };\n          // Remove coin\n          playerSegment.sprites.splice(i, 1);\n          // Award points based on speed\n          pointsEarned = Math.round(speed / 1000);\n        }\n      }\n    }\n\n    // Handle car collisions\n    let crashPosition: { x: number; y: number } | undefined;\n    for (const car of playerSegment.cars) {\n      const carW = car.sprite.w * SPRITES.SCALE;\n      if (speed > car.speed) {\n        if (MathUtils.overlap(playerX, playerW, car.offset, carW, 0.6)) {\n          speed = car.speed * (car.speed / speed);\n          position = MathUtils.increase(car.z, -playerW, this.trackLength);\n          pointsEarned = -3; // Crash penalty\n          crashed = true;\n          // Store crash position for animation\n          crashPosition = {\n            x: canvasWidth / 2 + car.offset * canvasWidth * 0.3, // Approximate position of collision\n            y: canvasHeight / 2 - 50, // Slightly above center\n          };\n          break;\n        }\n      }\n    }\n\n    // Clamp values\n    playerX = MathUtils.limit(playerX, -3, 3);\n    speed = MathUtils.limit(speed, 0, this.maxSpeed);\n\n    return {\n      playerX,\n      speed,\n      position,\n      pointsEarned,\n      crashed,\n      coinCollected,\n      crashPosition,\n    };\n  }\n\n  /**\n   * Update all cars with optimized AI\n   */\n  updateCars(\n    cars: Car[],\n    dt: number,\n    playerSegment: RoadSegment,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    findSegment: (z: number) => RoadSegment,\n    segments: RoadSegment[]\n  ): void {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n\n    for (const car of cars) {\n      const oldSegment = findSegment(car.z);\n\n      // Update car position\n      car.z = MathUtils.increase(car.z, dt * car.speed, this.trackLength);\n      car.percent = MathUtils.percentRemaining(car.z, 200); // segmentLength\n\n      // Update car offset (AI steering)\n      car.offset += this.updateCarOffset(\n        car,\n        oldSegment,\n        playerSegment,\n        playerW,\n        playerX,\n        playerSpeed,\n        drawDistance,\n        segments\n      );\n\n      // Move car to new segment if needed\n      const newSegment = findSegment(car.z);\n      if (oldSegment !== newSegment) {\n        const index = oldSegment.cars.indexOf(car);\n        if (index !== -1) {\n          oldSegment.cars.splice(index, 1);\n          newSegment.cars.push(car);\n        }\n      }\n    }\n  }\n\n  /**\n   * Calculate car AI steering offset\n   */\n  private updateCarOffset(\n    car: Car,\n    carSegment: RoadSegment,\n    playerSegment: RoadSegment,\n    playerW: number,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    segments: RoadSegment[]\n  ): number {\n    const lookahead = 20;\n    const carW = car.sprite.w * SPRITES.SCALE;\n\n    // Optimization: don't calculate AI for cars far from player\n    if (carSegment.index - playerSegment.index > drawDistance) {\n      return 0;\n    }\n\n    // Look ahead for obstacles\n    for (let i = 1; i < lookahead; i++) {\n      const segment = segments[(carSegment.index + i) % segments.length];\n\n      // Avoid player\n      if (\n        segment === playerSegment &&\n        car.speed > playerSpeed &&\n        MathUtils.overlap(playerX, playerW, car.offset, carW, 1.2)\n      ) {\n        const dir = this.calculateAvoidanceDirection(playerX, car.offset);\n        return (((dir * 1) / i) * (car.speed - playerSpeed)) / this.maxSpeed;\n      }\n\n      // Avoid other cars\n      for (const otherCar of segment.cars) {\n        const otherCarW = otherCar.sprite.w * SPRITES.SCALE;\n        if (\n          car.speed > otherCar.speed &&\n          MathUtils.overlap(car.offset, carW, otherCar.offset, otherCarW, 1.2)\n        ) {\n          const dir = this.calculateAvoidanceDirection(otherCar.offset, car.offset);\n          return (((dir * 1) / i) * (car.speed - otherCar.speed)) / this.maxSpeed;\n        }\n      }\n    }\n\n    // Return to road if off-road\n    if (car.offset < -0.9) return 0.1;\n    else if (car.offset > 0.9) return -0.1;\n    else return 0;\n  }\n\n  /**\n   * Calculate direction to avoid obstacle\n   */\n  private calculateAvoidanceDirection(obstacleX: number, carX: number): number {\n    if (obstacleX > 0.5) return -1;\n    else if (obstacleX < -0.5) return 1;\n    else return carX > obstacleX ? 1 : -1;\n  }\n\n  /**\n   * Update background scroll offsets\n   */\n  updateScrollOffsets(\n    skyOffset: number,\n    hillOffset: number,\n    treeOffset: number,\n    playerSegment: RoadSegment,\n    startPosition: number,\n    position: number,\n    segmentLength: number,\n    skySpeed: number,\n    hillSpeed: number,\n    treeSpeed: number\n  ): { skyOffset: number; hillOffset: number; treeOffset: number } {\n    const deltaPosition = position - startPosition;\n\n    skyOffset = MathUtils.increase(\n      skyOffset,\n      (skySpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    hillOffset = MathUtils.increase(\n      hillOffset,\n      (hillSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    treeOffset = MathUtils.increase(\n      treeOffset,\n      (treeSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n\n    return { skyOffset, hillOffset, treeOffset };\n  }\n}\n","import type { Sprite, BackgroundLayer, RoadSegment, CoinAnimation, CrashAnimation } from '../types';\nimport { COLORS, SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Optimized rendering engine for 3D car racing game\n */\nexport class RenderEngine {\n  private ctx: CanvasRenderingContext2D;\n  private width: number;\n  private height: number;\n  public resolution: number;\n  private cameraDepth: number = 0.84; // Default camera depth\n\n  constructor(ctx: CanvasRenderingContext2D, width: number, height: number) {\n    this.ctx = ctx;\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Set camera depth for visibility calculations\n   */\n  setCameraDepth(depth: number): void {\n    this.cameraDepth = depth;\n  }\n\n  /**\n   * Update canvas dimensions\n   */\n  updateDimensions(width: number, height: number): void {\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Clear the canvas\n   */\n  clear(): void {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  /**\n   * Draw a polygon\n   * Optimized to reduce canvas state changes\n   */\n  private polygon(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    x3: number,\n    y3: number,\n    x4: number,\n    y4: number,\n    color: string\n  ): void {\n    this.ctx.fillStyle = color;\n    this.ctx.beginPath();\n    this.ctx.moveTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.lineTo(x3, y3);\n    this.ctx.lineTo(x4, y4);\n    this.ctx.closePath();\n    this.ctx.fill();\n  }\n\n  /**\n   * Draw a road segment\n   */\n  segment(\n    lanes: number,\n    x1: number,\n    y1: number,\n    w1: number,\n    x2: number,\n    y2: number,\n    w2: number,\n    fog: number,\n    color: { grass: string; rumble: string; road: string; lane?: string }\n  ): void {\n    const r1 = this.rumbleWidth(w1, lanes);\n    const r2 = this.rumbleWidth(w2, lanes);\n    const l1 = this.laneMarkerWidth(w1, lanes);\n    const l2 = this.laneMarkerWidth(w2, lanes);\n\n    // Grass\n    this.ctx.fillStyle = color.grass;\n    this.ctx.fillRect(0, y2, this.width, y1 - y2);\n\n    // Rumble strips\n    this.polygon(x1 - w1 - r1, y1, x1 - w1, y1, x2 - w2, y2, x2 - w2 - r2, y2, color.rumble);\n    this.polygon(x1 + w1 + r1, y1, x1 + w1, y1, x2 + w2, y2, x2 + w2 + r2, y2, color.rumble);\n\n    // Road\n    this.polygon(x1 - w1, y1, x1 + w1, y1, x2 + w2, y2, x2 - w2, y2, color.road);\n\n    // Lane markers\n    if (color.lane) {\n      const lanew1 = (w1 * 2) / lanes;\n      const lanew2 = (w2 * 2) / lanes;\n      let lanex1 = x1 - w1 + lanew1;\n      let lanex2 = x2 - w2 + lanew2;\n\n      for (let lane = 1; lane < lanes; lane++) {\n        this.polygon(\n          lanex1 - l1 / 2,\n          y1,\n          lanex1 + l1 / 2,\n          y1,\n          lanex2 + l2 / 2,\n          y2,\n          lanex2 - l2 / 2,\n          y2,\n          color.lane\n        );\n        lanex1 += lanew1;\n        lanex2 += lanew2;\n      }\n    }\n\n    // Fog\n    this.fog(0, y1, this.width, y2 - y1, fog);\n  }\n\n  /**\n   * Draw background layer\n   * Optimized for seamless scrolling\n   */\n  background(\n    background: HTMLImageElement,\n    layer: BackgroundLayer,\n    rotation: number,\n    offset: number\n  ): void {\n    rotation = rotation || 0;\n    offset = offset || 0;\n\n    const imageW = layer.w / 2;\n    const imageH = layer.h;\n\n    const sourceX = layer.x + (Math.floor(layer.w * rotation) % layer.w);\n    const sourceY = layer.y;\n    const sourceW = Math.min(imageW, layer.w - (sourceX - layer.x));\n    const sourceH = imageH;\n\n    const destX = 0;\n    const destY = Math.floor(offset);\n    const destW = Math.floor(this.width * (sourceW / imageW));\n    const destH = this.height;\n\n    // Draw main portion\n    this.ctx.drawImage(background, sourceX, sourceY, sourceW, sourceH, destX, destY, destW, destH);\n\n    // Draw wrapped portion for seamless scrolling\n    if (sourceW < imageW) {\n      this.ctx.drawImage(\n        background,\n        layer.x,\n        sourceY,\n        imageW - sourceW,\n        sourceH,\n        destW - 1,\n        destY,\n        this.width - destW,\n        destH\n      );\n    }\n  }\n\n  /**\n   * Draw a sprite\n   * Optimized with clipping support\n   */\n  sprite(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    sprite: Sprite,\n    scale: number,\n    destX: number,\n    destY: number,\n    offsetX: number = 0,\n    offsetY: number = 0,\n    clipY?: number\n  ): void {\n    const destW = ((sprite.w * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n    const destH = ((sprite.h * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n\n    destX = destX + destW * offsetX;\n    destY = destY + destH * offsetY;\n\n    const clipH = clipY ? Math.max(0, destY + destH - clipY) : 0;\n\n    if (clipH < destH) {\n      this.ctx.drawImage(\n        sprites,\n        sprite.x,\n        sprite.y,\n        sprite.w,\n        sprite.h - (sprite.h * clipH) / destH,\n        destX,\n        destY,\n        destW,\n        destH - clipH\n      );\n    }\n  }\n\n  /**\n   * Draw the player car\n   * Includes bounce effect based on speed\n   */\n  player(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    speedPercent: number,\n    scale: number,\n    destX: number,\n    destY: number,\n    steer: number,\n    updown: number\n  ): void {\n    const bounce =\n      1.5 * Math.random() * speedPercent * this.resolution * MathUtils.randomChoice([-1, 1]);\n\n    let sprite: Sprite;\n    if (steer < 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_LEFT : SPRITES.PLAYER_LEFT;\n    } else if (steer > 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_RIGHT : SPRITES.PLAYER_RIGHT;\n    } else {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_STRAIGHT : SPRITES.PLAYER_STRAIGHT;\n    }\n\n    this.sprite(roadWidth, sprites, sprite, scale, destX, destY + bounce, -0.5, -1);\n  }\n\n  /**\n   * Draw fog effect\n   * Optimized to skip when fog is minimal\n   */\n  private fog(x: number, y: number, width: number, height: number, fog: number): void {\n    if (fog < 1 && fog > 0.01) {\n      this.ctx.globalAlpha = 1 - fog;\n      this.ctx.fillStyle = COLORS.FOG;\n      this.ctx.fillRect(x, y, width, height);\n      this.ctx.globalAlpha = 1;\n    }\n  }\n\n  /**\n   * Calculate rumble width\n   */\n  private rumbleWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(6, 2 * lanes);\n  }\n\n  /**\n   * Calculate lane marker width\n   */\n  private laneMarkerWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(32, 8 * lanes);\n  }\n\n  /**\n   * Batch render cars for performance\n   */\n  renderCars(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Batch render sprites for performance\n   */\n  renderSprites(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render all objects (sprites and cars) in correct z-order\n   */\n  renderObjects(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    onBillboardRender?: (sprite: Sprite, segmentIndex: number, offset: number) => void\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      // Render sprites first (they are at the segment start position)\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        // Check if sprite is visible (not clipped and within screen bounds)\n        if (segment.clip && segment.p1.camera.z > this.cameraDepth && spriteY < segment.clip) {\n          // Notify about billboard render if callback provided\n          if (onBillboardRender) {\n            onBillboardRender(sprite.source, segment.index, sprite.offset);\n          }\n        }\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n\n      // Then render cars (they can be anywhere within the segment)\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render coin collection animations\n   */\n  renderCoinAnimations(animations: CoinAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Particle burst effect\n      const particleCount = 6;\n      const particleRadius = 3;\n      const burstRadius = 50 * progress;\n\n      ctx.globalAlpha = alpha * 0.8;\n      ctx.fillStyle = '#FFD700'; // Gold color\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius;\n        const y = anim.y + Math.sin(angle) * burstRadius;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"+X puntos\" text\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 24px Arial';\n      ctx.fillStyle = '#FFD700';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 3;\n\n      const text = `+${anim.points} puntos`;\n      const textY = anim.y - 30 * progress; // Float upward\n\n      ctx.strokeText(text, anim.x - 40, textY);\n      ctx.fillText(text, anim.x - 40, textY);\n    }\n\n    ctx.restore();\n  }\n\n  /**\n   * Render crash/collision animations\n   */\n  renderCrashAnimations(animations: CrashAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Shake effect\n      const shakeX = (Math.random() - 0.5) * 10 * (1 - progress);\n      const shakeY = (Math.random() - 0.5) * 10 * (1 - progress);\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Red explosion particles\n      const particleCount = 8;\n      const particleRadius = 4;\n      const burstRadius = 60 * progress;\n\n      ctx.globalAlpha = alpha * 0.9;\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius + shakeX;\n        const y = anim.y + Math.sin(angle) * burstRadius + shakeY;\n\n        // Red to orange gradient\n        const color = i % 2 === 0 ? '#FF0000' : '#FF6600';\n        ctx.fillStyle = color;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius * (1 - progress * 0.5), 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"-3 puntos\" text with shake\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 28px Arial';\n      ctx.fillStyle = '#FF0000';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 4;\n\n      const text = '-3 puntos';\n      const textX = anim.x - 50 + shakeX;\n      const textY = anim.y - 20 * progress + shakeY; // Float upward\n\n      ctx.strokeText(text, textX, textY);\n      ctx.fillText(text, textX, textY);\n\n      // Impact flash effect\n      if (progress < 0.1) {\n        ctx.globalAlpha = (1 - progress * 10) * 0.5;\n        ctx.fillStyle = '#FFFFFF';\n        ctx.beginPath();\n        ctx.arc(anim.x, anim.y, 50, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    }\n\n    ctx.restore();\n  }\n}\n","import { MathUtils } from '../utils/math';\n\n/**\n * Optimized game loop with fixed timestep and frame rate management\n */\nexport class GameLoop {\n  private isRunning = false;\n  private animationFrameId: number | null = null;\n  private lastTimestamp = 0;\n  private accumulator = 0;\n  private readonly targetFps: number;\n  private readonly fixedTimeStep: number;\n  private readonly maxFrameTime: number;\n\n  // Performance monitoring\n  private frameCount = 0;\n  private lastFpsUpdate = 0;\n  private currentFps = 0;\n\n  constructor(\n    private update: (dt: number) => void,\n    private render: (interpolation: number) => void,\n    fps: number = 60\n  ) {\n    this.targetFps = fps;\n    this.fixedTimeStep = 1 / fps;\n    this.maxFrameTime = this.fixedTimeStep * 5; // Prevent spiral of death\n  }\n\n  /**\n   * Start the game loop\n   */\n  start(): void {\n    if (this.isRunning) return;\n\n    this.isRunning = true;\n    this.lastTimestamp = MathUtils.timestamp();\n    this.accumulator = 0;\n    this.loop();\n  }\n\n  /**\n   * Stop the game loop\n   */\n  stop(): void {\n    this.isRunning = false;\n    if (this.animationFrameId !== null) {\n      cancelAnimationFrame(this.animationFrameId);\n      this.animationFrameId = null;\n    }\n  }\n\n  /**\n   * Get current FPS\n   */\n  getFps(): number {\n    return this.currentFps;\n  }\n\n  /**\n   * Main game loop with fixed timestep\n   */\n  private loop = (): void => {\n    if (!this.isRunning) return;\n\n    const currentTime = MathUtils.timestamp();\n    let frameTime = (currentTime - this.lastTimestamp) / 1000;\n\n    // Prevent spiral of death by capping frame time\n    frameTime = Math.min(frameTime, this.maxFrameTime);\n    this.lastTimestamp = currentTime;\n    this.accumulator += frameTime;\n\n    // Fixed timestep updates\n    while (this.accumulator >= this.fixedTimeStep) {\n      this.update(this.fixedTimeStep);\n      this.accumulator -= this.fixedTimeStep;\n    }\n\n    // Calculate interpolation for smooth rendering\n    const interpolation = this.accumulator / this.fixedTimeStep;\n\n    // Render with interpolation\n    this.render(interpolation);\n\n    // Update FPS counter\n    this.updateFpsCounter();\n\n    // Schedule next frame\n    this.animationFrameId = requestAnimationFrame(this.loop);\n  };\n\n  /**\n   * Update FPS counter\n   */\n  private updateFpsCounter(): void {\n    this.frameCount++;\n    const now = MathUtils.timestamp();\n\n    if (now - this.lastFpsUpdate >= 1000) {\n      this.currentFps = Math.round((this.frameCount * 1000) / (now - this.lastFpsUpdate));\n      this.frameCount = 0;\n      this.lastFpsUpdate = now;\n    }\n  }\n}\n\n/**\n * Image loader utility for game assets\n */\nexport class ImageLoader {\n  /**\n   * Load multiple images and return them when all are loaded\n   */\n  static async loadImages(\n    names: string[],\n    basePath: string,\n    skin: string = 'default'\n  ): Promise<HTMLImageElement[]> {\n    const promises = names.map((name) => this.loadSingleImage(name, basePath, skin));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Load a single image\n   */\n  private static loadSingleImage(\n    name: string,\n    basePath: string,\n    skin: string\n  ): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = () => reject(new Error(`Failed to load image: ${name}`));\n\n      if (skin === 'default') {\n        img.src = `${basePath}/${name}.webp`;\n      } else {\n        img.src = `${basePath}/skins/${skin}/${name}.webp`;\n      }\n    });\n  }\n}\n\n/**\n * Input manager for keyboard and touch events\n */\nexport class InputManager {\n  private keys: { [key: number]: boolean } = {};\n  private keyHandlers: Array<{\n    keys: number[];\n    mode: 'up' | 'down';\n    action: () => void;\n  }> = [];\n\n  constructor() {\n    this.setupKeyboardListeners();\n  }\n\n  /**\n   * Setup keyboard event listeners\n   */\n  private setupKeyboardListeners(): void {\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Cleanup event listeners\n   */\n  destroy(): void {\n    document.removeEventListener('keydown', this.handleKeyDown);\n    document.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Register key handlers\n   */\n  setKeyHandlers(\n    handlers: Array<{\n      keys: number[];\n      mode: 'up' | 'down';\n      action: () => void;\n    }>\n  ): void {\n    this.keyHandlers = handlers;\n  }\n\n  /**\n   * Check if key is pressed\n   */\n  isKeyPressed(keyCode: number): boolean {\n    return this.keys[keyCode] || false;\n  }\n\n  /**\n   * Handle key down events\n   */\n  private handleKeyDown = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = true;\n    this.triggerKeyHandlers(event.keyCode, 'down');\n\n    // Prevent default for game keys\n    const gameKeys = [37, 38, 39, 40]; // Arrow keys\n    if (gameKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * Handle key up events\n   */\n  private handleKeyUp = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = false;\n    this.triggerKeyHandlers(event.keyCode, 'up');\n  };\n\n  /**\n   * Trigger registered key handlers\n   */\n  private triggerKeyHandlers(keyCode: number, mode: 'up' | 'down'): void {\n    for (const handler of this.keyHandlers) {\n      if (handler.mode === mode && handler.keys.includes(keyCode)) {\n        handler.action();\n      }\n    }\n  }\n\n  /**\n   * Setup touch controls for mobile\n   */\n  setupTouchControls(_isMobile: boolean): void {\n    // Touch controls are now handled directly through the game component\n    // This method is kept for compatibility but doesn't need to do anything\n  }\n\n  /**\n   * Get key code for touch direction\n   */\n  private getKeyCodeForDirection(direction: string): number {\n    switch (direction) {\n      case 'left':\n        return 37;\n      case 'up':\n        return 38;\n      case 'right':\n        return 39;\n      case 'down':\n        return 40;\n      default:\n        return 0;\n    }\n  }\n}\n","//Funcion para determinar si el usuario esta en un dispositivo movil\nexport const isMobile = () => {\n  if (typeof window !== 'undefined') {\n    const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n    const isMobileWidth = window.matchMedia('only screen and (max-width: 768px)').matches;\n    const moreThanOneTouchPoint = navigator.maxTouchPoints > 1; //cuantos puntos de contacto tiene el dispositivo\n    return isMobileWidth && isMobileUserAgent && moreThanOneTouchPoint;\n  }\n  return false;\n};\n","import React from 'react';\nimport type { HudState } from '../types';\n\ninterface HUDProps {\n  currentLap: number;\n  availableLaps: number;\n  points: number;\n  hud: HudState;\n  gameState: 'playing' | 'paused' | 'gameover' | 'loading' | 'ready';\n}\n\nexport const HUD: React.FC<HUDProps> = ({ currentLap, availableLaps, points, hud, gameState }) => {\n  /**\n   * Calculate speedometer rotation\n   */\n  const getSpeedometerRotation = () => {\n    const speed = parseInt(hud.speed || '0') || 0;\n    // Rotate needle between -90 and 90 degrees based on speed\n    return (speed / 100) * 180 - 90;\n  };\n\n  if (gameState !== 'playing' && gameState !== 'paused' && gameState !== 'loading') {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Top HUD */}\n      <div className=\"hud-top\">\n        {/* Lap Counter */}\n        <span className=\"hud-lap-counter\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/flag-laps.webp\" alt=\"laps\" />\n          <span className=\"hud-lap-text\">\n            {currentLap}/{availableLaps}\n          </span>\n        </span>\n\n        {/* Lap Time */}\n        <span className=\"hud-time\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/cronometer.webp\" alt=\"time\" />\n          <span className=\"hud-lap-text\">{hud.current_lap_time}</span>\n        </span>\n\n        {/* Points */}\n        <span className=\"hud-score\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/coin.webp\" alt=\"points\" />\n          <span className=\"hud-score-value\">{points}</span>\n        </span>\n      </div>\n\n      {/* Bottom HUD - Speedometer */}\n      <div className=\"hud-bottom\">\n        <div className=\"hud-speed\">\n          <svg className=\"hud-speedometer\" viewBox=\"0 0 200 200\">\n            {/* Background circle */}\n            <circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"#444\" strokeWidth=\"2\" />\n            {/* Speedometer arc */}\n            <path d=\"M 30 170 A 85 85 0 0 1 170 170\" fill=\"none\" stroke=\"#888\" strokeWidth=\"8\" />\n            {/* Speed markers */}\n            {[0, 25, 50, 75, 100].map((speed, i) => {\n              const angle = ((i * 180) / 4 - 90) * (Math.PI / 180);\n              const x1 = 100 + 70 * Math.cos(angle);\n              const y1 = 100 + 70 * Math.sin(angle);\n              const x2 = 100 + 80 * Math.cos(angle);\n              const y2 = 100 + 80 * Math.sin(angle);\n              return (\n                <line key={speed} x1={x1} y1={y1} x2={x2} y2={y2} stroke=\"#ccc\" strokeWidth=\"2\" />\n              );\n            })}\n            {/* Speed needle */}\n            <line\n              x1=\"100\"\n              y1=\"100\"\n              x2={100 + 65 * Math.cos((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              y2={100 + 65 * Math.sin((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              stroke=\"#ff4444\"\n              strokeWidth=\"4\"\n              strokeLinecap=\"round\"\n            />\n            {/* Center dot */}\n            <circle cx=\"100\" cy=\"100\" r=\"5\" fill=\"#ff4444\" />\n          </svg>\n          {/* Speed value */}\n          <div className=\"hud-speed-text\">{hud.speed} mph</div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\ninterface BillboardStatsProps {\n  getBillboardStats: () => {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } | null;\n  isVisible?: boolean;\n}\n\nexport const BillboardStats: React.FC<BillboardStatsProps> = ({\n  getBillboardStats,\n  isVisible = false,\n}) => {\n  const [stats, setStats] = useState<ReturnType<typeof getBillboardStats>>(null);\n\n  useEffect(() => {\n    if (isVisible) {\n      const interval = setInterval(() => {\n        const newStats = getBillboardStats();\n        if (newStats) {\n          setStats(newStats);\n        }\n      }, 1000); // Update every second\n\n      return () => clearInterval(interval);\n    }\n  }, [getBillboardStats, isVisible]);\n\n  if (!isVisible || !stats) return null;\n\n  const billboards = Object.keys(stats.placements).sort();\n\n  return (\n    <div className=\"billboard-stats\">\n      <h4 className=\"billboard-title\">Billboard Analytics</h4>\n      <div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Track:</span>\n          <span className=\"billboard-stat-value\">{stats.trackLength}m</span>\n        </div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Laps:</span>\n          <span className=\"billboard-stat-value\">{stats.totalLaps}</span>\n        </div>\n      </div>\n      <table style={{ width: '100%', fontSize: '0.75rem' }}>\n        <thead>\n          <tr style={{ borderBottom: '1px solid #4b5563' }}>\n            <th style={{ textAlign: 'left', paddingBottom: '0.125rem' }}>Billboard</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Placed</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Shown</th>\n            <th style={{ textAlign: 'right', paddingBottom: '0.125rem' }}>%</th>\n          </tr>\n        </thead>\n        <tbody>\n          {billboards.map((billboard) => {\n            const placed = stats.placements[billboard] || 0;\n            const shown = stats.impressions[billboard] || 0;\n            const maxPossible = stats.maxPossibleImpressions[billboard] || 0;\n            const percentage = maxPossible > 0 ? ((shown / maxPossible) * 100).toFixed(0) : '0';\n\n            return (\n              <tr key={billboard} style={{ borderBottom: '1px solid #374151' }}>\n                <td\n                  style={{\n                    paddingTop: '0.125rem',\n                    paddingBottom: '0.125rem',\n                    fontSize: '0.625rem',\n                  }}\n                >\n                  {billboard.replace('BILLBOARD', 'B')}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {placed}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {shown}\n                </td>\n                <td\n                  style={{ textAlign: 'right', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {percentage}%\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n        <tfoot>\n          <tr style={{ fontWeight: 'bold', borderTop: '1px solid #6b7280' }}>\n            <td style={{ paddingTop: '0.25rem', fontSize: '0.75rem' }}>TOTAL</td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.placements).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.impressions).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'right', paddingTop: '0.25rem' }}>\n              {Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0) > 0\n                ? (\n                    (Object.values(stats.impressions).reduce((a, b) => a + b, 0) /\n                      Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0)) *\n                    100\n                  ).toFixed(0)\n                : '0'}\n              %\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div style={{ marginTop: '0.25rem', fontSize: '0.625rem', color: '#9ca3af' }}>\n        <p>% = Shown vs Max Possible ({stats.totalLaps} laps)</p>\n      </div>\n    </div>\n  );\n};\n","import React, { forwardRef } from 'react'\n\ninterface GameCanvasProps {\n\twidth: number\n\theight: number\n\tclassName?: string\n\tonClick?: () => void\n\tstyle?: React.CSSProperties\n}\n\nexport const GameCanvas = forwardRef<HTMLCanvasElement, GameCanvasProps>(\n\t({ width, height, className = '', onClick, style }, ref) => {\n\t\treturn (\n\t\t\t<div className=\"game-canvas-wrapper\">\n\t\t\t\t{/* Decorative corner accents */}\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tr\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-bl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-br\" />\n\n\t\t\t\t{/* Canvas */}\n\t\t\t\t<canvas\n\t\t\t\t\tref={ref}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tclassName={`game-canvas ${className}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageRendering: 'pixelated',\n\t\t\t\t\t\t...style,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n)\n\nGameCanvas.displayName = 'GameCanvas'\n","export const triggerHaptic = (\n\tstyle: 'light' | 'medium' | 'heavy' = 'light'\n) => {\n\tif ('vibrate' in navigator) {\n\t\tconst duration = style === 'light' ? 10 : style === 'medium' ? 20 : 30\n\t\tnavigator.vibrate(duration)\n\t}\n}\n","import React from 'react'\n\ninterface IconProps {\n\tsize?: number\n\tcolor?: string\n\tclassName?: string\n}\n\nexport const ArrowUpIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"3\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<polyline points=\"6 15 12 9 18 15\" />\n\t</svg>\n)\n\nexport const ArrowDownIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"3\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<polyline points=\"6 9 12 15 18 9\" />\n\t</svg>\n)\n\nexport const ArrowLeftIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"3\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<polyline points=\"15 6 9 12 15 18\" />\n\t</svg>\n)\n\nexport const ArrowRightIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"3\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<polyline points=\"9 6 15 12 9 18\" />\n\t</svg>\n)\n\nexport const RotateIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"2.5\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<path d=\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\" />\n\t\t<path d=\"M3 3v5h5\" />\n\t</svg>\n)\n\nexport const GasIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"2.5\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\n\t</svg>\n)\n\nexport const BrakeIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"2.5\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n\t\t<line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" />\n\t\t<line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" />\n\t</svg>\n)\n\nexport const LaunchIcon: React.FC<IconProps> = ({\n\tsize = 24,\n\tcolor = 'currentColor',\n\tclassName,\n}) => (\n\t<svg\n\t\twidth={size}\n\t\theight={size}\n\t\tviewBox=\"0 0 24 24\"\n\t\tfill=\"none\"\n\t\tstroke={color}\n\t\tstrokeWidth=\"2.5\"\n\t\tstrokeLinecap=\"round\"\n\t\tstrokeLinejoin=\"round\"\n\t\tclassName={className}\n\t>\n\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t<circle cx=\"12\" cy=\"12\" r=\"3\" />\n\t</svg>\n)\n","import React from 'react'\nimport { triggerHaptic } from '../../../../utils/haptics'\nimport {\n\tArrowUpIcon,\n\tArrowDownIcon,\n\tArrowLeftIcon,\n\tArrowRightIcon,\n\tRotateIcon,\n\tGasIcon,\n\tBrakeIcon,\n\tLaunchIcon,\n} from './ControlIcons'\n\ntype ControlDirection = 'up' | 'down' | 'left' | 'right' | 'action' | 'action2'\n\ninterface GameControlsProps {\n\tonControl: (direction: ControlDirection) => void\n\tonControlEnd?: (direction: ControlDirection) => void\n\tbrandColor?: string\n\tshowActionButton?: boolean\n\tactionLabel?: string\n\tlayout?: 'dpad' | 'arrows' | 'horizontal' | 'racing' | 'tetris'\n\tactionIcon?: React.ReactNode\n\taction2Label?: string\n\taction2Icon?: React.ReactNode\n\tshowRotateButton?: boolean\n\tonRotate?: () => void\n\tshowLaunchButton?: boolean\n\tonLaunch?: () => void\n}\n\nexport const GameControls: React.FC<GameControlsProps> = ({\n\tonControl,\n\tonControlEnd,\n\tlayout = 'dpad',\n\tshowRotateButton = false,\n\tonRotate,\n\tshowLaunchButton = false,\n\tonLaunch,\n}) => {\n\tconst preventSelectStyles: React.CSSProperties = {\n\t\tuserSelect: 'none',\n\t\tWebkitUserSelect: 'none',\n\t\tMozUserSelect: 'none',\n\t\tmsUserSelect: 'none',\n\t\ttouchAction: 'none',\n\t\tWebkitTouchCallout: 'none',\n\t}\n\n\tconst handleContextMenu = (e: React.MouseEvent) => {\n\t\te.preventDefault()\n\t\treturn false\n\t}\n\n\tconst handleTouchStart = (\n\t\te: React.TouchEvent,\n\t\tdirection: ControlDirection,\n\t\twithHaptic: 'light' | 'medium' | 'heavy' = 'light'\n\t) => {\n\t\te.preventDefault()\n\t\ttriggerHaptic(withHaptic)\n\t\tonControl(direction)\n\t}\n\n\tconst handleTouchEnd = (e: React.TouchEvent, direction: ControlDirection) => {\n\t\te.preventDefault()\n\t\tonControlEnd?.(direction)\n\t}\n\n\tconst handleMouseDown = (direction: ControlDirection) => {\n\t\tonControl(direction)\n\t}\n\n\tconst handleMouseUp = (direction: ControlDirection) => {\n\t\tonControlEnd?.(direction)\n\t}\n\n\t// Horizontal layout for Breakout\n\tif (layout === 'horizontal') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-horizontal\">\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'left')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'left')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('left')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-paddle\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowLeftIcon size={24} />\n\t\t\t\t\t<span className=\"game-controls-btn-label\">Izquierda</span>\n\t\t\t\t</button>\n\t\t\t\t{showLaunchButton && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\ttriggerHaptic('medium')\n\t\t\t\t\t\t\tonLaunch?.()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => onLaunch?.()}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-green game-controls-btn-launch\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<LaunchIcon size={24} />\n\t\t\t\t\t\t<span className=\"game-controls-btn-label\">Lanzar</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'right')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'right')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('right')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-paddle\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowRightIcon size={24} />\n\t\t\t\t\t<span className=\"game-controls-btn-label\">Derecha</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Racing layout with steering on left and gas/brake on right\n\tif (layout === 'racing') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-racing\">\n\t\t\t\t{/* Steering controls on the left */}\n\t\t\t\t<div className=\"game-controls-racing-steering\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'left')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'left')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('left')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowLeftIcon size={28} />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'right')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'right')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('right')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowRightIcon size={28} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Action buttons on the right */}\n\t\t\t\t<div className=\"game-controls-racing-actions\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'up', 'medium')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'up')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('up')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-green game-controls-btn-gas\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GasIcon size={20} />\n\t\t\t\t\t\t<span className=\"game-controls-btn-label\">Gas</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'down', 'medium')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'down')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('down')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-red game-controls-btn-brake\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BrakeIcon size={20} />\n\t\t\t\t\t\t<span className=\"game-controls-btn-label\">Freno</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Tetris layout with D-pad on left and rotate button on right\n\tif (layout === 'tetris' || (layout === 'arrows' && showRotateButton)) {\n\t\treturn (\n\t\t\t<div className=\"game-controls-tetris\">\n\t\t\t\t{/* D-pad on the left */}\n\t\t\t\t<div className=\"game-controls-dpad-modern\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'up')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'up')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('up')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-up\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowUpIcon size={24} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'left')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'left')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('left')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-left\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowLeftIcon size={24} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'right')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'right')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('right')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-right\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowRightIcon size={24} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'down')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'down')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('down')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-down\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowDownIcon size={24} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Rotate button on the right */}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\ttriggerHaptic('medium')\n\t\t\t\t\t\tif (onRotate) {\n\t\t\t\t\t\t\tonRotate()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (onRotate) {\n\t\t\t\t\t\t\tonRotate()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-purple game-controls-rotate-btn\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<RotateIcon size={32} />\n\t\t\t\t\t<span className=\"game-controls-rotate-label\">Rotar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Snake layout - centered D-pad\n\tif (layout === 'arrows') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-snake\">\n\t\t\t\t<div className=\"game-controls-dpad-modern\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'up')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'up')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('up')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-up\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowUpIcon size={26} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'left')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'left')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('left')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-left\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowLeftIcon size={26} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'right')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'right')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('right')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-right\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowRightIcon size={26} />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'down')}\n\t\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'down')}\n\t\t\t\t\t\tonMouseDown={() => handleMouseDown('down')}\n\t\t\t\t\t\tonMouseUp={() => handleMouseUp('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-down\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowDownIcon size={26} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// D-Pad layout (default)\n\treturn (\n\t\t<div className=\"game-controls-container\">\n\t\t\t<div className=\"game-controls-dpad-modern\">\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'up')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'up')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('up')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('up')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-up\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowUpIcon size={26} />\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'right')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'right')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('right')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-right\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowRightIcon size={26} />\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'down')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'down')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('down')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('down')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-down\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowDownIcon size={26} />\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => handleTouchStart(e, 'left')}\n\t\t\t\t\tonTouchEnd={e => handleTouchEnd(e, 'left')}\n\t\t\t\t\tonMouseDown={() => handleMouseDown('left')}\n\t\t\t\t\tonMouseUp={() => handleMouseUp('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn-modern game-controls-btn-left\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t<ArrowLeftIcon size={26} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","'use client';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useCarGame } from './hooks/useCarGame';\nimport { HUD } from './components/HUD';\nimport { BillboardStats } from './components/BillboardStats';\nimport { GameCanvas } from '../ui/GameCanvas';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { isMobile } from '../../../../utils/functions';\nimport { Language } from '../../../../types/i18n';\nimport { getTranslations } from '../../../../i18n';\n\ninterface RacingGameProps {\n  laps: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  /**\n   * Track layout to use:\n   * 0 (default) - Original balanced track with variety\n   * 1 - Speed Circuit: Fast track with long straights\n   * 2 - Mountain Pass: Challenging hills and curves\n   * 3 - Technical Circuit: Lots of curves and turns\n   */\n  track?: number;\n  skin?: string;\n  gameTitle?: string;\n  brandColor?: string;\n  brandLogo?: string;\n  showBillboardStats?: boolean;\n  lang?: Language;\n}\n\nconst RacingGame = ({\n  laps,\n  setPointsEarned,\n  setGameOver,\n  track = 0,\n  skin = 'default',\n  gameTitle = 'JALO Racing',\n  brandColor = '#00d26a',\n  brandLogo,\n  showBillboardStats = false,\n  lang = 'en',\n}: RacingGameProps) => {\n  const t = getTranslations(lang);\n  const mobile = isMobile();\n  const availableLaps = laps || 3;\n  const [gameStarted, setGameStarted] = useState(false);\n\n  // Use the new custom hook for game logic\n  const {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    startGame,\n    togglePause,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  } = useCarGame(availableLaps, track, skin, setPointsEarned, setGameOver);\n\n  // Start game when instructions are dismissed\n  const handleGameStart = async () => {\n    setGameStarted(true);\n    await startGame();\n  };\n\n  // Initialize canvas on mount\n  useEffect(() => {\n    if (canvasRef.current) {\n      // Set initial canvas dimensions\n      canvasRef.current.width = 720;\n      canvasRef.current.height = 960;\n    }\n  }, [canvasRef]);\n\n  // Setup touch controls when game starts on mobile\n  useEffect(() => {\n    if (mobile && gameState === 'playing') {\n      setupTouchControls(true);\n    }\n  }, [mobile, gameState, setupTouchControls]);\n\n  // Handle control input from GameControls\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameState !== 'playing') return;\n\n      // Directly update the input state through the hook\n      handleTouchControl(direction, true);\n    },\n    [gameState, handleTouchControl]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      // Directly update the input state through the hook\n      handleTouchControl(direction, false);\n    },\n    [handleTouchControl]\n  );\n\n  // Handle keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Prevent arrow key scrolling\n      const keys: { [key: number]: number } = { 37: 1, 38: 1, 39: 1, 40: 1 };\n      if (keys[e.keyCode]) {\n        e.preventDefault();\n        return false;\n      }\n\n      // Handle pause (ESC or Space)\n      if (gameStarted && (e.key === 'Escape' || e.key === ' ')) {\n        e.preventDefault();\n        togglePause();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown, false);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown, false);\n    };\n  }, [gameStarted, togglePause]);\n\n  return (\n    <div style={{ width: '100%', position: 'relative' }}>\n      <div\n        style={{\n          width: '100%',\n          position: 'relative',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.25rem',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        {/* Instructions Overlay */}\n        {!gameStarted && (\n          <GameOverlay\n            type=\"custom\"\n            title={gameTitle}\n            brandColor={brandColor}\n            onAction={handleGameStart}\n            actionText={t.games.racing.startRacing}\n            lang={lang}\n            customContent={\n              <div style={{ marginBottom: '1rem' }}>\n                {brandLogo && (\n                  <>\n                    <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                    <img\n                      src={brandLogo}\n                      alt=\"Brand Logo\"\n                      style={{\n                        margin: '0 auto',\n                        width: '12rem',\n                        height: 'auto',\n                        marginBottom: '1rem',\n                      }}\n                    />\n                  </>\n                )}\n                <p style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                  {mobile\n                    ? t.games.racing.useTouchControls\n                    : t.games.racing.useKeyboard}\n                </p>\n\n                <div style={{ marginTop: '0.5rem' }}>\n                  {mobile ? (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#059669',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#dc2626',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          A\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          D\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          W\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          S\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  )}\n                </div>\n\n                <p style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '1rem' }}>\n                  {t.games.racing.collectCoins}\n                </p>\n              </div>\n            }\n          />\n        )}\n\n        {/* Pause Overlay */}\n        {gameState === 'paused' && (\n          <GameOverlay\n            type=\"pause\"\n            title={` ${t.games.pause}`}\n            message={t.games.racing.pressEscContinue}\n            onAction={togglePause}\n            actionText={t.games.continue}\n            brandColor={brandColor}\n            lang={lang}\n          />\n        )}\n\n        {/* Game Area */}\n        <div\n          id=\"racer\"\n          style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%' }}\n        >\n          {gameState === 'gameover' && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} lang={lang} />\n          )}\n\n          {/* Game Canvas Container - always present but hidden during ready state */}\n          <div\n            style={{\n              position: 'relative',\n              padding: 0,\n              margin: 0,\n              width: '100%',\n              maxWidth: '360px',\n              height: '480px',\n              display: gameState === 'gameover' ? 'none' : 'block',\n              visibility: gameState === 'ready' ? 'hidden' : 'visible',\n            }}\n          >\n            {/* HUD Component */}\n            <HUD\n              currentLap={currentLap}\n              availableLaps={availableLaps}\n              points={points}\n              hud={hud}\n              gameState={gameState}\n            />\n\n            {/* Game Canvas */}\n            <GameCanvas\n              ref={canvasRef}\n              width={720}\n              height={960}\n              style={{ backgroundColor: '#35cafa', width: '100%', height: '100%' }}\n            />\n          </div>\n        </div>\n\n        {/* Billboard Statistics (Debug Mode) */}\n        <BillboardStats\n          getBillboardStats={getBillboardStats}\n          isVisible={showBillboardStats && gameState === 'playing' && !mobile}\n        />\n\n        {/* Game Controls */}\n        {mobile && gameState === 'playing' && (\n          <GameControls\n            onControl={handleControl}\n            onControlEnd={handleControlEnd}\n            layout=\"racing\"\n            brandColor={brandColor}\n            actionIcon=\"\"\n            action2Icon=\"\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RacingGame;\n","import { useState, useRef, useCallback, useEffect } from 'react';\nimport type {\n  Car,\n  InputState,\n  HudState,\n  GameConfig,\n  CoinAnimation,\n  CrashAnimation,\n} from '../types';\nimport { RoadEngine } from '../engine/road';\nimport { PhysicsEngine } from '../engine/physics';\nimport { RenderEngine } from '../engine/render';\nimport { GameLoop, ImageLoader, InputManager } from '../engine/gameLoop';\nimport { MathUtils } from '../utils/math';\nimport { DEFAULT_CONFIG, KEY, BACKGROUND } from '../constants';\nimport { isMobile } from '../../../../../utils/functions';\n\n/**\n * Custom hook for managing 3D car game state and logic\n */\nexport function useCarGame(\n  laps: number,\n  track: number,\n  skin: string,\n  setPointsEarned: (points: number) => void,\n  setGameOver: (isOver: boolean) => void\n) {\n  const mobile = isMobile();\n\n  // Game state\n  const [gameState, setGameState] = useState<\n    'loading' | 'ready' | 'playing' | 'paused' | 'gameover'\n  >('loading');\n  const gameStateRef = useRef(gameState);\n  const [currentLap, setCurrentLap] = useState(1);\n  const [points, setPoints] = useState(0);\n  const [hud, setHud] = useState<HudState>({\n    speed: '0',\n    current_lap_time: '00:00:0',\n  });\n  const coinAnimationsRef = useRef<CoinAnimation[]>([]);\n  const crashAnimationsRef = useRef<CrashAnimation[]>([]);\n\n  // Keep gameStateRef in sync\n  useEffect(() => {\n    gameStateRef.current = gameState;\n  }, [gameState]);\n\n  // Refs for game engines and state\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const roadEngineRef = useRef<RoadEngine>(null);\n  const physicsEngineRef = useRef<PhysicsEngine>(null);\n  const renderEngineRef = useRef<RenderEngine>(null);\n  const gameLoopRef = useRef<GameLoop>(null);\n  const inputManagerRef = useRef<InputManager>(null);\n\n  // Game world state\n  const gameWorldRef = useRef({\n    position: 0,\n    speed: 0,\n    playerX: 0,\n    playerZ: 0,\n    currentLapTime: 0,\n    cars: [] as Car[],\n    skyOffset: 0,\n    hillOffset: 0,\n    treeOffset: 0,\n    background: null as HTMLImageElement | null,\n    sprites: null as HTMLImageElement | null,\n    hasRendered: false,\n  });\n\n  // Input state\n  const inputStateRef = useRef<InputState>({\n    left: false,\n    right: false,\n    faster: false,\n    slower: false,\n  });\n\n  // Game configuration\n  const configRef = useRef<GameConfig>({\n    ...DEFAULT_CONFIG,\n    cameraDepth: 1 / Math.tan(((DEFAULT_CONFIG.fieldOfView / 2) * Math.PI) / 180),\n    maxSpeed: DEFAULT_CONFIG.segmentLength / ((1 / DEFAULT_CONFIG.fps) * 1.2),\n    accel: 0, // Will be calculated\n    breaking: 0, // Will be calculated\n    decel: 0, // Will be calculated\n    offRoadDecel: 0, // Will be calculated\n    offRoadLimit: 0, // Will be calculated\n    playerZ: 0, // Will be calculated in useEffect\n  });\n\n  // Calculate derived config values\n  useEffect(() => {\n    const config = configRef.current;\n    config.playerZ = config.cameraHeight * config.cameraDepth;\n    config.maxSpeed = config.segmentLength / ((1 / config.fps) * 1.2);\n    config.accel = config.maxSpeed / 5;\n    config.breaking = -config.maxSpeed;\n    config.decel = -config.maxSpeed / 5;\n    config.offRoadDecel = -config.maxSpeed / 2;\n    config.offRoadLimit = config.maxSpeed / 4;\n  }, []);\n\n  /**\n   * Format time for display\n   */\n  const formatTime = useCallback((dt: number): string => {\n    const minutes = Math.floor(dt / 60);\n    const seconds = Math.floor(dt - minutes * 60);\n    const tenths = Math.floor(10 * (dt - Math.floor(dt)));\n\n    if (minutes > 0 && minutes < 10) {\n      return `0${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    if (minutes > 0 && minutes >= 10) {\n      return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    return `00:${seconds < 10 ? '0' : ''}${seconds}:${tenths < 10 ? '0' : ''}${tenths}`;\n  }, []);\n\n  /**\n   * Update HUD values\n   */\n  const updateHud = useCallback((key: keyof HudState, value: string) => {\n    setHud((prevHud) => {\n      if (prevHud[key] !== value) {\n        return { ...prevHud, [key]: value };\n      }\n      return prevHud;\n    });\n  }, []);\n\n  /**\n   * Initialize game engines\n   */\n  const initializeEngines = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Set canvas dimensions\n    const config = configRef.current;\n    canvas.width = config.width;\n    canvas.height = config.height;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Initialize engines\n    roadEngineRef.current = new RoadEngine(config.segmentLength, config.rumbleLength);\n    physicsEngineRef.current = new PhysicsEngine({\n      maxSpeed: config.maxSpeed,\n      accel: config.accel,\n      breaking: config.breaking,\n      decel: config.decel,\n      offRoadDecel: config.offRoadDecel,\n      offRoadLimit: config.offRoadLimit,\n      centrifugal: config.centrifugal,\n      trackLength: 0, // Will be updated after road generation\n    });\n    renderEngineRef.current = new RenderEngine(ctx, config.width, config.height);\n    renderEngineRef.current.setCameraDepth(config.cameraDepth);\n    inputManagerRef.current = new InputManager();\n\n    // Setup input handlers\n    inputManagerRef.current.setKeyHandlers([\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.left = true;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.right = true;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.faster = true;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.slower = true;\n        },\n      },\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.left = false;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.right = false;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.faster = false;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.slower = false;\n        },\n      },\n    ]);\n\n    return true;\n  }, []);\n\n  /**\n   * Load game assets\n   */\n  const loadAssets = useCallback(async () => {\n    try {\n      const images = await ImageLoader.loadImages(\n        ['background', 'sprites'],\n        '/games/racing/images',\n        skin\n      );\n\n      gameWorldRef.current.background = images[0];\n      gameWorldRef.current.sprites = images[1];\n\n      return true;\n    } catch (error) {\n      console.error('Failed to load game assets:', error);\n      return false;\n    }\n  }, [skin]);\n\n  /**\n   * Reset game world\n   */\n  const resetGame = useCallback(() => {\n    const config = configRef.current;\n    const world = gameWorldRef.current;\n\n    // Reset world state\n    world.position = 0;\n    world.speed = 0;\n    world.playerX = 0;\n    world.currentLapTime = 0;\n    world.skyOffset = 0;\n    world.hillOffset = 0;\n    world.treeOffset = 0;\n\n    // Reset road and cars\n    if (roadEngineRef.current && physicsEngineRef.current) {\n      roadEngineRef.current.reset(track, config.playerZ);\n      const trackLength = roadEngineRef.current.getTrackLength();\n      physicsEngineRef.current.updateTrackLength(trackLength);\n      world.cars = roadEngineRef.current.resetCars(config.totalCars, config.maxSpeed);\n    }\n\n    // Reset UI state\n    setCurrentLap(1);\n    setPoints(0);\n    coinAnimationsRef.current = [];\n    crashAnimationsRef.current = [];\n    updateHud('speed', '0');\n    updateHud('current_lap_time', '00:00:0');\n  }, [track, updateHud]);\n\n  /**\n   * Game update loop\n   */\n  const update = useCallback(\n    (dt: number) => {\n      if (gameStateRef.current !== 'playing') return;\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const physics = physicsEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!physics || !road) return;\n\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const startPosition = world.position;\n\n      // Update player physics\n      const playerUpdate = physics.updatePlayer(\n        world.playerX,\n        world.speed,\n        world.position,\n        inputStateRef.current,\n        playerSegment,\n        dt,\n        (z) => road.findSegment(z),\n        config.width,\n        config.height\n      );\n\n      world.playerX = playerUpdate.playerX;\n      world.speed = playerUpdate.speed;\n      world.position = MathUtils.increase(world.position, dt * world.speed, road.getTrackLength());\n\n      // Handle points and crashes\n      if (playerUpdate.pointsEarned !== 0) {\n        setPoints((prev) => Math.max(prev + playerUpdate.pointsEarned, 0));\n      }\n\n      // Handle coin collection animation\n      if (playerUpdate.coinCollected && playerUpdate.pointsEarned > 0) {\n        coinAnimationsRef.current.push({\n          x: playerUpdate.coinCollected!.x,\n          y: playerUpdate.coinCollected!.y,\n          points: playerUpdate.pointsEarned,\n          startTime: Date.now(),\n        });\n      }\n\n      // Handle crash animation\n      if (playerUpdate.crashPosition && playerUpdate.crashed) {\n        crashAnimationsRef.current.push({\n          x: playerUpdate.crashPosition!.x,\n          y: playerUpdate.crashPosition!.y,\n          startTime: Date.now(),\n        });\n      }\n\n      // Update cars\n      physics.updateCars(\n        world.cars,\n        dt,\n        playerSegment,\n        world.playerX,\n        world.speed,\n        config.drawDistance,\n        (z) => road.findSegment(z),\n        road.getSegments()\n      );\n\n      // Update background scroll\n      const scrollUpdate = physics.updateScrollOffsets(\n        world.skyOffset,\n        world.hillOffset,\n        world.treeOffset,\n        playerSegment,\n        startPosition,\n        world.position,\n        config.segmentLength,\n        config.skySpeed,\n        config.hillSpeed,\n        config.treeSpeed\n      );\n\n      world.skyOffset = scrollUpdate.skyOffset;\n      world.hillOffset = scrollUpdate.hillOffset;\n      world.treeOffset = scrollUpdate.treeOffset;\n\n      // Handle lap completion\n      if (world.position > config.playerZ) {\n        if (world.currentLapTime && startPosition < config.playerZ) {\n          setCurrentLap((prev) => prev + 1);\n          road.removeAllCoins();\n          world.currentLapTime = 0;\n        } else {\n          world.currentLapTime += dt;\n        }\n      }\n\n      // Update HUD\n      updateHud('speed', String(5 * Math.round(world.speed / 500)));\n      updateHud('current_lap_time', formatTime(world.currentLapTime));\n    },\n    [formatTime, updateHud]\n  );\n\n  /**\n   * Game render loop\n   */\n  const render = useCallback(\n    (_interpolation: number) => {\n      if (gameStateRef.current !== 'playing') {\n        return;\n      }\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const renderer = renderEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!renderer || !road || !world.background || !world.sprites) return;\n\n      renderer.clear();\n\n      const baseSegment = road.findSegment(world.position);\n      const basePercent = MathUtils.percentRemaining(world.position, config.segmentLength);\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const playerPercent = MathUtils.percentRemaining(\n        world.position + config.playerZ,\n        config.segmentLength\n      );\n      const playerY = MathUtils.interpolate(\n        playerSegment.p1.world.y,\n        playerSegment.p2.world.y,\n        playerPercent\n      );\n\n      let x = 0;\n      let dx = -(baseSegment.curve * basePercent);\n      let maxy = config.height;\n\n      // Render background layers\n      renderer.background(\n        world.background,\n        BACKGROUND.SKY,\n        world.skyOffset,\n        renderer.resolution * config.skySpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.HILLS,\n        world.hillOffset,\n        renderer.resolution * config.hillSpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.TREES,\n        world.treeOffset,\n        renderer.resolution * config.treeSpeed * playerY\n      );\n\n      // Render road segments\n      const segments = road.getSegments();\n      for (let n = 0; n < config.drawDistance; n++) {\n        const segment = segments[(baseSegment.index + n) % segments.length];\n        segment.looped = segment.index < baseSegment.index;\n        segment.fog = MathUtils.exponentialFog(n / config.drawDistance, config.fogDensity);\n        segment.clip = maxy;\n\n        MathUtils.project(\n          segment.p1,\n          world.playerX * config.roadWidth - x,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n        MathUtils.project(\n          segment.p2,\n          world.playerX * config.roadWidth - x - dx,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n\n        x = x + dx;\n        dx = dx + segment.curve;\n\n        if (\n          segment.p1.camera.z <= config.cameraDepth ||\n          segment.p2.screen.y >= segment.p1.screen.y ||\n          segment.p2.screen.y >= maxy\n        ) {\n          continue;\n        }\n\n        renderer.segment(\n          config.lanes,\n          segment.p1.screen.x,\n          segment.p1.screen.y,\n          segment.p1.screen.w,\n          segment.p2.screen.x,\n          segment.p2.screen.y,\n          segment.p2.screen.w,\n          segment.fog,\n          segment.color\n        );\n\n        maxy = segment.p1.screen.y;\n      }\n\n      // Render all objects in correct z-order\n      renderer.renderObjects(\n        segments,\n        baseSegment.index,\n        config.drawDistance,\n        config.roadWidth,\n        world.sprites,\n        (sprite, segmentIndex, offset) => {\n          // Track billboard impressions\n          if (road.getBillboardName) {\n            const billboardName = road.getBillboardName(sprite);\n            if (billboardName) {\n              road.recordBillboardImpression(segmentIndex, offset, billboardName, currentLap);\n            }\n          }\n        }\n      );\n\n      // Render player\n      renderer.player(\n        config.roadWidth,\n        world.sprites,\n        world.speed / config.maxSpeed,\n        config.cameraDepth / config.playerZ,\n        config.width / 2,\n        config.height / 2 -\n          ((config.cameraDepth / config.playerZ) *\n            MathUtils.interpolate(\n              playerSegment.p1.camera.y,\n              playerSegment.p2.camera.y,\n              playerPercent\n            ) *\n            config.height) /\n            2,\n        world.speed * (inputStateRef.current.left ? -1 : inputStateRef.current.right ? 1 : 0),\n        playerSegment.p2.world.y - playerSegment.p1.world.y\n      );\n\n      // Render coin animations\n      const currentTime = Date.now();\n      renderer.renderCoinAnimations(coinAnimationsRef.current, currentTime);\n      renderer.renderCrashAnimations(crashAnimationsRef.current, currentTime);\n\n      // Clean up expired animations\n      coinAnimationsRef.current = coinAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n      crashAnimationsRef.current = crashAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n    },\n    [currentLap]\n  );\n\n  /**\n   * Start the game\n   */\n  const startGame = useCallback(async () => {\n    setGameState('loading');\n\n    if (!initializeEngines()) {\n      console.error('Failed to initialize game engines');\n      return;\n    }\n\n    const assetsLoaded = await loadAssets();\n    if (!assetsLoaded) {\n      console.error('Failed to load game assets');\n      return;\n    }\n\n    resetGame();\n\n    // Initialize game loop\n    gameLoopRef.current = new GameLoop(update, render, DEFAULT_CONFIG.fps);\n    gameLoopRef.current.start();\n\n    setGameState('playing');\n  }, [initializeEngines, loadAssets, resetGame, update, render]);\n\n  /**\n   * Pause/unpause game\n   */\n  const togglePause = useCallback(() => {\n    if (gameState === 'playing') {\n      setGameState('paused');\n      gameLoopRef.current?.stop();\n    } else if (gameState === 'paused') {\n      setGameState('playing');\n      gameLoopRef.current?.start();\n    }\n  }, [gameState]);\n\n  /**\n   * Stop the game\n   */\n  const stopGame = useCallback(() => {\n    gameLoopRef.current?.stop();\n    inputManagerRef.current?.destroy();\n    setGameState('gameover');\n  }, []);\n\n  // Check for game over condition\n  useEffect(() => {\n    if (currentLap > laps) {\n      setPointsEarned(points);\n      setGameOver(true);\n      stopGame();\n    }\n  }, [currentLap, laps, points, setPointsEarned, setGameOver, stopGame]);\n\n  /**\n   * Setup touch controls for mobile\n   */\n  const setupTouchControls = useCallback((isMobile: boolean) => {\n    if (inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(isMobile);\n    }\n  }, []);\n\n  // Setup touch controls after initialization\n  useEffect(() => {\n    if (gameState === 'playing' && inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(mobile);\n    }\n  }, [gameState, mobile]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      gameLoopRef.current?.stop();\n      inputManagerRef.current?.destroy();\n    };\n  }, []);\n\n  /**\n   * Handle touch control input directly\n   */\n  const handleTouchControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2', isPressed: boolean) => {\n      switch (direction) {\n        case 'left':\n          inputStateRef.current.left = isPressed;\n          break;\n        case 'right':\n          inputStateRef.current.right = isPressed;\n          break;\n        case 'up':\n          inputStateRef.current.faster = isPressed;\n          break;\n        case 'down':\n          inputStateRef.current.slower = isPressed;\n          break;\n      }\n    },\n    []\n  );\n\n  /**\n   * Get billboard statistics\n   */\n  const getBillboardStats = useCallback(() => {\n    if (roadEngineRef.current) {\n      return roadEngineRef.current.getBillboardStats(laps);\n    }\n    return null;\n  }, [laps]);\n\n  return {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    availableLaps: laps,\n    startGame,\n    togglePause,\n    stopGame,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  };\n}\n","import React from 'react'\nimport { createBoard } from '../game'\n// Types\nimport type { Player } from './usePlayer'\n\nexport type BoardCell = [string | number, string]\nexport type Board = BoardCell[][]\n\nexport const useBoard = (player: Player, resetPlayer: () => void) => {\n\tconst [board, setBoard] = React.useState(createBoard())\n\tconst [rowsCleared, setRowsCleared] = React.useState(0)\n\tconst [clearingRows, setClearingRows] = React.useState<number[]>([])\n\n\tReact.useEffect(() => {\n\t\tif (!player.pos) return\n\n\t\tsetRowsCleared(0)\n\n\t\tconst sweepRows = (newBoard: Board): Board => {\n\t\t\tlet rowsCleared = 0\n\t\t\tconst rowsToRemove: number[] = []\n\n\t\t\t// First, identify which rows are full\n\t\t\tnewBoard.forEach((row, index) => {\n\t\t\t\tif (row.every(cell => cell[0] !== 0)) {\n\t\t\t\t\trowsToRemove.push(index)\n\t\t\t\t\trowsCleared += 1\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Set the rows to be cleared for animation\n\t\t\tif (rowsToRemove.length > 0) {\n\t\t\t\tsetClearingRows(rowsToRemove)\n\n\t\t\t\t// Clear the animation after a delay\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetClearingRows([])\n\t\t\t\t}, 300)\n\t\t\t}\n\n\t\t\t// Then remove them\n\t\t\tconst updatedBoard = newBoard.reduce((acc, row, index) => {\n\t\t\t\tif (rowsToRemove.includes(index)) {\n\t\t\t\t\t// Aadir una nueva fila vaca al principio\n\t\t\t\t\tacc.unshift(\n\t\t\t\t\t\tnew Array(newBoard[0].length).fill([0, 'clear']) as BoardCell[]\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\t// Mantener la fila actual si no est llena\n\t\t\t\t\tacc.push(row)\n\t\t\t\t}\n\t\t\t\treturn acc\n\t\t\t}, [] as Board)\n\n\t\t\tsetRowsCleared(rowsCleared)\n\t\t\treturn updatedBoard\n\t\t}\n\n\t\tconst updateBoard = (prevBoard: Board): Board => {\n\t\t\t// First flush the board\n\t\t\t// If it says \"clear\" but don't have a 0 it means that it's the players move and should be cleared\n\t\t\tconst newBoard = prevBoard.map(\n\t\t\t\trow =>\n\t\t\t\t\trow.map(cell =>\n\t\t\t\t\t\tcell[1] === 'clear' ? [0, 'clear'] : cell\n\t\t\t\t\t) as BoardCell[]\n\t\t\t)\n\n\t\t\t// Then draw the tetromino\n\t\t\tplayer.tetromino.forEach((row, y) => {\n\t\t\t\trow.forEach((value, x) => {\n\t\t\t\t\tif (value !== 0) {\n\t\t\t\t\t\tnewBoard[y + player.pos.y][x + player.pos.x] = [\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t`${player.collided ? 'merged' : 'clear'}`,\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif (player.collided) {\n\t\t\t\tresetPlayer()\n\t\t\t\treturn sweepRows(newBoard)\n\t\t\t}\n\n\t\t\treturn newBoard\n\t\t}\n\n\t\tsetBoard(prev => updateBoard(prev))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [player.collided, player.pos?.x, player.pos?.y, player.tetromino])\n\n\treturn { board, setBoard, rowsCleared, clearingRows }\n}\n","import React from 'react'\n\ninterface GameHeaderProps {\n\tlevel?: number\n\tlives?: number\n\tscore: number\n\tonPause?: () => void\n\tisPaused?: boolean\n\tcustomItems?: React.ReactNode\n\tbrandColor?: string\n\tisMobile?: boolean\n\tonQuit?: () => void\n\tshowQuitButton?: boolean\n\tisQuitting?: boolean\n}\n\nexport const GameHeader: React.FC<GameHeaderProps> = ({\n\tlevel,\n\tlives,\n\tscore,\n\tonPause,\n\tisPaused = false,\n\tcustomItems,\n\tbrandColor = '#00d26a',\n\tisMobile,\n\tonQuit,\n\tshowQuitButton = false,\n\tisQuitting = false,\n}) => {\n\t// Show quit button if explicitly enabled\n\tconst shouldShowQuit = showQuitButton && onQuit && !isQuitting\n\n\treturn (\n\t\t<div className=\"game-header\">\n\t\t\t<div className=\"game-header-stats\">\n\t\t\t\t{level !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-label\">Nivel</span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{level}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{lives !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{lives}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t<span className=\"game-header-stat-value\">\n\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t{customItems}\n\t\t\t</div>\n\n\t\t\t{/* Control Buttons */}\n\t\t\t<div className=\"game-header-buttons\">\n\t\t\t\t{/* Pause Button - Hide when quit dialog is shown */}\n\t\t\t\t{onPause && !isQuitting && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onPause}\n\t\t\t\t\t\tclassName=\"game-header-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isPaused\n\t\t\t\t\t\t\t? ` ${isMobile ? '' : 'Continuar'}`\n\t\t\t\t\t\t\t: ` ${isMobile ? '' : 'Pausar'}`}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{/* Quit Button */}\n\t\t\t\t{shouldShowQuit && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onQuit}\n\t\t\t\t\t\tclassName=\"game-header-btn game-header-quit-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isMobile ? '' : ' Salir'}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import * as Tone from 'tone'\n\nexport class TetrisAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastMoveTime = 0\n\tprivate readonly MIN_MOVE_GAP = 0.04\n\n\t// Synthesizers\n\tprivate moveSynth: Tone.Synth | null = null\n\tprivate rotateSynth: Tone.Synth | null = null\n\tprivate lockSynth: Tone.MembraneSynth | null = null\n\tprivate lineSynth: Tone.PolySynth | null = null\n\tprivate tetrisSynth: Tone.PolySynth | null = null\n\tprivate gameOverSynth: Tone.Synth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Move synth - subtle click\n\t\tthis.moveSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.03,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.02,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Rotate synth - whoosh\n\t\tthis.rotateSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Lock synth - thud when piece locks\n\t\tthis.lockSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.02,\n\t\t\toctaves: 2,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Line clear synth - escalating chime\n\t\tthis.lineSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Tetris synth - special 4-line fanfare\n\t\tthis.tetrisSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sawtooth' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending\n\t\tthis.gameOverSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Subtle click when moving piece\n\tplayMove(): void {\n\t\tif (!this.initialized || this.muted || !this.moveSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastMoveTime < this.MIN_MOVE_GAP) return\n\n\t\tthis.lastMoveTime = now\n\t\tthis.moveSynth.triggerAttackRelease('G5', '64n', now)\n\t}\n\n\t// Whoosh when rotating\n\tplayRotate(): void {\n\t\tif (!this.initialized || this.muted || !this.rotateSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.rotateSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.rotateSynth.triggerAttackRelease('E5', '32n', now + 0.02)\n\t}\n\n\t// Thud when piece locks in place\n\tplayLock(): void {\n\t\tif (!this.initialized || this.muted || !this.lockSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.lockSynth.triggerAttackRelease('C3', '8n', now)\n\t}\n\n\t// Escalating chime for line clears (1-3 lines)\n\tplayLineClear(count: number): void {\n\t\tif (!this.initialized || this.muted || !this.lineSynth) return\n\n\t\t// If it's a Tetris (4 lines), use the special sound\n\t\tif (count >= 4) {\n\t\t\tthis.playTetris()\n\t\t\treturn\n\t\t}\n\n\t\tconst now = Tone.now()\n\t\t// Escalating notes based on count\n\t\tconst noteSequences: string[][] = [['C5'], ['C5', 'E5'], ['C5', 'E5', 'G5']]\n\n\t\tconst notes = noteSequences[Math.min(count - 1, 2)]\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.lineSynth!.triggerAttackRelease(note, '8n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Special 4-line Tetris fanfare\n\tplayTetris(): void {\n\t\tif (!this.initialized || this.muted || !this.tetrisSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Triumphant fanfare\n\t\tconst fanfare = [\n\t\t\t{ notes: ['C4', 'E4', 'G4'], time: 0 },\n\t\t\t{ notes: ['E4', 'G4', 'B4'], time: 0.1 },\n\t\t\t{ notes: ['G4', 'B4', 'D5'], time: 0.2 },\n\t\t\t{ notes: ['C5', 'E5', 'G5', 'C6'], time: 0.35 },\n\t\t]\n\n\t\tfanfare.forEach(({ notes, time }) => {\n\t\t\tthis.tetrisSynth!.triggerAttackRelease(notes, '4n', now + time)\n\t\t})\n\t}\n\n\t// Sad descending phrase for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'A3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.moveSynth?.dispose()\n\t\tthis.rotateSynth?.dispose()\n\t\tthis.lockSynth?.dispose()\n\t\tthis.lineSynth?.dispose()\n\t\tthis.tetrisSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.moveSynth = null\n\t\tthis.rotateSynth = null\n\t\tthis.lockSynth = null\n\t\tthis.lineSynth = null\n\t\tthis.tetrisSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const tetrisAudio = new TetrisAudioManager()\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { isMobile } from '../../../../utils/functions';\nimport { type Player } from './hooks/usePlayer';\nimport { useInterval } from './hooks/useInterval';\nimport { usePlayer } from './hooks/usePlayer';\nimport { useBoard } from './hooks/useBoard';\nimport { GameHeader } from '../ui/GameHeader';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { tetrisAudio } from './utils/audioManager';\n\nexport const BOARD_WIDTH = 10;\nexport const BOARD_HEIGHT = 20;\n\nconst TETROMINOS = {\n  0: { shape: [[0]], color: '#000000' },\n  I: {\n    shape: [\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n    ],\n    color: '#50e3e4', // RGB(80,227,230)\n  },\n  J: {\n    shape: [\n      [0, 'J', 0],\n      [0, 'J', 0],\n      ['J', 'J', 0],\n    ],\n    color: '#245fdf', // RGB(36,95,223)\n  },\n  L: {\n    shape: [\n      [0, 'L', 0],\n      [0, 'L', 0],\n      [0, 'L', 'L'],\n    ],\n    color: '#dfad24', // RGB(223,173,36)\n  },\n  O: {\n    shape: [\n      ['O', 'O'],\n      ['O', 'O'],\n    ],\n    color: '#dfd924', // RGB(223,217,36)\n  },\n  S: {\n    shape: [\n      [0, 'S', 'S'],\n      ['S', 'S', 0],\n      [0, 0, 0],\n    ],\n    color: '#30d934', // RGB(48,211,56)\n  },\n  T: {\n    shape: [\n      [0, 0, 0],\n      ['T', 'T', 'T'],\n      [0, 'T', 0],\n    ],\n    color: '#843dc6', // RGB(132,61,198)\n  },\n  Z: {\n    shape: [\n      ['Z', 'Z', 0],\n      [0, 'Z', 'Z'],\n      [0, 0, 0],\n    ],\n    color: '#e34e4e', // RGB(227,78,78)\n  },\n};\n\nexport type BoardCell = [keyof typeof TETROMINOS, string];\nexport type BoardType = BoardCell[][];\n\nexport const createBoard = () => {\n  return Array.from(Array(BOARD_HEIGHT), () => Array(BOARD_WIDTH).fill([0, 'clear']));\n};\n\nexport const randomTetromino = () => {\n  const tetrominos = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'] as (keyof typeof TETROMINOS)[];\n  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];\n  return TETROMINOS[randTetromino];\n};\n\nexport const isColliding = (\n  player: Player,\n  board: BoardType,\n  { x: moveX, y: moveY }: { x: number; y: number }\n) => {\n  // Using for loops to be able to return (and break). Not possible with forEach\n  for (let y = 0; y < player.tetromino.length; y += 1) {\n    for (let x = 0; x < player.tetromino[y].length; x += 1) {\n      // 1. Check that we're on an actual Tetromino cell\n      if (player.tetromino[y][x] !== 0) {\n        if (\n          // 2. Check that our move is inside the game areas height (y)\n          // That we're not moving through the bottom of the grid\n          !board[y + player.pos.y + moveY] ||\n          // 3. Check that our move is inside the game areas width (x)\n          !board[y + player.pos.y + moveY][x + player.pos.x + moveX] ||\n          // 4. Check that the cell we're moving to isn't set to clear\n          board[y + player.pos.y + moveY][x + player.pos.x + moveX][1] !== 'clear'\n        ) {\n          return true;\n        }\n      }\n    }\n  }\n};\n\ntype CellProps = {\n  type: keyof typeof TETROMINOS;\n  isClearing?: boolean;\n};\n\nconst Cell: React.FC<CellProps> = ({ type, isClearing }) => {\n  const color = TETROMINOS[type].color;\n  const isEmpty = type === 0;\n\n  return (\n    <div\n      className={`game-cell ${!isEmpty ? 'game-cell-filled' : ''} ${isClearing ? 'game-cell-clearing' : ''}`}\n      style={{\n        backgroundColor: isEmpty ? 'transparent' : isClearing ? '#ffffff' : color,\n        borderColor: isEmpty ? 'rgba(255, 255, 255, 0.1)' : isClearing ? '#ffffff' : `${color}88`,\n        boxShadow: isEmpty\n          ? 'none'\n          : `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`,\n      }}\n    />\n  );\n};\n\ntype BoardProps = {\n  board: BoardType;\n  clearingRows?: number[];\n};\n\nconst Board: React.FC<BoardProps> = ({ board, clearingRows = [] }) => {\n  return (\n    <div className=\"game-board-tetris\">\n      {board.map((row, y) =>\n        row.map((cell, x) => (\n          <Cell key={`${y}-${x}`} type={cell[0]} isClearing={clearingRows.includes(y)} />\n        ))\n      )}\n    </div>\n  );\n};\n\ntype NextPieceProps = {\n  shape: (string | number)[][];\n  color: string;\n};\n\nconst NextPiece: React.FC<NextPieceProps> = ({ shape, color }) => {\n  return (\n    <div\n      className=\"game-board-tetris\"\n      style={{\n        gridTemplateColumns: `repeat(${shape[0]?.length || 0}, 1fr)`,\n        gridTemplateRows: `repeat(${shape.length}, 1fr)`,\n        padding: '0.5rem',\n        border: '1px solid #4b5563',\n      }}\n    >\n      {shape.map((row, y) =>\n        row.map((cell, x) => (\n          <div\n            key={`${y}-${x}`}\n            className={`game-cell ${cell !== 0 ? 'game-cell-filled' : ''}`}\n            style={{\n              backgroundColor: cell !== 0 ? color : 'transparent',\n              borderColor: cell !== 0 ? `${color}88` : 'rgba(255, 255, 255, 0.1)',\n              boxShadow:\n                cell !== 0\n                  ? `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`\n                  : 'none',\n            }}\n          />\n        ))\n      )}\n    </div>\n  );\n};\n\ninterface TetrisGameProps {\n  lives: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  brandColor?: string;\n  skin?: string;\n  gameTitle?: string;\n  brandLogo?: string;\n}\n\nconst TetrisGame: React.FC<TetrisGameProps> = ({\n  lives,\n  setPointsEarned,\n  setGameOver,\n  brandColor,\n  skin = 'default',\n  gameTitle = 'TETRIS',\n  brandLogo,\n}) => {\n  const mobile = isMobile();\n\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gamePaused, setGamePaused] = useState(false);\n  const [gameOver, setGameOverState] = useState(false);\n  const [quitGame, setQuitGame] = useState(false);\n  const [wasGamePaused, setWasGamePaused] = useState(false);\n\n  const [currentLives, setCurrentLives] = useState(lives);\n  const [points, setPoints] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [, setTotalLinesCleared] = useState(0);\n  const [nextPiece, setNextPiece] = useState(randomTetromino());\n\n  const [dropTime, setDropTime] = useState<null | number>(null);\n  const [intervalSpeed, setIntervalSpeed] = useState<number>(1000);\n\n  const { player, updatePlayerPos, resetPlayer, playerRotate } = usePlayer();\n  const { board, setBoard, rowsCleared, clearingRows } = useBoard(player, () => {\n    resetPlayerWithNextPiece();\n  });\n\n  const touchTimeoutRef = useRef<any>(null);\n\n  const resetPlayerWithNextPiece = useCallback(() => {\n    if (nextPiece) {\n      resetPlayer(nextPiece.shape);\n      setNextPiece(randomTetromino());\n    }\n  }, [nextPiece, resetPlayer]);\n\n  const movePlayer = useCallback(\n    (dir: number) => {\n      if (!isColliding(player, board, { x: dir, y: 0 })) {\n        updatePlayerPos({ x: dir, y: 0, collided: false });\n        tetrisAudio.playMove();\n      }\n    },\n    [player, board, updatePlayerPos]\n  );\n\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameOver || gamePaused) return;\n\n      switch (direction) {\n        case 'up':\n          playerRotate(board);\n          tetrisAudio.playRotate();\n          break;\n        case 'down':\n          // Start fast drop\n          setDropTime(30);\n          break;\n        case 'left':\n          movePlayer(-1);\n          break;\n        case 'right':\n          movePlayer(1);\n          break;\n      }\n    },\n    [gameOver, gamePaused, board, playerRotate, movePlayer]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (direction === 'down') {\n        // Reset to normal drop speed\n        setDropTime(intervalSpeed);\n      }\n    },\n    [intervalSpeed]\n  );\n\n  const keyUp = ({ keyCode }: { keyCode: number }): void => {\n    if (!gameOver) {\n      if (keyCode === 40) {\n        setDropTime(intervalSpeed);\n      }\n    }\n  };\n\n  const move = ({ keyCode, repeat }: { keyCode: number; repeat: boolean }): void => {\n    if (!gamePaused || gameOver) {\n      if (keyCode === 37) {\n        movePlayer(-1);\n      } else if (keyCode === 39) {\n        movePlayer(1);\n      } else if (keyCode === 40) {\n        // just call once\n        if (repeat) return;\n        setDropTime(30);\n      } else if (keyCode === 38) {\n        playerRotate(board);\n        tetrisAudio.playRotate();\n      }\n    }\n  };\n\n  const drop = () => {\n    if (!isColliding(player, board, { x: 0, y: 1 })) {\n      updatePlayerPos({ x: 0, y: 1, collided: false });\n    } else {\n      if (player.pos.y < 1) {\n        setCurrentLives(currentLives - 1);\n        if (currentLives - 1 <= 0) {\n          setGameOverState(true);\n          setGameOver(true);\n          setPointsEarned(points);\n          setDropTime(null);\n          tetrisAudio.playGameOver();\n        } else {\n          setBoard(createBoard());\n        }\n      } else {\n        updatePlayerPos({ x: 0, y: 0, collided: true });\n        tetrisAudio.playLock();\n      }\n    }\n  };\n\n  const startGame = () => {\n    setGameStarted(true);\n    setBoard(createBoard());\n    setDropTime(intervalSpeed); // Use initial speed\n    setNextPiece(randomTetromino());\n    resetPlayerWithNextPiece();\n    setGameOverState(false);\n    setPoints(0);\n    setCurrentLives(lives);\n    setLevel(1);\n    setTotalLinesCleared(0);\n    setQuitGame(false);\n  };\n\n  const cancelQuit = () => {\n    setQuitGame(false);\n    setGamePaused(wasGamePaused);\n  };\n\n  const handleQuitConfirm = () => {\n    setPointsEarned(points);\n    setGameOver(true);\n    setGameStarted(false);\n    setDropTime(null);\n  };\n\n  const preventDefaultForScrollKeys = (e: any) => {\n    const keys: any = { 37: 1, 38: 1, 39: 1, 40: 1 };\n    if (keys[e.keyCode] === 1) {\n      e.preventDefault();\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n    tetrisAudio.init();\n    return () => {\n      tetrisAudio.dispose();\n    };\n  }, []);\n\n  useInterval(() => {\n    if (gameStarted && !gameOver && !gamePaused) {\n      drop();\n    }\n  }, dropTime);\n\n  useEffect(() => {\n    if (rowsCleared > 0) {\n      // Calculate points based on lines cleared\n      let pointsEarned = 0;\n      switch (rowsCleared) {\n        case 1:\n          pointsEarned = 100 * level;\n          break;\n        case 2:\n          pointsEarned = 300 * level;\n          break;\n        case 3:\n          pointsEarned = 500 * level;\n          break;\n        case 4:\n          pointsEarned = 800 * level; // Tetris!\n          break;\n        default:\n          pointsEarned = 100 * level * rowsCleared;\n      }\n\n      // Play line clear sound\n      tetrisAudio.playLineClear(rowsCleared);\n\n      setPoints((prev) => prev + pointsEarned);\n      setTotalLinesCleared((prev) => {\n        const newTotal = prev + rowsCleared;\n        // Level up every 10 lines\n        const newLevel = Math.floor(newTotal / 10) + 1;\n        if (newLevel > level) {\n          setLevel(newLevel);\n        }\n        return newTotal;\n      });\n      setDropTime(intervalSpeed);\n    }\n  }, [rowsCleared, level, intervalSpeed]);\n\n  // Adjust the speed of the game according to the level\n  useEffect(() => {\n    // Speed formula: 1000ms - (level * 50ms), minimum 100ms\n    const newSpeed = Math.max(100, 1000 - (level - 1) * 50);\n    setIntervalSpeed(newSpeed);\n  }, [level]);\n\n  useEffect(() => {\n    setDropTime(intervalSpeed); // Update dropTime when intervalSpeed changes\n  }, [intervalSpeed]);\n\n  // Add the event listeners on mount and remove them on unmount\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => move(e);\n    const handleKeyUp = (e: KeyboardEvent) => keyUp(e);\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gamePaused, gameOver, player, board, intervalSpeed, movePlayer, playerRotate]);\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    const timeoutRef = touchTimeoutRef.current;\n    return () => {\n      if (timeoutRef) {\n        clearTimeout(timeoutRef);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"game-container\" style={{ backgroundColor: brandColor ? brandColor : '#111827' }}>\n      {/* Game Header */}\n      <GameHeader\n        level={level}\n        lives={currentLives}\n        score={points}\n        onPause={() => setGamePaused(!gamePaused)}\n        isPaused={gamePaused}\n        brandColor={brandColor}\n        isMobile={mobile}\n        onQuit={() => {\n          setQuitGame(true);\n          setWasGamePaused(gamePaused);\n          setGamePaused(true);\n        }}\n        showQuitButton={gameStarted}\n        isQuitting={quitGame}\n      />\n      {/* Game Container */}\n      <div className=\"game-board\">\n        <div className=\"game-board-inner\">\n          {/* Game Board */}\n          <div\n            className=\"game-board-content\"\n            onKeyDown={move}\n            onKeyUp={keyUp}\n          >\n            <div style={{ display: 'flex', gap: '1rem' }}>\n              {/* Main Board */}\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <Board board={board} clearingRows={clearingRows} />\n              </div>\n\n              {/* Next Piece Preview */}\n              <div className=\"game-next-piece\">\n                <h3 className=\"game-next-piece-title\">SIGUIENTE</h3>\n                <div className=\"game-next-piece-box\">\n                  <NextPiece shape={nextPiece.shape} color={nextPiece.color} />\n                </div>\n                {skin !== 'default' && (\n                  <div style={{ width: '100%', marginTop: '1.5rem', color: '#9ca3af' }}>\n                    <img\n                      src={`/games/tetris/skins/${skin}/ad.webp`}\n                      alt={`${skin} skin - Ad 200x600`}\n                      style={{ width: '96%', margin: '0 auto', objectFit: 'contain' }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Game Overlays */}\n          {gamePaused && !quitGame && (\n            <GameOverlay\n              type=\"pause\"\n              brandColor={brandColor}\n              onAction={() => setGamePaused(false)}\n            />\n          )}\n\n          {/* Quit Confirmation Overlay */}\n          {quitGame && (\n            <GameOverlay\n              type=\"custom\"\n              title=\"Salir del Juego?\"\n              message={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n              brandColor={brandColor}\n              customContent={\n                <div className=\"game-quit-buttons\">\n                  <button\n                    onClick={cancelQuit}\n                    className=\"game-quit-btn game-quit-btn-cancel\"\n                  >\n                     Cancelar\n                  </button>\n                  <button\n                    onClick={handleQuitConfirm}\n                    className=\"game-quit-btn game-quit-btn-confirm\"\n                  >\n                     Salir Ahora\n                  </button>\n                </div>\n              }\n            />\n          )}\n\n          {gameOver && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} />\n          )}\n\n          {!gameStarted && (\n            <GameOverlay\n              type=\"custom\"\n              brandColor={brandColor}\n              onAction={startGame}\n              actionText=\" JUGAR\"\n              showPressToStart={false}\n              customContent={\n                <div style={{ textAlign: 'center' }}>\n                  <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#a855f7', marginBottom: '0.5rem' }}>\n                    {gameTitle}\n                  </h1>\n                  {brandLogo && (\n                    <>\n                      <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                      <img\n                        src={brandLogo}\n                        alt=\"Brand Logo\"\n                        style={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n                      />\n                    </>\n                  )}\n                  <div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n                    <p> Completa lneas horizontales</p>\n                    <p> Rota las piezas con flecha arriba</p>\n                    <p> Acelera la cada con flecha abajo</p>\n                  </div>\n                  <div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n                    <p>Usa las flechas del teclado o los controles tctiles</p>\n                  </div>\n                </div>\n              }\n            />\n          )}\n        </div>\n      </div>\n      {/* Mobile Controls */}\n      {mobile && gameStarted && (\n        <GameControls\n          onControl={handleControl}\n          onControlEnd={handleControlEnd}\n          layout=\"arrows\"\n          brandColor={brandColor}\n          showRotateButton={true}\n          onRotate={() => {\n            if (!gameOver && !gamePaused) {\n              playerRotate(board);\n              tetrisAudio.playRotate();\n            }\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TetrisGame;\n","import { useCallback, useState } from 'react'\nimport { BOARD_WIDTH, BoardType, randomTetromino, isColliding } from '../game'\n\nexport type Player = {\n\tpos: {\n\t\tx: number\n\t\ty: number\n\t}\n\ttetromino: (string | number)[][]\n\tcollided: boolean\n}\n\nexport const usePlayer = () => {\n\tconst [player, setPlayer] = useState({} as Player)\n\n\tconst rotate = (matrix: Player['tetromino']) => {\n\t\t// Make the rows to become cols (transpose)\n\t\tconst mtrx = matrix.map((_, i) => matrix.map(column => column[i]))\n\t\t// Reverse each row to get a rotated matrix\n\t\treturn mtrx.map(row => row.reverse())\n\t}\n\n\tconst playerRotate = (stage: BoardType): void => {\n\t\tconst clonedPlayer = JSON.parse(JSON.stringify(player))\n\t\tclonedPlayer.tetromino = rotate(clonedPlayer.tetromino)\n\n\t\t// This one is so the player can't rotate into the walls or other tetrominos that's merged\n\t\tconst posX = clonedPlayer.pos.x\n\t\tlet offset = 1\n\t\twhile (isColliding(clonedPlayer, stage, { x: 0, y: 0 })) {\n\t\t\tclonedPlayer.pos.x += offset\n\t\t\toffset = -(offset + (offset > 0 ? 1 : -1))\n\n\t\t\tif (offset > clonedPlayer.tetromino[0].length) {\n\t\t\t\tclonedPlayer.pos.x = posX\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tsetPlayer(clonedPlayer)\n\t}\n\n\tconst updatePlayerPos = ({\n\t\tx,\n\t\ty,\n\t\tcollided,\n\t}: {\n\t\tx: number\n\t\ty: number\n\t\tcollided: boolean\n\t}): void => {\n\t\tsetPlayer(prev => ({\n\t\t\t...prev,\n\t\t\tpos: { x: prev.pos.x + x, y: prev.pos.y + y },\n\t\t\tcollided,\n\t\t}))\n\t}\n\n\tconst resetPlayer = useCallback(\n\t\t(shape?: (string | number)[][]): void =>\n\t\t\tsetPlayer({\n\t\t\t\tpos: { x: BOARD_WIDTH / 2 - 2, y: 0 },\n\t\t\t\ttetromino: shape || randomTetromino().shape,\n\t\t\t\tcollided: false,\n\t\t\t}),\n\t\t[]\n\t)\n\n\treturn { player, updatePlayerPos, resetPlayer, playerRotate }\n}\n","import { useEffect, useRef } from 'react'\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n\tconst savedCallback = useRef<() => void>(callback)\n\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback\n\t}, [callback])\n\n\tuseEffect(() => {\n\t\tconst tick = () => {\n\t\t\tif (savedCallback.current) {\n\t\t\t\tsavedCallback.current()\n\t\t\t}\n\t\t}\n\n\t\tif (delay !== null) {\n\t\t\tconst id = setInterval(tick, delay)\n\t\t\treturn () => clearInterval(id)\n\t\t}\n\t}, [delay])\n}\n","export interface Position {\n\tx: number\n\ty: number\n}\n\nexport type Direction = 'UP' | 'DOWN' | 'LEFT' | 'RIGHT'\n\nexport interface Food {\n\tposition: Position\n\tpoints: number\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n}\n\nexport interface FoodType {\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n\tpoints: number\n\tspecialEffect?: 'boost' | 'diet'\n\trarity?: number // 0-1, where 1 is most common\n}\n\nexport const FOOD_TYPES: FoodType[] = [\n\t{ type: 'apple', points: 1, rarity: 0.3 },\n\t{ type: 'banana', points: 2, rarity: 0.25 },\n\t{ type: 'cherries', points: 3, rarity: 0.2 },\n\t{ type: 'grapes', points: 5, rarity: 0.15 },\n\t{ type: 'boost', points: 1, specialEffect: 'boost', rarity: 0.05 },\n\t{ type: 'diet', points: 0, specialEffect: 'diet', rarity: 0.05 },\n]\n\nexport interface GameState {\n\tsnake: Position[]\n\tfood: Food\n\tdirection: Direction\n\tnextDirection: Direction\n\tscore: number\n\tlives: number\n\tgameStarted: boolean\n\tgamePaused: boolean\n\tgameOver: boolean\n\tspeed: number\n}\n\nexport interface SnakeGameProps {\n\timages: {\n\t\theadUp: HTMLImageElement\n\t\theadDown: HTMLImageElement\n\t\theadLeft: HTMLImageElement\n\t\theadRight: HTMLImageElement\n\t\ttail: HTMLImageElement\n\t\tapple: HTMLImageElement\n\t\tbanana: HTMLImageElement\n\t\tcherries: HTMLImageElement\n\t\tgrapes: HTMLImageElement\n\t\tboost: HTMLImageElement\n\t\tdiet: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t}\n\tonScoreUpdate: (score: number) => void\n\tonLivesUpdate: (lives: number) => void\n\tonGameOver: () => void\n\tisPaused: boolean\n\tboardSize?: number\n\tcellSize?: number\n}\n","import * as Tone from 'tone'\n\nexport class SnakeAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastSynthTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015\n\n\t// Synthesizers\n\tprivate popSynth: Tone.Synth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Pop synth - for eating food\n\t\tthis.popSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bell synth - sparkly sounds for boost\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Bass synth - for game over thud\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Noise synth - for game over texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Melody synth - for speed up fanfare\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\tprivate getSafeTime(lastTime: number, synthKey: 'synth' | 'noise'): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\tif (synthKey === 'synth') this.lastSynthTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Pop sound when eating regular food\n\tplayEatFood(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', time)\n\t}\n\n\t// Sparkly arpeggio when eating boost item\n\tplayEatBoost(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['E5', 'G5', 'B5', 'E6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.05)\n\t\t})\n\t}\n\n\t// Whoosh down when eating diet item\n\tplayEatDiet(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('G4', '16n', time)\n\t\tthis.popSynth.triggerAttackRelease('D4', '16n', time + 0.05)\n\t\tthis.lastSynthTime = time + 0.05\n\t}\n\n\t// Bass thud + noise for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '4n', bassTime)\n\t\t}\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\t\tif (this.melodySynth) {\n\t\t\t// Sad descending phrase\n\t\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\t\t\tphrase.forEach((note, i) => {\n\t\t\t\tthis.melodySynth!.triggerAttackRelease(\n\t\t\t\t\tnote,\n\t\t\t\t\t'8n',\n\t\t\t\t\tbassTime + 0.2 + i * 0.2\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t}\n\n\t// Ascending tone when speed increases\n\tplaySpeedUp(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['C5', 'E5', 'G5']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '32n', now + i * 0.06)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.popSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.popSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const snakeAudio = new SnakeAudioManager()\n","import React, { useRef, useEffect, useCallback, useState } from 'react'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { Position, Direction, Food, FOOD_TYPES, SnakeGameProps } from './types'\nimport { snakeAudio } from './utils/audioManager'\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\timages,\n\tonScoreUpdate,\n\tonGameOver,\n\tisPaused,\n\tboardSize = 20,\n\tcellSize = 20,\n}) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst [snake, setSnake] = useState<Position[]>([{ x: 10, y: 10 }])\n\tconst [food, setFood] = useState<Food>({\n\t\tposition: { x: 15, y: 15 },\n\t\tpoints: 1,\n\t\ttype: 'apple',\n\t})\n\tconst [direction, setDirection] = useState<Direction>('RIGHT')\n\tconst [nextDirection, setNextDirection] = useState<Direction>('RIGHT')\n\tconst [speed, setSpeed] = useState<number>(200)\n\tconst lastUpdateTime = useRef<number>(0)\n\tconst animationFrameId = useRef<number>(0)\n\tconst currentScore = useRef<number>(0)\n\tconst [boostActive, setBoostActive] = useState<boolean>(false)\n\tconst [boostTimer, setBoostTimer] = useState<number>(0)\n\tconst boostMultiplier = useRef<number>(1)\n\tconst hasCollided = useRef<boolean>(false)\n\n\tconst canvasSize = boardSize * cellSize\n\n\t// Initialize audio and reset collision flag when component mounts\n\tuseEffect(() => {\n\t\thasCollided.current = false\n\t\tsnakeAudio.init()\n\t\treturn () => {\n\t\t\thasCollided.current = false\n\t\t\tsnakeAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Get random position that doesn't overlap with snake\n\tconst getRandomPosition = useCallback((): Position => {\n\t\tconst generatePosition = (): Position => ({\n\t\t\tx: Math.floor(Math.random() * boardSize),\n\t\t\ty: Math.floor(Math.random() * boardSize),\n\t\t})\n\n\t\tlet pos = generatePosition()\n\t\t// eslint-disable-next-line no-loop-func\n\t\twhile (snake.some(segment => segment.x === pos.x && segment.y === pos.y)) {\n\t\t\tpos = generatePosition()\n\t\t}\n\t\treturn pos\n\t}, [boardSize, snake])\n\n\t// Get random food item based on rarity\n\tconst getRandomFood = useCallback((): Food => {\n\t\t// Calculate total rarity weight\n\t\tconst totalWeight = FOOD_TYPES.reduce(\n\t\t\t(sum, food) => sum + (food.rarity || 0),\n\t\t\t0\n\t\t)\n\t\tlet random = Math.random() * totalWeight\n\n\t\t// Select food based on weighted random\n\t\tlet selectedFood = FOOD_TYPES[0]\n\t\tfor (const foodType of FOOD_TYPES) {\n\t\t\trandom -= foodType.rarity || 0\n\t\t\tif (random <= 0) {\n\t\t\t\tselectedFood = foodType\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tposition: getRandomPosition(),\n\t\t\tpoints: selectedFood.points,\n\t\t\ttype: selectedFood.type,\n\t\t}\n\t}, [getRandomPosition])\n\n\t// Handle keyboard input\n\tconst handleKeyDown = useCallback(\n\t\t(event: KeyboardEvent) => {\n\t\t\tif (isPaused) return\n\n\t\t\t// Prevent default for arrow keys\n\t\t\tif (event.key.startsWith('Arrow')) {\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\n\t\t\t// Queue direction changes to prevent immediate reversal\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tif (direction !== 'DOWN') {\n\t\t\t\t\t\tsetNextDirection('UP')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tif (direction !== 'UP') {\n\t\t\t\t\t\tsetNextDirection('DOWN')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tif (direction !== 'RIGHT') {\n\t\t\t\t\t\tsetNextDirection('LEFT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tif (direction !== 'LEFT') {\n\t\t\t\t\t\tsetNextDirection('RIGHT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\t[isPaused, direction]\n\t)\n\n\t// Setup keyboard event listeners\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', handleKeyDown)\n\t\treturn () => window.removeEventListener('keydown', handleKeyDown)\n\t}, [handleKeyDown])\n\n\t// Move snake\n\tconst moveSnake = useCallback(() => {\n\t\tif (isPaused) return\n\n\t\t// Update direction to queued direction\n\t\tsetDirection(nextDirection)\n\n\t\tsetSnake(currentSnake => {\n\t\t\tconst newSnake = [...currentSnake]\n\t\t\tconst head = { ...newSnake[0] }\n\n\t\t\t// Move head based on direction\n\t\t\tswitch (nextDirection) {\n\t\t\t\tcase 'UP':\n\t\t\t\t\thead.y -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'DOWN':\n\t\t\t\t\thead.y += 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'LEFT':\n\t\t\t\t\thead.x -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'RIGHT':\n\t\t\t\t\thead.x += 1\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t// Wrap around board edges\n\t\t\tif (head.x < 0) head.x = boardSize - 1\n\t\t\tif (head.x >= boardSize) head.x = 0\n\t\t\tif (head.y < 0) head.y = boardSize - 1\n\t\t\tif (head.y >= boardSize) head.y = 0\n\n\t\t\t// Check self collision\n\t\t\tif (\n\t\t\t\tnewSnake.some(segment => segment.x === head.x && segment.y === head.y)\n\t\t\t) {\n\t\t\t\t// Collision detected - notify parent only once\n\t\t\t\tif (!hasCollided.current) {\n\t\t\t\t\thasCollided.current = true\n\t\t\t\t\tsnakeAudio.playGameOver()\n\t\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tonGameOver()\n\t\t\t\t\t}, 0)\n\t\t\t\t}\n\t\t\t\treturn currentSnake\n\t\t\t}\n\n\t\t\t// Add new head\n\t\t\tnewSnake.unshift(head)\n\n\t\t\t// Check food collision\n\t\t\tif (head.x === food.position.x && head.y === food.position.y) {\n\t\t\t\t// Handle special effects\n\t\t\t\tconst foodType = FOOD_TYPES.find(f => f.type === food.type)\n\t\t\t\tif (foodType?.specialEffect === 'boost') {\n\t\t\t\t\t// Activate boost\n\t\t\t\t\tsetBoostActive(true)\n\t\t\t\t\tsetBoostTimer(10000) // 10 seconds\n\t\t\t\t\tboostMultiplier.current = 2\n\t\t\t\t\tsnakeAudio.playEatBoost()\n\t\t\t\t} else if (foodType?.specialEffect === 'diet' && newSnake.length > 1) {\n\t\t\t\t\t// Reduce snake size by 3 segments (minimum 1 segment)\n\t\t\t\t\tconst segmentsToRemove = Math.min(3, newSnake.length - 1)\n\t\t\t\t\tfor (let i = 0; i < segmentsToRemove; i++) {\n\t\t\t\t\t\tnewSnake.pop()\n\t\t\t\t\t}\n\t\t\t\t\tsnakeAudio.playEatDiet()\n\t\t\t\t} else {\n\t\t\t\t\tsnakeAudio.playEatFood()\n\t\t\t\t}\n\n\t\t\t\t// Eat food and calculate score with boost multiplier\n\t\t\t\tconst baseScore = food.points\n\t\t\t\tconst actualScore = baseScore * boostMultiplier.current\n\t\t\t\tcurrentScore.current += actualScore\n\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonScoreUpdate(actualScore)\n\t\t\t\t}, 0)\n\t\t\t\tsetFood(getRandomFood())\n\n\t\t\t\t// Increase speed every 25 points with more progressive increments\n\t\t\t\tif (currentScore.current % 25 === 0) {\n\t\t\t\t\tsetSpeed(prev => Math.max(40, prev - 10))\n\t\t\t\t\tsnakeAudio.playSpeedUp()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Remove tail if no food eaten\n\t\t\t\tnewSnake.pop()\n\t\t\t}\n\n\t\t\treturn newSnake\n\t\t})\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isPaused, nextDirection, boardSize, food, getRandomFood, onGameOver])\n\n\t// Update boost timer\n\tuseEffect(() => {\n\t\tif (boostActive && boostTimer > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetBoostTimer(prev => {\n\t\t\t\t\tif (prev <= 100) {\n\t\t\t\t\t\tsetBoostActive(false)\n\t\t\t\t\t\tboostMultiplier.current = 1\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t\treturn prev - 100\n\t\t\t\t})\n\t\t\t}, 100)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [boostActive, boostTimer])\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst gameLoop = (timestamp: number) => {\n\t\t\tif (timestamp - lastUpdateTime.current >= speed) {\n\t\t\t\tmoveSnake()\n\t\t\t\tlastUpdateTime.current = timestamp\n\t\t\t}\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [moveSnake, speed])\n\n\t// Drawing\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\t// Clear canvas\n\t\tctx.clearRect(0, 0, canvasSize, canvasSize)\n\n\t\t// Draw background\n\t\tctx.drawImage(images.background, 0, 0, canvasSize, canvasSize)\n\n\t\t// Draw grid overlay (subtle)\n\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.1)'\n\t\tctx.lineWidth = 0.5\n\t\tfor (let i = 0; i <= boardSize; i++) {\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(i * cellSize, 0)\n\t\t\tctx.lineTo(i * cellSize, canvasSize)\n\t\t\tctx.moveTo(0, i * cellSize)\n\t\t\tctx.lineTo(canvasSize, i * cellSize)\n\t\t\tctx.stroke()\n\t\t}\n\n\t\t// Draw snake\n\t\tsnake.forEach((segment, index) => {\n\t\t\tif (index === 0) {\n\t\t\t\t// Draw head based on direction\n\t\t\t\tlet headImage: HTMLImageElement\n\t\t\t\tswitch (direction) {\n\t\t\t\t\tcase 'UP':\n\t\t\t\t\t\theadImage = images.headUp\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'DOWN':\n\t\t\t\t\t\theadImage = images.headDown\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'LEFT':\n\t\t\t\t\t\theadImage = images.headLeft\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'RIGHT':\n\t\t\t\t\t\theadImage = images.headRight\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tctx.drawImage(\n\t\t\t\t\theadImage,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\t// Draw tail for body segments\n\t\t\t\tctx.drawImage(\n\t\t\t\t\timages.tail,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\n\t\t// Draw food\n\t\tlet foodImage: HTMLImageElement\n\t\tswitch (food.type) {\n\t\t\tcase 'apple':\n\t\t\t\tfoodImage = images.apple\n\t\t\t\tbreak\n\t\t\tcase 'banana':\n\t\t\t\tfoodImage = images.banana\n\t\t\t\tbreak\n\t\t\tcase 'cherries':\n\t\t\t\tfoodImage = images.cherries\n\t\t\t\tbreak\n\t\t\tcase 'grapes':\n\t\t\t\tfoodImage = images.grapes\n\t\t\t\tbreak\n\t\t\tcase 'boost':\n\t\t\t\tfoodImage = images.boost\n\t\t\t\tbreak\n\t\t\tcase 'diet':\n\t\t\t\tfoodImage = images.diet\n\t\t\t\tbreak\n\t\t}\n\t\tctx.drawImage(\n\t\t\tfoodImage,\n\t\t\tfood.position.x * cellSize,\n\t\t\tfood.position.y * cellSize,\n\t\t\tcellSize,\n\t\t\tcellSize\n\t\t)\n\n\t\t// Draw boost indicator\n\t\tif (boostActive) {\n\t\t\t// Golden border effect\n\t\t\tctx.strokeStyle = '#FFD700'\n\t\t\tctx.lineWidth = 4\n\t\t\tctx.strokeRect(2, 2, canvasSize - 4, canvasSize - 4)\n\n\t\t\t// Boost timer text\n\t\t\tctx.fillStyle = '#FFD700'\n\t\t\tctx.font = 'bold 16px Arial'\n\t\t\tctx.shadowColor = 'black'\n\t\t\tctx.shadowBlur = 2\n\t\t\tctx.fillText(`Boost: ${(boostTimer / 1000).toFixed(1)}s`, 10, 25)\n\t\t\tctx.shadowBlur = 0\n\t\t}\n\t}, [\n\t\tsnake,\n\t\tfood,\n\t\tdirection,\n\t\timages,\n\t\tboardSize,\n\t\tcellSize,\n\t\tcanvasSize,\n\t\tboostActive,\n\t\tboostTimer,\n\t])\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={canvasSize}\n\t\t\theight={canvasSize}\n\t\t\tclassName=\"border-4 border-green-500/50 rounded-lg shadow-2xl\"\n\t\t\tstyle={{\n\t\t\t\timageRendering: 'auto',\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport default SnakeGame\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport SnakeGameCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { useImageLoader } from './hooks/useImageLoader'\n\ninterface SnakeGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#10b981',\n\tskin,\n\tgameTitle = 'SNAKE',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [images, imagesLoading, imagesError] = useImageLoader(skin)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\tconst [showSpeedBoost, setShowSpeedBoost] = useState(false)\n\tconst [speedBoostText, setSpeedBoostText] = useState('')\n\tconst [totalScore, setTotalScore] = useState(0)\n\tconst [collisionCount, setCollisionCount] = useState(0)\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input for pause\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted && images) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetTotalScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, images, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(totalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(() => {\n\t\tif (!isGameOver) {\n\t\t\tconst newLives = lives - 1\n\t\t\tsetLives(newLives)\n\n\t\t\tif (newLives <= 0) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(totalScore)\n\t\t\t} else {\n\t\t\t\t// Continue with remaining lives\n\t\t\t\t// Force remount the game component\n\t\t\t\tsetCollisionCount(prev => prev + 1)\n\t\t\t}\n\t\t}\n\t}, [isGameOver, lives, totalScore, setGameOver, setPointsEarned])\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(points: number) => {\n\t\t\tconst newScore = totalScore + points\n\t\t\tsetTotalScore(newScore)\n\t\t\tsetScore(newScore)\n\n\t\t\tif (maxPoints && newScore >= maxPoints) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(newScore)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Show speed boost notification at certain score thresholds\n\t\t\tconst speedThresholds = [50, 100, 200, 300, 500]\n\t\t\tconst oldThreshold = speedThresholds.filter(t => totalScore >= t).length\n\t\t\tconst newThreshold = speedThresholds.filter(t => newScore >= t).length\n\n\t\t\tif (newThreshold > oldThreshold) {\n\t\t\t\tsetSpeedBoostText('Velocidad Aumentada!')\n\t\t\t\tsetShowSpeedBoost(true)\n\t\t\t\tsetTimeout(() => setShowSpeedBoost(false), 1500)\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[totalScore, maxPoints, setGameOver, setPointsEarned]\n\t)\n\n\tconst handleVirtualControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (isGameStarted && !isPaused && !isGameOver) {\n\t\t\t\t// Create synthetic keyboard event\n\t\t\t\tconst event = new KeyboardEvent('keydown', {\n\t\t\t\t\tkey: `Arrow${direction.charAt(0).toUpperCase() + direction.slice(1)}`,\n\t\t\t\t\tbubbles: true,\n\t\t\t\t})\n\t\t\t\twindow.dispatchEvent(event)\n\t\t\t}\n\t\t},\n\t\t[isGameStarted, isPaused, isGameOver]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst boardSize = 20\n\t\tconst cellSize = 20\n\t\tconst canvasSize = boardSize * cellSize // 400x400\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\tconst scaleX = containerWidth / canvasSize\n\t\tconst scaleY = containerHeight / canvasSize\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 1.2)\n\t\t\treturn Math.max(scale, 0.5)\n\t\t} else {\n\t\t\treturn Math.min(scale, 1.0) // Never scale above 1 on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Loading State */}\n\t\t\t\t\t{imagesLoading && (\n\t\t\t\t\t\t<div className=\"game-loading\">\n\t\t\t\t\t\t\t<div>Cargando...</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Error State */}\n\t\t\t\t\t{imagesError && (\n\t\t\t\t\t\t<div className=\"game-error\">\n\t\t\t\t\t\t\t<div>Error al cargar imgenes: {imagesError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game */}\n\t\t\t\t\t{images && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SnakeGameCore\n\t\t\t\t\t\t\t\tkey={collisionCount}\n\t\t\t\t\t\t\t\timages={images}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Speed Boost Notification */}\n\t\t\t\t\t{showSpeedBoost && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\">\n\t\t\t\t\t\t\t<div className=\"game-notification-content\">\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{speedBoostText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && images && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Mueve la serpiente con las flechas</p>\n\t\t\t\t\t\t\t\t\t\t<p> Recolecta los items para crecer</p>\n\t\t\t\t\t\t\t\t\t\t<p> La velocidad aumenta con los puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> No choques contigo mismo</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa las flechas del teclado o los controles tctiles</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{isMobileDevice && isGameStarted && !isGameOver && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleVirtualControl}\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\tlayout=\"arrows\"\n\t\t\t\t\tshowActionButton={false}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default SnakeGame\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\theadUp: HTMLImageElement\n\theadDown: HTMLImageElement\n\theadLeft: HTMLImageElement\n\theadRight: HTMLImageElement\n\ttail: HTMLImageElement\n\tapple: HTMLImageElement\n\tbanana: HTMLImageElement\n\tcherries: HTMLImageElement\n\tgrapes: HTMLImageElement\n\tboost: HTMLImageElement\n\tdiet: HTMLImageElement\n\tbackground: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/space-snake/img/`\n\t\t\t\tconst imagePath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-up.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-down.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-left.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-right.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}tail.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}banana.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}cherries.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}boost.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`)\n\t\t\t\t\t), // Fallback to grapes if boost image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}diet.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`)\n\t\t\t\t\t), // Fallback to apple if diet image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}bg.webp`), // Background from skin folder if skin is provided\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","import * as Tone from 'tone'\n\nexport class FlappyBirdAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastFlapTime = 0\n\tprivate readonly MIN_FLAP_GAP = 0.08\n\n\t// Synthesizers\n\tprivate flapSynth: Tone.Synth | null = null\n\tprivate scoreSynth: Tone.PolySynth | null = null\n\tprivate collisionSynth: Tone.MembraneSynth | null = null\n\tprivate gameOverSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Flap synth - quick sine sweep up\n\t\tthis.flapSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Score synth - bell chime\n\t\tthis.scoreSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Collision synth - impact thud\n\t\tthis.collisionSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.03,\n\t\t\toctaves: 3,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending melody\n\t\tthis.gameOverSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.25,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Quick upward sweep for flap\n\tplayFlap(): void {\n\t\tif (!this.initialized || this.muted || !this.flapSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastFlapTime < this.MIN_FLAP_GAP) return\n\n\t\tthis.lastFlapTime = now\n\t\t// Quick ascending notes for wing flap feel\n\t\tthis.flapSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.flapSynth.triggerAttackRelease('E5', '32n', now + 0.03)\n\t}\n\n\t// Bell chime for scoring\n\tplayScore(): void {\n\t\tif (!this.initialized || this.muted || !this.scoreSynth) return\n\t\tconst now = Tone.now()\n\t\t// Pleasant ding\n\t\tthis.scoreSynth.triggerAttackRelease(['E5', 'G5'], '8n', now)\n\t}\n\n\t// Impact thud for collision\n\tplayCollision(): void {\n\t\tif (!this.initialized || this.muted || !this.collisionSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.collisionSynth.triggerAttackRelease('C2', '8n', now)\n\t}\n\n\t// Descending melody for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Sad descending melody\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.18)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.flapSynth?.dispose()\n\t\tthis.scoreSynth?.dispose()\n\t\tthis.collisionSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.flapSynth = null\n\t\tthis.scoreSynth = null\n\t\tthis.collisionSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const flappyBirdAudio = new FlappyBirdAudioManager()\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { flappyBirdAudio } from '../utils/audioManager'\n\ninterface IConfig {\n\tassets: {\n\t\tbird: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t\tforeground: HTMLImageElement\n\t\tpipeNorth: HTMLImageElement\n\t\tpipeSouth: HTMLImageElement\n\t\tcoin: HTMLImageElement\n\t\theart: HTMLImageElement\n\t}\n\toptions: {\n\t\tdelayFrameCount: number\n\t\tbirdX: number\n\t\tgap: number\n\t\tupMovement: number\n\t\tgravity: number\n\t\tpointsPerObstacle: number\n\t\tlives: number\n\t\tgameTitle: string\n\t\thideOverlays?: boolean\n\t\tisPaused?: boolean\n\t\tmaxPoints?: number\n\t}\n\tfunctions: {\n\t\tsetGameOver: (isOver: boolean) => void\n\t\tsetPointsEarned: (points: number) => void\n\t\tonScoreUpdate?: (score: number) => void\n\t\tonLivesUpdate?: (lives: number) => void\n\t}\n}\n\ninterface Pipe {\n\tx: number\n\ty: number\n\tpassed: boolean\n}\n\nconst PIPE_WIDTH = 52\nconst PIPE_GAP_REDUCTION_RATE = 20\nconst MIN_GAP = 350\nconst BIRD_WIDTH = 34\nconst BIRD_HEIGHT = 24\nconst COLLISION_PADDING = 8\nconst FPS = 60\nconst FRAME_TIME = 1000 / FPS\n\nconst useFlappyAnimation = (config: IConfig | null) => {\n\tconst [score, setScore] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(config?.options.lives || 3)\n\tconst [countCollisions, setCountCollisions] = useState(0)\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [currentGap, setCurrentGap] = useState(config?.options.gap || 500)\n\n\tconst isOnTheFloor = useRef(false)\n\tconst delay = useRef(0)\n\tconst birdY = useRef(150)\n\tconst birdVelocity = useRef(0)\n\tconst pipesArray = useRef<Pipe[]>([{ x: 288, y: 0, passed: false }])\n\tconst lastFrameTime = useRef(0)\n\tconst birdRotation = useRef(0)\n\n\t// Initialize audio on mount\n\tuseEffect(() => {\n\t\tflappyBirdAudio.init()\n\t\treturn () => {\n\t\t\tflappyBirdAudio.dispose()\n\t\t}\n\t}, [])\n\n\tconst tap = useCallback(() => {\n\t\tif (!config) return\n\n\t\tif (!gameStarted) {\n\t\t\tstart()\n\t\t} else if (gameStarted && !isGameOver) {\n\t\t\tmoveUp()\n\t\t} else if (\n\t\t\tdelay.current > config.options.delayFrameCount &&\n\t\t\tisOnTheFloor.current\n\t\t) {\n\t\t\treset()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [config, gameStarted, isGameOver])\n\n\tconst moveUp = useCallback(() => {\n\t\tif (!config) return\n\t\tbirdVelocity.current = -config.options.upMovement / 2.8\n\t\tflappyBirdAudio.playFlap()\n\t}, [config])\n\n\tconst start = useCallback(() => {\n\t\tsetGameStarted(true)\n\t\tsetIsGameOver(false)\n\t\tsetScore(0)\n\t\tsetCurrentLives(config?.options.lives || 3)\n\t\tsetCountCollisions(0)\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tsetCurrentGap(config?.options.gap || 500)\n\t\tdelay.current = 0\n\t}, [config])\n\n\tconst reset = useCallback(() => {\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tdelay.current = 0\n\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tstart()\n\t\t} else {\n\t\t\tsetGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t}\n\t}, [currentLives, countCollisions, config, start])\n\n\tconst collision = useCallback(() => {\n\t\tconst newCollisions = countCollisions + 1\n\t\tconst newLives = currentLives - 1\n\n\t\tsetCountCollisions(newCollisions)\n\t\tsetCurrentLives(newLives)\n\t\tconfig?.functions.onLivesUpdate?.(newLives)\n\t\tflappyBirdAudio.playCollision()\n\n\t\tif (newLives <= 0 || newCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t\tflappyBirdAudio.playGameOver()\n\t\t} else {\n\t\t\treset()\n\t\t}\n\t}, [countCollisions, currentLives, config, score, reset])\n\n\tconst draw = useCallback(\n\t\t(context: CanvasRenderingContext2D) => {\n\t\t\tif (!config) return\n\n\t\t\tconst currentTime = performance.now()\n\t\t\tconst deltaTime = currentTime - lastFrameTime.current\n\n\t\t\tif (deltaTime < FRAME_TIME) return\n\n\t\t\tlastFrameTime.current = currentTime\n\n\t\t\tconst canvas = context.canvas\n\t\t\tconst {\n\t\t\t\tbird,\n\t\t\t\tforeground,\n\t\t\t\tbackground,\n\t\t\t\tpipeNorth,\n\t\t\t\tpipeSouth,\n\t\t\t\tcoin,\n\t\t\t\theart,\n\t\t\t} = config.assets\n\t\t\tconst { gravity } = config.options\n\n\t\t\t// Calculate pipe movement speed based on level\n\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\tconst pipeMovement = isGameOver ? 0 : 2 + (currentLevel - 1) * 0.2\n\t\t\tconst pipes = pipesArray.current\n\n\t\t\tcontext.clearRect(0, 0, canvas.width, canvas.height)\n\t\t\tcontext.drawImage(background, 0, 0)\n\n\t\t\tif (gameStarted && !isGameOver && !config.options.isPaused) {\n\t\t\t\tbirdVelocity.current += gravity / 6\n\t\t\t\tbirdVelocity.current = Math.min(birdVelocity.current, 8)\n\t\t\t\tbirdY.current += birdVelocity.current\n\n\t\t\t\tbirdRotation.current = Math.min(\n\t\t\t\t\tMath.max(birdVelocity.current * 3, -25),\n\t\t\t\t\t90\n\t\t\t\t)\n\n\t\t\t\tfor (let i = pipes.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (pipes[i].x < -PIPE_WIDTH) {\n\t\t\t\t\t\tpipes.splice(i, 1)\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.drawImage(pipeNorth, pipes[i].x, pipes[i].y)\n\t\t\t\t\tcontext.drawImage(pipeSouth, pipes[i].x, pipes[i].y + currentGap)\n\n\t\t\t\t\tpipes[i].x -= pipeMovement\n\n\t\t\t\t\t// Generate new pipe when the last pipe reaches a certain position\n\t\t\t\t\tif (\n\t\t\t\t\t\ti === pipes.length - 1 &&\n\t\t\t\t\t\tpipes[i].x <= canvas.width - 140 &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Increase variation based on score - more variety as game progresses\n\t\t\t\t\t\tconst difficultyFactor = Math.min(score / 100, 1.5)\n\t\t\t\t\t\tconst minY = -pipeNorth.height + 80\n\t\t\t\t\t\tconst maxY = canvas.height - foreground.height - currentGap - 80\n\n\t\t\t\t\t\t// Add more dramatic position changes between consecutive pipes\n\t\t\t\t\t\tconst lastPipeY = pipes[i].y\n\t\t\t\t\t\tconst baseY = Math.floor(Math.random() * (maxY - minY)) + minY\n\n\t\t\t\t\t\t// Ensure some minimum difference from last pipe for variety\n\t\t\t\t\t\tlet newY = baseY\n\t\t\t\t\t\tif (Math.abs(baseY - lastPipeY) < 50) {\n\t\t\t\t\t\t\t// Force a bigger change if pipes are too similar\n\t\t\t\t\t\t\tnewY = baseY + (Math.random() > 0.5 ? 60 : -60) * difficultyFactor\n\t\t\t\t\t\t\t// Clamp to valid range\n\t\t\t\t\t\t\tnewY = Math.max(minY, Math.min(maxY, newY))\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add random spacing between pipes - less spacing as difficulty increases\n\t\t\t\t\t\tconst baseSpacing = 180 - Math.floor(score / 100) * 5\n\t\t\t\t\t\tconst spacing =\n\t\t\t\t\t\t\tMath.floor(Math.random() * 30) + Math.max(150, baseSpacing)\n\n\t\t\t\t\t\tpipes.push({\n\t\t\t\t\t\t\tx: pipes[i].x + spacing,\n\t\t\t\t\t\t\ty: newY,\n\t\t\t\t\t\t\tpassed: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!pipes[i].passed &&\n\t\t\t\t\t\tpipes[i].x + PIPE_WIDTH < config.options.birdX &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\tpipes[i].passed = true\n\t\t\t\t\t\t// Calculate points based on level\n\t\t\t\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\t\t\t\tconst pointsEarned =\n\t\t\t\t\t\t\tconfig.options.pointsPerObstacle + (currentLevel - 1) * 5\n\t\t\t\t\t\tconst newScore = score + pointsEarned\n\t\t\t\t\t\tflappyBirdAudio.playScore()\n\n\t\t\t\t\t\t// Check if maxPoints is reached\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tconfig.options.maxPoints &&\n\t\t\t\t\t\t\tconfig.options.maxPoints > 0 &&\n\t\t\t\t\t\t\tnewScore >= config.options.maxPoints\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Set score to exactly maxPoints\n\t\t\t\t\t\t\tsetScore(config.options.maxPoints)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(config.options.maxPoints)\n\t\t\t\t\t\t\t// Trigger game over since max points reached\n\t\t\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setPointsEarned(config.options.maxPoints)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetScore(newScore)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(newScore)\n\n\t\t\t\t\t\t\t// Gradual gap reduction for smoother difficulty curve\n\t\t\t\t\t\t\tconst gapReduction =\n\t\t\t\t\t\t\t\tMath.floor(newScore / PIPE_GAP_REDUCTION_RATE) * 6\n\t\t\t\t\t\t\tconst newGap = Math.max(\n\t\t\t\t\t\t\t\tconfig.options.gap - gapReduction,\n\t\t\t\t\t\t\t\tMIN_GAP\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tsetCurrentGap(newGap)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst hasHitFloor =\n\t\t\t\t\t\tbirdY.current + BIRD_HEIGHT >=\n\t\t\t\t\t\tcanvas.height - foreground.height + 20\n\t\t\t\t\tconst hasHitCeiling = birdY.current <= 0\n\n\t\t\t\t\t// More precise collision boxes\n\t\t\t\t\tconst birdLeft = config.options.birdX + COLLISION_PADDING\n\t\t\t\t\tconst birdRight =\n\t\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH - COLLISION_PADDING\n\t\t\t\t\tconst birdTop = birdY.current + COLLISION_PADDING\n\t\t\t\t\tconst birdBottom = birdY.current + BIRD_HEIGHT - COLLISION_PADDING\n\n\t\t\t\t\t// Pipe collision box with slight padding for fairness\n\t\t\t\t\tconst pipeLeft = pipes[i].x + 2\n\t\t\t\t\tconst pipeRight = pipes[i].x + PIPE_WIDTH - 2\n\t\t\t\t\tconst pipeTopBottom = pipes[i].y + pipeNorth.height - 5\n\t\t\t\t\tconst pipeBottomTop = pipes[i].y + currentGap + 5\n\n\t\t\t\t\t// Only check collision if bird is actually overlapping with pipe\n\t\t\t\t\tconst hasHitPipe =\n\t\t\t\t\t\tbirdRight > pipeLeft &&\n\t\t\t\t\t\tbirdLeft < pipeRight &&\n\t\t\t\t\t\t(birdTop < pipeTopBottom || birdBottom > pipeBottomTop)\n\n\t\t\t\t\tisOnTheFloor.current = hasHitFloor\n\n\t\t\t\t\tif (hasHitPipe || hasHitFloor || hasHitCeiling) {\n\t\t\t\t\t\tcollision()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.save()\n\t\t\t\tcontext.translate(\n\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH / 2,\n\t\t\t\t\tbirdY.current + BIRD_HEIGHT / 2\n\t\t\t\t)\n\t\t\t\tcontext.rotate((birdRotation.current * Math.PI) / 180)\n\t\t\t\tcontext.drawImage(bird, -BIRD_WIDTH / 2, -BIRD_HEIGHT / 2)\n\t\t\t\tcontext.restore()\n\t\t\t}\n\n\t\t\tcontext.drawImage(foreground, 0, canvas.height - foreground.height + 20)\n\n\t\t\tif (isGameOver && !config.options.hideOverlays) {\n\t\t\t\tdelay.current++\n\n\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.5)'\n\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\tcontext.font = \"48px 'Tahoma'\"\n\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\tcontext.lineWidth = 4\n\t\t\t\tcontext.strokeText('Game Over', 24, 260)\n\t\t\t\tcontext.fillText('Game Over', 24, 260)\n\n\t\t\t\tif (isOnTheFloor.current) {\n\t\t\t\t\tcontext.font = \"bold 16px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 54, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 54, 460)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!gameStarted) {\n\t\t\t\t\tdelay.current++\n\n\t\t\t\t\tif (!config.options.hideOverlays) {\n\t\t\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\t\t\tcontext.font = \"42px 'Tahoma'\"\n\t\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 4\n\t\t\t\t\t\tconst titleWidth = context.measureText(\n\t\t\t\t\t\t\tconfig.options.gameTitle\n\t\t\t\t\t\t).width\n\t\t\t\t\t\tconst titleX = (canvas.width - titleWidth) / 2\n\t\t\t\t\t\tcontext.strokeText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t\tcontext.fillText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Always show click to start message, with pulsing effect\n\t\t\t\t\tconst alpha = Math.abs(Math.sin(delay.current * 0.03))\n\t\t\t\t\tcontext.font = \"bold 18px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.globalAlpha = alpha\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.globalAlpha = 1\n\t\t\t\t}\n\n\t\t\t\tif (gameStarted && !config.options.hideOverlays) {\n\t\t\t\t\tcontext.drawImage(coin, 20, 20, 32, 32)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.font = \"bold 32px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeText(`${score}`, 70, 50)\n\t\t\t\t\tcontext.fillText(`${score}`, 70, 50)\n\n\t\t\t\t\tcontext.drawImage(heart, 200, 20, 32, 32)\n\t\t\t\t\tcontext.strokeText(`${currentLives}`, 250, 50)\n\t\t\t\t\tcontext.fillText(`${currentLives}`, 250, 50)\n\n\t\t\t\t\t// Show difficulty level\n\t\t\t\t\tconst difficultyLevel = Math.floor(score / 200) + 1\n\t\t\t\t\tif (difficultyLevel > 1) {\n\t\t\t\t\t\tcontext.font = \"bold 14px 'Tahoma'\"\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 2\n\t\t\t\t\t\tcontext.fillStyle = '#ff0'\n\t\t\t\t\t\tconst levelText = `Nivel ${difficultyLevel}`\n\t\t\t\t\t\tcontext.strokeText(levelText, 20, 80)\n\t\t\t\t\t\tcontext.fillText(levelText, 20, 80)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tconfig,\n\t\t\tgameStarted,\n\t\t\tisGameOver,\n\t\t\tscore,\n\t\t\tcurrentLives,\n\t\t\tcurrentGap,\n\t\t\tcollision,\n\t\t]\n\t)\n\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t}\n\t}, [countCollisions, currentLives, config, score])\n\n\treturn [tap, draw] as const\n}\n\nexport default useFlappyAnimation\n","import { useRef, useEffect } from 'react'\n\ntype DrawFunction =\n\t| ((context: CanvasRenderingContext2D, frameCount: number) => void)\n\t| null\n\nconst useCanvas = (draw: DrawFunction) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst frameCount = useRef(0)\n\tconst frameId = useRef(0)\n\n\tuseEffect(() => {\n\t\tif (!draw) return\n\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst context = canvas.getContext('2d', { alpha: false })\n\t\tif (!context) return\n\n\t\tcontext.imageSmoothingEnabled = false\n\n\t\tconst render = () => {\n\t\t\tframeCount.current++\n\t\t\tdraw(context, frameCount.current)\n\t\t\tframeId.current = window.requestAnimationFrame(render)\n\t\t}\n\n\t\trender()\n\n\t\treturn () => {\n\t\t\tif (frameId.current) {\n\t\t\t\twindow.cancelAnimationFrame(frameId.current)\n\t\t\t}\n\t\t}\n\t}, [draw])\n\n\treturn canvasRef\n}\n\nexport default useCanvas\n","import React from 'react'\nimport useFlappyAnimation from './hooks/useFlappyAnimation'\nimport useCanvas from './hooks/useCanvas'\nimport { useImageLoader } from './hooks/useImageLoader'\nimport { GameCanvas } from '../ui/GameCanvas'\n\ninterface FlappyProps {\n\tlives: number\n\tsetPointsEarned: (points: number) => void\n\tsetGameOver: (isOver: boolean) => void\n\tskin?: string\n\tgameTitle?: string\n\thideOverlays?: boolean\n\tonScoreUpdate?: (score: number) => void\n\tonLivesUpdate?: (lives: number) => void\n\tisPaused?: boolean\n\tmaxPoints?: number\n}\n\nconst Flappy = ({\n\tlives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tskin,\n\tgameTitle = 'FLAPPY CAT',\n\thideOverlays = false,\n\tonScoreUpdate,\n\tonLivesUpdate,\n\tisPaused = false,\n\tmaxPoints,\n}: FlappyProps) => {\n\tconst [images, loading, error] = useImageLoader(skin)\n\n\tconst config = React.useMemo(() => {\n\t\tif (!images) return null\n\n\t\treturn {\n\t\t\tassets: images,\n\t\t\toptions: {\n\t\t\t\tgameTitle: gameTitle,\n\t\t\t\tdelayFrameCount: 5,\n\t\t\t\tbirdX: 50,\n\t\t\t\tgap: 480,\n\t\t\t\tupMovement: 18,\n\t\t\t\tgravity: 2.5,\n\t\t\t\tpointsPerObstacle: 10,\n\t\t\t\tlives: lives,\n\t\t\t\thideOverlays: hideOverlays,\n\t\t\t\tisPaused: isPaused,\n\t\t\t\tmaxPoints: maxPoints,\n\t\t\t},\n\t\t\tfunctions: {\n\t\t\t\tsetGameOver,\n\t\t\t\tsetPointsEarned,\n\t\t\t\tonScoreUpdate,\n\t\t\t\tonLivesUpdate,\n\t\t\t},\n\t\t}\n\t}, [\n\t\timages,\n\t\tgameTitle,\n\t\tlives,\n\t\tsetGameOver,\n\t\tsetPointsEarned,\n\t\thideOverlays,\n\t\tonScoreUpdate,\n\t\tonLivesUpdate,\n\t\tisPaused,\n\t\tmaxPoints,\n\t])\n\n\tconst [tap, draw] = useFlappyAnimation(config)\n\tconst canvasRef = useCanvas(draw)\n\n\tconst handleClick = () => {\n\t\tif (!config) return\n\n\t\tconst canvas = canvasRef.current\n\t\tconst ctx = canvas?.getContext('2d')\n\n\t\tif (ctx) {\n\t\t\ttap()\n\t\t}\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-slate-800 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center\">\n\t\t\t\t\t<div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>\n\t\t\t\t\t<p>Cargando juego...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-red-900 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center p-4\">\n\t\t\t\t\t<p className=\"font-bold mb-2\">Error al cargar el juego</p>\n\t\t\t\t\t<p className=\"text-sm\">{error}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={288}\n\t\t\theight={512}\n\t\t\tonClick={handleClick}\n\t\t\tclassName=\"cursor-pointer rounded-lg shadow-xl\"\n\t\t/>\n\t)\n}\n\nexport default Flappy\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\tbird: HTMLImageElement\n\tbackground: HTMLImageElement\n\tforeground: HTMLImageElement\n\tpipeNorth: HTMLImageElement\n\tpipeSouth: HTMLImageElement\n\tcoin: HTMLImageElement\n\theart: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/flappy-bird/`\n\t\t\t\tconst skinPath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bird.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}fg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeNorth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeSouth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}coin.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}heart.webp`),\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport FlappyBirdCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\n\ninterface FlappyBirdGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst FlappyBirdGame: React.FC<FlappyBirdGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#00bfff',\n\tskin,\n\tgameTitle = 'FLAPPY BIRD',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst gameContainerRef = useRef<HTMLDivElement>(null)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpText, setLevelUpText] = useState('')\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [coreGameOver, setCoreGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetCoreGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t\tsetCoreGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(\n\t\t(finalGameOver: boolean) => {\n\t\t\tif (finalGameOver && !isGameOver) {\n\t\t\t\tsetCoreGameOver(true)\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t}\n\t\t},\n\t\t[isGameOver, setGameOver]\n\t)\n\n\tconst handlePointsEarned = useCallback(\n\t\t(points: number) => {\n\t\t\tsetScore(points)\n\t\t\tsetPointsEarned(points)\n\t\t},\n\t\t[setPointsEarned]\n\t)\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(newScore: number) => {\n\t\t\tsetScore(newScore)\n\t\t\t// Update level based on score (every 100 points = new level)\n\t\t\tconst newLevel = Math.floor(newScore / 100) + 1\n\t\t\tif (newLevel > level) {\n\t\t\t\tsetLevel(newLevel)\n\t\t\t\tsetLevelUpText(`Nivel ${newLevel}!`)\n\t\t\t\tsetShowLevelUp(true)\n\t\t\t\t// Hide notification after 1.2 seconds\n\t\t\t\tsetTimeout(() => setShowLevelUp(false), 800)\n\t\t\t}\n\t\t},\n\t\t[level]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst canvasWidth = 288\n\t\tconst canvasHeight = 512\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\t// Target a reasonable max height for the game\n\t\tconst maxHeight = 600\n\t\tconst effectiveHeight = Math.min(containerHeight, maxHeight)\n\n\t\tconst scaleX = containerWidth / canvasWidth\n\t\tconst scaleY = effectiveHeight / canvasHeight\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 0.85)\n\t\t\treturn Math.max(scale, 0.4)\n\t\t} else {\n\t\t\treturn Math.min(scale, 0.9) // Max 90% scale on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '512px' }}\n\t\t\t\t\tref={gameContainerRef}\n\t\t\t\t>\n\t\t\t\t\t{isGameStarted && !coreGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlappyBirdCore\n\t\t\t\t\t\t\t\tlives={initialLives}\n\t\t\t\t\t\t\t\tsetGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tsetPointsEarned={handlePointsEarned}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tgameTitle=\"FLAPPY CAT\"\n\t\t\t\t\t\t\t\thideOverlays={true}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t\tmaxPoints={maxPoints}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Notification */}\n\t\t\t\t\t{showLevelUp && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\" style={{ top: '25%' }}>\n\t\t\t\t\t\t\t<div className=\"game-notification-content\" style={{ backgroundColor: '#eab308', color: 'black' }}>\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{levelUpText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#38bdf8', marginBottom: '0.5rem' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Toca para volar</p>\n\t\t\t\t\t\t\t\t\t\t<p> Evita los obstculos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Gana puntos al pasar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa la barra espaciadora o toca la pantalla</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FlappyBirdGame\n","import * as Tone from 'tone'\n\nexport class BreakoutAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastBounceTime = 0\n\tprivate readonly MIN_BOUNCE_GAP = 0.03\n\n\t// Synthesizers\n\tprivate bounceSynth: Tone.Synth | null = null\n\tprivate brickSynth: Tone.PolySynth | null = null\n\tprivate powerUpSynth: Tone.PolySynth | null = null\n\tprivate loseSynth: Tone.Synth | null = null\n\tprivate levelSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Bounce synth - for paddle and wall hits\n\t\tthis.bounceSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Brick synth - satisfying crunch for brick break\n\t\tthis.brickSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Power-up synth - chime\n\t\tthis.powerUpSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Lose life synth - sad tone\n\t\tthis.loseSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Level up synth - fanfare\n\t\tthis.levelSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Paddle hit - low bounce blip\n\tplayPaddleHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('G4', '32n', now)\n\t}\n\n\t// Wall hit - higher bounce\n\tplayWallHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('C5', '32n', now)\n\t}\n\n\t// Brick break - satisfying crunch\n\tplayBrickBreak(): void {\n\t\tif (!this.initialized || this.muted || !this.brickSynth) return\n\t\tconst now = Tone.now()\n\t\t// Quick two-note crunch\n\t\tthis.brickSynth.triggerAttackRelease('E5', '32n', now)\n\t\tthis.brickSynth.triggerAttackRelease('G4', '32n', now + 0.02)\n\t}\n\n\t// Power-up collection chime\n\tplayPowerUpCollect(): void {\n\t\tif (!this.initialized || this.muted || !this.powerUpSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending chime\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.powerUpSynth!.triggerAttackRelease(note, '16n', now + i * 0.06)\n\t\t})\n\t}\n\n\t// Lose life - sad descending tone\n\tplayLoseLife(): void {\n\t\tif (!this.initialized || this.muted || !this.loseSynth) return\n\t\tconst now = Tone.now()\n\t\t// Descending sad phrase\n\t\tconst notes = ['E4', 'D4', 'C4']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.loseSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\t// Level up - triumphant fanfare\n\tplayLevelUp(): void {\n\t\tif (!this.initialized || this.muted || !this.levelSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending fanfare with final chord\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5']\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.levelSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t\t// Final triumphant chord\n\t\tthis.levelSynth.triggerAttackRelease(['C5', 'E5', 'G5'], '4n', now + 0.4)\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.bounceSynth?.dispose()\n\t\tthis.brickSynth?.dispose()\n\t\tthis.powerUpSynth?.dispose()\n\t\tthis.loseSynth?.dispose()\n\t\tthis.levelSynth?.dispose()\n\n\t\tthis.bounceSynth = null\n\t\tthis.brickSynth = null\n\t\tthis.powerUpSynth = null\n\t\tthis.loseSynth = null\n\t\tthis.levelSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const breakoutAudio = new BreakoutAudioManager()\n","import type { BrickType, LevelTheme } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 800\nexport const CANVAS_HEIGHT = 600\n\n// Paddle configuration\nexport const PADDLE_HEIGHT = 15\nexport const PADDLE_INITIAL_WIDTH = 120\nexport const PADDLE_MIN_WIDTH = 60\nexport const PADDLE_COLOR = 'hsl(240, 5%, 80%)' // Light gray\nexport const PADDLE_SPEED = 10\nexport const PADDLE_WIDTH_REDUCTION_PER_LEVEL = 5 // Pixels\n\n// Ball configuration\nexport const BALL_RADIUS = 10\nexport const BALL_INITIAL_SPEED = 5\nexport const BALL_MAX_SPEED = 20 // Increased max speed\nexport const BALL_SPEED_INCREASE_PER_LEVEL = 1\nexport const BALL_COLOR = 'hsl(181, 100%, 74%)' // Use accent color from theme\n\n// Brick configuration\nexport const BRICK_ROW_COUNT = 5\nexport const BRICK_COLUMN_COUNT = 9\nexport const BRICK_WIDTH = 75\nexport const BRICK_HEIGHT = 20\nexport const BRICK_PADDING = 10\nexport const BRICK_OFFSET_TOP = 50\n\n// Brick types with increasing difficulty\nexport const BRICK_TYPES: BrickType[] = [\n\t{ color: 'hsl(60, 70%, 60%)', points: 10, hitsToBreak: 1 }, // Yellow - weakest\n\t{ color: 'hsl(120, 70%, 60%)', points: 20, hitsToBreak: 1 }, // Green\n\t{ color: 'hsl(180, 70%, 60%)', points: 30, hitsToBreak: 2 }, // Teal - medium\n\t{ color: 'hsl(0, 70%, 60%)', points: 50, hitsToBreak: 2 }, // Red\n\t{ color: 'hsl(300, 70%, 60%)', points: 100, hitsToBreak: 3 }, // Purple - strongest\n\t{ color: 'hsl(30, 90%, 50%)', points: 200, hitsToBreak: 4 }, // Orange - ultra strong (appears in higher levels)\n]\n\n// Level-specific color themes to add variety\nexport const LEVEL_THEMES: LevelTheme[] = [\n\t{\n\t\tname: 'Classic',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 70%, 60%)', // Yellow\n\t\t\t'hsl(120, 70%, 60%)', // Green\n\t\t\t'hsl(180, 70%, 60%)', // Teal\n\t\t\t'hsl(0, 70%, 60%)', // Red\n\t\t\t'hsl(300, 70%, 60%)', // Purple\n\t\t],\n\t},\n\t{\n\t\tname: 'Ocean',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 70%, 70%)', // Light Blue\n\t\t\t'hsl(210, 70%, 60%)', // Blue\n\t\t\t'hsl(190, 70%, 50%)', // Cyan\n\t\t\t'hsl(220, 70%, 40%)', // Dark Blue\n\t\t\t'hsl(180, 70%, 30%)', // Deep Teal\n\t\t],\n\t},\n\t{\n\t\tname: 'Sunset',\n\t\tbrickColors: [\n\t\t\t'hsl(50, 90%, 70%)', // Light Yellow\n\t\t\t'hsl(30, 90%, 60%)', // Orange\n\t\t\t'hsl(15, 90%, 50%)', // Dark Orange\n\t\t\t'hsl(0, 80%, 40%)', // Dark Red\n\t\t\t'hsl(340, 70%, 30%)', // Burgundy\n\t\t],\n\t},\n\t{\n\t\tname: 'Forest',\n\t\tbrickColors: [\n\t\t\t'hsl(100, 60%, 70%)', // Light Green\n\t\t\t'hsl(120, 60%, 50%)', // Green\n\t\t\t'hsl(140, 60%, 40%)', // Forest Green\n\t\t\t'hsl(30, 40%, 40%)', // Brown\n\t\t\t'hsl(160, 50%, 30%)', // Dark Teal Green\n\t\t],\n\t},\n\t{\n\t\tname: 'Galaxy',\n\t\tbrickColors: [\n\t\t\t'hsl(280, 80%, 70%)', // Light Purple\n\t\t\t'hsl(270, 70%, 60%)', // Purple\n\t\t\t'hsl(260, 60%, 50%)', // Deep Purple\n\t\t\t'hsl(240, 50%, 40%)', // Dark Blue Purple\n\t\t\t'hsl(320, 60%, 40%)', // Magenta\n\t\t],\n\t},\n\t{\n\t\tname: 'Fire',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 60%)', // Bright Yellow\n\t\t\t'hsl(40, 100%, 50%)', // Yellow Orange\n\t\t\t'hsl(20, 100%, 50%)', // Orange\n\t\t\t'hsl(0, 100%, 45%)', // Red\n\t\t\t'hsl(0, 80%, 30%)', // Dark Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Arctic',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 30%, 90%)', // Ice White\n\t\t\t'hsl(200, 40%, 80%)', // Light Ice Blue\n\t\t\t'hsl(200, 50%, 70%)', // Ice Blue\n\t\t\t'hsl(210, 60%, 60%)', // Medium Blue\n\t\t\t'hsl(220, 70%, 50%)', // Deep Blue\n\t\t],\n\t},\n\t{\n\t\tname: 'Neon',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 50%)', // Neon Yellow\n\t\t\t'hsl(120, 100%, 50%)', // Neon Green\n\t\t\t'hsl(180, 100%, 50%)', // Neon Cyan\n\t\t\t'hsl(300, 100%, 50%)', // Neon Magenta\n\t\t\t'hsl(0, 100%, 50%)', // Neon Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Desert',\n\t\tbrickColors: [\n\t\t\t'hsl(40, 50%, 80%)', // Sand\n\t\t\t'hsl(30, 60%, 70%)', // Light Orange\n\t\t\t'hsl(20, 70%, 60%)', // Terracotta\n\t\t\t'hsl(10, 60%, 50%)', // Rust\n\t\t\t'hsl(0, 50%, 40%)', // Deep Red Brown\n\t\t],\n\t},\n\t{\n\t\tname: 'Pastel',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 50%, 80%)', // Pastel Yellow\n\t\t\t'hsl(120, 50%, 80%)', // Pastel Green\n\t\t\t'hsl(180, 50%, 80%)', // Pastel Teal\n\t\t\t'hsl(300, 50%, 80%)', // Pastel Purple\n\t\t\t'hsl(0, 50%, 80%)', // Pastel Red\n\t\t],\n\t},\n]\n\n// Game configuration\nexport const INITIAL_LEVEL = 1\nexport const BACKGROUND_IMAGE_SRC = '/games/breakout/bg.webp' // Placeholder background\n\n// Power-up configuration\nexport const POWER_UP_SIZE = 20\nexport const POWER_UP_SPEED = 3\nexport const POWER_UP_DURATION = 10000 // 10 seconds\nexport const POWER_UP_DROP_CHANCE = 0.15 // 15% chance\n\nexport const POWER_UP_CONFIG = {\n\t'paddle-grow': {\n\t\tcolor: 'hsl(120, 70%, 50%)', // Green\n\t\tlabel: ' Agrandar Paleta',\n\t\tdescription: 'Aumenta el tamao de la paleta',\n\t},\n\t'paddle-shrink': {\n\t\tcolor: 'hsl(0, 70%, 50%)', // Red\n\t\tlabel: ' Reducir Paleta',\n\t\tdescription: 'Reduce el tamao de la paleta (malo)',\n\t},\n\t'ball-speed': {\n\t\tcolor: 'hsl(200, 70%, 50%)', // Blue\n\t\tlabel: ' Pelota Lenta',\n\t\tdescription: 'Reduce la velocidad de la pelota',\n\t},\n\t'multi-ball': {\n\t\tcolor: 'hsl(40, 70%, 50%)', // Orange\n\t\tlabel: ' Multi-Pelota',\n\t\tdescription: 'Crea mltiples pelotas',\n\t},\n\t'extra-life': {\n\t\tcolor: 'hsl(300, 70%, 50%)', // Purple\n\t\tlabel: ' Vida Extra',\n\t\tdescription: 'Gana una vida adicional!',\n\t},\n}\n","import type { Brick, BrickType, PowerUpType } from '../types'\nimport {\n\tBRICK_COLUMN_COUNT,\n\tBRICK_HEIGHT,\n\tBRICK_OFFSET_TOP,\n\tBRICK_PADDING,\n\tBRICK_ROW_COUNT,\n\tBRICK_TYPES,\n\tBRICK_WIDTH,\n\tCANVAS_WIDTH,\n\tLEVEL_THEMES,\n\tPOWER_UP_DROP_CHANCE,\n\tPADDLE_MIN_WIDTH,\n\tPADDLE_INITIAL_WIDTH,\n\tPADDLE_WIDTH_REDUCTION_PER_LEVEL,\n\tBALL_MAX_SPEED,\n\tBALL_INITIAL_SPEED,\n\tBALL_SPEED_INCREASE_PER_LEVEL,\n} from '../constants'\n\n// Helper to determine brick type based on level and position\nconst getBrickTypeForPosition = (\n\trow: number,\n\tlevel: number\n): { type: BrickType; colorOverride?: string } => {\n\tconst theme = LEVEL_THEMES[(level - 1) % LEVEL_THEMES.length]\n\n\t// Create patterns based on level\n\tif (level % 3 === 0) {\n\t\t// Checkerboard pattern\n\t\tconst useStronger = (row % 2 === 0) !== (level % 2 === 0)\n\t\tconst typeIndex = useStronger\n\t\t\t? Math.min(2 + Math.floor(level / 5), BRICK_TYPES.length - 1)\n\t\t\t: Math.min(1 + Math.floor(level / 8), BRICK_TYPES.length - 2)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else if (level % 5 === 0) {\n\t\t// Diamond pattern (stronger in middle)\n\t\tconst distanceFromCenter = Math.abs(row - Math.floor(BRICK_ROW_COUNT / 2))\n\t\tconst typeIndex = Math.max(\n\t\t\t0,\n\t\t\tMath.min(\n\t\t\t\tBRICK_TYPES.length - 1,\n\t\t\t\tBRICK_TYPES.length - 1 - distanceFromCenter\n\t\t\t)\n\t\t)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else {\n\t\t// Gradient pattern (stronger at top)\n\t\tconst strengthIndex = Math.floor((row / BRICK_ROW_COUNT) * 3)\n\t\tconst baseTypeIndex = Math.min(strengthIndex + Math.floor(level / 4), 3)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[Math.min(baseTypeIndex, BRICK_TYPES.length - 1)],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t}\n}\n\n// Determine which power-up type to spawn\nconst getRandomPowerUpType = (): PowerUpType => {\n\tconst types: PowerUpType[] = [\n\t\t'paddle-grow',\n\t\t'paddle-shrink', // Include negative power-ups for challenge\n\t\t'ball-speed',\n\t\t'multi-ball',\n\t\t'extra-life',\n\t]\n\n\t// Weight the power-ups (positive ones more likely)\n\tconst weights = [30, 10, 25, 25, 10] // paddle-grow: 30%, shrink: 10%, etc.\n\tconst totalWeight = weights.reduce((a, b) => a + b, 0)\n\tlet random = Math.random() * totalWeight\n\n\tfor (let i = 0; i < types.length; i++) {\n\t\trandom -= weights[i]\n\t\tif (random <= 0) {\n\t\t\treturn types[i]\n\t\t}\n\t}\n\n\treturn types[0] // Fallback\n}\n\nexport const createBricks = (level: number): Brick[][] => {\n\tconst bricks: Brick[][] = []\n\tconst brickOffsetLeft =\n\t\t(CANVAS_WIDTH -\n\t\t\t(BRICK_COLUMN_COUNT * BRICK_WIDTH +\n\t\t\t\t(BRICK_COLUMN_COUNT - 1) * BRICK_PADDING)) /\n\t\t2\n\n\t// Increase power-up chance slightly with level\n\tconst powerUpChance = Math.min(POWER_UP_DROP_CHANCE + level * 0.01, 0.3) // Max 30%\n\n\t// Initialize columns\n\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\tbricks[c] = []\n\t}\n\n\tfor (let r = 0; r < BRICK_ROW_COUNT; r++) {\n\t\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\t\tconst { type, colorOverride } = getBrickTypeForPosition(r, level)\n\n\t\t\t// Determine if this brick should have a power-up\n\t\t\tconst hasPowerUp = Math.random() < powerUpChance\n\t\t\tconst powerUpType = hasPowerUp ? getRandomPowerUpType() : undefined\n\n\t\t\tconst x = c * (BRICK_WIDTH + BRICK_PADDING) + brickOffsetLeft\n\t\t\tconst y = r * (BRICK_HEIGHT + BRICK_PADDING) + BRICK_OFFSET_TOP\n\n\t\t\tbricks[c][r] = {\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\twidth: BRICK_WIDTH,\n\t\t\t\theight: BRICK_HEIGHT,\n\t\t\t\tcolor: colorOverride || type.color,\n\t\t\t\tpoints: type.points,\n\t\t\t\tstatus: type.hitsToBreak,\n\t\t\t\thitsToBreak: type.hitsToBreak,\n\t\t\t\thasPowerUp,\n\t\t\t\tpowerUpType,\n\t\t\t}\n\t\t}\n\t}\n\n\treturn bricks\n}\n\nexport const allBricksBroken = (bricks: Brick[][]): boolean => {\n\treturn bricks.every(column => column.every(brick => brick.status === 0))\n}\n\nexport const calculatePaddleWidth = (level: number): number => {\n\treturn Math.max(\n\t\tPADDLE_MIN_WIDTH,\n\t\tPADDLE_INITIAL_WIDTH - (level - 1) * PADDLE_WIDTH_REDUCTION_PER_LEVEL\n\t)\n}\n\nexport const calculateBallSpeed = (level: number): number => {\n\treturn Math.min(\n\t\tBALL_MAX_SPEED,\n\t\tBALL_INITIAL_SPEED + (level - 1) * BALL_SPEED_INCREASE_PER_LEVEL\n\t)\n}\n","import type {\n\tBall,\n\tBrick,\n\tPaddle,\n\tPowerUpType,\n\tCollisionResult,\n} from '../types'\n\nexport function collisionDetection(\n\tball: Ball,\n\tbricks: Brick[][],\n\tpaddle: Paddle,\n\tcanvasHeight: number,\n\tcanvasWidth: number\n): CollisionResult {\n\tlet pointsToAdd = 0\n\tlet lifeLost = false\n\tlet spawnPowerUp: { x: number; y: number; type: PowerUpType } | undefined\n\tconst nextBallX = ball.x + ball.dx\n\tconst nextBallY = ball.y + ball.dy\n\n\t// Brick collision\n\tfor (let c = 0; c < bricks.length; c++) {\n\t\tfor (let r = 0; r < bricks[c].length; r++) {\n\t\t\tconst brick = bricks[c][r]\n\t\t\tif (brick.status > 0) {\n\t\t\t\tif (\n\t\t\t\t\tnextBallX + ball.radius > brick.x &&\n\t\t\t\t\tnextBallX - ball.radius < brick.x + brick.width &&\n\t\t\t\t\tnextBallY + ball.radius > brick.y &&\n\t\t\t\t\tnextBallY - ball.radius < brick.y + brick.height\n\t\t\t\t) {\n\t\t\t\t\tbrick.status -= 1\n\n\t\t\t\t\t// Award points only when brick is fully broken\n\t\t\t\t\tif (brick.status === 0) {\n\t\t\t\t\t\tpointsToAdd += brick.points\n\t\t\t\t\t\t// Spawn power-up if this brick had one\n\t\t\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\t\t\tspawnPowerUp = {\n\t\t\t\t\t\t\t\tx: brick.x + brick.width / 2,\n\t\t\t\t\t\t\t\ty: brick.y + brick.height / 2,\n\t\t\t\t\t\t\t\ttype: brick.powerUpType,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Simplified bounce logic: prioritize vertical bounce if mostly vertical collision\n\t\t\t\t\tconst overlapX = Math.min(\n\t\t\t\t\t\tball.x + ball.radius - brick.x,\n\t\t\t\t\t\tbrick.x + brick.width - (ball.x - ball.radius)\n\t\t\t\t\t)\n\t\t\t\t\tconst overlapY = Math.min(\n\t\t\t\t\t\tball.y + ball.radius - brick.y,\n\t\t\t\t\t\tbrick.y + brick.height - (ball.y - ball.radius)\n\t\t\t\t\t)\n\n\t\t\t\t\tif (overlapY <= overlapX) {\n\t\t\t\t\t\t// More horizontal overlap or equal -> Vertical bounce\n\t\t\t\t\t\tball.dy = -ball.dy\n\t\t\t\t\t\t// Correct position slightly to prevent sticking\n\t\t\t\t\t\tball.y += ball.dy > 0 ? -overlapY : overlapY\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// More vertical overlap -> Horizontal bounce\n\t\t\t\t\t\tball.dx = -ball.dx\n\t\t\t\t\t\t// Correct position slightly\n\t\t\t\t\t\tball.x += ball.dx > 0 ? -overlapX : overlapX\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { pointsToAdd, lifeLost, spawnPowerUp } // Return after first hit\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Paddle collision\n\tif (\n\t\tnextBallY + ball.radius > paddle.y && // Ball bottom below paddle top\n\t\tball.y - ball.radius < paddle.y + paddle.height && // Ball top above paddle bottom (prevents hitting from below)\n\t\tnextBallX + ball.radius > paddle.x && // Ball right edge right of paddle left\n\t\tnextBallX - ball.radius < paddle.x + paddle.width // Ball left edge left of paddle right\n\t) {\n\t\t// Only trigger if ball is moving downwards\n\t\tif (ball.dy > 0) {\n\t\t\tlet collidePoint =\n\t\t\t\t(ball.x - (paddle.x + paddle.width / 2)) / (paddle.width / 2)\n\t\t\tcollidePoint = Math.max(-0.95, Math.min(0.95, collidePoint)) // Clamp value\n\t\t\tconst angleRad = collidePoint * (Math.PI / 3) // Max angle 60 degrees\n\t\t\tball.dx = ball.speed * Math.sin(angleRad)\n\t\t\tball.dy = -Math.abs(ball.speed * Math.cos(angleRad)) // Ensure always upwards\n\t\t\tball.y = paddle.y - ball.radius - 0.1 // Move ball slightly above paddle\n\t\t}\n\t}\n\n\t// Wall collision (left/right)\n\tif (nextBallX > canvasWidth - ball.radius || nextBallX < ball.radius) {\n\t\tball.dx = -ball.dx\n\t\t// Correct position\n\t\tif (nextBallX > canvasWidth - ball.radius) {\n\t\t\tball.x = canvasWidth - ball.radius\n\t\t} else {\n\t\t\tball.x = ball.radius\n\t\t}\n\t}\n\n\t// Top wall collision\n\tif (nextBallY < ball.radius) {\n\t\tball.dy = -ball.dy\n\t\tball.y = ball.radius\n\t}\n\n\t// Bottom wall (life lost)\n\tif (ball.y > canvasHeight + ball.radius) {\n\t\tlifeLost = true\n\t}\n\n\treturn { pointsToAdd, lifeLost, spawnPowerUp }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { breakoutAudio } from './utils/audioManager'\n\n// Import types\nimport type {\n\tPowerUpType,\n\tPowerUp,\n\tActivePowerUp,\n\tBrick,\n\tBall,\n\tPaddle,\n\tBreakoutGameProps,\n} from './types'\n\n// Import constants\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tPADDLE_HEIGHT,\n\tPADDLE_COLOR,\n\tPADDLE_SPEED,\n\tBALL_RADIUS,\n\tBALL_COLOR,\n\tINITIAL_LEVEL,\n\tBRICK_TYPES,\n\tPOWER_UP_SIZE,\n\tPOWER_UP_SPEED,\n\tPOWER_UP_DURATION,\n\tPOWER_UP_CONFIG,\n\tBACKGROUND_IMAGE_SRC,\n} from './constants'\n\n// Import utility functions\nimport {\n\tcreateBricks,\n\tallBricksBroken,\n\tcalculatePaddleWidth,\n\tcalculateBallSpeed,\n} from './utils/brickHelpers'\nimport {\n\tdrawBall,\n\tdrawPaddle,\n\tdrawBricks,\n\tdrawExtraBalls,\n\tdrawPowerUps,\n} from './utils/drawingHelpers'\nimport { collisionDetection } from './utils/collisionHelpers'\n\nconst BreakoutGame: React.FC<BreakoutGameProps> = ({\n\tlives: initialLives,\n\tsetPointsEarned,\n\tsetGameOver,\n\tbrandColor = 'hsl(142, 71%, 45%)',\n\tskin = 'default',\n\tgameTitle = ' ROMPE BLOQUES',\n\tbrandLogo,\n}) => {\n\t// --- Mobile Detection ---\n\tconst mobile = isMobile()\n\n\t// --- Game State ---\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [ballLaunched, setBallLaunched] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// --- Score and Progress ---\n\tconst [level, setLevel] = useState(INITIAL_LEVEL)\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\n\t// Active power-ups for UI display\n\tconst [activePowerUpsState, setActivePowerUpsState] = useState<\n\t\tActivePowerUp[]\n\t>([])\n\n\t// --- Refs ---\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\tconst leftPressedRef = useRef(false)\n\tconst rightPressedRef = useRef(false)\n\n\t// Handle control input from GameControls\n\tconst handleControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (!gamePaused) {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tleftPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tleftPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\trightPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\trightPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[gamePaused]\n\t)\n\tconst touchStartX = useRef<number | null>(null)\n\tconst originalPaddleWidth = useRef<number>(\n\t\tcalculatePaddleWidth(INITIAL_LEVEL)\n\t)\n\tconst backgroundImageRef = useRef<HTMLImageElement | null>(null)\n\n\t// Ball ref\n\tconst ballRef = useRef<Ball>({\n\t\tx: CANVAS_WIDTH / 2,\n\t\ty: CANVAS_HEIGHT - 30,\n\t\tdx: 0,\n\t\tdy: 0,\n\t\tradius: BALL_RADIUS,\n\t\tspeed: calculateBallSpeed(INITIAL_LEVEL),\n\t\tcolor: BALL_COLOR,\n\t})\n\n\t// Paddle ref\n\tconst paddleRef = useRef<Paddle>({\n\t\tx: (CANVAS_WIDTH - calculatePaddleWidth(INITIAL_LEVEL)) / 2,\n\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\twidth: calculatePaddleWidth(INITIAL_LEVEL),\n\t\theight: PADDLE_HEIGHT,\n\t\tspeed: PADDLE_SPEED,\n\t\tcolor: PADDLE_COLOR,\n\t})\n\n\t// Bricks ref\n\tconst bricksRef = useRef<Brick[][]>(createBricks(INITIAL_LEVEL))\n\n\t// Power-ups refs\n\tconst powerUpsRef = useRef<PowerUp[]>([])\n\tconst extraBallsRef = useRef<Ball[]>([])\n\tconst activePowerUpsRef = useRef<ActivePowerUp[]>([])\n\n\t// --- Helper Functions ---\n\n\tconst resetBallAndPaddle = useCallback(() => {\n\t\tconst paddleWidth = calculatePaddleWidth(level)\n\t\tconst ballSpeed = calculateBallSpeed(level)\n\n\t\tpaddleRef.current = {\n\t\t\tx: (CANVAS_WIDTH - paddleWidth) / 2,\n\t\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\t\twidth: paddleWidth,\n\t\t\theight: PADDLE_HEIGHT,\n\t\t\tspeed: PADDLE_SPEED,\n\t\t\tcolor: PADDLE_COLOR,\n\t\t}\n\n\t\tballRef.current = {\n\t\t\tx: CANVAS_WIDTH / 2,\n\t\t\ty: CANVAS_HEIGHT - 30,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tradius: BALL_RADIUS,\n\t\t\tspeed: ballSpeed,\n\t\t\tcolor: BALL_COLOR,\n\t\t}\n\n\t\tsetBallLaunched(false)\n\t}, [level])\n\n\tconst levelUp = useCallback(() => {\n\t\tconst newLevel = level + 1\n\t\tsetLevel(newLevel)\n\t\tbricksRef.current = createBricks(newLevel)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLevelUp()\n\t}, [level, resetBallAndPaddle])\n\n\tconst loseLife = useCallback(() => {\n\t\tsetCurrentLives(prev => prev - 1)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLoseLife()\n\t}, [resetBallAndPaddle])\n\n\tconst launchBall = useCallback(() => {\n\t\tif (!ballLaunched && gameStarted && !gamePaused) {\n\t\t\tconst launchAngle = (Math.random() * Math.PI) / 3 - Math.PI / 6 // -30 to +30 degrees\n\t\t\tballRef.current.dx = ballRef.current.speed * Math.sin(launchAngle)\n\t\t\tballRef.current.dy = -ballRef.current.speed * Math.cos(launchAngle)\n\t\t\tsetBallLaunched(true)\n\t\t}\n\t}, [ballLaunched, gameStarted, gamePaused])\n\n\t// Power-up handling\n\tconst spawnPowerUp = useCallback(\n\t\t(x: number, y: number, type: PowerUpType) => {\n\t\t\tconst config = POWER_UP_CONFIG[type]\n\t\t\tpowerUpsRef.current.push({\n\t\t\t\tx: x - POWER_UP_SIZE / 2,\n\t\t\t\ty: y - POWER_UP_SIZE / 2,\n\t\t\t\twidth: POWER_UP_SIZE,\n\t\t\t\theight: POWER_UP_SIZE,\n\t\t\t\ttype,\n\t\t\t\tspeed: POWER_UP_SPEED,\n\t\t\t\tcolor: config.color,\n\t\t\t\tactive: true,\n\t\t\t})\n\t\t},\n\t\t[]\n\t)\n\n\tconst activatePowerUp = useCallback((type: PowerUpType) => {\n\t\tconst now = Date.now()\n\n\t\tswitch (type) {\n\t\t\tcase 'paddle-grow': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.min(\n\t\t\t\t\tpaddleRef.current.width * 1.5,\n\t\t\t\t\tCANVAS_WIDTH * 0.3\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'paddle-shrink': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.max(\n\t\t\t\t\tpaddleRef.current.width * 0.7,\n\t\t\t\t\t60 // PADDLE_MIN_WIDTH\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'ball-speed': {\n\t\t\t\tballRef.current.speed = ballRef.current.speed * 0.7 // Slow down for easier gameplay\n\t\t\t\t// Update velocity to match new speed\n\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t)\n\t\t\t\tballRef.current.dx =\n\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\tballRef.current.dy =\n\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'multi-ball': {\n\t\t\t\t// Create 2 extra balls\n\t\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\t\tconst angle = (Math.random() * Math.PI) / 2 - Math.PI / 4 // -45 to +45 degrees\n\t\t\t\t\textraBallsRef.current.push({\n\t\t\t\t\t\tx: ballRef.current.x,\n\t\t\t\t\t\ty: ballRef.current.y,\n\t\t\t\t\t\tdx: ballRef.current.speed * Math.sin(angle),\n\t\t\t\t\t\tdy: -Math.abs(ballRef.current.speed * Math.cos(angle)),\n\t\t\t\t\t\tradius: BALL_RADIUS,\n\t\t\t\t\t\tspeed: ballRef.current.speed,\n\t\t\t\t\t\tcolor: BALL_COLOR,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'extra-life': {\n\t\t\t\tsetCurrentLives(prev => prev + 1)\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}, [])\n\n\tconst updatePowerUps = useCallback(() => {\n\t\tconst now = Date.now()\n\n\t\t// Update falling power-ups\n\t\tpowerUpsRef.current = powerUpsRef.current.filter(powerUp => {\n\t\t\tif (!powerUp.active) return false\n\n\t\t\tpowerUp.y += powerUp.speed\n\n\t\t\t// Check paddle collision\n\t\t\tif (\n\t\t\t\tpowerUp.y + powerUp.height > paddleRef.current.y &&\n\t\t\t\tpowerUp.x < paddleRef.current.x + paddleRef.current.width &&\n\t\t\t\tpowerUp.x + powerUp.width > paddleRef.current.x\n\t\t\t) {\n\t\t\t\tactivatePowerUp(powerUp.type)\n\t\t\t\tbreakoutAudio.playPowerUpCollect()\n\t\t\t\treturn false // Remove collected power-up\n\t\t\t}\n\n\t\t\t// Remove if fell off screen\n\t\t\treturn powerUp.y < CANVAS_HEIGHT\n\t\t})\n\n\t\t// Check and remove expired power-ups\n\t\tactivePowerUpsRef.current = activePowerUpsRef.current.filter(\n\t\t\tactivePowerUp => {\n\t\t\t\tif (now > activePowerUp.endTime) {\n\t\t\t\t\t// Revert power-up effects\n\t\t\t\t\tswitch (activePowerUp.type) {\n\t\t\t\t\t\tcase 'paddle-grow':\n\t\t\t\t\t\tcase 'paddle-shrink': {\n\t\t\t\t\t\t\tpaddleRef.current.width = calculatePaddleWidth(level)\n\t\t\t\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\t\tCANVAS_WIDTH - paddleRef.current.width,\n\t\t\t\t\t\t\t\t\tpaddleRef.current.x\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'ball-speed': {\n\t\t\t\t\t\t\tballRef.current.speed = calculateBallSpeed(level)\n\t\t\t\t\t\t\t// Update velocity to match new speed\n\t\t\t\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tballRef.current.dx =\n\t\t\t\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tballRef.current.dy =\n\t\t\t\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}\n\t\t)\n\n\t\t// Update state for UI display\n\t\tsetActivePowerUpsState([...activePowerUpsRef.current])\n\t}, [activatePowerUp, level])\n\n\t// --- Effects ---\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tbreakoutAudio.init()\n\t\treturn () => {\n\t\t\tbreakoutAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Load background image\n\tuseEffect(() => {\n\t\tconst img = new Image()\n\t\tif (skin !== 'default') {\n\t\t\timg.src = `/games/breakout/skins/${skin}/bg.webp`\n\t\t} else {\n\t\t\timg.src = BACKGROUND_IMAGE_SRC\n\t\t}\n\t\timg.onload = () => {\n\t\t\tbackgroundImageRef.current = img\n\t\t}\n\t}, [])\n\n\t// Handle game over when lives reach 0\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Keyboard event listeners\n\tuseEffect(() => {\n\t\tconst keyDownHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = true\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = true\n\t\t\t} else if (e.key === ' ' && gameStarted && !ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t} else if (e.key === ' ' && gameStarted && ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t} else if (e.key === 'p' || e.key === 'P') {\n\t\t\t\tif (gameStarted && ballLaunched) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst keyUpHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = false\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = false\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', keyDownHandler)\n\t\tdocument.addEventListener('keyup', keyUpHandler)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', keyDownHandler)\n\t\t\tdocument.removeEventListener('keyup', keyUpHandler)\n\t\t}\n\t}, [gameStarted, ballLaunched, launchBall])\n\n\t// Touch event listeners\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !mobile || !gameStarted) return\n\n\t\tconst touchMoveHandler = (e: TouchEvent) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\te.preventDefault()\n\t\t\t\tconst touch = e.touches[0]\n\t\t\t\tconst rect = canvas.getBoundingClientRect()\n\t\t\t\tconst touchX = touch.clientX - rect.left\n\t\t\t\tconst nextPaddleX = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(rect.width - paddleRef.current.width, touchX)\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = nextPaddleX * window.devicePixelRatio\n\t\t\t\tif (!ballLaunched) {\n\t\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst touchStartHandler = (e: TouchEvent) => {\n\t\t\tif (gamePaused) return\n\t\t\tif (!ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t}\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\ttouchStartX.current = e.touches[0].clientX\n\t\t\t}\n\t\t}\n\n\t\tconst touchEndHandler = () => {\n\t\t\ttouchStartX.current = null\n\t\t}\n\n\t\tcanvas.addEventListener('touchmove', touchMoveHandler, { passive: false })\n\t\tcanvas.addEventListener('touchstart', touchStartHandler, { passive: false })\n\t\tcanvas.addEventListener('touchend', touchEndHandler)\n\n\t\treturn () => {\n\t\t\tcanvas.removeEventListener('touchmove', touchMoveHandler)\n\t\t\tcanvas.removeEventListener('touchstart', touchStartHandler)\n\t\t\tcanvas.removeEventListener('touchend', touchEndHandler)\n\t\t}\n\t}, [mobile, gameStarted, gamePaused, ballLaunched, launchBall])\n\n\t// Game Loop Effect\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst draw = () => {\n\t\t\tconst now = performance.now()\n\t\t\tconst deltaTime = (now - lastTime) / 1000\n\t\t\tlastTime = now\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw background\n\t\t\tif (backgroundImageRef.current) {\n\t\t\t\t// Draw background image if loaded\n\t\t\t\tctx.drawImage(\n\t\t\t\t\tbackgroundImageRef.current,\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\tCANVAS_WIDTH,\n\t\t\t\t\tCANVAS_HEIGHT\n\t\t\t\t)\n\t\t\t\t// Add a semi-transparent overlay for better visibility\n\t\t\t\tctx.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t} else {\n\t\t\t\t// Fallback: Draw a dark background if image hasn't loaded\n\t\t\t\tctx.fillStyle = '#1a1a1a'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t}\n\n\t\t\t// Draw elements\n\t\t\tdrawBricks(ctx, bricksRef.current)\n\t\t\tdrawPaddle(ctx, paddleRef.current)\n\t\t\tdrawBall(ctx, ballRef.current)\n\t\t\tdrawExtraBalls(ctx, extraBallsRef.current)\n\t\t\tdrawPowerUps(ctx, powerUpsRef.current)\n\n\t\t\tif (ballLaunched) {\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\n\t\t\t\t// Update power-ups\n\t\t\t\tupdatePowerUps()\n\n\t\t\t\t// Collision detection for main ball\n\t\t\t\tconst {\n\t\t\t\t\tpointsToAdd,\n\t\t\t\t\tlifeLost,\n\t\t\t\t\tspawnPowerUp: powerUpToSpawn,\n\t\t\t\t} = collisionDetection(\n\t\t\t\t\tballRef.current,\n\t\t\t\t\tbricksRef.current,\n\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t)\n\n\t\t\t\tif (powerUpToSpawn) {\n\t\t\t\t\tspawnPowerUp(powerUpToSpawn.x, powerUpToSpawn.y, powerUpToSpawn.type)\n\t\t\t\t}\n\n\t\t\t\t// Play brick break sound when points are earned\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tbreakoutAudio.playBrickBreak()\n\t\t\t\t}\n\n\t\t\t\t// Handle extra balls\n\t\t\t\textraBallsRef.current = extraBallsRef.current.filter(ball => {\n\t\t\t\t\tconst result = collisionDetection(\n\t\t\t\t\t\tball,\n\t\t\t\t\t\tbricksRef.current,\n\t\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t\t)\n\n\t\t\t\t\tif (result.pointsToAdd > 0) {\n\t\t\t\t\t\tsetPoints(prev => prev + result.pointsToAdd)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (result.spawnPowerUp) {\n\t\t\t\t\t\tspawnPowerUp(\n\t\t\t\t\t\t\tresult.spawnPowerUp.x,\n\t\t\t\t\t\t\tresult.spawnPowerUp.y,\n\t\t\t\t\t\t\tresult.spawnPowerUp.type\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move extra ball\n\t\t\t\t\tball.x += ball.dx * deltaTime * 60\n\t\t\t\t\tball.y += ball.dy * deltaTime * 60\n\n\t\t\t\t\t// Keep extra ball if not lost\n\t\t\t\t\treturn !result.lifeLost\n\t\t\t\t})\n\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tsetPoints(prev => prev + pointsToAdd)\n\t\t\t\t}\n\n\t\t\t\t// Only lose life if main ball is lost\n\t\t\t\tif (lifeLost) {\n\t\t\t\t\t// Check if there are extra balls\n\t\t\t\t\tif (extraBallsRef.current.length > 0) {\n\t\t\t\t\t\t// Move an extra ball to become the main ball\n\t\t\t\t\t\tconst newMainBall = extraBallsRef.current.pop()!\n\t\t\t\t\t\tballRef.current.x = newMainBall.x\n\t\t\t\t\t\tballRef.current.y = newMainBall.y\n\t\t\t\t\t\tballRef.current.dx = newMainBall.dx\n\t\t\t\t\t\tballRef.current.dy = newMainBall.dy\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloseLife()\n\t\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (allBricksBroken(bricksRef.current)) {\n\t\t\t\t\tlevelUp()\n\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Move ball\n\t\t\t\tballRef.current.x += ballRef.current.dx * deltaTime * 60\n\t\t\t\tballRef.current.y += ballRef.current.dy * deltaTime * 60\n\t\t\t} else {\n\t\t\t\t// Keep ball centered on paddle before launch\n\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\tballRef.current.y = paddleRef.current.y - BALL_RADIUS\n\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t}\n\n\t\tdraw()\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tballLaunched,\n\t\tlevel,\n\t\tloseLife,\n\t\tlevelUp,\n\t\tupdatePowerUps,\n\t\tspawnPowerUp,\n\t])\n\n\t// --- Game Start/Control Functions ---\n\n\tconst startGame = () => {\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(INITIAL_LEVEL)\n\t\tsetPoints(0)\n\t\tsetCurrentLives(initialLives)\n\t\tbricksRef.current = createBricks(INITIAL_LEVEL)\n\t\tresetBallAndPaddle()\n\t\tpowerUpsRef.current = []\n\t\textraBallsRef.current = []\n\t\tactivePowerUpsRef.current = []\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetGameStarted(true)\n\t\tsetBallLaunched(false)\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tsetBallLaunched(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\t// --- Component Render ---\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && ballLaunched && !quitGame\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t<div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3rem', padding: '0.25rem 1rem' }}>\n\t\t\t\t\t\t{/* Active Power-ups Display */}\n\t\t\t\t\t\t{gameStarted && activePowerUpsState.length > 0 && (\n\t\t\t\t\t\t\t<div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.875rem', color: 'white', fontWeight: 600 }}>\n\t\t\t\t\t\t\t\t\tPower-ups:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{activePowerUpsState.map((powerUp, index) => {\n\t\t\t\t\t\t\t\t\tconst config = POWER_UP_CONFIG[powerUp.type]\n\t\t\t\t\t\t\t\t\tconst remaining = Math.ceil(\n\t\t\t\t\t\t\t\t\t\t(powerUp.endTime - Date.now()) / 1000\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"game-header-stat-box\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderColor: config.color }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '1.125rem' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{config.label.split(' ')[0]}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', fontWeight: 'bold', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{remaining}s\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcursor:\n\t\t\t\t\t\t\t\tgameStarted && !gamePaused && ballLaunched ? 'none' : 'default',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={gameTitle}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(2)\n\t\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? 'Siguiente '\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? 'Power-ups '\n\t\t\t\t\t\t\t\t\t\t: ' JUGAR'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{/* Visual elements */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-6 h-2 bg-gray-300 rounded-sm\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Paleta</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: BALL_COLOR }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-2 h-2 rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Pelota</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{BRICK_TYPES.slice(0, 2).map(type => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={type.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: type.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-2 rounded-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Bloques</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Controls */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Desliza para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca para lanzar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Flechas para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO para lanzar/pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Skip button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : instructionsStep === 1 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Destruye bloques para ganar puntos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Completa niveles limpiando todos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> No dejes caer la pelota</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> La paleta se achica cada nivel</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-bold text-sm mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t Power-ups disponibles:\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-green-400\">Paleta Grande</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- Aumenta tamao\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-blue-400\">Bola Lenta</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\tFacilita el juego\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-yellow-400\">Multi-Bola</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- 3 bolas a la vez\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-red-400\">Vida Extra</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\t+1 vida\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs mt-2 text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNivel 4+:  Paleta pequea (cuidado!)\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLos bloques con  contienen power-ups\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(1)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage=\"Juego pausado. Listo para seguir?\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{mobile && gameStarted && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleControl}\n\t\t\t\t\tlayout=\"horizontal\"\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\tshowLaunchButton={!ballLaunched}\n\t\t\t\t\tonLaunch={launchBall}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default BreakoutGame\n","import type { Ball, Brick, Paddle, PowerUp } from '../types'\nimport { POWER_UP_CONFIG } from '../constants'\n\nexport const drawBall = (ctx: CanvasRenderingContext2D, ball: Ball) => {\n\tctx.beginPath()\n\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\tctx.fillStyle = ball.color\n\t// Add glow\n\tctx.shadowBlur = 15\n\tctx.shadowColor = ball.color\n\tctx.fill()\n\tctx.closePath()\n\t// Reset shadow\n\tctx.shadowBlur = 0\n\tctx.shadowColor = 'transparent'\n}\n\nexport const drawPaddle = (ctx: CanvasRenderingContext2D, paddle: Paddle) => {\n\tctx.beginPath()\n\tconst radius = 5 // Rounded corners\n\tctx.moveTo(paddle.x + radius, paddle.y)\n\tctx.lineTo(paddle.x + paddle.width - radius, paddle.y)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y,\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + radius\n\t)\n\tctx.lineTo(paddle.x + paddle.width, paddle.y + paddle.height - radius)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x + paddle.width - radius,\n\t\tpaddle.y + paddle.height\n\t)\n\tctx.lineTo(paddle.x + radius, paddle.y + paddle.height)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height - radius\n\t)\n\tctx.lineTo(paddle.x, paddle.y + radius)\n\tctx.quadraticCurveTo(paddle.x, paddle.y, paddle.x + radius, paddle.y)\n\tctx.fillStyle = paddle.color\n\tctx.fill()\n\tctx.closePath()\n}\n\nexport const drawBricks = (\n\tctx: CanvasRenderingContext2D,\n\tbricks: Brick[][]\n) => {\n\tbricks.forEach(column => {\n\t\tcolumn.forEach(brick => {\n\t\t\tif (brick.status > 0) {\n\t\t\t\tctx.beginPath()\n\t\t\t\tconst radius = 3 // Subtle rounded corners\n\t\t\t\tctx.moveTo(brick.x + radius, brick.y)\n\t\t\t\tctx.lineTo(brick.x + brick.width - radius, brick.y)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y,\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + brick.width, brick.y + brick.height - radius)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x + brick.width - radius,\n\t\t\t\t\tbrick.y + brick.height\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + radius, brick.y + brick.height)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height - radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x, brick.y + radius)\n\t\t\t\tctx.quadraticCurveTo(brick.x, brick.y, brick.x + radius, brick.y)\n\n\t\t\t\t// Adjust opacity based on hits remaining\n\t\t\t\tconst opacity = brick.status / brick.hitsToBreak\n\t\t\t\tctx.fillStyle = brick.color\n\t\t\t\tctx.globalAlpha = 0.5 + opacity * 0.5 // Min 50% opacity\n\t\t\t\tctx.fill()\n\t\t\t\tctx.globalAlpha = 1.0\n\n\t\t\t\t// Draw cracks for damaged bricks\n\t\t\t\tif (brick.status < brick.hitsToBreak) {\n\t\t\t\t\tctx.strokeStyle = 'rgba(0,0,0,0.3)'\n\t\t\t\t\tctx.lineWidth = 2\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\n\t\t\t\t// Draw power-up indicator\n\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\tctx.fillStyle = 'rgba(255,255,255,0.8)'\n\t\t\t\t\tctx.font = '12px Arial'\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\t\tctx.fillText(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tbrick.x + brick.width / 2,\n\t\t\t\t\t\tbrick.y + brick.height / 2\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tctx.closePath()\n\t\t\t}\n\t\t})\n\t})\n}\n\nexport const drawExtraBalls = (\n\tctx: CanvasRenderingContext2D,\n\textraBalls: Ball[]\n) => {\n\textraBalls.forEach(ball => {\n\t\tctx.beginPath()\n\t\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\t\tctx.fillStyle = ball.color\n\t\tctx.shadowBlur = 10\n\t\tctx.shadowColor = ball.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n\nexport const drawPowerUps = (\n\tctx: CanvasRenderingContext2D,\n\tpowerUps: PowerUp[]\n) => {\n\tpowerUps.forEach(powerUp => {\n\t\t// Draw power-up background\n\t\tctx.beginPath()\n\t\tctx.arc(\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2,\n\t\t\tpowerUp.width / 2,\n\t\t\t0,\n\t\t\tMath.PI * 2\n\t\t)\n\t\tctx.fillStyle = powerUp.color\n\t\tctx.shadowBlur = 20\n\t\tctx.shadowColor = powerUp.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\n\t\t// Draw power-up icon\n\t\tctx.fillStyle = 'white'\n\t\tctx.font = '14px Arial'\n\t\tctx.textAlign = 'center'\n\t\tctx.textBaseline = 'middle'\n\n\t\t// Get the icon from POWER_UP_CONFIG\n\t\tconst icon = POWER_UP_CONFIG[powerUp.type].label.split(' ')[0] // Extract emoji icon\n\t\tctx.fillText(\n\t\t\ticon,\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2\n\t\t)\n\n\t\t// Reset shadow\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n","'use client'\n\nimport React, { useState, useCallback, useRef, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { PenaltyShootoutProps, ShotResult } from './types'\n\n// Lazy import for Phaser game\nconst PenaltyShootoutCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst PenaltyShootoutGame: React.FC<PenaltyShootoutProps> = ({\n\tlives = 5,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#1a472a',\n\tskin,\n\tgameTitle = 'PENALES',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\n\t// Game state\n\tconst [score, setScore] = useState(0)\n\tconst [round, setRound] = useState(1)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [gameResult, setGameResult] = useState<{\n\t\tgoals: number\n\t\tscore: number\n\t\twon: boolean\n\t} | null>(null)\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetRound(1)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameResult(null)\n\t\t}\n\t}, [isGameStarted])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleRoundComplete = useCallback(\n\t\t(roundNum: number, _result: ShotResult) => {\n\t\t\tsetRound(roundNum + 1)\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleGameOverFromPhaser = useCallback(\n\t\t(finalGoals: number, totalScore: number) => {\n\t\t\tsetIsGameOver(true)\n\t\t\tsetGameResult({\n\t\t\t\tgoals: finalGoals,\n\t\t\t\tscore: totalScore,\n\t\t\t\twon: finalGoals >= Math.ceil(lives / 2),\n\t\t\t})\n\t\t},\n\t\t[lives]\n\t)\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Lives (shots remaining), and Quit */}\n\t\t\t<GameHeader\n\t\t\t\tscore={score}\n\t\t\t\tlives={lives - round + 1}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Tira {lives} penales contra el portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza desde el baln hacia la portera</p>\n\t\t\t\t\t\t\t\t\t\t<p> Curva tu tiro para engaar al portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Anota {Math.ceil(lives / 2)}+ goles para ganar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Tiros curvos = +25 pts | Esquinas = +50 pts</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<PenaltyShootoutCore\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonRoundComplete={handleRoundComplete}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOverFromPhaser}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\ttotalRounds={lives}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over Screen */}\n\t\t\t\t\t{isGameOver && gameResult && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\t\t\tcolor: gameResult.won ? '#4ade80' : '#f87171'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{gameResult.won ? 'VICTORIA!' : 'DERROTA'}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '0.5rem', margin: '1rem 0' }}>\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1.5rem', opacity: i < gameResult.goals ? 1 : 0.3 }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.25rem', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.goals} de {lives} goles\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#facc15' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{gameResult.goals === lives && (\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.125rem', color: '#fde047' }}>\n\t\t\t\t\t\t\t\t\t\t\tPuntuacin perfecta! \n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default PenaltyShootoutGame\n","'use client'\n\nimport React, { useState, useCallback, useRef, useEffect, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { CandyCrushProps } from './types'\nimport { LEVELS, SCORING } from './constants'\nimport { candyCrushAudio } from './utils/audioManager'\n\n// Lazy import for Phaser game\nconst CandyCrushCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst CandyCrushGame: React.FC<CandyCrushProps> = ({\n\tlives = 3,\n\tlevel = 1,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#e91e63',\n\tskin,\n\tgameTitle = 'CANDY CRUSH',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [gameKey, setGameKey] = useState(0) // Used to reset game instance\n\n\t// Level progression state\n\tconst [currentLevel, setCurrentLevel] = useState(\n\t\tMath.min(Math.max(level, 1), LEVELS.length)\n\t)\n\tconst [totalScore, setTotalScore] = useState(0) // Accumulated score across all levels\n\n\t// Get level configuration for current level\n\tconst levelConfig = LEVELS[currentLevel - 1]\n\n\t// Game state\n\tconst [score, setScore] = useState(0) // Score for current level\n\tconst [moves, setMoves] = useState(levelConfig.moves)\n\tconst [livesRemaining, setLivesRemaining] = useState(lives)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isRoundComplete, setIsRoundComplete] = useState(false)\n\tconst [roundWon, setRoundWon] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [allLevelsComplete, setAllLevelsComplete] = useState(false)\n\n\t// Refs to access current values in callbacks without causing re-renders\n\tconst scoreRef = useRef(score)\n\tconst totalScoreRef = useRef(totalScore)\n\tconst currentLevelRef = useRef(currentLevel)\n\tconst livesRemainingRef = useRef(livesRemaining)\n\n\t// Cleanup audio on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tcandyCrushAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Keep refs in sync with state\n\tuseEffect(() => {\n\t\tscoreRef.current = score\n\t}, [score])\n\tuseEffect(() => {\n\t\ttotalScoreRef.current = totalScore\n\t}, [totalScore])\n\tuseEffect(() => {\n\t\tcurrentLevelRef.current = currentLevel\n\t}, [currentLevel])\n\tuseEffect(() => {\n\t\tlivesRemainingRef.current = livesRemaining\n\t}, [livesRemaining])\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(async () => {\n\t\tif (!isGameStarted) {\n\t\t\t// Initialize audio on user gesture (required for browser audio context)\n\t\t\tawait candyCrushAudio.init()\n\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsRoundComplete(false)\n\t\t\tsetRoundWon(false)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetMoves(levelConfig.moves)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameKey(prev => prev + 1)\n\t\t}\n\t}, [isGameStarted, levelConfig.moves])\n\n\tconst retryRound = useCallback(() => {\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(levelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [levelConfig.moves])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = useCallback(() => {\n\t\t// Use refs to ensure we get the latest values\n\t\tconst finalScore = totalScoreRef.current + scoreRef.current\n\t\tsetPointsEarned(finalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}, [setPointsEarned, setGameOver])\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleMovesUpdate = useCallback((newMoves: number) => {\n\t\tsetMoves(newMoves)\n\t}, [])\n\n\tconst handleGameComplete = useCallback(\n\t\t(won: boolean, _finalScore: number) => {\n\t\t\tsetRoundWon(won)\n\t\t\tsetIsRoundComplete(true)\n\n\t\t\tif (won) {\n\t\t\t\t// Check if this was the last level\n\t\t\t\tif (currentLevelRef.current >= LEVELS.length) {\n\t\t\t\t\t// Completed all levels! Add final score to total\n\t\t\t\t\tsetTotalScore(prev => prev + scoreRef.current)\n\t\t\t\t\tsetAllLevelsComplete(true)\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can continue to next level (score added when they click Next)\n\t\t\t} else {\n\t\t\t\t// Player failed - lose a life\n\t\t\t\tconst newLives = livesRemainingRef.current - 1\n\t\t\t\tsetLivesRemaining(newLives)\n\n\t\t\t\tif (newLives <= 0) {\n\t\t\t\t\t// No more lives - game over\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can retry\n\t\t\t}\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleNextLevel = useCallback(() => {\n\t\t// Add current level score to total before advancing\n\t\tsetTotalScore(prev => prev + score)\n\n\t\t// Advance to next level\n\t\tconst nextLevel = currentLevel + 1\n\t\tconst nextLevelConfig = LEVELS[nextLevel - 1]\n\n\t\tsetCurrentLevel(nextLevel)\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(nextLevelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [currentLevel, score])\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(totalScore + score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Moves, Lives, Level */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={currentLevel}\n\t\t\t\tscore={totalScore + score}\n\t\t\t\tlives={livesRemaining}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isRoundComplete && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-2 md:space-y-3\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-3xl md:text-5xl font-bold text-pink-400 animate-pulse\">\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-bold text-white\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} de {LEVELS.length}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-1 md:space-y-2 text-gray-300 text-sm md:text-md\">\n\t\t\t\t\t\t\t\t\t\t<p> Meta: {levelConfig.targetScore} puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Movimientos: {levelConfig.moves}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Vidas: {lives}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza para intercambiar dulces</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-xs md:text-sm text-gray-400 mt-2 md:mt-3\">\n\t\t\t\t\t\t\t\t\t\t<p>Combina 3+ dulces del mismo color</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isRoundComplete && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<CandyCrushCore\n\t\t\t\t\t\t\t\tkey={gameKey}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonMovesUpdate={handleMovesUpdate}\n\t\t\t\t\t\t\t\tonGameComplete={handleGameComplete}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tlives={livesRemaining}\n\t\t\t\t\t\t\t\tlevelConfig={levelConfig}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Success (not last level) */}\n\t\t\t\t\t{isRoundComplete && roundWon && !allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleNextLevel}\n\t\t\t\t\t\t\tactionText=\"Siguiente Nivel \"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-green-400\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} Completado!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Alcanzaste la meta</p>\n\n\t\t\t\t\t\t\t\t\t{/* Score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-md text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tPuntuacin acumulada:{' '}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t{totalScore + score}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* All Levels Complete */}\n\t\t\t\t\t{isRoundComplete && roundWon && allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\" Finalizar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\tVICTORIA TOTAL!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\tCompletaste los {LEVELS.length} niveles!\n\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t{/* Final level score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base (nivel {currentLevel}):</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel {currentLevel}:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Niveles anteriores:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin final:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore + score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Failed but has lives */}\n\t\t\t\t\t{isRoundComplete && !roundWon && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={retryRound}\n\t\t\t\t\t\t\tactionText=\" Reintentar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\tCasi!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\t{score} / {levelConfig.targetScore} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center gap-2 my-4\">\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`text-2xl ${\n\t\t\t\t\t\t\t\t\t\t\t\t\ti < livesRemaining ? 'opacity-100' : 'opacity-30'\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over - No more lives */}\n\t\t\t\t\t{isGameOver && !roundWon && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-red-400\">\n\t\t\t\t\t\t\t\t\t\tGAME OVER\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Se acabaron las vidas</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t{score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore + score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Ad Space */}\n\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t<img\n\t\t\t\t\tsrc=\"/games/candy-crush/sprites/ad-bottom.png\"\n\t\t\t\t\talt=\"Advertisement\"\n\t\t\t\t\tstyle={{ width: '100%', height: 'auto' }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CandyCrushGame\n","import type { LaneColors } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 400\nexport const CANVAS_HEIGHT = 600\n\n// Lane configuration\nexport const LANE_COUNT = 4\nexport const LANE_WIDTH = CANVAS_WIDTH / LANE_COUNT\nexport const HIT_ZONE_Y = CANVAS_HEIGHT - 80\nexport const HIT_ZONE_HEIGHT = 20\n\n// Note configuration\nexport const NOTE_WIDTH = LANE_WIDTH - 20\nexport const NOTE_HEIGHT = 30\nexport const NOTE_RADIUS = 8\n\n// Timing windows (in milliseconds)\nexport const PERFECT_WINDOW = 50\nexport const GOOD_WINDOW = 100\n\n// Scoring (reduced for longer levels)\nexport const PERFECT_POINTS = 50\nexport const GOOD_POINTS = 25\nexport const MAX_COMBO_MULTIPLIER = 8\n\n// Default neon colors\nexport const DEFAULT_LANE_COLORS: LaneColors = {\n\tlane0: '#00ffff', // Cyan\n\tlane1: '#ff00ff', // Magenta\n\tlane2: '#ffff00', // Yellow\n\tlane3: '#00ff00', // Lime\n}\n\n// Key bindings\nexport const LANE_KEYS = ['d', 'f', 'j', 'k']\nexport const LANE_LABELS = ['D', 'F', 'J', 'K']\n\n// Lane pitches for Tone.js (C major chord with extension)\nexport const LANE_PITCHES = ['C4', 'E4', 'G4', 'B4']\n\n// Visual effects\nexport const HIT_EFFECT_DURATION = 300 // ms\nexport const TRAIL_LENGTH = 3\n","// Lane Assignment Algorithms for Melodic Song System\n// Converts raw melody notes to playable 4-lane patterns\n\nimport type { MelodicNote, LaneAssignmentOptions } from '../songs/songTypes'\n\n// MIDI note number to pitch name conversion\nconst NOTE_NAMES = [\n\t'C',\n\t'C#',\n\t'D',\n\t'D#',\n\t'E',\n\t'F',\n\t'F#',\n\t'G',\n\t'G#',\n\t'A',\n\t'A#',\n\t'B',\n]\n\nexport function pitchToMidi(pitch: string): number {\n\t// Parse pitch like \"C4\", \"F#5\", \"Bb3\"\n\tconst match = pitch.match(/^([A-G])([#b]?)(\\d+)$/)\n\tif (!match) return 60 // Default to middle C\n\n\tconst [, note, accidental, octaveStr] = match\n\tconst octave = parseInt(octaveStr, 10)\n\n\tlet noteIndex = NOTE_NAMES.indexOf(note)\n\tif (accidental === '#') noteIndex++\n\tif (accidental === 'b') noteIndex--\n\n\t// MIDI note number: C4 = 60\n\treturn (octave + 1) * 12 + noteIndex\n}\n\nexport function midiToPitch(midi: number): string {\n\tconst octave = Math.floor(midi / 12) - 1\n\tconst noteIndex = midi % 12\n\treturn `${NOTE_NAMES[noteIndex]}${octave}`\n}\n\n// Transpose a pitch by a number of semitones\nexport function transposePitch(pitch: string, semitones: number): string {\n\tconst midi = pitchToMidi(pitch)\n\treturn midiToPitch(midi + semitones)\n}\n\n// Transpose a pitch by octaves\nexport function transposeOctave(pitch: string, octaves: number): string {\n\treturn transposePitch(pitch, octaves * 12)\n}\n\ninterface PitchRange {\n\tmin: number\n\tmax: number\n\trange: number\n}\n\nfunction analyzePitchRange(notes: MelodicNote[]): PitchRange {\n\tconst midiValues = notes.map(n => pitchToMidi(n.pitch))\n\tconst min = Math.min(...midiValues)\n\tconst max = Math.max(...midiValues)\n\treturn { min, max, range: max - min }\n}\n\n/**\n * Pitch-Range Mapping Strategy\n * Divides the song's pitch range into 4 zones and assigns each to a lane.\n * Adjacent pitches map to adjacent lanes, creating natural hand movement.\n */\nfunction assignByPitchRange(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\tconst { min, range } = analyzePitchRange(notes)\n\n\t// Handle songs with very small range (all same pitch or close)\n\tconst effectiveRange = Math.max(range, 4)\n\tconst zoneSize = effectiveRange / 4\n\n\treturn notes.map(note => {\n\t\tconst midi = pitchToMidi(note.pitch)\n\t\tconst relativePosition = midi - min\n\n\t\t// Map to lane 0-3 based on position in range\n\t\tconst rawLane = Math.floor(relativePosition / zoneSize)\n\t\tconst lane = Math.max(0, Math.min(3, rawLane)) as 0 | 1 | 2 | 3\n\n\t\treturn { ...note, lane }\n\t})\n}\n\n/**\n * Complexity-Aware Mapping Strategy\n * Optimizes for playability by avoiding impossible patterns and\n * ensuring reasonable travel distance between consecutive notes.\n */\nfunction assignByComplexity(\n\tnotes: MelodicNote[],\n\tmaxSimultaneous: number = 2\n): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\t// First pass: assign by pitch range\n\tlet assignedNotes = assignByPitchRange(notes)\n\n\t// Second pass: resolve simultaneous note conflicts\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of assignedNotes) {\n\t\tconst beatKey = Math.round(note.beat * 1000) // Round to avoid floating point issues\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\t// Resolve conflicts where too many notes share the same beat\n\tconst resolvedNotes: MelodicNote[] = []\n\tfor (const [, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length <= maxSimultaneous) {\n\t\t\t// Ensure unique lanes for simultaneous notes\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of beatNotes) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t} else {\n\t\t\t// Too many simultaneous notes - keep only the most important ones\n\t\t\t// (highest and lowest pitches tend to be most melodically significant)\n\t\t\tconst sorted = [...beatNotes].sort(\n\t\t\t\t(a, b) => pitchToMidi(a.pitch) - pitchToMidi(b.pitch)\n\t\t\t)\n\t\t\tconst kept = [sorted[0], sorted[sorted.length - 1]]\n\t\t\tif (maxSimultaneous > 2 && sorted.length > 2) {\n\t\t\t\tkept.push(sorted[Math.floor(sorted.length / 2)])\n\t\t\t}\n\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of kept.slice(0, maxSimultaneous)) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort by beat\n\treturn resolvedNotes.sort((a, b) => a.beat - b.beat)\n}\n\n/**\n * Main lane assignment function\n * Takes raw notes (potentially without lane assignments) and returns\n * notes with optimized lane assignments for playability.\n */\nexport function assignLanes(\n\tnotes: MelodicNote[],\n\toptions: LaneAssignmentOptions = { strategy: 'pitch-range' }\n): MelodicNote[] {\n\tconst { strategy, maxSimultaneous = 2 } = options\n\n\tswitch (strategy) {\n\t\tcase 'pitch-range':\n\t\t\treturn assignByPitchRange(notes)\n\t\tcase 'complexity-aware':\n\t\t\treturn assignByComplexity(notes, maxSimultaneous)\n\t\tdefault:\n\t\t\treturn assignByPitchRange(notes)\n\t}\n}\n\n/**\n * Validate that a song's lane assignments are playable\n * Returns issues found, or empty array if valid\n */\nexport function validateLaneAssignments(notes: MelodicNote[]): string[] {\n\tconst issues: string[] = []\n\n\t// Check for too many simultaneous notes\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of notes) {\n\t\tconst beatKey = Math.round(note.beat * 1000)\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\tfor (const [beat, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length > 2) {\n\t\t\tissues.push(\n\t\t\t\t`Beat ${beat / 1000}: ${beatNotes.length} simultaneous notes (max recommended: 2)`\n\t\t\t)\n\t\t}\n\n\t\t// Check for duplicate lanes at same beat\n\t\tconst lanes = beatNotes.map(n => n.lane)\n\t\tconst uniqueLanes = new Set(lanes)\n\t\tif (lanes.length !== uniqueLanes.size) {\n\t\t\tissues.push(`Beat ${beat / 1000}: Multiple notes in same lane`)\n\t\t}\n\t}\n\n\t// Check for invalid lane values\n\tfor (const note of notes) {\n\t\tif (note.lane < 0 || note.lane > 3) {\n\t\t\tissues.push(`Beat ${note.beat}: Invalid lane ${note.lane}`)\n\t\t}\n\t}\n\n\treturn issues\n}\n\n/**\n * Balance lane distribution\n * Slightly adjusts assignments to ensure all lanes are used reasonably evenly\n */\nexport function balanceLaneDistribution(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length < 8) return notes // Too few notes to balance\n\n\t// Count current distribution\n\tconst laneCounts = [0, 0, 0, 0]\n\tfor (const note of notes) {\n\t\tlaneCounts[note.lane]++\n\t}\n\n\tconst avgCount = notes.length / 4\n\tconst threshold = avgCount * 0.5 // Allow 50% deviation\n\n\t// Find underused and overused lanes\n\tconst underused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count < avgCount - threshold)\n\t\t.map(l => l.lane)\n\n\tconst overused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count > avgCount + threshold)\n\t\t.map(l => l.lane)\n\n\tif (underused.length === 0 || overused.length === 0) return notes\n\n\t// Redistribute some notes from overused to underused lanes\n\tconst result = [...notes]\n\tfor (let i = 0; i < result.length && underused.length > 0; i++) {\n\t\tconst note = result[i]\n\t\tif (overused.includes(note.lane)) {\n\t\t\t// Don't move if it would create same-lane conflict at same beat\n\t\t\tconst sameBeatNotes = result.filter(\n\t\t\t\tn => Math.abs(n.beat - note.beat) < 0.01 && n !== note\n\t\t\t)\n\t\t\tconst sameBeatLanes = new Set(sameBeatNotes.map(n => n.lane))\n\n\t\t\tconst targetLane = underused.find(l => !sameBeatLanes.has(l)) as\n\t\t\t\t| (0 | 1 | 2 | 3)\n\t\t\t\t| undefined\n\t\t\tif (targetLane !== undefined) {\n\t\t\t\tresult[i] = { ...note, lane: targetLane }\n\t\t\t\tlaneCounts[note.lane]--\n\t\t\t\tlaneCounts[targetLane]++\n\n\t\t\t\t// Update underused/overused lists\n\t\t\t\tif (laneCounts[targetLane] >= avgCount - threshold) {\n\t\t\t\t\tunderused.splice(underused.indexOf(targetLane), 1)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result\n}\n","import * as Tone from 'tone'\nimport { LANE_PITCHES } from '../constants'\nimport { transposeOctave } from './laneAssigner'\n\nclass AudioManager {\n\tprivate synth: Tone.PolySynth | null = null\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Background beat synths\n\tprivate drumSynth: Tone.MembraneSynth | null = null\n\tprivate hiHatSynth: Tone.MetalSynth | null = null\n\tprivate snareSynth: Tone.NoiseSynth | null = null\n\tprivate bassLoop: Tone.Loop | null = null\n\tprivate hiHatLoop: Tone.Loop | null = null\n\tprivate snareLoop: Tone.Loop | null = null\n\tprivate isPlaying = false\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\ttry {\n\t\t\t// Start Tone.js audio context\n\t\t\tawait Tone.start()\n\n\t\t\t// Create a polyphonic synth with nice settings\n\t\t\tthis.synth = new Tone.PolySynth(Tone.Synth, {\n\t\t\t\toscillator: {\n\t\t\t\t\ttype: 'sine',\n\t\t\t\t},\n\t\t\t\tenvelope: {\n\t\t\t\t\tattack: 0.01,\n\t\t\t\t\tdecay: 0.2,\n\t\t\t\t\tsustain: 0.3,\n\t\t\t\t\trelease: 0.5,\n\t\t\t\t},\n\t\t\t}).toDestination()\n\n\t\t\t// Set volume\n\t\t\tthis.synth.volume.value = -10\n\n\t\t\t// Initialize drum synths for background beat\n\t\t\tthis.initDrums()\n\n\t\t\tthis.initialized = true\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to initialize audio:', error)\n\t\t}\n\t}\n\n\tprivate initDrums(): void {\n\t\t// Kick drum\n\t\tthis.drumSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.4, sustain: 0.01, release: 1.4 },\n\t\t}).toDestination()\n\t\tthis.drumSynth.volume.value = -8\n\n\t\t// Hi-hat\n\t\tthis.hiHatSynth = new Tone.MetalSynth({\n\t\t\tenvelope: { attack: 0.001, decay: 0.1, release: 0.01 },\n\t\t\tharmonicity: 5.1,\n\t\t\tmodulationIndex: 32,\n\t\t\tresonance: 4000,\n\t\t\toctaves: 1.5,\n\t\t}).toDestination()\n\t\tthis.hiHatSynth.volume.value = -20\n\n\t\t// Snare drum (noise-based)\n\t\tthis.snareSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'white' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.2, sustain: 0, release: 0.1 },\n\t\t}).toDestination()\n\t\tthis.snareSynth.volume.value = -12\n\t}\n\n\tstartBackgroundBeat(\n\t\tbpm: number,\n\t\ttrack: 'chill' | 'default' | 'upbeat',\n\t\tcycle: number = 0\n\t): void {\n\t\tif (this.isPlaying || this.muted) return\n\n\t\tTone.Transport.bpm.value = bpm\n\n\t\tif (track === 'chill') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Minimal pattern - kick on every beat, hi-hat sparse\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '2n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Lo-fi/Hip-hop - kick on 1, snare on 3, offbeat hi-hat\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '1n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '1n').start('2n')\n\n\t\t\t\t// Offbeat hi-hat (on the \"and\" of each beat)\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start('8n')\n\t\t\t}\n\t\t} else if (track === 'default') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Standard rock beat - kick 1&3, snare 2&4, hi-hat quarter notes\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Four-on-the-floor (disco/house) - kick every beat, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t} else {\n\t\t\t// Upbeat\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Driving rock - kick 1&3, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Double-time punk - kick every beat, snare every offbeat, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '4n').start('8n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t}\n\n\t\tTone.Transport.start()\n\t\tthis.isPlaying = true\n\t}\n\n\tstopBackgroundBeat(): void {\n\t\tTone.Transport.stop()\n\t\tthis.bassLoop?.stop()\n\t\tthis.hiHatLoop?.stop()\n\t\tthis.snareLoop?.stop()\n\t\tthis.bassLoop?.dispose()\n\t\tthis.hiHatLoop?.dispose()\n\t\tthis.snareLoop?.dispose()\n\t\tthis.bassLoop = null\n\t\tthis.hiHatLoop = null\n\t\tthis.snareLoop = null\n\t\tthis.isPlaying = false\n\t}\n\n\tpauseBackgroundBeat(): void {\n\t\tif (this.isPlaying) {\n\t\t\tTone.Transport.pause()\n\t\t}\n\t}\n\n\tresumeBackgroundBeat(): void {\n\t\tif (this.isPlaying && !this.muted) {\n\t\t\tTone.Transport.start()\n\t\t}\n\t}\n\n\tupdateBpm(bpm: number): void {\n\t\tTone.Transport.bpm.value = bpm\n\t}\n\n\tplayNote(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\tconst pitch = LANE_PITCHES[lane]\n\t\tif (pitch) {\n\t\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t\t}\n\t}\n\n\tplayPerfect(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the note with a sparkle effect (higher octave accent)\n\t\tconst basePitch = LANE_PITCHES[lane]\n\t\tif (basePitch) {\n\t\t\tthis.synth.triggerAttackRelease(basePitch, '8n')\n\t\t\t// Add sparkle with higher octave\n\t\t\tconst highPitch = basePitch.replace('4', '6')\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t\t}\n\t\t\t}, 50)\n\t\t}\n\t}\n\n\t// New melodic note methods for the Song System\n\n\t/**\n\t * Play a specific pitch for a melodic note hit\n\t */\n\tplayMelodicNote(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t}\n\n\t/**\n\t * Play a melodic note with sparkle effect for perfect hits\n\t */\n\tplayMelodicNotePerfect(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the base note\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\n\t\t// Add sparkle with higher octave\n\t\tconst highPitch = transposeOctave(pitch, 2)\n\t\tsetTimeout(() => {\n\t\t\tif (this.synth && !this.muted) {\n\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t}\n\t\t}, 50)\n\t}\n\n\tplayMiss(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play a dissonant sound for miss\n\t\tthis.synth.triggerAttackRelease(['C3', 'Db3'], '16n', undefined, 0.3)\n\t}\n\n\tplayCombo(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play ascending arpeggio for combo milestone\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(note, '16n', undefined, 0.4)\n\t\t\t\t}\n\t\t\t}, i * 50)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t\tif (muted) {\n\t\t\tthis.pauseBackgroundBeat()\n\t\t} else if (this.isPlaying) {\n\t\t\tthis.resumeBackgroundBeat()\n\t\t}\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tthis.stopBackgroundBeat()\n\t\tif (this.synth) {\n\t\t\tthis.synth.dispose()\n\t\t\tthis.synth = null\n\t\t}\n\t\tif (this.drumSynth) {\n\t\t\tthis.drumSynth.dispose()\n\t\t\tthis.drumSynth = null\n\t\t}\n\t\tif (this.hiHatSynth) {\n\t\t\tthis.hiHatSynth.dispose()\n\t\t\tthis.hiHatSynth = null\n\t\t}\n\t\tif (this.snareSynth) {\n\t\t\tthis.snareSynth.dispose()\n\t\t\tthis.snareSynth = null\n\t\t}\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance\nexport const audioManager = new AudioManager()\n","// Twinkle Twinkle Little Star - Easy difficulty song\n// A recognizable classic melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\n// The melody: C C G G A A G | F F E E D D C\n// With lane assignments optimized for playability\n\nexport const twinkleStar: Song = {\n\tmetadata: {\n\t\tid: 'twinkle-star',\n\t\ttitle: 'Twinkle Twinkle',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 90,\n\t\tduration: 32, // seconds\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 3 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\t\t// Rest on beat 7\n\n\t\t// Phrase 2: \"little star\" - F F E E D D C\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t// Rest on beat 15\n\n\t\t// Phrase 3: \"How I wonder\" - G G F F E E D\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 23\n\n\t\t// Phrase 4: \"what you are\" - G G F F E E D\n\t\t{ beat: 24, pitch: 'G4', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 27, pitch: 'F4', lane: 1 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 31\n\n\t\t// Verse 2 (repeat of verse 1 for longer gameplay)\n\t\t// Phrase 5: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t\t{ beat: 33, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 3 },\n\t\t{ beat: 37, pitch: 'A4', lane: 3 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 6: \"little star\" - F F E E D D C\n\t\t{ beat: 40, pitch: 'F4', lane: 1 },\n\t\t{ beat: 41, pitch: 'F4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2, // Play twice\n\t},\n}\n","// Mary Had a Little Lamb - Very Easy difficulty\n// A simple nursery rhyme perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const maryHadALittleLamb: Song = {\n\tmetadata: {\n\t\tid: 'mary-had-a-little-lamb',\n\t\ttitle: 'Mary Had a Little Lamb',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 85,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 2: \"little lamb, little lamb\" - D D D, E G G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 3: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'D4', lane: 0 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 4: \"fleece was white as snow\" - D D E D C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat for length\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 35, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'D4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Hot Cross Buns - Very Easy difficulty\n// One of the simplest melodies, great for absolute beginners\n\nimport type { Song } from './songTypes'\n\nexport const hotCrossBuns: Song = {\n\tmetadata: {\n\t\tid: 'hot-cross-buns',\n\t\ttitle: 'Hot Cross Buns',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 80,\n\t\tduration: 28,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Hot cross buns\" - E D C\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 2: \"Hot cross buns\" - E D C\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 3: \"One a penny\" - C C C C\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 4: \"Two a penny\" - D D D D\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 5: \"Hot cross buns\" - E D C\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'C4', lane: 0 },\n\t\t{ beat: 50, pitch: 'C4', lane: 0 },\n\t\t{ beat: 51, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'D4', lane: 0 },\n\t\t{ beat: 54, pitch: 'D4', lane: 0 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 56, pitch: 'E4', lane: 1 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Jingle Bells (Simple Version) - Very Easy difficulty\n// The famous chorus melody simplified for beginners\n\nimport type { Song } from './songTypes'\n\nexport const jingleBells: Song = {\n\tmetadata: {\n\t\tid: 'jingle-bells',\n\t\ttitle: 'Jingle Bells',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 95,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"Jingle bells, jingle bells\" - E E E, E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// \"Jingle all the way\" - E G C D E\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\n\t\t// \"Oh what fun it is to ride\" - F F F F F E E\n\t\t{ beat: 16, pitch: 'F4', lane: 2 },\n\t\t{ beat: 17, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 2 },\n\t\t{ beat: 20, pitch: 'F4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// \"In a one horse open sleigh\" - E D D E D G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'G4', lane: 2 },\n\n\t\t// Repeat chorus\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 48, pitch: 'F4', lane: 2 },\n\t\t{ beat: 49, pitch: 'F4', lane: 2 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 2 },\n\t\t{ beat: 52, pitch: 'F4', lane: 2 },\n\t\t{ beat: 53, pitch: 'E4', lane: 1 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 56, pitch: 'G4', lane: 2 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\t\t{ beat: 58, pitch: 'F4', lane: 2 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Row Row Row Your Boat - Very Easy difficulty\n// A simple round melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const rowRowRow: Song = {\n\tmetadata: {\n\t\tid: 'row-row-row',\n\t\ttitle: 'Row Row Row Your Boat',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 88,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Row, row, row your boat\" - C C C D E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\n\t\t// \"Gently down the stream\" - E D E F G\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'G4', lane: 2 },\n\n\t\t// \"Merrily merrily merrily merrily\" - C C C G G G E E E C C C\n\t\t{ beat: 12, pitch: 'C5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\n\t\t// \"Life is but a dream\" - G F E D C\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'C4', lane: 0 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'D4', lane: 0 },\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41.5, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 42, pitch: 'G4', lane: 2 },\n\t\t{ beat: 43, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Ode to Joy by Ludwig van Beethoven - Medium difficulty\n// A recognizable classical melody with moderate complexity\n\nimport type { Song } from './songTypes'\n\n// Main theme: E E F G | G F E D | C C D E | E D D\n// Second phrase: E E F G | G F E D | C C D E | D C C\n\nexport const odeToJoy: Song = {\n\tmetadata: {\n\t\tid: 'ode-to-joy',\n\t\ttitle: 'Ode to Joy',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'easy',\n\t\tbpm: 110,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// Phrase 1: E E F G | G F E D\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 3 },\n\t\t{ beat: 5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 2: C C D E | E D D\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 3: E E F G | G F E D (repeat)\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'G4', lane: 3 },\n\t\t{ beat: 20, pitch: 'G4', lane: 3 },\n\t\t{ beat: 21, pitch: 'F4', lane: 2 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 4: C C D E | D C C (ending variation)\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'C4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\n\t\t// Bridge section (B section) - D D E C | D E F E C | D E F E D | C D G\n\t\t{ beat: 32, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'C4', lane: 0 },\n\t\t{ beat: 36, pitch: 'D4', lane: 0 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G3', lane: 0 },\n\n\t\t// Return to main theme\n\t\t// Phrase 5: E E F G | G F E D\n\t\t{ beat: 48, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'G4', lane: 3 },\n\t\t{ beat: 52, pitch: 'G4', lane: 3 },\n\t\t{ beat: 53, pitch: 'F4', lane: 2 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase: C C D E | D C C (with flourish)\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t\t{ beat: 57, pitch: 'C4', lane: 0 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 62, pitch: 'C4', lane: 0 },\n\t\t// Final sustained note\n\t\t{ beat: 63, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1, // Play once (already long enough)\n\t},\n}\n","// When the Saints Go Marching In - Easy difficulty\n// A classic gospel song with a steady marching rhythm\n\nimport type { Song } from './songTypes'\n\nexport const whenTheSaints: Song = {\n\tmetadata: {\n\t\tid: 'when-the-saints',\n\t\ttitle: 'When the Saints',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"Oh when the saints\" - C E F G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\n\t\t// \"go marching in\" - C E F G\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\n\t\t// \"Oh when the saints go marching in\" - C E F G E C E D\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\n\t\t// \"Lord I want to be in that number\" - E E D C C E G G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C4', lane: 0 },\n\t\t{ beat: 29, pitch: 'C4', lane: 0 },\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'G4', lane: 2 },\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\n\t\t// \"When the saints go marching in\" - G F E F G E C D C\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t// Second verse\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 1 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 54, pitch: 'C4', lane: 0 },\n\t\t{ beat: 55, pitch: 'E4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F4', lane: 1 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t\t{ beat: 61, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'F4', lane: 1 },\n\t\t{ beat: 63, pitch: 'G4', lane: 2 },\n\t\t{ beat: 65, pitch: 'E4', lane: 1 },\n\t\t{ beat: 66, pitch: 'C4', lane: 0 },\n\t\t{ beat: 67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 68, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 72, pitch: 'E4', lane: 1 },\n\t\t{ beat: 73, pitch: 'E4', lane: 1 },\n\t\t{ beat: 74, pitch: 'D4', lane: 0 },\n\t\t{ beat: 75, pitch: 'C4', lane: 0 },\n\t\t{ beat: 77, pitch: 'C4', lane: 0 },\n\t\t{ beat: 78, pitch: 'E4', lane: 1 },\n\t\t{ beat: 79, pitch: 'G4', lane: 2 },\n\t\t{ beat: 80, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 84,\n\t\tcount: 1,\n\t},\n}\n","// Oh! Susanna - Easy difficulty\n// A classic American folk song by Stephen Foster\n\nimport type { Song } from './songTypes'\n\nexport const ohSusanna: Song = {\n\tmetadata: {\n\t\tid: 'oh-susanna',\n\t\ttitle: 'Oh! Susanna',\n\t\tartist: 'Stephen Foster',\n\t\tdifficulty: 'easy',\n\t\tbpm: 105,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D C D\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\n\t\t// \"I'm going to Louisiana\" - C D E G G A G E\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\n\t\t// \"my true love for to see\" - C D E E D D C\n\t\t{ beat: 20, pitch: 'C4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\n\t\t// Chorus: \"Oh Susanna\" - A A C C D E E\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\n\t\t// \"don't you cry for me\" - E D C A G\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'A4', lane: 2 },\n\t\t{ beat: 40, pitch: 'G4', lane: 1 },\n\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D D C\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 48.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'E4', lane: 1 },\n\t\t{ beat: 51, pitch: 'D4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// London Bridge Is Falling Down - Easy difficulty\n// A classic English nursery rhyme\n\nimport type { Song } from './songTypes'\n\nexport const londonBridge: Song = {\n\tmetadata: {\n\t\tid: 'london-bridge',\n\t\ttitle: 'London Bridge',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 0, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'F4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\n\t\t// \"Falling down, falling down\" - D E F, E F G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'F4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'F4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'F4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 2 },\n\n\t\t// \"My fair lady\" - D G E C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G4', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F4', lane: 1 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49, pitch: 'A4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 1 },\n\t\t{ beat: 52, pitch: 'E4', lane: 1 },\n\t\t{ beat: 53, pitch: 'F4', lane: 1 },\n\t\t{ beat: 54, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 56, pitch: 'D4', lane: 0 },\n\t\t{ beat: 58, pitch: 'G4', lane: 2 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Happy Birthday - Easy difficulty\n// The most recognized song in the world\n\nimport type { Song } from './songTypes'\n\nexport const happyBirthday: Song = {\n\tmetadata: {\n\t\tid: 'happy-birthday',\n\t\ttitle: 'Happy Birthday',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 95,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Happy birthday to you\" - G G A G C B\n\t\t{ beat: 0, pitch: 'G4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 3, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'B4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - G G A G D C\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\n\t\t// \"Happy birthday dear [name]\" - G G G E C B A\n\t\t{ beat: 12, pitch: 'G4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - F F E C D C\n\t\t{ beat: 18, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Repeat\n\t\t{ beat: 26, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'G4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39, pitch: 'G5', lane: 3 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'C5', lane: 2 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 2 },\n\n\t\t{ beat: 44, pitch: 'F5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 45, pitch: 'E5', lane: 3 },\n\t\t{ beat: 46, pitch: 'C5', lane: 2 },\n\t\t{ beat: 47, pitch: 'D5', lane: 3 },\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 52,\n\t\tcount: 1,\n\t},\n}\n","// Canon in D (Simplified) by Johann Pachelbel - Medium difficulty\n// A gentle, flowing melody to bridge between Ode to Joy and Fr Elise\n\nimport type { Song } from './songTypes'\n\n// Simplified version of the famous Canon melody\n\nexport const canonInD: Song = {\n\tmetadata: {\n\t\tid: 'canon-in-d',\n\t\ttitle: 'Canon in D',\n\t\tartist: 'Pachelbel',\n\t\tdifficulty: 'medium',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Main melodic phrase 1\n\t\t{ beat: 0, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 1, pitch: 'E5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 4, pitch: 'B4', lane: 1 },\n\t\t{ beat: 5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 6, pitch: 'B4', lane: 1 },\n\t\t{ beat: 7, pitch: 'C#5', lane: 1 },\n\n\t\t// Main melodic phrase 2\n\t\t{ beat: 8, pitch: 'D5', lane: 2 },\n\t\t{ beat: 9, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 10, pitch: 'B4', lane: 1 },\n\t\t{ beat: 11, pitch: 'A4', lane: 0 },\n\t\t{ beat: 12, pitch: 'G4', lane: 0 },\n\t\t{ beat: 13, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 14, pitch: 'G4', lane: 0 },\n\t\t{ beat: 15, pitch: 'A4', lane: 0 },\n\n\t\t// Variation with eighth notes\n\t\t{ beat: 16, pitch: 'B4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 17, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 19, pitch: 'G4', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 0 },\n\n\t\t{ beat: 20, pitch: 'E4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 21, pitch: 'G4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 22, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 22.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 23, pitch: 'A4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 1 },\n\n\t\t// Rising phrase\n\t\t{ beat: 24, pitch: 'G4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 25, pitch: 'B4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 0 },\n\t\t{ beat: 26.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 27, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 28, pitch: 'B4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 29, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 2 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'E5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'F#5', lane: 3 },\n\n\t\t// Climax phrase\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\t\t{ beat: 33, pitch: 'E5', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 35, pitch: 'G5', lane: 3 },\n\t\t{ beat: 36, pitch: 'E5', lane: 2 },\n\t\t{ beat: 37, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 38, pitch: 'G5', lane: 3 },\n\t\t{ beat: 39, pitch: 'A5', lane: 3 },\n\n\t\t// Gentle descent\n\t\t{ beat: 40, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 41, pitch: 'E5', lane: 2 },\n\t\t{ beat: 42, pitch: 'D5', lane: 2 },\n\t\t{ beat: 43, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 44, pitch: 'B4', lane: 1 },\n\t\t{ beat: 45, pitch: 'A4', lane: 0 },\n\t\t{ beat: 46, pitch: 'B4', lane: 1 },\n\t\t{ beat: 47, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 50,\n\t\tcount: 1,\n\t},\n}\n","// The Entertainer by Scott Joplin - Medium difficulty\n// A classic ragtime piece with syncopated rhythms\n\nimport type { Song } from './songTypes'\n\n// Famous ragtime melody with characteristic syncopation\n\nexport const entertainer: Song = {\n\tmetadata: {\n\t\tid: 'entertainer',\n\t\ttitle: 'The Entertainer',\n\t\tartist: 'Scott Joplin',\n\t\tdifficulty: 'medium',\n\t\tbpm: 105,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro - the famous opening riff\n\t\t{ beat: 0, pitch: 'D4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme A - syncopated melody\n\t\t{ beat: 8, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\n\t\t// Theme A continued\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 2 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B - contrasting section\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B continued\n\t\t{ beat: 32, pitch: 'A4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 33, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 34, pitch: 'C5', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 1 },\n\n\t\t// Syncopated run\n\t\t{ beat: 38, pitch: 'D4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'D5', lane: 2 },\n\t\t{ beat: 42, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D5', lane: 2 },\n\t\t{ beat: 45, pitch: 'C5', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 49.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 51.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 52.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 53.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 54, pitch: 'E5', lane: 3 },\n\n\t\t// Final phrase\n\t\t{ beat: 56, pitch: 'C5', lane: 2 },\n\t\t{ beat: 56.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 57, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 57.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 58.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 59.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 60.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 61, pitch: 'D5', lane: 2 },\n\t\t{ beat: 62, pitch: 'C5', lane: 2 },\n\n\t\t// Ending flourish\n\t\t{ beat: 64, pitch: 'G4', lane: 0 },\n\t\t{ beat: 64.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 65, pitch: 'B4', lane: 1 },\n\t\t{ beat: 65.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 66, pitch: 'D5', lane: 2 },\n\t\t{ beat: 66.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 67, pitch: 'F5', lane: 3 },\n\t\t{ beat: 68, pitch: 'E5', lane: 3 },\n\t\t{ beat: 69, pitch: 'D5', lane: 2 },\n\t\t{ beat: 70, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 70,\n\t\tcount: 1,\n\t},\n}\n","// Minuet in G Major by J.S. Bach - Medium difficulty\n// A graceful dance piece with elegant phrasing\n\nimport type { Song } from './songTypes'\n\nexport const minuetInG: Song = {\n\tmetadata: {\n\t\tid: 'minuet-in-g',\n\t\ttitle: 'Minuet in G',\n\t\tartist: 'J.S. Bach',\n\t\tdifficulty: 'medium',\n\t\tbpm: 108,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// First phrase\n\t\t{ beat: 0, pitch: 'D5', lane: 2 },\n\t\t{ beat: 1, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'B4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G4', lane: 1 },\n\n\t\t// Second phrase\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'C5', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 8, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 9, pitch: 'G5', lane: 3 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G4', lane: 1 },\n\n\t\t// Third phrase\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 1 },\n\n\t\t// Fourth phrase\n\t\t{ beat: 18, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 20, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 21, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Second half - repeat with variation\n\t\t{ beat: 24, pitch: 'D5', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'G5', lane: 3 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'D5', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'B4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'A4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'G4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 44, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Turkish March (Rondo Alla Turca) by Mozart - Medium difficulty\n// A lively and recognizable classical piece\n\nimport type { Song } from './songTypes'\n\nexport const turkishMarch: Song = {\n\tmetadata: {\n\t\tid: 'turkish-march',\n\t\ttitle: 'Turkish March',\n\t\tartist: 'Mozart',\n\t\tdifficulty: 'medium',\n\t\tbpm: 115,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme A\n\t\t{ beat: 0, pitch: 'B4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\n\t\t// Theme continuation\n\t\t{ beat: 8, pitch: 'F5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\n\t\t// Theme repeat\n\t\t{ beat: 14, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18, pitch: 'B5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - more rhythmic\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 28, pitch: 'D5', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 30, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\n\t\t// Return to A\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 39.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 42, pitch: 'F5', lane: 3 },\n\t\t{ beat: 42.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 43, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 43.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 44, pitch: 'B5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 45, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 45.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 46, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Greensleeves - Medium difficulty\n// A traditional English folk song with a beautiful flowing melody\n\nimport type { Song } from './songTypes'\n\nexport const greensleeves: Song = {\n\tmetadata: {\n\t\tid: 'greensleeves',\n\t\ttitle: 'Greensleeves',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'medium',\n\t\tbpm: 95,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// First phrase: \"Alas my love you do me wrong\"\n\t\t{ beat: 0, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'C5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3, pitch: 'F5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"To cast me off discourteously\"\n\t\t{ beat: 8, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 0 },\n\t\t{ beat: 14, pitch: 'A4', lane: 1 },\n\n\t\t// \"For I have loved you\"\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"oh so long\"\n\t\t{ beat: 24, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 1 },\n\n\t\t// Chorus: \"Greensleeves was all my joy\"\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 34, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'G4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 37, pitch: 'B4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"Greensleeves was my delight\"\n\t\t{ beat: 38, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 40, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 0 },\n\t\t{ beat: 44, pitch: 'G5', lane: 3 },\n\n\t\t// \"Greensleeves was my heart of gold\"\n\t\t{ beat: 46, pitch: 'G5', lane: 3 },\n\t\t{ beat: 46.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 47, pitch: 'E5', lane: 3 },\n\t\t{ beat: 47.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'B4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 1 },\n\t\t{ beat: 50.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"And who but my Lady Greensleeves\"\n\t\t{ beat: 52, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 53, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 53.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 58,\n\t\tcount: 1,\n\t},\n}\n","// Fr Elise (Opening Theme) by Ludwig van Beethoven - Medium difficulty\n// The iconic opening melody, serves as a bridge to harder songs\n\nimport type { Song } from './songTypes'\n\n// Famous opening: E D# E D# E B D C A (repeated with variations)\n\nexport const furElise: Song = {\n\tmetadata: {\n\t\tid: 'fur-elise',\n\t\ttitle: 'Fr Elise',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 100,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme - first statement\n\t\t{ beat: 0, pitch: 'E5', lane: 3 },\n\t\t{ beat: 0.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 1, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'E5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 3, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution phrase\n\t\t{ beat: 5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'A4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme - second statement\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13, pitch: 'B4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution with ending\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - contrasting melody\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 24, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 27.5, pitch: 'F4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 1 },\n\n\t\t// Return to main theme\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 36, pitch: 'D5', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'A4', lane: 1 },\n\n\t\t// Final resolution\n\t\t{ beat: 38, pitch: 'C4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 40.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Moonlight Sonata (1st Movement Theme) by Beethoven - Hard difficulty\n// The haunting opening theme with flowing triplet patterns\n\nimport type { Song } from './songTypes'\n\nexport const moonlightSonata: Song = {\n\tmetadata: {\n\t\tid: 'moonlight-sonata',\n\t\ttitle: 'Moonlight Sonata',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 60,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening triplet arpeggios with melody\n\t\t{ beat: 0, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 0.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 0.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 1.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 1.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 2.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 2.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 4, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 4.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 4.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 5.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 5.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 6.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 8.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A3', lane: 0 },\n\t\t{ beat: 9.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 9.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A3', lane: 0 },\n\t\t{ beat: 10.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 10.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'F#4', lane: 2 },\n\n\t\t{ beat: 12, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 12.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 12.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 13.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 13.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'D#4', lane: 1 },\n\n\t\t// Rising melodic line\n\t\t{ beat: 16, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 16.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 16.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19, pitch: 'B4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'A3', lane: 0 },\n\t\t{ beat: 20.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 20.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'B4', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 3 },\n\n\t\t// Descending line\n\t\t{ beat: 24, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 24.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 24.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'B3', lane: 0 },\n\n\t\t// Repeat with variation\n\t\t{ beat: 28, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 28.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 28.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 29.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 29.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 31, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'A3', lane: 0 },\n\t\t{ beat: 32.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 32.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D#4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 36, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 36.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 36.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 37.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 37.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C#4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'none',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 40,\n\t\tcount: 1,\n\t},\n}\n","// Hungarian Dance No. 5 by Brahms - Hard difficulty\n// A fiery and passionate dance with dramatic tempo changes\n\nimport type { Song } from './songTypes'\n\nexport const hungarianDance: Song = {\n\tmetadata: {\n\t\tid: 'hungarian-dance',\n\t\ttitle: 'Hungarian Dance No. 5',\n\t\tartist: 'Brahms',\n\t\tdifficulty: 'hard',\n\t\tbpm: 120,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - dramatic\n\t\t{ beat: 0, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 4, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'D4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 12, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Fast running passage\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 16.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 17, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 18.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F#4', lane: 1 },\n\n\t\t// Repeat with accents\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23, pitch: 'C#5', lane: 2 },\n\n\t\t// B section - lyrical\n\t\t{ beat: 24, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 28, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31, pitch: 'A4', lane: 2 },\n\n\t\t// Climax passage\n\t\t{ beat: 32, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 36, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 37, pitch: 'A4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'D4', lane: 0 },\n\n\t\t// Final cadence - fast\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 40.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 41, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 41.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// In the Hall of the Mountain King by Grieg - Hard difficulty\n// Starts slow and builds to a frantic climax\n\nimport type { Song } from './songTypes'\n\nexport const mountainKing: Song = {\n\tmetadata: {\n\t\tid: 'mountain-king',\n\t\ttitle: 'Hall of Mountain King',\n\t\tartist: 'Grieg',\n\t\tdifficulty: 'hard',\n\t\tbpm: 110,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - creeping\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\n\t\t// Theme repeat\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 15, pitch: 'A3', lane: 0 },\n\n\t\t// Building section - faster feel\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E5', lane: 3 },\n\n\t\t// More intensity\n\t\t{ beat: 24, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.67, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.67, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.33, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 26.67, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 27, pitch: 'F5', lane: 3 },\n\t\t{ beat: 27.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.67, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\n\t\t// Climax - fastest\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.75, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 34, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37.25, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 37.75, pitch: 'C#5', lane: 2 },\n\n\t\t// Final rush\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 38.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 39, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.75, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40, pitch: 'C4', lane: 0 },\n\t\t{ beat: 40.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 41, pitch: 'A3', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Habanera from Carmen by Bizet - Hard difficulty\n// A seductive and rhythmically complex aria\n\nimport type { Song } from './songTypes'\n\nexport const carmenHabanera: Song = {\n\tmetadata: {\n\t\tid: 'carmen-habanera',\n\t\ttitle: 'Habanera (Carmen)',\n\t\tartist: 'Bizet',\n\t\tdifficulty: 'hard',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening descending chromatic line\n\t\t{ beat: 0, pitch: 'D5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\n\t\t// Main theme with habanera rhythm\n\t\t{ beat: 16, pitch: 'D4', lane: 0 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 18, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E4', lane: 1 },\n\n\t\t// Theme continuation\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 29.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase - higher\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 38, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\n\t\t// Descending again\n\t\t{ beat: 40, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 43, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 44, pitch: 'A4', lane: 2 },\n\t\t{ beat: 44.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 45, pitch: 'A4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 46, pitch: 'A4', lane: 2 },\n\n\t\t// Return to chromatic descent\n\t\t{ beat: 48, pitch: 'D5', lane: 3 },\n\t\t{ beat: 49, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 50, pitch: 'C5', lane: 2 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 53, pitch: 'A4', lane: 2 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'G4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 57, pitch: 'F4', lane: 1 },\n\t\t{ beat: 58, pitch: 'E4', lane: 1 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase with ornamentation\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 61, pitch: 'F4', lane: 1 },\n\t\t{ beat: 61.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'D4', lane: 0 },\n\t\t{ beat: 62.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 63, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 66,\n\t\tcount: 1,\n\t},\n}\n","// Electronic Beat - Hard difficulty\n// An original synth melody with faster patterns and wider pitch range\n\nimport type { Song } from './songTypes'\n\n// A modern electronic melody with syncopation and faster note sequences\n\nexport const electronicBeat: Song = {\n\tmetadata: {\n\t\tid: 'electronic-beat',\n\t\ttitle: 'Neon Rush',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 128,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Intro riff - ascending synth line\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\n\t\t// Drop pattern - syncopated\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 7, pitch: 'G4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\n\t\t// Build-up section - rapid notes\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\n\t\t// Peak - chord hits\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 3 },\n\n\t\t// Verse section - bouncy melody\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 23, pitch: 'G4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'E4', lane: 1 },\n\n\t\t// Bridge - wider intervals\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'C5', lane: 3 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'B4', lane: 3 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31, pitch: 'F4', lane: 1 },\n\n\t\t// Climax - fast descending runs\n\t\t{ beat: 32, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 33.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33.75, pitch: 'C4', lane: 0 },\n\n\t\t// Ascending response\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'C5', lane: 3 },\n\n\t\t// Final drop hits\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'C5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 40, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat main hook for gameplay length\n\t\t// Second verse\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 46, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 47, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 50, pitch: 'C5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'E4', lane: 1 },\n\n\t\t// Final flourish\n\t\t{ beat: 52, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 52.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 52.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 53, pitch: 'E5', lane: 3 },\n\t\t{ beat: 54, pitch: 'C5', lane: 3 },\n\t\t{ beat: 55, pitch: 'G4', lane: 2 },\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 16,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// Neon Pulse - Very Hard difficulty\n// An intense electronic track with rapid synth patterns\n\nimport type { Song } from './songTypes'\n\nexport const neonPulse: Song = {\n\tmetadata: {\n\t\tid: 'neon-pulse',\n\t\ttitle: 'Neon Pulse',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 135,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro pulse\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'G4', lane: 2 },\n\n\t\t// Build\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'C5', lane: 3 },\n\n\t\t// Drop - fast arpeggios\n\t\t{ beat: 8, pitch: 'E4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 8.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'E4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'C5', lane: 2 },\n\n\t\t// Synth stabs\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 15, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'B4', lane: 2 },\n\n\t\t// Melody section\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'E5', lane: 3 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'E4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'C6', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.75, pitch: 'C5', lane: 2 },\n\n\t\t// Final climb\n\t\t{ beat: 28, pitch: 'E4', lane: 0 },\n\t\t{ beat: 28.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 28.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C6', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'A5', lane: 3 },\n\n\t\t// Outro hits\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E4', lane: 0 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 36,\n\t\tcount: 1,\n\t},\n}\n","// Digital Storm - Very Hard difficulty\n// A chaotic electronic track with unpredictable patterns\n\nimport type { Song } from './songTypes'\n\nexport const digitalStorm: Song = {\n\tmetadata: {\n\t\tid: 'digital-storm',\n\t\ttitle: 'Digital Storm',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 140,\n\t\tduration: 42,\n\t},\n\tnotes: [\n\t\t// Glitchy intro\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'G5', lane: 3 },\n\n\t\t// Storm building\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 6.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'F4', lane: 1 },\n\t\t{ beat: 7.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'F5', lane: 3 },\n\n\t\t// Full storm - chaos\n\t\t{ beat: 8, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Descending chaos\n\t\t{ beat: 12, pitch: 'C6', lane: 3 },\n\t\t{ beat: 12.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 12.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 13, pitch: 'F5', lane: 3 },\n\t\t{ beat: 13.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 15.75, pitch: 'D4', lane: 0 },\n\n\t\t// Ascending storm\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 18, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'C6', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'B5', lane: 3 },\n\n\t\t// Stutter section\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 22, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'A5', lane: 3 },\n\n\t\t// Final wave\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 25.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27.75, pitch: 'A4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\t\t{ beat: 31, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Cyber Chase - Very Hard difficulty\n// A high-speed electronic pursuit theme\n\nimport type { Song } from './songTypes'\n\nexport const cyberChase: Song = {\n\tmetadata: {\n\t\tid: 'cyber-chase',\n\t\ttitle: 'Cyber Chase',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 145,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Urgent opening\n\t\t{ beat: 0, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 3.75, pitch: 'C5', lane: 3 },\n\n\t\t// Chase begins\n\t\t{ beat: 4, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A3', lane: 0 },\n\t\t{ beat: 5.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'F#4', lane: 1 },\n\n\t\t// Intensity increase\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Escape sequence\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13, pitch: 'B4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'E4', lane: 1 },\n\n\t\t// Counter attack\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 19, pitch: 'B4', lane: 2 },\n\t\t{ beat: 19.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 1 },\n\n\t\t{ beat: 20, pitch: 'C5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.75, pitch: 'B4', lane: 2 },\n\n\t\t// Final pursuit\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.75, pitch: 'E5', lane: 3 },\n\n\t\t// Climax\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'F#4', lane: 1 },\n\n\t\t// End hit\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 4,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Synth Wave - Very Hard difficulty\n// A retro-futuristic synthwave track with complex patterns\n\nimport type { Song } from './songTypes'\n\nexport const synthWave: Song = {\n\tmetadata: {\n\t\tid: 'synth-wave',\n\t\ttitle: 'Synth Wave',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 130,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Retro intro arpeggio\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'C5', lane: 3 },\n\t\t{ beat: 1.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'C4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G3', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'B3', lane: 0 },\n\n\t\t// Bass with melody\n\t\t{ beat: 4, pitch: 'F3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'A3', lane: 0 },\n\t\t{ beat: 6, pitch: 'E3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'G#3', lane: 0 },\n\n\t\t// Main synth lead\n\t\t{ beat: 8, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.75, pitch: 'G4', lane: 2 },\n\n\t\t// Dual arpeggio section\n\t\t{ beat: 16, pitch: 'A3', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'G3', lane: 0 },\n\t\t{ beat: 17.25, pitch: 'D4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'F3', lane: 0 },\n\t\t{ beat: 18.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E3', lane: 0 },\n\t\t{ beat: 19.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19.75, pitch: 'B4', lane: 2 },\n\n\t\t// High energy section\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 23.75, pitch: 'A4', lane: 2 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'C5', lane: 3 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'C4', lane: 0 },\n\n\t\t// Build up\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'G4', lane: 2 },\n\n\t\t// Final chorus\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.75, pitch: 'D4', lane: 1 },\n\n\t\t// Ending\n\t\t{ beat: 36, pitch: 'A4', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'A5', lane: 3 },\n\t\t{ beat: 38, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 38,\n\t\tcount: 1,\n\t},\n}\n","// Song Registry - Manages song loading and progression\n\nimport type { Song } from './songTypes'\n\n// Very Easy Songs\nimport { twinkleStar } from './twinkle-star'\nimport { maryHadALittleLamb } from './mary-had-a-little-lamb'\nimport { hotCrossBuns } from './hot-cross-buns'\nimport { jingleBells } from './jingle-bells'\nimport { rowRowRow } from './row-row-row'\n\n// Easy Songs\nimport { odeToJoy } from './ode-to-joy'\nimport { whenTheSaints } from './when-the-saints'\nimport { ohSusanna } from './oh-susanna'\nimport { londonBridge } from './london-bridge'\nimport { happyBirthday } from './happy-birthday'\n\n// Medium Songs\nimport { canonInD } from './canon-in-d'\nimport { entertainer } from './entertainer'\nimport { minuetInG } from './minuet-in-g'\nimport { turkishMarch } from './turkish-march'\nimport { greensleeves } from './greensleeves'\n\n// Hard Songs\nimport { furElise } from './fur-elise'\nimport { moonlightSonata } from './moonlight-sonata'\nimport { hungarianDance } from './hungarian-dance'\nimport { mountainKing } from './mountain-king'\nimport { carmenHabanera } from './carmen-habanera'\n\n// Very Hard Songs\nimport { electronicBeat } from './electronic-beat'\nimport { neonPulse } from './neon-pulse'\nimport { digitalStorm } from './digital-storm'\nimport { cyberChase } from './cyber-chase'\nimport { synthWave } from './synth-wave'\n\n// 5-tier difficulty system\nexport type Difficulty = 'very-easy' | 'easy' | 'medium' | 'hard' | 'very-hard'\n\n// Ordered difficulty levels for progression\nconst DIFFICULTIES: Difficulty[] = [\n\t'very-easy',\n\t'easy',\n\t'medium',\n\t'hard',\n\t'very-hard',\n]\n\n// All available songs (25 total - 5 per difficulty)\nexport const songLibrary: Song[] = [\n\t// Very Easy (5)\n\ttwinkleStar,\n\tmaryHadALittleLamb,\n\thotCrossBuns,\n\tjingleBells,\n\trowRowRow,\n\t// Easy (5)\n\todeToJoy,\n\twhenTheSaints,\n\tohSusanna,\n\tlondonBridge,\n\thappyBirthday,\n\t// Medium (5)\n\tcanonInD,\n\tentertainer,\n\tminuetInG,\n\tturkishMarch,\n\tgreensleeves,\n\t// Hard (5)\n\tfurElise,\n\tmoonlightSonata,\n\thungarianDance,\n\tmountainKing,\n\tcarmenHabanera,\n\t// Very Hard (5)\n\telectronicBeat,\n\tneonPulse,\n\tdigitalStorm,\n\tcyberChase,\n\tsynthWave,\n]\n\n// Songs organized by 5-tier difficulty (5 songs each)\nexport const songsByDifficulty: Record<Difficulty, Song[]> = {\n\t'very-easy': [\n\t\ttwinkleStar,\n\t\tmaryHadALittleLamb,\n\t\thotCrossBuns,\n\t\tjingleBells,\n\t\trowRowRow,\n\t],\n\teasy: [odeToJoy, whenTheSaints, ohSusanna, londonBridge, happyBirthday],\n\tmedium: [canonInD, entertainer, minuetInG, turkishMarch, greensleeves],\n\thard: [\n\t\tfurElise,\n\t\tmoonlightSonata,\n\t\thungarianDance,\n\t\tmountainKing,\n\t\tcarmenHabanera,\n\t],\n\t'very-hard': [electronicBeat, neonPulse, digitalStorm, cyberChase, synthWave],\n}\n\n// Get song for a specific level (auto-progression with random selection)\n// Level 1 = very-easy, Level 2 = easy, Level 3 = medium, Level 4 = hard, Level 5 = very-hard\n// Level 6+ = cycle repeats with speed increase\nexport function getSongForLevel(level: number): {\n\tsong: Song\n\tcycle: number\n\tspeedMultiplier: number\n\tdifficulty: Difficulty\n} {\n\t// Calculate which cycle we're on (5 levels per cycle)\n\tconst cycle = Math.floor((level - 1) / 5)\n\n\t// Calculate difficulty index (0-4) within current cycle\n\tconst difficultyIndex = (level - 1) % 5\n\tconst difficulty = DIFFICULTIES[difficultyIndex]\n\n\t// Get songs for this difficulty and pick one randomly\n\tconst songsInTier = songsByDifficulty[difficulty]\n\tconst randomIndex = Math.floor(Math.random() * songsInTier.length)\n\tconst song = songsInTier[randomIndex]\n\n\t// Speed multiplier increases each cycle\n\t// Cycle 0: 1.0x, Cycle 1: 1.1x, Cycle 2: 1.2x, etc.\n\tconst speedMultiplier = 1.0 + cycle * 0.1\n\n\treturn {\n\t\tsong,\n\t\tcycle,\n\t\tspeedMultiplier,\n\t\tdifficulty,\n\t}\n}\n\n// Get song by ID\nexport function getSongById(id: string): Song | undefined {\n\treturn songLibrary.find(s => s.metadata.id === id)\n}\n\n// Get all songs\nexport function getAllSongs(): Song[] {\n\treturn songLibrary\n}\n\n// Get song metadata list (for UI display)\nexport function getSongList(): Array<{\n\tid: string\n\ttitle: string\n\tartist: string\n\tdifficulty: Difficulty\n}> {\n\treturn songLibrary.map(s => ({\n\t\tid: s.metadata.id,\n\t\ttitle: s.metadata.title,\n\t\tartist: s.metadata.artist,\n\t\tdifficulty: s.metadata.difficulty,\n\t}))\n}\n\n// Re-export types\nexport type { Song, MelodicNote, SongMetadata } from './songTypes'\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport type { RhythmHighwayProps, Note, HitEffect } from './types'\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tLANE_COUNT,\n\tLANE_WIDTH,\n\tHIT_ZONE_Y,\n\tHIT_ZONE_HEIGHT,\n\tNOTE_HEIGHT,\n\tNOTE_RADIUS,\n\tPERFECT_WINDOW,\n\tGOOD_WINDOW,\n\tPERFECT_POINTS,\n\tGOOD_POINTS,\n\tMAX_COMBO_MULTIPLIER,\n\tDEFAULT_LANE_COLORS,\n\tLANE_KEYS,\n\tLANE_LABELS,\n\tHIT_EFFECT_DURATION,\n} from './constants'\nimport { audioManager } from './utils/audioManager'\nimport { getSongForLevel, type Song, type Difficulty } from './songs'\nimport type { DrumPattern } from './songs/songTypes'\n\n// Use a web-safe font that looks similar to Orbitron\nconst GAME_FONT_FAMILY = \"'Orbitron', 'Segoe UI', 'Arial Black', sans-serif\"\n\n// Speed by difficulty (pixels per frame at 60fps)\nconst SPEED_BY_DIFFICULTY: Record<string, number> = {\n\t'very-easy': 2,\n\teasy: 3,\n\tmedium: 5,\n\thard: 7,\n\t'very-hard': 9,\n}\n\n// Difficulty display names in Spanish\nconst DIFFICULTY_NAMES: Record<string, string> = {\n\t'very-easy': 'Muy Fcil',\n\teasy: 'Fcil',\n\tmedium: 'Medio',\n\thard: 'Difcil',\n\t'very-hard': 'Muy Difcil',\n}\n\nconst RhythmHighway: React.FC<RhythmHighwayProps> = ({\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#8b5cf6',\n\tinitialLives = 3,\n\tgameTitle = 'RHYTHM HIGHWAY',\n\tbrandLogo,\n}) => {\n\tconst mobile = isMobile()\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\n\t// Game state\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// Level progression\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpTimeout, setLevelUpTimeout] = useState<NodeJS.Timeout | null>(\n\t\tnull\n\t)\n\n\t// Score and progress\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\tconst [combo, setCombo] = useState(0)\n\tconst [maxCombo, setMaxCombo] = useState(0)\n\n\t// Audio state\n\tconst [audioInitialized, setAudioInitialized] = useState(false)\n\tconst [audioMuted, setAudioMuted] = useState(false)\n\n\t// Game refs (to avoid closure issues in animation loop)\n\tconst notesRef = useRef<Note[]>([])\n\tconst hitEffectsRef = useRef<HitEffect[]>([])\n\tconst pointsRef = useRef(0)\n\tconst comboRef = useRef(0)\n\tconst livesRef = useRef(initialLives)\n\tconst lastBeatRef = useRef(-1)\n\tconst gameTimeRef = useRef(0)\n\tconst noteIdCounterRef = useRef(0)\n\tconst levelRef = useRef(1)\n\tconst currentSongRef = useRef<Song | null>(null)\n\tconst songNoteIndexRef = useRef(0) // Track which song note to spawn next\n\tconst songLoopCountRef = useRef(0) // Track song loops for level progression\n\tconst currentConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache current level config to prevent random song changes per frame\n\tconst nextLevelConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache next level config for level-up overlay to ensure announced song matches played song\n\n\t// Get current level config with song data\n\tconst getLevelConfig = useCallback((lvl: number) => {\n\t\tconst { song, cycle, speedMultiplier } = getSongForLevel(lvl)\n\t\tconst difficulty = song.metadata.difficulty\n\t\tconst difficultyName = DIFFICULTY_NAMES[difficulty] || difficulty\n\n\t\treturn {\n\t\t\tsong,\n\t\t\tdifficulty,\n\t\t\ttrack: song.background.drumPattern,\n\t\t\tspeedMultiplier,\n\t\t\tcycle,\n\t\t\tdisplayName:\n\t\t\t\tcycle > 0\n\t\t\t\t\t? `${song.metadata.title} (${difficultyName}) x${cycle + 1}`\n\t\t\t\t\t: `${song.metadata.title} (${difficultyName})`,\n\t\t}\n\t}, [])\n\n\t// Current level configuration (for UI display)\n\tconst currentConfig = getLevelConfig(level)\n\n\t// Lane colors\n\tconst laneColors = DEFAULT_LANE_COLORS\n\n\t// Sync refs with state\n\tuseEffect(() => {\n\t\tpointsRef.current = points\n\t}, [points])\n\n\tuseEffect(() => {\n\t\tcomboRef.current = combo\n\t}, [combo])\n\n\tuseEffect(() => {\n\t\tlivesRef.current = currentLives\n\t}, [currentLives])\n\n\tuseEffect(() => {\n\t\tlevelRef.current = level\n\t}, [level])\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tconst initAudio = async () => {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\t\tinitAudio()\n\n\t\treturn () => {\n\t\t\taudioManager.dispose()\n\t\t}\n\t}, [])\n\n\t// Handle game over\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Handle pause/resume background beat\n\tuseEffect(() => {\n\t\tif (!gameStarted) return\n\t\tif (gamePaused || quitGame) {\n\t\t\taudioManager.pauseBackgroundBeat()\n\t\t} else {\n\t\t\taudioManager.resumeBackgroundBeat()\n\t\t}\n\t}, [gamePaused, quitGame, gameStarted])\n\n\t// Cleanup level up timeout\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (levelUpTimeout) {\n\t\t\t\tclearTimeout(levelUpTimeout)\n\t\t\t}\n\t\t}\n\t}, [levelUpTimeout])\n\n\t// Handle level up\n\tconst triggerLevelUp = useCallback(() => {\n\t\t// Pre-cache the next level config so overlay and actual transition use the same song\n\t\tconst nextConfig = getLevelConfig(levelRef.current + 1)\n\t\tnextLevelConfigRef.current = nextConfig\n\n\t\tsetShowLevelUp(true)\n\t\tsetGamePaused(true)\n\n\t\t// Play level up sound\n\t\tif (audioInitialized) {\n\t\t\taudioManager.playCombo()\n\t\t}\n\n\t\t// Auto-continue after showing level up message\n\t\tconst timeout = setTimeout(() => {\n\t\t\tconst newLevel = levelRef.current + 1\n\t\t\tsetLevel(newLevel)\n\t\t\tsetShowLevelUp(false)\n\t\t\tsetGamePaused(false)\n\t\t\tsongLoopCountRef.current = 0\n\t\t\tsongNoteIndexRef.current = 0\n\n\t\t\t// Clear notes for clean transition\n\t\t\tnotesRef.current = []\n\t\t\tlastBeatRef.current = -1\n\t\t\tgameTimeRef.current = 0\n\n\t\t\t// Use the pre-cached config instead of calling getLevelConfig again\n\t\t\t// This ensures the song announced in the overlay matches the song that plays\n\t\t\tconst newConfig = nextLevelConfigRef.current!\n\t\t\tcurrentConfigRef.current = newConfig\n\t\t\tconst newSong = newConfig.song\n\t\t\tcurrentSongRef.current = newSong\n\t\t\tconst newBpm = newSong.metadata.bpm\n\n\t\t\t// Clear the next level config cache\n\t\t\tnextLevelConfigRef.current = null\n\n\t\t\t// Restart beat with new song's BPM and drum pattern\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tif (newSong.background.drumPattern !== 'none') {\n\t\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\t\tnewBpm,\n\t\t\t\t\tnewSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\t\tnewConfig.cycle\n\t\t\t\t)\n\t\t\t}\n\t\t}, 2000)\n\n\t\tsetLevelUpTimeout(timeout)\n\t}, [audioInitialized, getLevelConfig])\n\n\t// Check for hit\n\tconst checkHit = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tconst notes = notesRef.current\n\t\t\tconst hitZoneCenter = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t// Find the closest unhit note in this lane\n\t\t\tlet closestNote: Note | null = null\n\t\t\tlet closestDistance = Infinity\n\n\t\t\tfor (const note of notes) {\n\t\t\t\tif (note.lane === lane && !note.hit && !note.missed) {\n\t\t\t\t\tconst noteCenter = note.y + NOTE_HEIGHT / 2\n\t\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\t\t\t\t\tif (distance < closestDistance) {\n\t\t\t\t\t\tclosestDistance = distance\n\t\t\t\t\t\tclosestNote = note\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (closestNote) {\n\t\t\t\tconst noteCenter = closestNote.y + NOTE_HEIGHT / 2\n\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\n\t\t\t\t// Convert pixel distance to time based on note speed\n\t\t\t\tconst currentSpeed =\n\t\t\t\t\tSPEED_BY_DIFFICULTY[getLevelConfig(levelRef.current).difficulty] *\n\t\t\t\t\tgetLevelConfig(levelRef.current).speedMultiplier\n\t\t\t\tconst timeDistance = (distance / currentSpeed) * (1000 / 60)\n\n\t\t\t\tif (timeDistance <= GOOD_WINDOW) {\n\t\t\t\t\tclosestNote.hit = true\n\t\t\t\t\tclosestNote.hitTime = Date.now()\n\n\t\t\t\t\tif (timeDistance <= PERFECT_WINDOW) {\n\t\t\t\t\t\t// Perfect hit\n\t\t\t\t\t\tclosestNote.hitType = 'perfect'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = PERFECT_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\tif (newCombo % 10 === 0 && audioInitialized) {\n\t\t\t\t\t\t\t\taudioManager.playCombo()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'perfect',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNotePerfect(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playPerfect(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Good hit\n\t\t\t\t\t\tclosestNote.hitType = 'good'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = GOOD_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'good',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNote(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playNote(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// No note to hit - miss effect (but no penalty for pressing when no note)\n\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\tid: Date.now(),\n\t\t\t\t\tlane,\n\t\t\t\t\ttype: 'miss',\n\t\t\t\t\ttime: Date.now(),\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t[gameStarted, gamePaused, audioInitialized, getLevelConfig]\n\t)\n\n\t// Keyboard controls\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tconst key = e.key.toLowerCase()\n\t\t\tconst laneIndex = LANE_KEYS.indexOf(key)\n\n\t\t\t// Prevent ALL default behaviors for game keys to avoid scrolling/jumping\n\t\t\tif (laneIndex !== -1 || key === 'p' || key === ' ' || key === 'escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\te.stopPropagation()\n\t\t\t}\n\n\t\t\tif (!gameStarted) return\n\n\t\t\tif (laneIndex !== -1) {\n\t\t\t\tcheckHit(laneIndex)\n\t\t\t} else if (key === 'p' || key === ' ') {\n\t\t\t\tif (!quitGame && !showLevelUp) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDown, { passive: false })\n\t\treturn () => document.removeEventListener('keydown', handleKeyDown)\n\t}, [gameStarted, checkHit, quitGame, showLevelUp])\n\n\t// Touch controls\n\tconst handleLaneTouch = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\t\t\tcheckHit(lane)\n\t\t},\n\t\t[gameStarted, gamePaused, checkHit]\n\t)\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst gameLoop = (currentTime: number) => {\n\t\t\tconst deltaTime = currentTime - lastTime\n\t\t\tlastTime = currentTime\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Use cached config to avoid random song selection every frame\n\t\t\t// If no config cached yet (shouldn't happen), initialize it\n\t\t\tif (!currentConfigRef.current) {\n\t\t\t\tcurrentConfigRef.current = getLevelConfig(levelRef.current)\n\t\t\t}\n\t\t\tconst config = currentConfigRef.current\n\t\t\tconst song = config.song\n\t\t\tconst currentBpm = song.metadata.bpm\n\t\t\tconst currentBeatDuration = 60000 / currentBpm\n\t\t\tconst currentNoteSpeed =\n\t\t\t\tSPEED_BY_DIFFICULTY[config.difficulty] * config.speedMultiplier\n\n\t\t\t// Update game time\n\t\t\tgameTimeRef.current += deltaTime\n\n\t\t\t// Calculate current beat position\n\t\t\tconst currentBeat = gameTimeRef.current / currentBeatDuration\n\t\t\tconst lastBeat = lastBeatRef.current\n\n\t\t\t// Determine loop boundaries from song\n\t\t\tconst loopStart = song.loop?.startBeat ?? 0\n\t\t\tconst loopEnd =\n\t\t\t\tsong.loop?.endBeat ?? Math.max(...song.notes.map(n => n.beat)) + 4\n\n\t\t\t// Check if we've passed the loop end point (for level progression)\n\t\t\tlet spawnBeat = currentBeat // Use this for note spawning (may be reset on loop)\n\n\t\t\tif (lastBeat > 0 && currentBeat >= loopEnd && lastBeat < loopEnd) {\n\t\t\t\tsongLoopCountRef.current++\n\t\t\t\tconst loopsNeeded = song.loop?.count || 1\n\n\t\t\t\tif (songLoopCountRef.current >= loopsNeeded) {\n\t\t\t\t\t// Trigger level up\n\t\t\t\t\tsetTimeout(() => triggerLevelUp(), 100)\n\t\t\t\t} else {\n\t\t\t\t\t// Loop the song - reset to loop start\n\t\t\t\t\tgameTimeRef.current = loopStart * currentBeatDuration\n\t\t\t\t\tsongNoteIndexRef.current = song.notes.findIndex(\n\t\t\t\t\t\tn => n.beat >= loopStart\n\t\t\t\t\t)\n\t\t\t\t\tif (songNoteIndexRef.current === -1) songNoteIndexRef.current = 0\n\t\t\t\t\t// Reset spawnBeat so we don't spawn all notes at once\n\t\t\t\t\tspawnBeat = loopStart\n\t\t\t\t\tlastBeatRef.current = loopStart - 0.1 // Prevent re-triggering\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Spawn notes from song in order\n\t\t\twhile (songNoteIndexRef.current < song.notes.length) {\n\t\t\t\tconst noteData = song.notes[songNoteIndexRef.current]\n\n\t\t\t\t// Check if this note should spawn now\n\t\t\t\tif (noteData.beat <= spawnBeat) {\n\t\t\t\t\tnotesRef.current.push({\n\t\t\t\t\t\tid: noteIdCounterRef.current++,\n\t\t\t\t\t\tlane: noteData.lane,\n\t\t\t\t\t\ty: -NOTE_HEIGHT,\n\t\t\t\t\t\tspeed: currentNoteSpeed,\n\t\t\t\t\t\thit: false,\n\t\t\t\t\t\tmissed: false,\n\t\t\t\t\t\tpitch: noteData.pitch, // Store the pitch for melodic playback\n\t\t\t\t\t})\n\t\t\t\t\tsongNoteIndexRef.current++\n\t\t\t\t} else {\n\t\t\t\t\tbreak // Wait for the right beat\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastBeatRef.current = currentBeat\n\n\t\t\t// Update notes\n\t\t\tconst now = Date.now()\n\t\t\tnotesRef.current = notesRef.current.filter(note => {\n\t\t\t\tif (note.hit) {\n\t\t\t\t\treturn now - (note.hitTime || 0) < 200\n\t\t\t\t}\n\n\t\t\t\t// Move note down with its own speed (important for level transitions)\n\t\t\t\tnote.y += note.speed * (deltaTime / 16.67)\n\n\t\t\t\t// Check if note passed the hit zone without being hit\n\t\t\t\tif (\n\t\t\t\t\tnote.y > HIT_ZONE_Y + HIT_ZONE_HEIGHT + NOTE_HEIGHT &&\n\t\t\t\t\t!note.missed\n\t\t\t\t) {\n\t\t\t\t\tnote.missed = true\n\t\t\t\t\tsetCombo(0)\n\t\t\t\t\tsetCurrentLives(prev => Math.max(0, prev - 1))\n\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\taudioManager.playMiss()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn note.y < CANVAS_HEIGHT + NOTE_HEIGHT\n\t\t\t})\n\n\t\t\t// Update hit effects\n\t\t\thitEffectsRef.current = hitEffectsRef.current.filter(\n\t\t\t\teffect => now - effect.time < HIT_EFFECT_DURATION\n\t\t\t)\n\n\t\t\t// Draw\n\t\t\tdraw(ctx, config, gameTimeRef.current, currentNoteSpeed, currentBpm)\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tconst draw = (\n\t\t\tctx: CanvasRenderingContext2D,\n\t\t\tconfig: ReturnType<typeof getLevelConfig>,\n\t\t\telapsedTime: number,\n\t\t\tnoteSpeed: number,\n\t\t\tbpm: number\n\t\t) => {\n\t\t\t// Clear canvas\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Perspective transformation helpers\n\t\t\tconst vanishY = -100 // Vanishing point Y (above canvas)\n\t\t\tconst vanishX = CANVAS_WIDTH / 2 // Center X\n\t\t\tconst bottomY = CANVAS_HEIGHT\n\n\t\t\t// Returns X position adjusted for perspective based on Y\n\t\t\tconst getPerspectiveX = (baseX: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn vanishX + (baseX - vanishX) * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Get width at a given Y (for notes)\n\t\t\tconst getPerspectiveWidth = (baseWidth: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn baseWidth * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Draw background gradient - changes based on track\n\t\t\tconst bgGradient = ctx.createLinearGradient(0, 0, 0, CANVAS_HEIGHT)\n\t\t\tif (config.track === 'chill') {\n\t\t\t\tbgGradient.addColorStop(0, '#0a1a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#0a2e2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a1a1a')\n\t\t\t} else if (config.track === 'upbeat') {\n\t\t\t\tbgGradient.addColorStop(0, '#1a0a0a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#2e0a1a')\n\t\t\t\tbgGradient.addColorStop(1, '#1a0a0a')\n\t\t\t} else {\n\t\t\t\tbgGradient.addColorStop(0, '#0a0a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#1a0a2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a0a1a')\n\t\t\t}\n\t\t\tctx.fillStyle = bgGradient\n\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw road edges with glow for depth\n\t\t\tctx.save()\n\t\t\tctx.strokeStyle = brandColor || '#8b5cf6'\n\t\t\tctx.lineWidth = 3\n\t\t\tctx.shadowColor = brandColor || '#8b5cf6'\n\t\t\tctx.shadowBlur = 10\n\n\t\t\t// Left edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(0, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(0, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\n\t\t\t// Right edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(CANVAS_WIDTH, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\t\t\tctx.restore()\n\n\t\t\t// Draw beat markers with perspective-correct spacing\n\t\t\t// Work in depth space (0 = vanishing point, 1 = bottom of screen)\n\t\t\tconst beatInterval = 60000 / bpm\n\t\t\tconst pixelsPerBeat = (noteSpeed * beatInterval) / 16.67 // How far a beat travels in pixels\n\t\t\tconst depthPerBeat = pixelsPerBeat / (bottomY - vanishY) // Convert to depth space\n\t\t\tconst depthSpeed = noteSpeed / (bottomY - vanishY) // Convert pixel speed to depth speed\n\t\t\tconst depthOffset = ((elapsedTime * depthSpeed) / 16.67) % depthPerBeat\n\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.12)'\n\t\t\tctx.lineWidth = 1\n\n\t\t\t// Iterate through beats in depth space\n\t\t\tfor (let depth = depthOffset; depth <= 1.0; depth += depthPerBeat) {\n\t\t\t\t// Convert depth to screen Y\n\t\t\t\tconst y = vanishY + depth * (bottomY - vanishY)\n\n\t\t\t\t// Skip if above canvas\n\t\t\t\tif (y < 0) continue\n\n\t\t\t\t// Calculate perspective factor for dash scaling\n\t\t\t\tconst perspectiveFactor = depth // depth IS the perspective factor (0 to 1)\n\t\t\t\tconst dashSize = Math.max(2, 10 * perspectiveFactor)\n\t\t\t\tctx.setLineDash([dashSize, dashSize])\n\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(0, y), y)\n\t\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, y), y)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\tctx.setLineDash([]) // Reset dash\n\n\t\t\t// Draw lane separators with perspective\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.15)'\n\t\t\tctx.lineWidth = 1\n\t\t\tfor (let i = 0; i <= LANE_COUNT; i++) {\n\t\t\t\tconst baseX = i * LANE_WIDTH\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(baseX, 0), 0)\n\t\t\t\tctx.lineTo(getPerspectiveX(baseX, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\t// Draw hit zone\n\t\t\tconst hitZoneGradient = ctx.createLinearGradient(\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y,\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y + HIT_ZONE_HEIGHT\n\t\t\t)\n\t\t\thitZoneGradient.addColorStop(0, 'rgba(255, 255, 255, 0.1)')\n\t\t\thitZoneGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.3)')\n\t\t\thitZoneGradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)')\n\t\t\tctx.fillStyle = hitZoneGradient\n\t\t\tctx.fillRect(0, HIT_ZONE_Y, CANVAS_WIDTH, HIT_ZONE_HEIGHT)\n\n\t\t\t// Draw hit zone line\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.8)'\n\t\t\tctx.lineWidth = 2\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(0, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.lineTo(CANVAS_WIDTH, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.stroke()\n\n\t\t\t// Draw lane buttons at bottom\n\t\t\tconst buttonY = CANVAS_HEIGHT - 60\n\t\t\tconst buttonHeight = 50\n\t\t\tfor (let i = 0; i < LANE_COUNT; i++) {\n\t\t\t\tconst x = i * LANE_WIDTH\n\t\t\t\tconst color = Object.values(laneColors)[i]\n\n\t\t\t\tctx.fillStyle = `${color}33`\n\t\t\t\tctx.fillRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.strokeStyle = color\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.strokeRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.fillStyle = color\n\t\t\t\tctx.font = `bold 20px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'center'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText(\n\t\t\t\t\tLANE_LABELS[i],\n\t\t\t\t\tx + LANE_WIDTH / 2,\n\t\t\t\t\tbuttonY + buttonHeight / 2\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// Draw notes with perspective\n\t\t\tconst now = Date.now()\n\t\t\tfor (const note of notesRef.current) {\n\t\t\t\tconst color = Object.values(laneColors)[note.lane]\n\n\t\t\t\t// Calculate perspective-adjusted position and size\n\t\t\t\tconst laneBaseX = note.lane * LANE_WIDTH\n\t\t\t\tconst perspXStart = getPerspectiveX(laneBaseX + 10, note.y)\n\t\t\t\tconst perspXEnd = getPerspectiveX(laneBaseX + LANE_WIDTH - 10, note.y)\n\t\t\t\tconst noteWidth = perspXEnd - perspXStart\n\t\t\t\tconst noteHeight = getPerspectiveWidth(NOTE_HEIGHT, note.y)\n\t\t\t\tconst perspRadius = Math.max(\n\t\t\t\t\t2,\n\t\t\t\t\tgetPerspectiveWidth(NOTE_RADIUS, note.y)\n\t\t\t\t)\n\n\t\t\t\tif (note.hit) {\n\t\t\t\t\tconst elapsed = now - (note.hitTime || 0)\n\t\t\t\t\tconst progress = elapsed / 200\n\t\t\t\t\tconst alpha = 1 - progress\n\t\t\t\t\tconst scale = 1 + progress * 0.5\n\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.globalAlpha = alpha\n\t\t\t\t\tctx.translate(perspXStart + noteWidth / 2, note.y + noteHeight / 2)\n\t\t\t\t\tctx.scale(scale, scale)\n\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, noteHeight)\n\t\t\t\t\tgradient.addColorStop(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tnote.hitType === 'perfect' ? '#ffd700' : '#c0c0c0'\n\t\t\t\t\t)\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.fillRect(-noteWidth / 2, -noteHeight / 2, noteWidth, noteHeight)\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t} else {\n\t\t\t\t\tctx.save()\n\n\t\t\t\t\tctx.shadowColor = color\n\t\t\t\t\tctx.shadowBlur = 15\n\n\t\t\t\t\tctx.fillStyle = color\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(perspXStart, note.y, noteWidth, noteHeight, perspRadius)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tconst innerGradient = ctx.createLinearGradient(\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y,\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y + noteHeight\n\t\t\t\t\t)\n\t\t\t\t\tinnerGradient.addColorStop(0, 'rgba(255, 255, 255, 0.4)')\n\t\t\t\t\tinnerGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.1)')\n\t\t\t\t\tinnerGradient.addColorStop(1, 'rgba(0, 0, 0, 0.2)')\n\t\t\t\t\tctx.fillStyle = innerGradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(\n\t\t\t\t\t\tperspXStart + 2,\n\t\t\t\t\t\tnote.y + 2,\n\t\t\t\t\t\tnoteWidth - 4,\n\t\t\t\t\t\tnoteHeight - 4,\n\t\t\t\t\t\tMath.max(1, perspRadius - 2)\n\t\t\t\t\t)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Draw hit effects\n\t\t\tfor (const effect of hitEffectsRef.current) {\n\t\t\t\tconst elapsed = now - effect.time\n\t\t\t\tconst progress = elapsed / HIT_EFFECT_DURATION\n\t\t\t\tconst alpha = 1 - progress\n\n\t\t\t\tconst x = effect.lane * LANE_WIDTH + LANE_WIDTH / 2\n\t\t\t\tconst y = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t\tctx.save()\n\t\t\t\tctx.globalAlpha = alpha\n\n\t\t\t\tif (effect.type === 'perfect') {\n\t\t\t\t\tconst sparkleSize = 30 + progress * 20\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#ffd700')\n\t\t\t\t\tgradient.addColorStop(0.5, '#ffaa00')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#ffd700'\n\t\t\t\t\tctx.font = `bold 16px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('PERFECTO!', x, y - 30 - progress * 20)\n\t\t\t\t} else if (effect.type === 'good') {\n\t\t\t\t\tconst sparkleSize = 20 + progress * 15\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#c0c0c0')\n\t\t\t\t\tgradient.addColorStop(0.5, '#888888')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#c0c0c0'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('BIEN', x, y - 25 - progress * 15)\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillStyle = '#ff4444'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('FALLO', x, y - 20 - progress * 10)\n\t\t\t\t}\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\n\t\t\t// Draw combo counter in canvas (top-right)\n\t\t\tif (comboRef.current > 1) {\n\t\t\t\tctx.save()\n\n\t\t\t\t// Position in top-right corner\n\t\t\t\tconst comboX = CANVAS_WIDTH - 15\n\t\t\t\tconst comboY = 35\n\n\t\t\t\t// Background pill (wider to fit \"COMBO\")\n\t\t\t\tctx.fillStyle = 'rgba(202, 138, 4, 0.6)' // yellow-600 with transparency\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.roundRect(comboX - 95, comboY - 22, 105, 44, 8)\n\t\t\t\tctx.fill()\n\n\t\t\t\t// Border\n\t\t\t\tctx.strokeStyle = '#eab308' // yellow-500\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.stroke()\n\n\t\t\t\t// \"COMBO\" label\n\t\t\t\tctx.fillStyle = '#fbbf24' // yellow-400\n\t\t\t\tctx.font = `bold 10px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'right'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText('COMBO', comboX - 8, comboY - 8)\n\n\t\t\t\t// Multiplier number\n\t\t\t\tctx.fillStyle = '#fde047' // yellow-300\n\t\t\t\tctx.font = `bold 18px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.fillText(`x${comboRef.current}`, comboX - 8, comboY + 10)\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tlaneColors,\n\t\taudioInitialized,\n\t\tgetLevelConfig,\n\t\ttriggerLevelUp,\n\t])\n\n\t// Start game\n\tconst startGame = async () => {\n\t\tif (!audioInitialized) {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(1)\n\t\tsetPoints(0)\n\t\tsetCombo(0)\n\t\tsetMaxCombo(0)\n\t\tsetCurrentLives(initialLives)\n\t\tnotesRef.current = []\n\t\thitEffectsRef.current = []\n\t\tgameTimeRef.current = 0\n\t\tlastBeatRef.current = -1\n\t\tnoteIdCounterRef.current = 0\n\t\tsongLoopCountRef.current = 0\n\t\tsongNoteIndexRef.current = 0\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetShowLevelUp(false)\n\t\tsetGameStarted(true)\n\n\t\t// Get initial song and start background beat\n\t\tconst initialConfig = getLevelConfig(1)\n\t\tcurrentConfigRef.current = initialConfig // Cache the config to prevent random song changes\n\t\tconst initialSong = initialConfig.song\n\t\tcurrentSongRef.current = initialSong\n\t\tconst initialBpm = initialSong.metadata.bpm\n\n\t\t// Start background beat with song's BPM and drum pattern\n\t\tif (initialSong.background.drumPattern !== 'none') {\n\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\tinitialBpm,\n\t\t\t\tinitialSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\tinitialConfig.cycle\n\t\t\t)\n\t\t}\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\taudioManager.stopBackgroundBeat()\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\tconst toggleMute = () => {\n\t\tconst newMuted = !audioMuted\n\t\tsetAudioMuted(newMuted)\n\t\taudioManager.setMuted(newMuted)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && !quitGame && !showLevelUp\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'column', width: '100%', minHeight: '600px', maxWidth: '32rem', margin: '0 auto', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Touch controls overlay */}\n\t\t\t\t\t{mobile && gameStarted && !gamePaused && !quitGame && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, display: 'flex', pointerEvents: 'auto' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{[0, 1, 2, 3].map(lane => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={lane}\n\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, height: '100%', opacity: 0 }}\n\t\t\t\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\thandleLaneTouch(lane)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={` ${gameTitle}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={instructionsStep === 0 ? 'Siguiente ' : ' JUGAR'}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(DEFAULT_LANE_COLORS).map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t([key, color], i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex flex-col items-center gap-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-8 h-6 rounded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{LANE_LABELS[i]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300 mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca los carriles cuando las notas</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>lleguen a la lnea blanca</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Usa D, F, J, K para los 4 carriles</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO o P para pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-400 mt-3 p-2 bg-white/10 rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t Golpea las notas en el momento exacto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCada cancin tiene su meloda!\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tConforme avanzas se volver ms dificil\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> PERFECTO = 50 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> BIEN = 25 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> FALLO = pierdes una vida</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Mantn el combo para ms puntos!</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Overlay */}\n\t\t\t\t\t{showLevelUp && nextLevelConfigRef.current && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\" NIVEL COMPLETADO!\"\n\t\t\t\t\t\t\tmessage={`Pasaste al Nivel ${level + 1}!`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg text-yellow-400 font-bold mb-2\">\n\t\t\t\t\t\t\t\t\t\t {nextLevelConfigRef.current.song.metadata.title}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300 mb-1\">\n\t\t\t\t\t\t\t\t\t\tpor {nextLevelConfigRef.current.song.metadata.artist}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t{nextLevelConfigRef.current.cycle > 0\n\t\t\t\t\t\t\t\t\t\t\t? `Velocidad x${nextLevelConfigRef.current.cycle + 1}!`\n\t\t\t\t\t\t\t\t\t\t\t: `Nueva meloda: ${DIFFICULTY_NAMES[nextLevelConfigRef.current.difficulty]}`}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && !showLevelUp && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}: ${currentConfig.displayName}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={toggleMute}\n\t\t\t\t\t\t\t\t\tclassName=\"mt-4 px-4 py-2 bg-gray-700 text-white rounded text-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{audioMuted ? ' Sonido desactivado' : ' Sonido activado'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}  ${points} puntos`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Stats bar when playing - always render container for consistent layout */}\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', padding: '0.5rem', backgroundColor: 'rgba(0,0,0,0.5)', color: 'white', fontSize: '0.75rem', minHeight: '32px' }}>\n\t\t\t\t{gameStarted && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{currentConfigRef.current?.displayName ||\n\t\t\t\t\t\t\t\tcurrentConfig.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>|</span>\n\t\t\t\t\t\t<span>Combo mximo: {maxCombo}</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RhythmHighway\n","'use client';\nimport { useRef, useState } from 'react';\nimport { GameCard } from './ui/GameCard';\nimport { GameOverlay } from './ui/GameOverlay';\nimport RacingGame from './racing/game';\nimport TetrisGame from './tetris/game';\nimport SnakeGame from './snake/index';\nimport FlappyBirdGame from './flappy-bird/index';\nimport BreakoutGame from './breakout/game';\nimport PenaltyShootoutGame from './penalty-shootout/index';\nimport CandyCrushGame from './candy-crush/index';\nimport RhythmHighway from './rhythm-highway/index';\nimport PageNavigation from '../PageNavigation/PageNavigation';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations, interpolate } from '../../../i18n';\n\ninterface GameSelectorProps {\n  visitor: string;\n  setDialogText: (text: string) => void;\n  setCurrentAction: (action: string) => void;\n  lang: Language;\n}\n\nexport default function GameSelector({ visitor, setDialogText, setCurrentAction, lang }: GameSelectorProps) {\n  const t = getTranslations(lang);\n  const [selectedGame, setSelectedGame] = useState('');\n  const [pointsEarned, setPointsEarned] = useState<number>(0);\n  const [gameOver, setGameOver] = useState<boolean>(false);\n\n  const gameRef = useRef<any>(null);\n\n  if (gameOver) {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content\">\n          <GameOverlay\n            type=\"custom\"\n            title={pointsEarned > 0 ? ` ${t.games.congratulations}` : ` ${t.games.sorry}`}\n            message={pointsEarned > 0 ? interpolate(t.games.wonPoints, { points: pointsEarned }) : t.games.tryAgain}\n            brandColor=\"#00d26a\"\n            onAction={() => {\n              setGameOver(false);\n              setPointsEarned(0);\n              setSelectedGame('');\n            }}\n            actionText={t.games.backToMenu}\n            lang={lang}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (selectedGame !== '') {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content game-page-content\">\n          <div className=\"game-wrapper\" ref={gameRef}>\n            {selectedGame === 'races' && (\n              <RacingGame\n                laps={1}\n                track={1}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                showBillboardStats={false}\n                brandColor=\"#ef4444\"\n                gameTitle=\"MAW Racing\"\n                lang={lang}\n              />\n            )}\n            {selectedGame === 'tetris' && (\n              <TetrisGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#8b5cf6\"\n                gameTitle={t.games.tetris.title}\n              />\n            )}\n            {selectedGame === 'snake' && (\n              <SnakeGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#10b981\"\n                gameTitle={t.games.snake.title}\n              />\n            )}\n            {selectedGame === 'flappy-bird' && (\n              <FlappyBirdGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#00bfff\"\n                gameTitle={t.games.flappyBird.title}\n              />\n            )}\n            {selectedGame === 'breakout' && (\n              <BreakoutGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#f59e0b\"\n                gameTitle={t.games.breakout.title}\n              />\n            )}\n            {selectedGame === 'penalty-shootout' && (\n              <PenaltyShootoutGame\n                lives={5}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#1a472a\"\n                gameTitle={t.games.penaltyShootout.title}\n              />\n            )}\n            {selectedGame === 'candy-crush' && (\n              <CandyCrushGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#e91e63\"\n                gameTitle={t.games.candyCrush.title}\n              />\n            )}\n            {selectedGame === 'rhythm-highway' && (\n              <RhythmHighway\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#6366f1\"\n                gameTitle={t.games.rhythmHighway.title}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"retro-page\">\n      <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n      <div className=\"page-content\">\n        <h1>{t.games.title}</h1>\n\n        <div className=\"retro-box\" style={{ textAlign: 'center', marginBottom: '20px' }}>\n          {t.games.subtitle}\n        </div>\n\n        <div className=\"game-selector-container\">\n          <div className=\"game-selector-grid\">\n            <GameCard\n              title={t.games.racing.title}\n              icon=\"\"\n              gradientFrom=\"#3b82f6\"\n              gradientTo=\"#2563eb\"\n              onClick={() => setSelectedGame('races')}\n              description={t.games.racing.description}\n            />\n            <GameCard\n              title={t.games.tetris.title}\n              icon=\"\"\n              gradientFrom=\"#8b5cf6\"\n              gradientTo=\"#7c3aed\"\n              onClick={() => setSelectedGame('tetris')}\n              description={t.games.tetris.description}\n            />\n            <GameCard\n              title={t.games.snake.title}\n              icon=\"\"\n              gradientFrom=\"#10b981\"\n              gradientTo=\"#059669\"\n              onClick={() => setSelectedGame('snake')}\n              description={t.games.snake.description}\n            />\n            <GameCard\n              title={t.games.flappyBird.title}\n              icon=\"\"\n              gradientFrom=\"#00bfff\"\n              gradientTo=\"#0099cc\"\n              onClick={() => setSelectedGame('flappy-bird')}\n              description={t.games.flappyBird.description}\n            />\n            <GameCard\n              title={t.games.breakout.title}\n              icon=\"\"\n              gradientFrom=\"#f59e0b\"\n              gradientTo=\"#d97706\"\n              onClick={() => setSelectedGame('breakout')}\n              description={t.games.breakout.description}\n            />\n            <GameCard\n              title={t.games.penaltyShootout.title}\n              icon=\"\"\n              gradientFrom=\"#1a472a\"\n              gradientTo=\"#0f2d1a\"\n              onClick={() => setSelectedGame('penalty-shootout')}\n              description={t.games.penaltyShootout.description}\n            />\n            <GameCard\n              title={t.games.candyCrush.title}\n              icon=\"\"\n              gradientFrom=\"#e91e63\"\n              gradientTo=\"#c2185b\"\n              onClick={() => setSelectedGame('candy-crush')}\n              description={t.games.candyCrush.description}\n            />\n            <GameCard\n              title={t.games.rhythmHighway.title}\n              icon=\"\"\n              gradientFrom=\"#6366f1\"\n              gradientTo=\"#4f46e5\"\n              onClick={() => setSelectedGame('rhythm-highway')}\n              description={t.games.rhythmHighway.description}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, lazy, Suspense, useEffect, useCallback, useMemo } from 'react';\nimport { ContentProps } from '../../types';\nimport BrowserWindow from './BrowserWindow/BrowserWindow';\nimport { getTranslations, interpolate } from '../../i18n';\nimport { useIsMobile, useAudio } from '../../hooks';\nimport { DELAYS, AUDIO_VOLUMES } from '../../constants';\n\nimport './Content.css';\nimport './Games/Games.css';\nimport GameSelector from './Games/game-selector';\nimport maduroImg from '../../images/maduro.webp';\n\nconst Avatar = lazy(() => import('./Avatar/Avatar'));\nconst Home = lazy(() => import('./Home/Home'));\nconst AboutMe = lazy(() => import('./AboutMe/AboutMe'));\nconst Work = lazy(() => import('./Work/Work'));\nconst Portfolio = lazy(() => import('./Portfolio/Portfolio'));\nconst Contact = lazy(() => import('./Contact/Contact'));\n\nconst Content: React.FC<ContentProps> = ({ name, lang, mode, setMode, setLang, setName, onShowWelcome }) => {\n  const t = getTranslations(lang);\n  const greetings = name !== ''\n    ? interpolate(t.avatar.dialogues.greetingWithName, { name })\n    : t.avatar.dialogues.greeting;\n  const [dialogText, setDialogText] = useState<string>(greetings);\n  const [currentAction, setCurrentAction] = useState<string>('');\n  const [browserOpen, setBrowserOpen] = useState<boolean>(false);\n  const [browserMinimized, setBrowserMinimized] = useState<boolean>(false);\n  const isMobile = useIsMobile();\n  const [pendingBrowserOpen, setPendingBrowserOpen] = useState<boolean>(false);\n  const { setVolume } = useAudio();\n\n  const handleNavigate = useCallback((action: string) => {\n    setCurrentAction(action);\n\n    // Only these actions should open the browser\n    const browserActions = [\n      'goTo-about',\n      'goTo-work',\n      'goTo-contact',\n      'goTo-portfolio',\n      'goTo-games',\n    ];\n\n    if (isMobile && browserActions.includes(action)) {\n      // For navigation actions on mobile, wait for dialog to complete\n      setPendingBrowserOpen(true);\n    } else if (!isMobile && browserActions.includes(action)) {\n      // On desktop, unminimize the browser immediately\n      setBrowserMinimized(false);\n    }\n    // Other actions (say-hi, say-meow, chatter, etc.) don't open the browser\n  }, [isMobile]);\n\n  const handleDialogComplete = useCallback(() => {\n    // Open browser after dialog completes on mobile\n    if (pendingBrowserOpen) {\n      setTimeout(() => {\n        setBrowserOpen(true);\n        setPendingBrowserOpen(false);\n      }, DELAYS.BROWSER_OPEN);\n    }\n  }, [pendingBrowserOpen]);\n\n  const renderRightSideComponent = () => {\n    const loader = (\n      <div id=\"loader\">\n        <i className=\"spinner icon\"></i>\n      </div>\n    );\n    switch (currentAction) {\n      case 'goTo-about':\n        return (\n          <Suspense fallback={loader}>\n            <AboutMe setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-work':\n        return (\n          <Suspense fallback={loader}>\n            <Work setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-portfolio':\n        return (\n          <Suspense fallback={loader}>\n            <Portfolio setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-contact':\n        return (\n          <Suspense fallback={loader}>\n            <Contact\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      case 'goTo-games':\n        return (\n          <Suspense fallback={loader}>\n            <GameSelector\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      default:\n        return (\n          <Suspense fallback={loader}>\n            <Home setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n    }\n  };\n\n  useEffect(() => {\n    setVolume('bgMusic', AUDIO_VOLUMES.BACKGROUND_MUSIC);\n  }, [setVolume]);\n\n  // Toggle class on root element to disable background animations when browser is open on mobile\n  useEffect(() => {\n    const root = document.getElementById('mawmawmaw');\n    if (root) {\n      if (isMobile && browserOpen) {\n        root.classList.add('browser-open');\n      } else {\n        root.classList.remove('browser-open');\n      }\n    }\n  }, [isMobile, browserOpen]);\n\n  return (\n    <Suspense\n      fallback={\n        <div id=\"loader\">\n          <i className=\"spinner icon\"></i>\n        </div>\n      }\n    >\n      <div className=\"ui container main\">\n        <div className=\"ui stackable grid\">\n          <div className=\"seven wide column\">\n            <div className=\"left-side-wrapper\">\n              <Avatar\n                visitor={name}\n                dialogText={dialogText}\n                setDialogText={setDialogText}\n                currentAction={currentAction}\n                setCurrentAction={handleNavigate}\n                onDialogComplete={handleDialogComplete}\n                onOpenBrowser={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(true);\n                  } else {\n                    setBrowserMinimized(false);\n                  }\n                }, [isMobile])}\n                lang={lang}\n              />\n            </div>\n          </div>\n          <div className={`nine wide column ${browserOpen ? 'browser-open' : ''}`}>\n            <div className=\"right-side-wrapper\">\n              {!isMobile && browserMinimized && (\n                <div className=\"easter-egg-container\">\n                  <img src={maduroImg} alt=\"\" className=\"easter-egg-image\" />\n                </div>\n              )}\n              <BrowserWindow\n                currentSection={currentAction}\n                onNavigate={handleNavigate}\n                onMinimize={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(false);\n                  } else {\n                    setBrowserMinimized(true);\n                  }\n                }, [isMobile])}\n                onOpen={() => setBrowserOpen(true)}\n                isMobile={isMobile}\n                browserOpen={browserOpen}\n                browserMinimized={browserMinimized}\n                lang={lang}\n                mode={mode}\n                setMode={setMode}\n                setLang={setLang}\n                visitorName={name}\n                setName={setName}\n                onShowWelcome={onShowWelcome}\n              >\n                {renderRightSideComponent()}\n              </BrowserWindow>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default Content;\n"],"names":["_ref","currentSection","onNavigate","lang","t","getTranslations","navItems","id","label","navigation","home","icon","about","work","portfolio","contact","games","_jsx","className","children","map","item","_jsxs","concat","itemId","onClick","undefined","candyCrushAudio","constructor","initialized","muted","lastBassTime","lastNoiseTime","lastUiTime","MIN_TIME_GAP","uiSynth","popSynth","bassSynth","bellSynth","noiseSynth","melodySynth","init","this","Tone","oscillator","type","envelope","attack","decay","sustain","release","volume","toDestination","pitchDecay","octaves","noise","getSafeTime","lastTime","synthKey","now","minNextTime","safeTime","Math","max","playSelect","time","triggerAttackRelease","playSwap","time1","time2","playInvalidMove","noiseTime","bassTime","playMatch3","playMatch4","playMatch5","playMatchSound","length","playBombExplode","note","sparkleNotes","playCombo","chainLevel","baseNotes","numNotes","min","notes","slice","forEach","i","playScorePopup","playWin","playLose","setMuted","isMuted","dispose","_this$uiSynth","_this$popSynth","_this$bassSynth","_this$bellSynth","_this$noiseSynth","_this$melodySynth","GAME_WIDTH","GAME_HEIGHT","GRID","size","cellSize","offsetX","offsetY","gap","GRID_PIXEL_SIZE","LEVELS","level","moves","targetScore","candyTypes","bombConfig","spawnChance","matchSpawnChance","SCORING","match3","match4","match5","matchLT","chainBonus","movesBonus","BOMB_FRAMES","cross","radius","BOMB_SCORING","crossActivation","radiusActivation","perCandyCleared","ANIMATION","swapDuration","clearDuration","dropDurationPerRow","fillDuration","selectScale","selectDuration","scorePopupDuration","chainIndicatorDuration","CANDY_COLORS","COLORS","background","gridBackground","gridBorder","textPrimary","textSecondary","scorePopup","chainIndicator","headerPanel","headerBorder","statCardBg","targetAccent","scoreAccent","movesAccent","UI","header","x","y","width","height","borderRadius","padding","statCard","accentHeight","scoreDisplay","movesDisplay","targetDisplay","progressBar","CANDY_SPRITE","displaySize","specialOverlaySize","baseScale","BackIcon","viewBox","fill","d","ForwardIcon","RefreshIcon","stroke","strokeWidth","strokeLinecap","points","StopIcon","HomeIcon","currentTheme","onSelectTheme","themes","variant","classic","vaporwave","terminal","mode","onSelectLang","onSelectMode","onChangeName","onShowWelcome","translations","language","theme","dayMode","nightMode","changeName","showWelcome","isOpen","currentName","onSave","onClose","name","setName","useState","inputRef","useRef","useEffect","setTimeout","_inputRef$current","current","focus","e","stopPropagation","browser","settings","onSubmit","preventDefault","htmlFor","welcome","nameLabel","ref","value","onChange","target","placeholder","namePlaceholder","onMinimize","onOpen","isMobile","browserOpen","browserMinimized","setMode","setLang","visitorName","isMaximized","setIsMaximized","showBSOD","setShowBSOD","setCurrentTheme","localStorage","getItem","menubarThemeOpen","setMenubarThemeOpen","statusbarThemeOpen","setStatusbarThemeOpen","settingsOpen","setSettingsOpen","nameModalOpen","setNameModalOpen","menubarRef","statusbarRef","settingsRef","handleClickOutside","event","contains","document","addEventListener","removeEventListener","setTheme","useCallback","source","setItem","toggleMenubarTheme","prev","toggleStatusbarTheme","handleMenubarThemeSelect","handleStatusbarThemeSelect","toggleSettings","handleSelectLang","newLang","handleSelectMode","newMode","handleChangeName","handleSaveName","newName","cookie","handleShowWelcome","handleBrowserClick","onDoubleClick","section","titles","menus","file","edit","view","favorites","ThemeDropdown","title","SettingsDropdown","help","handleBack","disabled","handleHome","getSectionUrl","readOnly","bsod","mainText","collectingError","errorCode","stopCode","clickToRestart","statusDone","statusZone","NameChangeModal","GameCard","color","gradientFrom","gradientTo","description","bgStyle","backgroundColor","style","GameOverlay","message","score","brandColor","onAction","actionText","customContent","showPressToStart","showBlink","setShowBlink","interval","setInterval","clearInterval","displayTitle","start","pause","gameOver","levelComplete","custom","toLocaleString","opacity","KEY","ROAD","NONE","SHORT","MEDIUM","LONG","LOW","HIGH","EASY","HARD","SKY","TREE","FOG","LIGHT","road","grass","rumble","lane","DARK","START","FINISH","BACKGROUND","w","h","SPRITES_DEF","PALM_TREE","BILLBOARD08","TREE1","DEAD_TREE1","BILLBOARD09","BOULDER3","COLUMN","BILLBOARD01","BILLBOARD06","BILLBOARD05","BILLBOARD07","BOULDER2","TREE2","BILLBOARD04","DEAD_TREE2","BOULDER1","BUSH1","CACTUS","BUSH2","BILLBOARD03","BILLBOARD02","STUMP","SEMI","TRUCK","CAR03","CAR02","CAR04","CAR01","PLAYER_UPHILL_LEFT","PLAYER_UPHILL_STRAIGHT","PLAYER_UPHILL_RIGHT","PLAYER_RIGHT","PLAYER_STRAIGHT","PLAYER_LEFT","COIN","SPRITES","_objectSpread","SCALE","BILLBOARDS","PLANTS","CARS","DEFAULT_CONFIG","fps","roadWidth","segmentLength","rumbleLength","lanes","fieldOfView","cameraHeight","drawDistance","fogDensity","centrifugal","skySpeed","hillSpeed","treeSpeed","totalCars","MathUtils","timestamp","performance","toInt","obj","def","arguments","parseInt","String","isNaN","toFloat","parseFloat","limit","randomInt","round","interpolate","random","randomChoice","options","percentRemaining","n","total","accelerate","v","accel","dt","a","b","percent","easeIn","pow","easeOut","easeInOut","cos","PI","exponentialFog","distance","density","E","increase","increment","result","overlap","x1","w1","x2","w2","half1","half2","project","p","cameraX","cameraY","cameraZ","cameraDepth","camera","world","z","screen","scale","RoadEngine","segments","trackLength","billboardPlacements","Map","billboardImpressions","billboardInstances","nextBillboardId","getSegments","getTrackLength","getBillboardPlacements","getBillboardImpressions","recordBillboardImpression","segmentIndex","offset","billboardName","currentLap","instances","get","instance","find","inst","abs","seenInLaps","has","add","set","getBillboardStats","totalLaps","placements","impressions","maxPossibleImpressions","count","realisticTrackLength","totalSegments","findSegment","floor","lastY","p2","addSegment","curve","push","index","p1","sprites","cars","addSprite","sprite","spriteInstance","getBillboardName","billboardId","Set","addRoad","enter","hold","leave","startY","endY","addStraight","num","addHill","addCurve","addLowRollingHills","addSCurves","addBumps","addDownhillToEnd","reset","track","playerZ","resetSprites","playerSegment","clear","billboard","LANE_POSITIONS","removeAllCoins","segment","filter","resetCars","maxSpeed","car","speed","PhysicsEngine","config","breaking","decel","offRoadDecel","offRoadLimit","updateTrackLength","updatePlayer","playerX","position","inputState","_findSegment","canvasWidth","canvasHeight","playerW","speedPercent","dx","coinCollected","crashPosition","pointsEarned","crashed","left","right","faster","slower","spriteW","coinW","splice","carW","updateCars","playerSpeed","oldSegment","updateCarOffset","newSegment","indexOf","carSegment","calculateAvoidanceDirection","otherCar","otherCarW","obstacleX","carX","updateScrollOffsets","skyOffset","hillOffset","treeOffset","startPosition","deltaPosition","RenderEngine","ctx","resolution","setCameraDepth","depth","updateDimensions","clearRect","polygon","y1","y2","x3","y3","x4","y4","fillStyle","beginPath","moveTo","lineTo","closePath","fog","r1","rumbleWidth","r2","l1","laneMarkerWidth","l2","fillRect","lanew1","lanew2","lanex1","lanex2","layer","rotation","imageW","imageH","sourceX","sourceY","sourceW","sourceH","destY","destW","destH","drawImage","destX","clipY","clipH","player","steer","updown","bounce","globalAlpha","projectedRoadWidth","renderCars","baseSegmentIndex","spriteScale","spriteX","spriteY","clip","renderSprites","renderObjects","onBillboardRender","renderCoinAnimations","animations","currentTime","save","anim","elapsed","startTime","progress","alpha","particleCount","particleRadius","burstRadius","angle","sin","arc","font","strokeStyle","lineWidth","text","textY","strokeText","fillText","restore","renderCrashAnimations","shakeX","shakeY","textX","GameLoop","update","render","isRunning","animationFrameId","lastTimestamp","accumulator","targetFps","fixedTimeStep","maxFrameTime","frameCount","lastFpsUpdate","currentFps","loop","frameTime","interpolation","updateFpsCounter","requestAnimationFrame","stop","cancelAnimationFrame","getFps","ImageLoader","loadImages","names","basePath","skin","promises","loadSingleImage","Promise","all","resolve","reject","img","Image","onload","onerror","Error","src","InputManager","keys","keyHandlers","handleKeyDown","keyCode","triggerKeyHandlers","includes","handleKeyUp","setupKeyboardListeners","destroy","setKeyHandlers","handlers","isKeyPressed","handler","action","setupTouchControls","_isMobile","getKeyCodeForDirection","direction","window","isMobileUserAgent","test","navigator","userAgent","isMobileWidth","matchMedia","matches","moreThanOneTouchPoint","maxTouchPoints","HUD","availableLaps","hud","gameState","getSpeedometerRotation","_Fragment","alt","current_lap_time","cx","cy","r","BillboardStats","isVisible","stats","setStats","newStats","billboards","Object","sort","fontSize","borderBottom","textAlign","paddingBottom","placed","shown","maxPossible","percentage","toFixed","paddingTop","replace","fontWeight","borderTop","values","reduce","marginTop","GameCanvas","forwardRef","imageRendering","displayName","triggerHaptic","duration","vibrate","ArrowUpIcon","strokeLinejoin","ArrowDownIcon","_ref2","ArrowLeftIcon","_ref3","ArrowRightIcon","_ref4","RotateIcon","_ref5","GasIcon","_ref6","BrakeIcon","_ref7","rx","ry","LaunchIcon","_ref8","GameControls","onControl","onControlEnd","layout","showRotateButton","onRotate","showLaunchButton","onLaunch","preventSelectStyles","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","touchAction","WebkitTouchCallout","handleContextMenu","handleTouchStart","withHaptic","handleTouchEnd","handleMouseDown","handleMouseUp","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onContextMenu","laps","setPointsEarned","setGameOver","gameTitle","brandLogo","showBillboardStats","mobile","gameStarted","setGameStarted","canvasRef","startGame","togglePause","handleTouchControl","setGameState","gameStateRef","setCurrentLap","setPoints","setHud","coinAnimationsRef","crashAnimationsRef","roadEngineRef","physicsEngineRef","renderEngineRef","gameLoopRef","inputManagerRef","gameWorldRef","currentLapTime","hasRendered","inputStateRef","configRef","tan","formatTime","minutes","seconds","tenths","updateHud","key","prevHud","initializeEngines","canvas","getContext","loadAssets","async","images","error","console","resetGame","physics","playerUpdate","Date","scrollUpdate","_interpolation","renderer","baseSegment","basePercent","playerPercent","playerY","maxy","looped","_gameLoopRef$current","_gameLoopRef$current2","stopGame","_gameLoopRef$current3","_inputManagerRef$curr","_gameLoopRef$current4","_inputManagerRef$curr2","isPressed","useCarGame","handleControl","handleControlEnd","display","flexDirection","justifyContent","alignItems","racing","startRacing","marginBottom","margin","useTouchControls","useKeyboard","turnLeft","turnRight","brake","or","collectCoins","pressEscContinue","continue","maxWidth","visibility","actionIcon","action2Icon","useBoard","resetPlayer","_player$pos","_player$pos2","board","setBoard","React","createBoard","rowsCleared","setRowsCleared","clearingRows","setClearingRows","pos","updateBoard","prevBoard","newBoard","row","cell","tetromino","collided","rowsToRemove","every","updatedBoard","acc","unshift","Array","sweepRows","GameHeader","lives","onPause","isPaused","customItems","onQuit","showQuitButton","isQuitting","shouldShowQuit","tetrisAudio","lastMoveTime","MIN_MOVE_GAP","moveSynth","rotateSynth","lockSynth","lineSynth","tetrisSynth","gameOverSynth","playMove","playRotate","playLock","playLineClear","playTetris","playGameOver","_this$moveSynth","_this$rotateSynth","_this$lockSynth","_this$lineSynth","_this$tetrisSynth","_this$gameOverSynth","BOARD_WIDTH","TETROMINOS","shape","I","J","L","O","S","T","Z","from","randomTetromino","tetrominos","randTetromino","isColliding","moveX","moveY","Cell","isClearing","isEmpty","borderColor","boxShadow","Board","NextPiece","_shape$","gridTemplateColumns","gridTemplateRows","border","gamePaused","setGamePaused","setGameOverState","quitGame","setQuitGame","wasGamePaused","setWasGamePaused","currentLives","setCurrentLives","setLevel","setTotalLinesCleared","nextPiece","setNextPiece","dropTime","setDropTime","intervalSpeed","setIntervalSpeed","updatePlayerPos","playerRotate","usePlayer","setPlayer","stage","clonedPlayer","JSON","parse","stringify","matrix","_","column","reverse","posX","resetPlayerWithNextPiece","touchTimeoutRef","movePlayer","dir","keyUp","move","repeat","preventDefaultForScrollKeys","useInterval","callback","delay","savedCallback","tick","newTotal","newLevel","newSpeed","timeoutRef","clearTimeout","onKeyDown","onKeyUp","objectFit","cancelQuit","handleQuitConfirm","FOOD_TYPES","rarity","specialEffect","snakeAudio","lastSynthTime","playEatFood","playEatBoost","playEatDiet","playSpeedUp","onScoreUpdate","onGameOver","boardSize","snake","setSnake","food","setFood","setDirection","nextDirection","setNextDirection","setSpeed","lastUpdateTime","currentScore","boostActive","setBoostActive","boostTimer","setBoostTimer","boostMultiplier","hasCollided","canvasSize","getRandomPosition","generatePosition","some","getRandomFood","totalWeight","sum","selectedFood","foodType","startsWith","moveSnake","currentSnake","newSnake","head","f","segmentsToRemove","pop","actualScore","gameLoop","foodImage","headImage","headUp","headDown","headLeft","headRight","tail","apple","banana","cherries","grapes","boost","diet","strokeRect","shadowColor","shadowBlur","initialLives","maxPoints","containerRef","imagesLoading","imagesError","setImages","loading","setLoading","setError","loadImage","imagePath","catch","err","loadAllImages","useImageLoader","setScore","setLives","setIsPaused","isGameStarted","setIsGameStarted","isGameOver","setIsGameOver","setWindowSize","showSpeedBoost","setShowSpeedBoost","speedBoostText","setSpeedBoostText","totalScore","setTotalScore","collisionCount","setCollisionCount","isMobileDevice","handleResize","innerWidth","innerHeight","handleKeyPress","handleGameOver","newLives","handleScoreUpdate","newScore","speedThresholds","oldThreshold","handleVirtualControl","KeyboardEvent","charAt","toUpperCase","bubbles","dispatchEvent","aspectRatio","transform","getCanvasScale","controlsHeight","scaleX","scaleY","transformOrigin","SnakeGameCore","onLivesUpdate","showActionButton","flappyBirdAudio","lastFlapTime","MIN_FLAP_GAP","flapSynth","scoreSynth","collisionSynth","playFlap","playScore","playCollision","_this$flapSynth","_this$scoreSynth","_this$collisionSynth","FRAME_TIME","countCollisions","setCountCollisions","currentGap","setCurrentGap","isOnTheFloor","birdY","birdVelocity","pipesArray","passed","lastFrameTime","birdRotation","tap","moveUp","delayFrameCount","upMovement","collision","_config$functions$onL","_config$functions","newCollisions","functions","call","draw","context","bird","foreground","pipeNorth","pipeSouth","coin","heart","assets","gravity","currentLevel","pipeMovement","pipes","difficultyFactor","minY","maxY","lastPipeY","baseY","newY","baseSpacing","spacing","birdX","pointsPerObstacle","_config$functions$onS","_config$functions2","_config$functions$onS2","_config$functions3","gapReduction","newGap","hasHitFloor","hasHitCeiling","birdLeft","birdRight","birdTop","birdBottom","pipeLeft","pipeRight","pipeTopBottom","pipeBottomTop","hasHitPipe","translate","BIRD_WIDTH","BIRD_HEIGHT","rotate","hideOverlays","titleWidth","measureText","titleX","difficultyLevel","levelText","frameId","imageSmoothingEnabled","skinPath","useFlappyAnimation","useCanvas","handleClick","gameContainerRef","showLevelUp","setShowLevelUp","levelUpText","setLevelUpText","coreGameOver","setCoreGameOver","finalGameOver","handlePointsEarned","containerWidth","containerHeight","FlappyBirdCore","top","breakoutAudio","lastBounceTime","MIN_BOUNCE_GAP","bounceSynth","brickSynth","powerUpSynth","loseSynth","levelSynth","playPaddleHit","playWallHit","playBrickBreak","playPowerUpCollect","playLoseLife","playLevelUp","_this$bounceSynth","_this$brickSynth","_this$powerUpSynth","_this$loseSynth","_this$levelSynth","CANVAS_WIDTH","CANVAS_HEIGHT","PADDLE_COLOR","BALL_COLOR","BRICK_TYPES","hitsToBreak","LEVEL_THEMES","brickColors","POWER_UP_DURATION","POWER_UP_CONFIG","getBrickTypeForPosition","typeIndex","colorOverride","distanceFromCenter","BRICK_ROW_COUNT","strengthIndex","baseTypeIndex","getRandomPowerUpType","types","weights","createBricks","bricks","powerUpChance","c","hasPowerUp","powerUpType","status","calculatePaddleWidth","calculateBallSpeed","collisionDetection","ball","paddle","spawnPowerUp","pointsToAdd","lifeLost","nextBallX","nextBallY","dy","brick","overlapX","overlapY","collidePoint","angleRad","ballLaunched","setBallLaunched","instructionsStep","setInstructionsStep","activePowerUpsState","setActivePowerUpsState","leftPressedRef","rightPressedRef","touchStartX","originalPaddleWidth","backgroundImageRef","ballRef","paddleRef","bricksRef","powerUpsRef","extraBallsRef","activePowerUpsRef","resetBallAndPaddle","paddleWidth","ballSpeed","levelUp","loseLife","launchBall","launchAngle","POWER_UP_SIZE","active","activatePowerUp","endTime","currentSpeed","sqrt","updatePowerUps","powerUp","activePowerUp","keyDownHandler","keyUpHandler","touchMoveHandler","touches","touch","rect","getBoundingClientRect","touchX","clientX","nextPaddleX","devicePixelRatio","touchStartHandler","touchEndHandler","passive","deltaTime","drawBricks","quadraticCurveTo","textBaseline","drawPaddle","drawBall","drawExtraBalls","extraBalls","drawPowerUps","powerUps","split","powerUpToSpawn","newMainBall","remaining","ceil","cursor","PenaltyShootoutCore","lazy","LoadingFallback","setRound","gameResult","setGameResult","handleRoundComplete","roundNum","_result","handleGameOverFromPhaser","finalGoals","goals","won","maxHeight","Suspense","fallback","onRoundComplete","totalRounds","handleContinue","CandyCrushCore","gameKey","setGameKey","setCurrentLevel","levelConfig","setMoves","livesRemaining","setLivesRemaining","isRoundComplete","setIsRoundComplete","roundWon","setRoundWon","allLevelsComplete","setAllLevelsComplete","scoreRef","totalScoreRef","currentLevelRef","livesRemainingRef","retryRound","finalScore","handleMovesUpdate","newMoves","handleGameComplete","_finalScore","handleNextLevel","nextLevel","nextLevelConfig","onMovesUpdate","onGameComplete","LANE_WIDTH","HIT_ZONE_Y","HIT_ZONE_HEIGHT","NOTE_HEIGHT","DEFAULT_LANE_COLORS","lane0","lane1","lane2","lane3","LANE_KEYS","LANE_LABELS","LANE_PITCHES","NOTE_NAMES","pitchToMidi","pitch","match","accidental","octaveStr","octave","noteIndex","transposePitch","semitones","midi","midiToPitch","audioManager","synth","drumSynth","hiHatSynth","snareSynth","bassLoop","hiHatLoop","snareLoop","isPlaying","initDrums","harmonicity","modulationIndex","resonance","startBackgroundBeat","bpm","cycle","_this$drumSynth","_this$hiHatSynth","_this$drumSynth2","_this$snareSynth","_this$hiHatSynth2","_this$drumSynth3","_this$snareSynth2","_this$hiHatSynth3","_this$drumSynth4","_this$snareSynth3","_this$hiHatSynth4","_this$drumSynth5","_this$snareSynth4","_this$hiHatSynth5","_this$drumSynth6","_this$snareSynth5","_this$hiHatSynth6","stopBackgroundBeat","_this$bassLoop","_this$hiHatLoop","_this$snareLoop","_this$bassLoop2","_this$hiHatLoop2","_this$snareLoop2","pauseBackgroundBeat","resumeBackgroundBeat","updateBpm","playNote","playPerfect","basePitch","highPitch","playMelodicNote","playMelodicNotePerfect","transposeOctave","playMiss","twinkleStar","metadata","artist","difficulty","beat","drumPattern","startBeat","endBeat","maryHadALittleLamb","hotCrossBuns","jingleBells","rowRowRow","odeToJoy","whenTheSaints","ohSusanna","londonBridge","happyBirthday","canonInD","entertainer","minuetInG","turkishMarch","greensleeves","furElise","moonlightSonata","hungarianDance","mountainKing","carmenHabanera","electronicBeat","neonPulse","digitalStorm","cyberChase","synthWave","DIFFICULTIES","songsByDifficulty","easy","medium","hard","GAME_FONT_FAMILY","SPEED_BY_DIFFICULTY","DIFFICULTY_NAMES","_currentConfigRef$cur","levelUpTimeout","setLevelUpTimeout","combo","setCombo","maxCombo","setMaxCombo","audioInitialized","setAudioInitialized","audioMuted","setAudioMuted","notesRef","hitEffectsRef","pointsRef","comboRef","livesRef","lastBeatRef","gameTimeRef","noteIdCounterRef","levelRef","currentSongRef","songNoteIndexRef","songLoopCountRef","currentConfigRef","nextLevelConfigRef","getLevelConfig","lvl","song","speedMultiplier","songsInTier","getSongForLevel","difficultyName","currentConfig","laneColors","initAudio","triggerLevelUp","nextConfig","timeout","newConfig","newSong","newBpm","checkHit","closestNote","closestDistance","Infinity","hit","missed","noteCenter","timeDistance","hitTime","hitType","earnedPoints","newCombo","toLowerCase","laneIndex","handleLaneTouch","_song$loop$startBeat","_song$loop","_song$loop$endBeat","_song$loop2","currentBpm","currentBeatDuration","currentNoteSpeed","currentBeat","lastBeat","loopStart","loopEnd","spawnBeat","_song$loop3","loopsNeeded","findIndex","noteData","effect","elapsedTime","noteSpeed","vanishY","getPerspectiveX","baseX","getPerspectiveWidth","baseWidth","bgGradient","createLinearGradient","addColorStop","depthPerBeat","depthOffset","perspectiveFactor","dashSize","setLineDash","hitZoneGradient","buttonY","laneBaseX","perspXStart","noteWidth","noteHeight","perspRadius","gradient","createRadialGradient","roundRect","innerGradient","sparkleSize","comboX","comboY","initialConfig","initialSong","initialBpm","minHeight","inset","pointerEvents","flex","entries","toggleMute","newMuted","GameSelector","visitor","setDialogText","setCurrentAction","selectedGame","setSelectedGame","gameRef","PageNavigation","congratulations","sorry","wonPoints","tryAgain","backToMenu","RacingGame","TetrisGame","tetris","SnakeGame","FlappyBirdGame","flappyBird","BreakoutGame","breakout","PenaltyShootoutGame","penaltyShootout","CandyCrushGame","candyCrush","RhythmHighway","rhythmHighway","subtitle","Avatar","Home","AboutMe","Work","Portfolio","Contact","greetings","avatar","dialogues","greetingWithName","greeting","dialogText","currentAction","setBrowserOpen","setBrowserMinimized","useIsMobile","pendingBrowserOpen","setPendingBrowserOpen","setVolume","useAudio","handleNavigate","browserActions","handleDialogComplete","DELAYS","BROWSER_OPEN","AUDIO_VOLUMES","BACKGROUND_MUSIC","root","getElementById","classList","remove","onDialogComplete","onOpenBrowser","useMemo","maduroImg","BrowserWindow","renderRightSideComponent","loader"],"sourceRoot":""}