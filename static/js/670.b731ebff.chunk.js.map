{"version":3,"file":"static/js/670.b731ebff.chunk.js","mappings":"oKAEO,MAAMA,EAAqBA,KAChCC,EAAAA,EAAAA,MAAA,OAAKC,QAAQ,YAAYC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAcC,SAAA,EACjEC,EAAAA,EAAAA,KAAA,QAAMC,EAAE,sBACRD,EAAAA,EAAAA,KAAA,QAAME,EAAE,IAAIC,EAAE,IAAIP,MAAM,IAAIC,OAAO,SAI1BO,EAAwBA,KACnCV,EAAAA,EAAAA,MAAA,OAAKC,QAAQ,YAAYC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAcC,SAAA,EACjEC,EAAAA,EAAAA,KAAA,QAAMC,EAAE,qBACRD,EAAAA,EAAAA,KAAA,QAAME,EAAE,IAAIC,EAAE,IAAIP,MAAM,IAAIC,OAAO,SAI1BQ,EAAwBA,KACnCX,EAAAA,EAAAA,MAAA,OACEC,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,KAAK,OACLQ,OAAO,eACPC,YAAY,MAAKR,SAAA,EAEjBC,EAAAA,EAAAA,KAAA,QACEC,EAAE,oEACFO,cAAc,WAEhBR,EAAAA,EAAAA,KAAA,YAAUS,OAAO,sBAIRC,EAAqBA,KAChCV,EAAAA,EAAAA,KAAA,OAAKL,QAAQ,YAAYC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAcC,UACjEC,EAAAA,EAAAA,KAAA,QAAME,EAAE,IAAIC,EAAE,IAAIP,MAAM,IAAIC,OAAO,QAI1Bc,EAAqBA,KAChCjB,EAAAA,EAAAA,MAAA,OAAKC,QAAQ,YAAYC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAcC,SAAA,EACjEC,EAAAA,EAAAA,KAAA,QAAMC,EAAE,8DACRD,EAAAA,EAAAA,KAAA,WAASS,OAAO,iCCGpB,EAhCoDG,IAK7C,IAL8C,aACnDC,EAAY,cACZC,EAAa,OACbC,EAAM,QACNC,EAAU,WACXJ,EACC,MAAMK,EAAwB,cAAZD,EAA0B,wBAA0B,iBAEtE,OACEtB,EAAAA,EAAAA,MAAA,OAAKuB,UAAWA,EAAUlB,SAAA,EACxBC,EAAAA,EAAAA,KAAA,UACEiB,UAA4B,YAAjBJ,EAA6B,SAAW,GACnDK,QAASA,IAAMJ,EAAc,WAAWf,SAEvCgB,EAAOI,WAEVnB,EAAAA,EAAAA,KAAA,UACEiB,UAA4B,cAAjBJ,EAA+B,SAAW,GACrDK,QAASA,IAAMJ,EAAc,aAAaf,SAEzCgB,EAAOK,aAEVpB,EAAAA,EAAAA,KAAA,UACEiB,UAA4B,aAAjBJ,EAA8B,SAAW,GACpDK,QAASA,IAAMJ,EAAc,YAAYf,SAExCgB,EAAOM,eCyQhB,EA5RoDT,IAU7C,IAV8C,eACnDU,EAAc,SACdvB,EAAQ,WACRwB,EAAU,WACVC,EAAU,OACVC,EAAM,SACNC,GAAW,EAAK,YAChBC,GAAc,EAAI,iBAClBC,GAAmB,EAAK,KACxBC,GACDjB,EACC,MAAMkB,GAAIC,EAAAA,EAAAA,GAAgBF,IACnBG,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,IACxCC,EAAUC,IAAeF,EAAAA,EAAAA,WAAS,IAClCrB,EAAcwB,IAAmBH,EAAAA,EAAAA,UAAiB,IAChDI,aAAaC,QAAQ,iBAAmB,YAE1CC,EAAkBC,IAAuBP,EAAAA,EAAAA,WAAS,IAClDQ,EAAoBC,IAAyBT,EAAAA,EAAAA,WAAS,GACvDU,GAAaC,EAAAA,EAAAA,QAAuB,MACpCC,GAAeD,EAAAA,EAAAA,QAAuB,OAG5CE,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAsBC,IACtBL,EAAWM,UAAYN,EAAWM,QAAQC,SAASF,EAAMG,SAC3DX,GAAoB,GAElBK,EAAaI,UAAYJ,EAAaI,QAAQC,SAASF,EAAMG,SAC/DT,GAAsB,IAK1B,OADAU,SAASC,iBAAiB,YAAaN,GAChC,IAAMK,SAASE,oBAAoB,YAAaP,IACtD,KAGHD,EAAAA,EAAAA,WAAU,KACJrB,GAAYC,GACdM,GAAe,IAEhB,CAACP,EAAUC,IAEd,MAAM6B,GAAWC,EAAAA,EAAAA,aAAY,CAACC,EAAeC,KAC3CtB,EAAgBqB,GAChBpB,aAAasB,QAAQ,eAAgBF,GACtB,YAAXC,EACFlB,GAAoB,GAEpBE,GAAsB,IAEvB,IAEGkB,GAAqBJ,EAAAA,EAAAA,aAAY,KACrChB,EAAoBqB,IAASA,IAC5B,IAEGC,GAAuBN,EAAAA,EAAAA,aAAY,KACvCd,EAAsBmB,IAASA,IAC9B,IAEGE,GAA2BP,EAAAA,EAAAA,aAAaC,GAAkBF,EAASE,EAAO,WAAY,CAACF,IACvFS,GAA6BR,EAAAA,EAAAA,aAAaC,GAAkBF,EAASE,EAAO,aAAc,CAACF,IAyCjG,OACE9D,EAAAA,EAAAA,MAAA,OACEuB,UAAS,kBAAAiD,OAAoBlC,EAAc,YAAc,GAAE,KAAAkC,OAAItC,EAAmB,YAAc,IAChGV,QAVuBiD,KACrBzC,IAAaC,IACT,OAANF,QAAM,IAANA,GAAAA,IACAQ,GAAe,KAOalC,SAAA,EAG5BL,EAAAA,EAAAA,MAAA,OACEuB,UAAU,mBACVmD,cAAeA,KACR1C,GACHO,GAAgBD,IAElBjC,SAAA,EAEFL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAuBlB,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,eAAclB,SAAC,kBA3CdsE,EA4CA/C,EA3CmB,CACxC,GAAIQ,EAAEwC,QAAQC,OAAOC,KACrB,aAAc1C,EAAEwC,QAAQC,OAAOE,MAC/B,YAAa3C,EAAEwC,QAAQC,OAAOG,KAC9B,iBAAkB5C,EAAEwC,QAAQC,OAAOI,UACnC,eAAgB7C,EAAEwC,QAAQC,OAAOK,QACjC,aAAc9C,EAAEwC,QAAQC,OAAOM,OAEnBR,IAAYvC,EAAEwC,QAAQC,OAAOC,UAqCvC9E,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,4BAA2BlB,SAAA,EACxCC,EAAAA,EAAAA,KAAA,UACEiB,UAAU,2BACV,aAAW,WACXC,QAAU4D,IACRA,EAAEC,kBACErD,EAEEM,IACFC,GAAe,GACL,OAAVT,QAAU,IAAVA,GAAAA,KAIQ,OAAVA,QAAU,IAAVA,GAAAA,KAEFzB,SACH,OAGDC,EAAAA,EAAAA,KAAA,UACEiB,UAAU,2BACV,aAAW,WACXC,QAAU4D,IAER,GADAA,EAAEC,kBACErD,EAAU,CAEZ,GAAIM,EAAa,OAEjBC,GAAe,GACT,OAANR,QAAM,IAANA,GAAAA,GACF,MAEEQ,GAAgBD,IAElBjC,SACH,YAGDC,EAAAA,EAAAA,KAAA,UACEiB,UAAU,wBACV,aAAW,QACXC,QAAU4D,IACRA,EAAEC,kBACErD,IAAaM,GAKjBI,GAAY,IACZrC,SACH,gBAOLL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kBAAiBlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQU,MAAMC,QAC7CjF,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQU,MAAME,QAC7ClF,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQU,MAAMG,QAC7CnF,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQU,MAAMI,aAC7C1F,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAoBoE,IAAKzC,EAAW7C,SAAA,EACjDC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAYC,QAAS2C,EAAmB9D,SACrD+B,EAAEwC,QAAQU,MAAMjE,SAElByB,IACCxC,EAAAA,EAAAA,KAACsF,EAAa,CACZzE,aAAcA,EACdC,cAAekD,EACfjD,OAAQe,EAAEwC,QAAQvD,OAClBC,QAAQ,gBAIdhB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQU,MAAMO,WAI/C7F,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iBAAgBlB,SAAA,EAC7BL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,cAAalB,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,UACEiB,UAAU,kBACVC,QAtHSsE,KACjBjE,EAAW,KAsHHkE,SAA6B,KAAnBnE,EACV,aAAW,OAAMvB,UAEjBC,EAAAA,EAAAA,KAACP,EAAQ,OAEXO,EAAAA,EAAAA,KAAA,UAAQiB,UAAU,qBAAqBwE,UAAQ,EAAC,aAAW,UAAS1F,UAClEC,EAAAA,EAAAA,KAACI,EAAW,OAEdJ,EAAAA,EAAAA,KAAA,UAAQiB,UAAU,qBAAqB,aAAW,UAASlB,UACzDC,EAAAA,EAAAA,KAACK,EAAW,OAEdL,EAAAA,EAAAA,KAAA,UAAQiB,UAAU,kBAAkB,aAAW,OAAMlB,UACnDC,EAAAA,EAAAA,KAACU,EAAQ,OAEXV,EAAAA,EAAAA,KAAA,UAAQiB,UAAU,kBAAkBC,QAjIzBwE,KACjBnE,EAAW,KAgIoD,aAAW,OAAMxB,UACxEC,EAAAA,EAAAA,KAACW,EAAQ,UAGbX,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,iBAAgBlB,UAC7BC,EAAAA,EAAAA,KAAA,SACE2F,KAAK,OACLC,MAnKavB,KACmB,CACtC,GAAI,4BACJ,aAAc,8BACd,YAAa,sCACb,iBAAkB,uCAClB,eAAgB,wCAENA,IAAY,mBA2JTwB,CAAcvE,GACrBwE,UAAQ,EACR7E,UAAU,wBAGdjB,EAAAA,EAAAA,KAAA,UAAQiB,UAAU,gBAAelB,SAAC,WAIpCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,kBAAiBlB,UAC9BC,EAAAA,EAAAA,KAAA,OAAKiB,UAAS,0BAAAiD,OAA4BrD,GAAed,SAAEA,MAI5DoC,IACCnC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAeC,QAASA,IAAMkB,GAAY,GAAOrC,UAC9DL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,eAAclB,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAK+B,EAAEwC,QAAQyB,KAAKC,SACpBhG,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,iBAAgBlB,SAAE+B,EAAEwC,QAAQyB,KAAKE,YAC9CjG,EAAAA,EAAAA,KAAA,KAAAD,SAAI+B,EAAEwC,QAAQyB,KAAKG,mBACnBlG,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,aAAYlB,SAAE+B,EAAEwC,QAAQyB,KAAKI,aAC1CnG,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQyB,KAAKK,YACzCpG,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,YAAWlB,SAAE+B,EAAEwC,QAAQyB,KAAKM,uBAM/C3G,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,cAAalB,SAAE+B,EAAEwC,QAAQgC,cACxC5G,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,eAAclB,SAAA,EAC3BL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAwBoE,IAAKvC,EAAa/C,SAAA,EACvDL,EAAAA,EAAAA,MAAA,UACEuB,UAAU,sBACVC,QAAS6C,EACT,aAAYjC,EAAEwC,QAAQU,MAAMjE,OAAOhB,SAAA,CACpC,gBACK+B,EAAEwC,QAAQvD,OAAOF,IAAkDA,KAExE6B,IACC1C,EAAAA,EAAAA,KAACsF,EAAa,CACZzE,aAAcA,EACdC,cAAemD,EACflD,OAAQe,EAAEwC,QAAQvD,OAClBC,QAAQ,kBAIdhB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,cAAalB,SAAC,kBAC9BC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,cAAalB,SAAE+B,EAAEwC,QAAQiC,sBAzMxBlC,O,wBCnFpB,MAAMmC,EAAoC5F,IAS1C,IAT2C,MACjDoF,EAAK,KACLS,EAAI,MACJC,EAAK,aACLC,EAAY,WACZC,EAAU,QACV1F,EAAO,YACP2F,EAAW,SACXpB,GAAW,GACX7E,EACA,MAAMkG,EACLH,GAAgBC,EACb,CACAG,WAAW,2BAAD7C,OAA6ByC,EAAY,SAAAzC,OAAQ0C,EAAU,WAErE,CAAEI,gBAAiBN,GAAS,WAEhC,OACChH,EAAAA,EAAAA,MAAA,UACCwB,QAASA,EACTuE,SAAUA,EACVxE,UAAU,YACVgG,MAAOH,EAAQ/G,SAAA,EAGfC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,uBAGfvB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,CAEhC0G,IAAQzG,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,iBAAgBlB,SAAE0G,KAG1CzG,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,kBAAiBlB,SAAEiG,IAGhCa,IACA7G,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,wBAAuBlB,SAAE8G,QAKxC7G,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,uBAAsBlB,UACpCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,iCAIhBjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,gCC5CLiG,EAA0CtG,IAWhD,IAXiD,KACvD+E,EAAI,MACJK,EAAK,QACLmB,EAAO,MACPC,EAAK,MACLC,EAAK,WACLC,EAAa,UAAS,SACtBC,EAAQ,WACRC,EAAU,cACVC,EAAa,iBACbC,GAAmB,GACnB9G,EACA,MAAO+G,EAAWC,IAAgB1F,EAAAA,EAAAA,WAAS,IAE3Ca,EAAAA,EAAAA,WAAU,KACT,GAAI2E,GAA6B,UAAT/B,EAAkB,CACzC,MAAMkC,EAAWC,YAAY,KAC5BF,EAAa9D,IAASA,IACpB,KACH,MAAO,IAAMiE,cAAcF,EAC5B,GACE,CAACH,EAAkB/B,IAEtB,MAQMqC,EAAehC,GARC,CACrBiC,MAAO,gCACPC,MAAO,qBACPC,SAAU,yBACVC,cAAe,qCACfC,OAAQ,IAGmC1C,GAE5C,OACCjG,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,eAAclB,SAAA,EAE5BC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,qBAGfvB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EAEjCC,EAAAA,EAAAA,KAAA,OACCiB,UAAU,oBACVgG,MAAO,CAAED,gBAAiBM,MAG3B5H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uBAAsBlB,SAAA,CAEnCiI,IACAhI,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,qBAAoBlB,SAAEiI,SAI1BM,IAAVlB,IACA1H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qBAAoBlB,SAAA,EAClCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,2BAA0BlB,SAAC,yBACxCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,2BAA0BlB,SACrCqH,EAAMmB,2BAMCD,IAAVjB,GAAgC,kBAAT1B,IACvBjG,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qBAAoBlB,SAAA,EAClCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,2BAA0BlB,SAAC,WACxCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,2BAA0BlB,SAAEsH,OAK1CF,IACAnH,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,uBAAsBlB,SAAEoH,IAIrCM,EAGS,UAAT9B,GAAoB+B,IAAqBH,GACzCvH,EAAAA,EAAAA,KAAA,KACCiB,UAAU,qBACVgG,MAAO,CACNP,MAAOY,EACPkB,QAASb,EAAY,EAAI,GACxB5H,SACF,mCAGEwH,GAAYC,GACfxH,EAAAA,EAAAA,KAAA,UACCkB,QAASqG,EACTtG,UAAU,sBACVgG,MAAO,CACND,gBAAiBM,GAChBvH,SAEDyH,IAEC,e,cChHF,MAAMiB,EACL,GADKA,EAEP,GAFOA,EAGJ,GAHIA,EAIL,GAJKA,EAKR,GALQA,EAMR,GANQA,EAOR,GAPQA,EAQR,GAOQC,EACH,CACNC,KAAM,EACNC,MAAO,GACPC,OAAQ,GACRC,KAAM,KALGJ,EAOL,CACJC,KAAM,EACNI,IAAK,GACLF,OAAQ,GACRG,KAAM,IAXGN,EAaJ,CACLC,KAAM,EACNM,KAAM,EACNJ,OAAQ,EACRK,KAAM,GAOGC,EAAS,CACpBC,IAAK,UACLC,KAAM,UACNC,IAAK,UACLC,MAAO,CACLC,KAAM,UACNC,MAAO,UACPC,OAAQ,UACRC,KAAM,WAERC,KAAM,CACJJ,KAAM,UACNC,MAAO,UACPC,OAAQ,WAEVG,MAAO,CACLL,KAAM,QACNC,MAAO,QACPC,OAAQ,SAEVI,OAAQ,CACNN,KAAM,QACNC,MAAO,QACPC,OAAQ,UAOCK,EACJ,CAAE7J,EAAG,EAAGC,EAAG,EAAG6J,EAAG,KAAMC,EAAG,KADtBF,EAEN,CAAE7J,EAAG,EAAGC,EAAG,IAAK6J,EAAG,KAAMC,EAAG,KAFtBF,EAGJ,CAAE7J,EAAG,EAAGC,EAAG,IAAK6J,EAAG,KAAMC,EAAG,KAM/BC,EAAc,CAClBC,UAAW,CAAEjK,EAAG,EAAGC,EAAG,EAAG6J,EAAG,IAAKC,EAAG,KACpCG,YAAa,CAAElK,EAAG,IAAKC,EAAG,EAAG6J,EAAG,IAAKC,EAAG,KACxCI,MAAO,CAAEnK,EAAG,IAAKC,EAAG,EAAG6J,EAAG,IAAKC,EAAG,KAClCK,WAAY,CAAEpK,EAAG,EAAGC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACvCM,YAAa,CAAErK,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC1CO,SAAU,CAAEtK,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACvCQ,OAAQ,CAAEvK,EAAG,IAAKC,EAAG,EAAG6J,EAAG,IAAKC,EAAG,KACnCS,YAAa,CAAExK,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC1CU,YAAa,CAAEzK,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC1CW,YAAa,CAAE1K,EAAG,EAAGC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACxCY,YAAa,CAAE3K,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC1Ca,SAAU,CAAE5K,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACvCc,MAAO,CAAE7K,EAAG,KAAMC,EAAG,EAAG6J,EAAG,IAAKC,EAAG,KACnCe,YAAa,CAAE9K,EAAG,KAAMC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC3CgB,WAAY,CAAE/K,EAAG,KAAMC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KAC1CiB,SAAU,CAAEhL,EAAG,KAAMC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACxCkB,MAAO,CAAEjL,EAAG,EAAGC,EAAG,KAAM6J,EAAG,IAAKC,EAAG,KACnCmB,OAAQ,CAAElL,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACrCoB,MAAO,CAAEnL,EAAG,IAAKC,EAAG,KAAM6J,EAAG,IAAKC,EAAG,KACrCqB,YAAa,CAAEpL,EAAG,EAAGC,EAAG,KAAM6J,EAAG,IAAKC,EAAG,KACzCsB,YAAa,CAAErL,EAAG,IAAKC,EAAG,KAAM6J,EAAG,IAAKC,EAAG,KAC3CuB,MAAO,CAAEtL,EAAG,IAAKC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACpCwB,KAAM,CAAEvL,EAAG,KAAMC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,KACpCyB,MAAO,CAAExL,EAAG,KAAMC,EAAG,IAAK6J,EAAG,IAAKC,EAAG,IACrC0B,MAAO,CAAEzL,EAAG,KAAMC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IACpC2B,MAAO,CAAE1L,EAAG,KAAMC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IACpC4B,MAAO,CAAE3L,EAAG,KAAMC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IACpC6B,MAAO,CAAE5L,EAAG,KAAMC,EAAG,KAAM6J,EAAG,GAAIC,EAAG,IACrC8B,mBAAoB,CAAE7L,EAAG,KAAMC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IACjD+B,uBAAwB,CAAE9L,EAAG,KAAMC,EAAG,KAAM6J,EAAG,GAAIC,EAAG,IACtDgC,oBAAqB,CAAE/L,EAAG,KAAMC,EAAG,KAAM6J,EAAG,GAAIC,EAAG,IACnDiC,aAAc,CAAEhM,EAAG,IAAKC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IAC1CkC,gBAAiB,CAAEjM,EAAG,KAAMC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IAC9CmC,YAAa,CAAElM,EAAG,IAAKC,EAAG,IAAK6J,EAAG,GAAIC,EAAG,IACzCoC,KAAM,CAAEnM,EAAG,KAAMC,EAAG,KAAM6J,EAAG,GAAIC,EAAG,KA0CzBqC,GAtCSC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACjBrC,GAAW,IACdsC,MAAc,EAAItC,EAAYiC,gBAAgBnC,EAAvC,GACPyC,WAAY,CACVvC,EAAYQ,YACZR,EAAYqB,YACZrB,EAAYoB,YACZpB,EAAYc,YACZd,EAAYU,YACZV,EAAYS,YACZT,EAAYW,YACZX,EAAYE,YACZF,EAAYK,aAEdmC,OAAQ,CACNxC,EAAYG,MACZH,EAAYa,MACZb,EAAYI,WACZJ,EAAYe,WACZf,EAAYC,UACZD,EAAYiB,MACZjB,EAAYmB,MACZnB,EAAYkB,OACZlB,EAAYsB,MACZtB,EAAYgB,SACZhB,EAAYY,SACZZ,EAAYM,UAEdmC,KAAM,CACJzC,EAAY4B,MACZ5B,EAAY0B,MACZ1B,EAAYyB,MACZzB,EAAY2B,MACZ3B,EAAYuB,KACZvB,EAAYwB,SASHkB,EAAiB,CAC5BC,IAAK,GACLjN,MAAO,IACPC,OAAQ,IACRiN,UAAW,IACXC,cAAe,IACfC,aAAc,EACdC,MAAO,EACPC,YAAa,IACbC,aAAc,IACdC,aAAc,IACdC,WAAY,EACZC,YAAa,GACbC,SAAU,KACVC,UAAW,KACXC,UAAW,KACXC,UAAW,KC9KN,MAAMC,EAIX,gBAAOC,GACL,OAAOC,YAAYC,KACrB,CAKA,YAAOC,CAAMC,GAAmE,IAA1BC,EAAWC,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAClE,GAAY,OAARF,QAAwB1F,IAAR0F,EAAmB,CACrC,MAAM9N,EAAIkO,SAASC,OAAOL,GAAM,IAChC,IAAKM,MAAMpO,GAAI,OAAOA,CACxB,CACA,OAAO+N,CACT,CAKA,cAAOM,CAAQP,GAAqE,IAA5BC,EAAWC,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EACpE,GAAY,OAARF,QAAwB1F,IAAR0F,EAAmB,CACrC,MAAM9N,EAAIsO,WAAWH,OAAOL,IAC5B,IAAKM,MAAMpO,GAAI,OAAOA,CACxB,CACA,OAAO+N,CACT,CAKA,YAAOQ,CAAM7I,EAAe8I,EAAaC,GACvC,OAAOC,KAAKD,IAAID,EAAKE,KAAKF,IAAI9I,EAAO+I,GACvC,CAKA,gBAAOE,CAAUH,EAAaC,GAC5B,OAAOC,KAAKE,MAAMC,KAAKC,YAAYN,EAAKC,EAAKC,KAAKK,UACpD,CAKA,mBAAOC,CAAgBC,GACrB,OAAOA,EAAQJ,KAAKF,UAAU,EAAGM,EAAQhB,OAAS,GACpD,CAKA,uBAAOiB,CAAiBC,EAAWC,GACjC,OAAQD,EAAIC,EAASA,CACvB,CAKA,iBAAOC,CAAWC,EAAWC,EAAeC,GAC1C,OAAOF,EAAIC,EAAQC,CACrB,CAKA,kBAAOV,CAAYW,EAAWC,EAAWC,GACvC,OAAOF,GAAKC,EAAID,GAAKE,CACvB,CAKA,aAAOC,CAAOH,EAAWC,EAAWC,GAClC,OAAOF,GAAKC,EAAID,GAAKf,KAAKmB,IAAIF,EAAS,EACzC,CAKA,cAAOG,CAAQL,EAAWC,EAAWC,GACnC,OAAOF,GAAKC,EAAID,IAAM,EAAIf,KAAKmB,IAAI,EAAIF,EAAS,GAClD,CAKA,gBAAOI,CAAUN,EAAWC,EAAWC,GACrC,OAAOF,GAAKC,EAAID,KAAOf,KAAKsB,IAAIL,EAAUjB,KAAKuB,IAAM,EAAI,GAC3D,CAKA,qBAAOC,CAAeC,EAAkBC,GACtC,OAAO,EAAI1B,KAAKmB,IAAInB,KAAK2B,EAAGF,EAAWA,EAAWC,EACpD,CAKA,eAAOE,CAASvI,EAAewI,EAAmB9B,GAChD,IAAI+B,EAASzI,EAAQwI,EACrB,KAAOC,GAAU/B,GAAK+B,GAAU/B,EAChC,KAAO+B,EAAS,GAAGA,GAAU/B,EAC7B,OAAO+B,CACT,CAMA,cAAOC,CAAQC,EAAYC,EAAYC,EAAYC,GAA2C,IAA/BlB,EAAe3B,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAC/E,MAAM8C,EAAkB,GAAVnB,EACRoB,EAAkB,GAAVpB,EAKd,QAHae,EAAKC,EAAKG,EACVF,EAAKC,EAAKE,GAFVL,EAAKC,EAAKG,EAGVF,EAAKC,EAAKE,EAEzB,CAMA,cAAOC,CACLC,EAKAC,EACAC,EACAC,EACAC,EACA3R,EACAC,EACAiN,GAEAqE,EAAEK,OAAOtR,GAAKiR,EAAEM,MAAMvR,GAAK,GAAKkR,EAChCD,EAAEK,OAAOrR,GAAKgR,EAAEM,MAAMtR,GAAK,GAAKkR,EAChCF,EAAEK,OAAOE,GAAKP,EAAEM,MAAMC,GAAK,GAAKJ,EAChCH,EAAEQ,OAAOC,MAAQL,EAAcJ,EAAEK,OAAOE,EACxCP,EAAEQ,OAAOzR,EAAI0O,KAAKE,MAAMlP,EAAQ,EAAKuR,EAAEQ,OAAOC,MAAQT,EAAEK,OAAOtR,EAAIN,EAAS,GAC5EuR,EAAEQ,OAAOxR,EAAIyO,KAAKE,MAAMjP,EAAS,EAAKsR,EAAEQ,OAAOC,MAAQT,EAAEK,OAAOrR,EAAIN,EAAU,GAC9EsR,EAAEQ,OAAO3H,EAAI4E,KAAKE,MAAOqC,EAAEQ,OAAOC,MAAQ9E,EAAYlN,EAAS,EACjE,EAIwBgP,KAAKuB,GACCvB,KAAKuB,GCvJ9B,MAAM0B,EAaXC,WAAAA,GAAoE,IAAxD/E,EAAqBmB,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,IAAKlB,EAAoBkB,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAAC,KAZzD6D,SAA0B,GAAG,KAC7BhF,mBAAa,OACbC,kBAAY,OACZgF,YAAsB,EAAE,KACxBC,oBAA2C,IAAIC,IAAM,KACrDC,qBAA4C,IAAID,IAAM,KACtDE,mBAGJ,IAAIF,IAAM,KACNG,gBAA0B,EAGhCtD,KAAKhC,cAAgBA,EACrBgC,KAAK/B,aAAeA,CACtB,CAKAsF,WAAAA,GACE,OAAOvD,KAAKgD,QACd,CAKAQ,cAAAA,GACE,OAAOxD,KAAKiD,WACd,CAKAQ,sBAAAA,GACE,OAAO,IAAIN,IAAInD,KAAKkD,oBACtB,CAKAQ,uBAAAA,GACE,OAAO,IAAIP,IAAInD,KAAKoD,qBACtB,CAKAO,yBAAAA,CACEC,EACAC,EACAC,EACAC,GAEA,MAAMC,EAAYhE,KAAKqD,mBAAmBY,IAAIH,GAC9C,IAAKE,EAAW,OAGhB,MAAME,EAAWF,EAAUG,KACxBC,GAASA,EAAKR,eAAiBA,GAAgB/D,KAAKwE,IAAID,EAAKP,OAASA,GAAU,IAGnF,GAAIK,IAAaA,EAASI,WAAWC,IAAIR,GAAa,CACpDG,EAASI,WAAWE,IAAIT,GACxB,MAAM5P,EAAU6L,KAAKoD,qBAAqBa,IAAIH,IAAkB,EAChE9D,KAAKoD,qBAAqBqB,IAAIX,EAAe3P,EAAU,EACzD,CACF,CAKAuQ,iBAAAA,CAAkBC,GAQhB,MAAMC,EAAqC,CAAC,EACtCC,EAAsC,CAAC,EACvCC,EAAiD,CAAC,EAExD9E,KAAKkD,oBAAoB6B,QAAQ,CAACC,EAAOC,KACvCL,EAAWK,GAAQD,EACnBF,EAAuBG,GAAQD,EAAQL,IAGzC3E,KAAKoD,qBAAqB2B,QAAQ,CAACC,EAAOC,KACxCJ,EAAYI,GAAQD,IAOtB,MAAME,EAAuBrF,KAAKE,MAA6B,IAAvBC,KAAKgD,SAAS5D,QAEtD,MAAO,CACLwF,aACAC,cACAC,yBACA7B,YAAaiC,EACbC,cAAenF,KAAKgD,SAAS5D,OAC7BuF,YAEJ,CAKAS,WAAAA,CAAYzC,GACV,OAAO3C,KAAKgD,SAASnD,KAAKwF,MAAM1C,EAAI3C,KAAKhC,eAAiBgC,KAAKgD,SAAS5D,OAC1E,CAKQkG,KAAAA,GACN,OAAgC,IAAzBtF,KAAKgD,SAAS5D,OAAe,EAAIY,KAAKgD,SAAShD,KAAKgD,SAAS5D,OAAS,GAAGmG,GAAG7C,MAAMtR,CAC3F,CAKQoU,UAAAA,CAAWC,EAAerU,GAChC,MAAMkP,EAAIN,KAAKgD,SAAS5D,OACxBY,KAAKgD,SAAS0C,KAAK,CACjBC,MAAOrF,EACPsF,GAAI,CACFlD,MAAO,CAAEtR,EAAG4O,KAAKsF,QAAS3C,EAAGrC,EAAIN,KAAKhC,eACtCyE,OAAQ,CAAEtR,EAAG,EAAGC,EAAG,EAAGuR,EAAG,GACzBC,OAAQ,CAAEzR,EAAG,EAAGC,EAAG,EAAG6J,EAAG,EAAG4H,MAAO,IAErC0C,GAAI,CACF7C,MAAO,CAAEtR,EAAGA,EAAGuR,GAAIrC,EAAI,GAAKN,KAAKhC,eACjCyE,OAAQ,CAAEtR,EAAG,EAAGC,EAAG,EAAGuR,EAAG,GACzBC,OAAQ,CAAEzR,EAAG,EAAGC,EAAG,EAAG6J,EAAG,EAAG4H,MAAO,IAErC4C,MAAOA,EACPI,QAAS,GACTC,KAAM,GACNnO,MAAOkI,KAAKwF,MAAM/E,EAAIN,KAAK/B,cAAgB,EAAI7D,EAAOS,KAAOT,EAAOI,OAExE,CAKQuL,SAAAA,CAAUzF,EAAW0F,EAAgBnC,GAC3C,GAAI7D,KAAKgD,SAAS1C,GAAI,CACpB,MAAM2F,EAAiB,CAAErR,OAAQoR,EAAQnC,OAAQA,GAG3CC,EAAgB9D,KAAKkG,iBAAiBF,GAC5C,GAAIlC,EAAe,CACjB,MAAMqC,EAAW,GAAAhR,OAAM2O,EAAa,KAAA3O,OAAI6K,KAAKsD,mBAE5C2C,EAAuBE,YAAcA,EAGjCnG,KAAKqD,mBAAmBkB,IAAIT,IAC/B9D,KAAKqD,mBAAmBoB,IAAIX,EAAe,IAE7C9D,KAAKqD,mBAAmBY,IAAIH,GAAgB4B,KAAK,CAC/C9B,aAActD,EACduD,OAAQA,EACRS,WAAY,IAAI8B,KAEpB,CAEApG,KAAKgD,SAAS1C,GAAGuF,QAAQH,KAAKO,EAChC,CACF,CAKQI,OAAAA,CAAQC,EAAeC,EAAcC,EAAef,EAAerU,GACzE,MAAMqV,EAASzG,KAAKsF,QACdoB,EAAOD,EAAS7H,EAAUI,MAAM5N,EAAG,GAAK4O,KAAKhC,cAC7CuC,EAAQ+F,EAAQC,EAAOC,EAG7B,IAAK,IAAIlG,EAAI,EAAGA,EAAIgG,EAAOhG,IACzBN,KAAKwF,WACH5G,EAAUmC,OAAO,EAAG0E,EAAOnF,EAAIgG,GAC/B1H,EAAUsC,UAAUuF,EAAQC,EAAMpG,EAAIC,IAK1C,IAAK,IAAID,EAAI,EAAGA,EAAIiG,EAAMjG,IACxBN,KAAKwF,WAAWC,EAAO7G,EAAUsC,UAAUuF,EAAQC,GAAOJ,EAAQhG,GAAKC,IAIzE,IAAK,IAAID,EAAI,EAAGA,EAAIkG,EAAOlG,IACzBN,KAAKwF,WACH5G,EAAUsC,UAAUuE,EAAO,EAAGnF,EAAIkG,GAClC5H,EAAUsC,UAAUuF,EAAQC,GAAOJ,EAAQC,EAAOjG,GAAKC,GAG7D,CAKQoG,WAAAA,GAAqD,IAAzCC,EAAWzH,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAYG,OAC5CkG,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,EAAG,EACjC,CAKQC,OAAAA,GAAoF,IAA5ED,EAAWzH,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAYG,OAAQhJ,EAAcqO,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAUG,OAC3EkG,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,EAAG9V,EACjC,CAKQgW,QAAAA,GAIC,IAHPF,EAAWzH,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAYG,OAC1B2L,EAAatG,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAWG,OAC3BhJ,EAAcqO,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAUC,KAE3BoG,KAAKqG,QAAQO,EAAKA,EAAKA,EAAKnB,EAAO3U,EACrC,CAKQiW,kBAAAA,GAGC,IAFPH,EAAWzH,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAYE,MAC1B/I,EAAcqO,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAGxF,EAAUK,IAE3BgG,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,EAAG9V,EAAS,GACxCkP,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,GAAI9V,GAChCkP,KAAKqG,QAAQO,EAAKA,EAAKA,EAAKjN,EAAWO,KAAMpJ,GAC7CkP,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,EAAG,GAC/B5G,KAAKqG,QAAQO,EAAKA,EAAKA,GAAMjN,EAAWO,KAAMpJ,EAAS,GACvDkP,KAAKqG,QAAQO,EAAKA,EAAKA,EAAK,EAAG,EACjC,CAKQI,UAAAA,GACNhH,KAAKqG,QACH1M,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWO,KACZP,EAAUC,MAEZoG,KAAKqG,QACH1M,EAAYG,OACZH,EAAYG,OACZH,EAAYG,OACZH,EAAWG,OACXH,EAAUG,QAEZkG,KAAKqG,QACH1M,EAAYG,OACZH,EAAYG,OACZH,EAAYG,OACZH,EAAWO,MACVP,EAAUK,KAEbgG,KAAKqG,QACH1M,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWO,KACZP,EAAUG,QAEZkG,KAAKqG,QACH1M,EAAYG,OACZH,EAAYG,OACZH,EAAYG,QACXH,EAAWG,QACXH,EAAUG,OAEf,CAKQmN,QAAAA,GACNjH,KAAKqG,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,GAAI,GAC7BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,EAAG,GAC5BrG,KAAKqG,QAAQ,GAAI,GAAI,GAAI,GAAI,EAC/B,CAKQa,gBAAAA,GAA2C,IAA1BN,EAAWzH,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,IACrCa,KAAKqG,QAAQO,EAAKA,EAAKA,GAAMjN,EAAWO,MAAO8F,KAAKsF,QAAUtF,KAAKhC,cACrE,CAKAmJ,KAAAA,GAAiD,IAA3CC,EAAajI,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAAGkI,EAAelI,UAAAC,OAAA,EAAAD,UAAA,QAAA5F,EAItC,OAHAyG,KAAKgD,SAAW,GAGRoE,GACN,KAAK,EACHpH,KAAK2G,YAAYhN,EAAYI,MAC7BiG,KAAK8G,SAASnN,EAAYE,MAAOF,EAAWO,KAAMP,EAAUC,MAC5DoG,KAAK2G,YAA+B,EAAnBhN,EAAYI,MAC7BiG,KAAK8G,SAASnN,EAAYE,OAAQF,EAAWO,KAAMP,EAAUC,MAC7DoG,KAAK2G,YAAYhN,EAAYI,MAC7BiG,KAAK6G,QAAQlN,EAAYG,OAAQH,EAAUK,KAC3CgG,KAAK2G,YAAYhN,EAAYI,MAC7BiG,KAAK8G,SAASnN,EAAYG,OAAQH,EAAWG,OAAQH,EAAUC,MAC/DoG,KAAK2G,YAA+B,EAAnBhN,EAAYI,MAC7BiG,KAAK8G,SAASnN,EAAYE,OAAQF,EAAWQ,KAAMR,EAAUC,MAC7DoG,KAAK2G,YAAYhN,EAAYG,QAC7BkG,KAAKkH,mBACL,MAEF,KAAK,EACHlH,KAAK6G,QAAQlN,EAAYE,MAAOF,EAAUG,QAC1CkG,KAAK8G,SAASnN,EAAYG,OAAQH,EAAWQ,KAAMR,EAAUM,MAC7D+F,KAAK6G,QAAQlN,EAAYI,MAAOJ,EAAUG,QAC1CkG,KAAKgH,aACLhH,KAAK6G,QAAQlN,EAAYG,OAAQH,EAAUM,MAC3C+F,KAAK8G,SAASnN,EAAYI,MAAOJ,EAAWG,QAASH,EAAUK,KAC/DgG,KAAKiH,WACLjH,KAAK6G,QAAQlN,EAAYI,KAAMJ,EAAUG,QACzCkG,KAAK8G,SAASnN,EAAYG,OAAQH,EAAWO,MAAOP,EAAUM,MAC9D+F,KAAKgH,aACLhH,KAAK6G,QAAQlN,EAAYE,OAAQF,EAAUG,QAC3CkG,KAAKkH,mBACL,MAEF,KAAK,EACHlH,KAAK2G,YAAYhN,EAAYE,OAC7BmG,KAAKgH,aACLhH,KAAK8G,SAASnN,EAAYG,OAAQH,EAAWQ,KAAMR,EAAUC,MAC7DoG,KAAK8G,SAASnN,EAAYG,QAASH,EAAWQ,KAAMR,EAAUC,MAC9DoG,KAAKgH,aACLhH,KAAK8G,SAASnN,EAAYE,MAAOF,EAAWO,KAAMP,EAAUK,KAC5DgG,KAAK8G,SAASnN,EAAYE,OAAQF,EAAWO,MAAOP,EAAUK,KAC9DgG,KAAKiH,WACLjH,KAAKgH,aACLhH,KAAK8G,SAASnN,EAAYI,KAAMJ,EAAWG,OAAQH,EAAUG,QAC7DkG,KAAK2G,YAAYhN,EAAYE,OAC7BmG,KAAKgH,aACLhH,KAAKkH,mBACL,MAEF,QACElH,KAAK2G,YAAYhN,EAAYE,OAC7BmG,KAAK+G,qBACL/G,KAAKgH,aACLhH,KAAK8G,SAASnN,EAAYG,OAAQH,EAAWG,OAAQH,EAAUK,KAC/DgG,KAAKiH,WACLjH,KAAK+G,qBACL/G,KAAK8G,SAA4B,EAAnBnN,EAAYI,KAAUJ,EAAWG,OAAQH,EAAUG,QACjEkG,KAAK2G,cACL3G,KAAK6G,QAAQlN,EAAYG,OAAQH,EAAUM,MAC3C+F,KAAKgH,aACLhH,KAAK8G,SAASnN,EAAYI,MAAOJ,EAAWG,OAAQH,EAAUC,MAC9DoG,KAAK6G,QAAQlN,EAAYI,KAAMJ,EAAUM,MACzC+F,KAAK8G,SAASnN,EAAYI,KAAMJ,EAAWG,QAASH,EAAUK,KAC9DgG,KAAKiH,WACLjH,KAAK6G,QAAQlN,EAAYI,MAAOJ,EAAUG,QAC1CkG,KAAK2G,cACL3G,KAAKgH,aACLhH,KAAKkH,mBAGTlH,KAAKsH,eAGL,MAAMC,EAAgBvH,KAAKoF,YAAYiC,GACvCrH,KAAKgD,SAASuE,EAAc5B,MAAQ,GAAGhO,MAAQyC,EAAOU,MACtDkF,KAAKgD,SAASuE,EAAc5B,MAAQ,GAAGhO,MAAQyC,EAAOU,MAEtD,IAAK,IAAIwF,EAAI,EAAGA,EAAIN,KAAK/B,aAAcqC,IACrCN,KAAKgD,SAAShD,KAAKgD,SAAS5D,OAAS,EAAIkB,GAAG3I,MAAQyC,EAAOW,OAG7DiF,KAAKiD,YAAcjD,KAAKgD,SAAS5D,OAASY,KAAKhC,aACjD,CAKQsJ,YAAAA,GAENtH,KAAKkD,oBAAoBsE,QACzBxH,KAAKoD,qBAAqBoE,QAC1BxH,KAAKqD,mBAAmBmE,QACxBxH,KAAKsD,gBAAkB,EAGvB,IAAK,IAAIhD,EAAI,GAAIA,EAAIN,KAAKgD,SAAS5D,OAAS,GAAIkB,GAAK,GAAI,CACvD,MAAMmH,EAAY7I,EAAUuB,aAAa,IAAI5C,EAAQG,aAC/CoG,EAAgB9D,KAAKkG,iBAAiBuB,GAG5C,GAAI3D,EAAe,CACjB,MAAM3P,EAAU6L,KAAKkD,oBAAoBe,IAAIH,IAAkB,EAC/D9D,KAAKkD,oBAAoBuB,IAAIX,EAAe3P,EAAU,EACxD,CAEA6L,KAAK+F,UACHzF,EAAI1B,EAAUkB,UAAU,EAAG,IAC3B2H,EACA7I,EAAUuB,aAAa,CAAC,GAAI,EAAG,KAAM,IAAK,KAAM,OAGlD,IAAK,IAAIuH,EAAI,EAAGA,EAAI,GAAIA,IACtB1H,KAAK+F,UACHzF,EAAI1B,EAAUkB,UAAU,EAAG,IAC3BlB,EAAUuB,aAAa,IAAI5C,EAAQI,SACnCiB,EAAUuB,aAAa,CAAC,KAAM,OAAS,EAAIN,KAAKK,UAGtD,CAGA,IAAK,IAAII,EAAI,GAAIA,EAAIN,KAAKgD,SAAS5D,OAAQkB,GAAK,EAAIT,KAAKwF,MAAM/E,EAAI,KACjEN,KAAK+F,UACHzF,EACA1B,EAAUuB,aAAa,IAAI5C,EAAQI,SACnCiB,EAAUuB,aAAa,CAAC,GAAI,KAAO,EAAoB,EAAhBN,KAAKK,WAKhD,IAAK,IAAII,EAAI,IAAKA,EAAIN,KAAKgD,SAAS5D,OAAQkB,GAAK,GAAKT,KAAKwF,MAAM/E,EAAI,IACnEN,KAAK+F,UAAUzF,EAAG/C,EAAQ7B,OAAQkD,EAAUuB,aAAa,CAAC,GAAI,KAAO,EAAoB,EAAhBN,KAAKK,WAIhF,MAAMyH,EAAiB,EAAE,GAAK,EAAG,IACjC,IAAK,IAAIrH,EAAI,EAAGA,EAAIN,KAAKgD,SAAS5D,OAAQkB,GAAK,GAC7CN,KAAK+F,UAAUzF,EAAG/C,EAAQD,KAAMsB,EAAUuB,aAAawH,GAE3D,CAKAC,cAAAA,GACE,IAAK,MAAMC,KAAW7H,KAAKgD,SACzB6E,EAAQhC,QAAUgC,EAAQhC,QAAQiC,OAAQ9B,GAAWA,EAAOpR,SAAW2I,EAAQD,KAEnF,CAKAyK,SAAAA,CAAUpJ,EAAmBqJ,GAE3B,IAAK,MAAMH,KAAW7H,KAAKgD,SACzB6E,EAAQ/B,KAAO,GAGjB,MAAMA,EAAc,GAEpB,IAAK,IAAIxF,EAAI,EAAGA,EAAI3B,EAAW2B,IAAK,CAClC,MAAMuD,EAAShE,KAAKK,SAAWtB,EAAUuB,aAAa,EAAE,GAAK,KACvDwC,EAAI9C,KAAKwF,MAAMxF,KAAKK,SAAWF,KAAKgD,SAAS5D,QAAUY,KAAKhC,cAC5DgI,EAASpH,EAAUuB,aAAa,IAAI5C,EAAQK,OAG5CqK,EAAW,CACfpE,SACAlB,IACAqD,SACAkC,MANYF,EAAW,EAAKnI,KAAKK,SAAW8H,GAAahC,IAAWzI,EAAQb,KAAO,EAAI,GAOvFoE,QAASlC,EAAUyB,iBAAiBsC,EAAG3C,KAAKhC,gBAE9BgC,KAAKoF,YAAY6C,EAAItF,GAC7BmD,KAAKJ,KAAKuC,GAClBnC,EAAKJ,KAAKuC,EACZ,CAEA,OAAOnC,CACT,CAKAI,gBAAAA,CAAiBF,GAEf,OAAIA,IAAWzI,EAAQ5B,YAAoB,cACvCqK,IAAWzI,EAAQf,YAAoB,cACvCwJ,IAAWzI,EAAQhB,YAAoB,cACvCyJ,IAAWzI,EAAQtB,YAAoB,cACvC+J,IAAWzI,EAAQ1B,YAAoB,cACvCmK,IAAWzI,EAAQ3B,YAAoB,cACvCoK,IAAWzI,EAAQzB,YAAoB,cACvCkK,IAAWzI,EAAQlC,YAAoB,cACvC2K,IAAWzI,EAAQ/B,YAAoB,cACpC,IACT,EC/fK,MAAM2M,EAUXpF,WAAAA,CAAYqF,GASR,KAlBIJ,cAAQ,OACRtH,WAAK,OACL2H,cAAQ,OACRC,WAAK,OACLC,kBAAY,OACZC,kBAAY,OACZjK,iBAAW,OACX0E,iBAAW,EAYjBjD,KAAKgI,SAAWI,EAAOJ,SACvBhI,KAAKU,MAAQ0H,EAAO1H,MACpBV,KAAKqI,SAAWD,EAAOC,SACvBrI,KAAKsI,MAAQF,EAAOE,MACpBtI,KAAKuI,aAAeH,EAAOG,aAC3BvI,KAAKwI,aAAeJ,EAAOI,aAC3BxI,KAAKzB,YAAc6J,EAAO7J,YAC1ByB,KAAKiD,YAAcmF,EAAOnF,WAC5B,CAKAwF,iBAAAA,CAAkBxF,GAChBjD,KAAKiD,YAAcA,CACrB,CAKAyF,YAAAA,CACEC,EACAT,EACAU,EACAC,EACAtB,EACA5G,EACAmI,GAYC,IAVDC,EAAmB5J,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,IACtB6J,EAAoB7J,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,IAUvB,MAAM8J,EAAU1L,EAAQH,gBAAgBnC,EAAIsC,EAAQE,MAC9CyL,EAAehB,EAAQlI,KAAKgI,SAC5BmB,EAAU,EAALxI,EAASuI,EACpB,IA+CIE,EA6BAC,EA5EAC,EAAe,EACfC,GAAU,EAsBd,GAnBIV,EAAWW,KACbb,GAAoBQ,EACXN,EAAWY,QACpBd,GAAoBQ,GAItBR,GAAoBQ,EAAKD,EAAe3B,EAAc9B,MAAQzF,KAAKzB,YAIjE2J,EADEW,EAAWa,OACL9K,EAAU4B,WAAW0H,EAAOlI,KAAKU,MAAOC,GACvCkI,EAAWc,OACZ/K,EAAU4B,WAAW0H,EAAOlI,KAAKqI,SAAU1H,GAE3C/B,EAAU4B,WAAW0H,EAAOlI,KAAKsI,MAAO3H,GAI9CgI,GAAW,GAAKA,EAAU,EAAG,CAC3BT,EAAQlI,KAAKwI,eACfN,EAAQtJ,EAAU4B,WAAW0H,EAAOlI,KAAKuI,aAAc5H,IAIzD,IAAK,MAAMqF,KAAUuB,EAAc1B,QAAS,CAC1C,MAAM+D,EAAU5D,EAAOpR,OAAOqG,EAAIsC,EAAQE,MAC1C,GACEmB,EAAUgD,QACR+G,EACAM,EACAjD,EAAOnC,OAAU+F,EAAU,GAAM5D,EAAOnC,OAAS,EAAI,GAAK,GAC1D+F,GAEF,CACA1B,EAAQlI,KAAKgI,SAAW,EACxBY,EAAWhK,EAAU6C,SAAS8F,EAAc3B,GAAGlD,MAAMC,GAAIsG,EAASjJ,KAAKiD,aACvE,KACF,CACF,CACF,CAIA,IAAK,IAAIyE,EAAIH,EAAc1B,QAAQzG,OAAS,EAAGsI,GAAK,EAAGA,IAAK,CAC1D,MAAM1B,EAASuB,EAAc1B,QAAQ6B,GACrC,GAAI1B,EAAOpR,SAAW2I,EAAQD,KAAM,CAClC,MAAMuM,EAAQ7D,EAAOpR,OAAOqG,EAAIsC,EAAQE,MAEtCmB,EAAUgD,QACR+G,EACAM,EACAjD,EAAOnC,OAAUgG,EAAQ,IAAO7D,EAAOnC,OAAS,EAAI,GAAK,GACzDgG,KAMFT,EAAgB,CACdjY,EAAG4X,EAAc,EAAI/C,EAAOnC,OAASkF,EAAc,GACnD3X,EAAG4X,EAAe,EAAI,KAGxBzB,EAAc1B,QAAQiE,OAAOpC,EAAG,GAEhC4B,EAAezJ,KAAKE,MAAMmI,EAAQ,KAEtC,CACF,CAIA,IAAK,MAAMD,KAAOV,EAAczB,KAAM,CACpC,MAAMiE,EAAO9B,EAAIjC,OAAO/K,EAAIsC,EAAQE,MACpC,GAAIyK,EAAQD,EAAIC,OACVtJ,EAAUgD,QAAQ+G,EAASM,EAAShB,EAAIpE,OAAQkG,EAAM,IAAM,CAC9D7B,EAAQD,EAAIC,OAASD,EAAIC,MAAQA,GACjCU,EAAWhK,EAAU6C,SAASwG,EAAItF,GAAIsG,EAASjJ,KAAKiD,aACpDqG,GAAgB,EAChBC,GAAU,EAEVF,EAAgB,CACdlY,EAAG4X,EAAc,EAAId,EAAIpE,OAASkF,EAAc,GAChD3X,EAAG4X,EAAe,EAAI,IAExB,KACF,CAEJ,CAMA,MAAO,CACLL,QAJFA,EAAU/J,EAAUc,MAAMiJ,GAAU,EAAG,GAKrCT,MAJFA,EAAQtJ,EAAUc,MAAMwI,EAAO,EAAGlI,KAAKgI,UAKrCY,WACAU,eACAC,UACAH,gBACAC,gBAEJ,CAKAW,UAAAA,CACElE,EACAnF,EACA4G,EACAoB,EACAsB,EACA5L,EACA+G,EACApC,GAEA,MAAMiG,EAAU1L,EAAQH,gBAAgBnC,EAAIsC,EAAQE,MAEpD,IAAK,MAAMwK,KAAOnC,EAAM,CACtB,MAAMoE,EAAa9E,EAAY6C,EAAItF,GAGnCsF,EAAItF,EAAI/D,EAAU6C,SAASwG,EAAItF,EAAGhC,EAAKsH,EAAIC,MAAOlI,KAAKiD,aACvDgF,EAAInH,QAAUlC,EAAUyB,iBAAiB4H,EAAItF,EAAG,KAGhDsF,EAAIpE,QAAU7D,KAAKmK,gBACjBlC,EACAiC,EACA3C,EACA0B,EACAN,EACAsB,EACA5L,EACA2E,GAIF,MAAMoH,EAAahF,EAAY6C,EAAItF,GACnC,GAAIuH,IAAeE,EAAY,CAC7B,MAAMzE,EAAQuE,EAAWpE,KAAKuE,QAAQpC,IACvB,IAAXtC,IACFuE,EAAWpE,KAAKgE,OAAOnE,EAAO,GAC9ByE,EAAWtE,KAAKJ,KAAKuC,GAEzB,CACF,CACF,CAKQkC,eAAAA,CACNlC,EACAqC,EACA/C,EACA0B,EACAN,EACAsB,EACA5L,EACA2E,GAEA,MACM+G,EAAO9B,EAAIjC,OAAO/K,EAAIsC,EAAQE,MAGpC,GAAI6M,EAAW3E,MAAQ4B,EAAc5B,MAAQtH,EAC3C,OAAO,EAIT,IAAK,IAAIqJ,EAAI,EAAGA,EATE,GASaA,IAAK,CAClC,MAAMG,EAAU7E,GAAUsH,EAAW3E,MAAQ+B,GAAK1E,EAAS5D,QAG3D,GACEyI,IAAYN,GACZU,EAAIC,MAAQ+B,GACZrL,EAAUgD,QAAQ+G,EAASM,EAAShB,EAAIpE,OAAQkG,EAAM,KACtD,CAEA,OAAgB,EADJ/J,KAAKuK,4BAA4B5B,EAASV,EAAIpE,QACrC6D,GAAMO,EAAIC,MAAQ+B,GAAgBjK,KAAKgI,QAC9D,CAGA,IAAK,MAAMwC,KAAY3C,EAAQ/B,KAAM,CACnC,MAAM2E,EAAYD,EAASxE,OAAO/K,EAAIsC,EAAQE,MAC9C,GACEwK,EAAIC,MAAQsC,EAAStC,OACrBtJ,EAAUgD,QAAQqG,EAAIpE,OAAQkG,EAAMS,EAAS3G,OAAQ4G,EAAW,KAChE,CAEA,OAAgB,EADJzK,KAAKuK,4BAA4BC,EAAS3G,OAAQoE,EAAIpE,QAC7C6D,GAAMO,EAAIC,MAAQsC,EAAStC,OAAUlI,KAAKgI,QACjE,CACF,CACF,CAGA,OAAIC,EAAIpE,QAAU,GAAY,GACrBoE,EAAIpE,OAAS,IAAa,GACvB,CACd,CAKQ0G,2BAAAA,CAA4BG,EAAmBC,GACrD,OAAID,EAAY,IAAa,EACpBA,GAAa,IACVC,EAAOD,EADe,GACE,CACtC,CAKAE,mBAAAA,CACEC,EACAC,EACAC,EACAxD,EACAyD,EACApC,EACA5K,EACAQ,EACAC,EACAC,GAEA,MAAMuM,EAAgBrC,EAAWoC,EAkBjC,MAAO,CAAEH,UAhBTA,EAAYjM,EAAU6C,SACpBoJ,EACCrM,EAAW+I,EAAc9B,MAAQwF,EAAiBjN,EACnD,GAakB8M,WAXpBA,EAAalM,EAAU6C,SACrBqJ,EACCrM,EAAY8I,EAAc9B,MAAQwF,EAAiBjN,EACpD,GAQ8B+M,WANhCA,EAAanM,EAAU6C,SACrBsJ,EACCrM,EAAY6I,EAAc9B,MAAQwF,EAAiBjN,EACpD,GAIJ,EC7TK,MAAMkN,EAOXnI,WAAAA,CAAYoI,EAA+Bta,EAAeC,GAAiB,KANnEqa,SAAG,OACHta,WAAK,OACLC,YAAM,OACPsa,gBAAU,OACT5I,YAAsB,IAG5BxC,KAAKmL,IAAMA,EACXnL,KAAKnP,MAAQA,EACbmP,KAAKlP,OAASA,EACdkP,KAAKoL,WAAata,EAAS,GAC7B,CAKAua,cAAAA,CAAeC,GACbtL,KAAKwC,YAAc8I,CACrB,CAKAC,gBAAAA,CAAiB1a,EAAeC,GAC9BkP,KAAKnP,MAAQA,EACbmP,KAAKlP,OAASA,EACdkP,KAAKoL,WAAata,EAAS,GAC7B,CAKA0W,KAAAA,GACExH,KAAKmL,IAAIK,UAAU,EAAG,EAAGxL,KAAKnP,MAAOmP,KAAKlP,OAC5C,CAMQ2a,OAAAA,CACN5J,EACA6J,EACA3J,EACA4J,EACAC,EACAC,EACAC,EACAC,EACApU,GAEAqI,KAAKmL,IAAIa,UAAYrU,EACrBqI,KAAKmL,IAAIc,YACTjM,KAAKmL,IAAIe,OAAOrK,EAAI6J,GACpB1L,KAAKmL,IAAIgB,OAAOpK,EAAI4J,GACpB3L,KAAKmL,IAAIgB,OAAOP,EAAIC,GACpB7L,KAAKmL,IAAIgB,OAAOL,EAAIC,GACpB/L,KAAKmL,IAAIiB,YACTpM,KAAKmL,IAAIpa,MACX,CAKA8W,OAAAA,CACE3J,EACA2D,EACA6J,EACA5J,EACAC,EACA4J,EACA3J,EACAqK,EACA1U,GAEA,MAAM2U,EAAKtM,KAAKuM,YAAYzK,EAAI5D,GAC1BsO,EAAKxM,KAAKuM,YAAYvK,EAAI9D,GAC1BuO,EAAKzM,KAAK0M,gBAAgB5K,EAAI5D,GAC9ByO,EAAK3M,KAAK0M,gBAAgB1K,EAAI9D,GAcpC,GAXA8B,KAAKmL,IAAIa,UAAYrU,EAAM+C,MAC3BsF,KAAKmL,IAAIyB,SAAS,EAAGjB,EAAI3L,KAAKnP,MAAO6a,EAAKC,GAG1C3L,KAAKyL,QAAQ5J,EAAKC,EAAKwK,EAAIZ,EAAI7J,EAAKC,EAAI4J,EAAI3J,EAAKC,EAAI2J,EAAI5J,EAAKC,EAAKwK,EAAIb,EAAIhU,EAAMgD,QACjFqF,KAAKyL,QAAQ5J,EAAKC,EAAKwK,EAAIZ,EAAI7J,EAAKC,EAAI4J,EAAI3J,EAAKC,EAAI2J,EAAI5J,EAAKC,EAAKwK,EAAIb,EAAIhU,EAAMgD,QAGjFqF,KAAKyL,QAAQ5J,EAAKC,EAAI4J,EAAI7J,EAAKC,EAAI4J,EAAI3J,EAAKC,EAAI2J,EAAI5J,EAAKC,EAAI2J,EAAIhU,EAAM8C,MAGnE9C,EAAMiD,KAAM,CACd,MAAMiS,EAAe,EAAL/K,EAAU5D,EACpB4O,EAAe,EAAL9K,EAAU9D,EAC1B,IAAI6O,EAASlL,EAAKC,EAAK+K,EACnBG,EAASjL,EAAKC,EAAK8K,EAEvB,IAAK,IAAIlS,EAAO,EAAGA,EAAOsD,EAAOtD,IAC/BoF,KAAKyL,QACHsB,EAASN,EAAK,EACdf,EACAqB,EAASN,EAAK,EACdf,EACAsB,EAASL,EAAK,EACdhB,EACAqB,EAASL,EAAK,EACdhB,EACAhU,EAAMiD,MAERmS,GAAUF,EACVG,GAAUF,CAEd,CAGA9M,KAAKqM,IAAI,EAAGX,EAAI1L,KAAKnP,MAAO8a,EAAKD,EAAIW,EACvC,CAMArU,UAAAA,CACEA,EACAiV,EACAC,EACArJ,GAEAqJ,EAAWA,GAAY,EACvBrJ,EAASA,GAAU,EAEnB,MAAMsJ,EAASF,EAAMhS,EAAI,EACnBmS,EAASH,EAAM/R,EAEfmS,EAAUJ,EAAM9b,EAAK0O,KAAKwF,MAAM4H,EAAMhS,EAAIiS,GAAYD,EAAMhS,EAC5DqS,EAAUL,EAAM7b,EAChBmc,EAAU1N,KAAKF,IAAIwN,EAAQF,EAAMhS,GAAKoS,EAAUJ,EAAM9b,IACtDqc,EAAUJ,EAGVK,EAAQ5N,KAAKwF,MAAMxB,GACnB6J,EAAQ7N,KAAKwF,MAAMrF,KAAKnP,OAAS0c,EAAUJ,IAC3CQ,EAAQ3N,KAAKlP,OAGnBkP,KAAKmL,IAAIyC,UAAU5V,EAAYqV,EAASC,EAASC,EAASC,EAN5C,EAM4DC,EAAOC,EAAOC,GAGpFJ,EAAUJ,GACZnN,KAAKmL,IAAIyC,UACP5V,EACAiV,EAAM9b,EACNmc,EACAH,EAASI,EACTC,EACAE,EAAQ,EACRD,EACAzN,KAAKnP,MAAQ6c,EACbC,EAGN,CAMA3H,MAAAA,CACEjI,EACA8H,EACAG,EACAnD,EACAgL,EACAJ,GAIO,IAHPK,EAAe3O,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAClB4O,EAAe5O,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAClB6O,EAAc7O,UAAAC,OAAA,EAAAD,UAAA,QAAA5F,EAEd,MAAMmU,EAAU1H,EAAO/K,EAAI4H,EAAQ7C,KAAKnP,MAAS,GAAM0M,EAAQE,MAAQM,GACjE4P,EAAU3H,EAAO9K,EAAI2H,EAAQ7C,KAAKnP,MAAS,GAAM0M,EAAQE,MAAQM,GAEvE8P,GAAgBH,EAAQI,EACxBL,GAAgBE,EAAQI,EAExB,MAAME,EAAQD,EAAQnO,KAAKD,IAAI,EAAG6N,EAAQE,EAAQK,GAAS,EAEvDC,EAAQN,GACV3N,KAAKmL,IAAIyC,UACP/H,EACAG,EAAO7U,EACP6U,EAAO5U,EACP4U,EAAO/K,EACP+K,EAAO9K,EAAK8K,EAAO9K,EAAI+S,EAASN,EAChCE,EACAJ,EACAC,EACAC,EAAQM,EAGd,CAMAC,MAAAA,CACEnQ,EACA8H,EACAqD,EACArG,EACAgL,EACAJ,EACAU,EACAC,GAEA,MAAMC,EACJ,IAAMxO,KAAKK,SAAWgJ,EAAelJ,KAAKoL,WAAaxM,EAAUuB,aAAa,EAAE,EAAG,IAErF,IAAI6F,EAEFA,EADEmI,EAAQ,EACDC,EAAS,EAAI7Q,EAAQP,mBAAqBO,EAAQF,YAClD8Q,EAAQ,EACRC,EAAS,EAAI7Q,EAAQL,oBAAsBK,EAAQJ,aAEnDiR,EAAS,EAAI7Q,EAAQN,uBAAyBM,EAAQH,gBAGjE4C,KAAKgG,OAAOjI,EAAW8H,EAASG,EAAQnD,EAAOgL,EAAOJ,EAAQY,GAAS,IAAM,EAC/E,CAMQhC,GAAAA,CAAIlb,EAAWC,EAAWP,EAAeC,EAAgBub,GAC3DA,EAAM,GAAKA,EAAM,MACnBrM,KAAKmL,IAAImD,YAAc,EAAIjC,EAC3BrM,KAAKmL,IAAIa,UAAY5R,EAAOG,IAC5ByF,KAAKmL,IAAIyB,SAASzb,EAAGC,EAAGP,EAAOC,GAC/BkP,KAAKmL,IAAImD,YAAc,EAE3B,CAKQ/B,WAAAA,CAAYgC,EAA4BrQ,GAC9C,OAAOqQ,EAAqB1O,KAAKD,IAAI,EAAG,EAAI1B,EAC9C,CAKQwO,eAAAA,CAAgB6B,EAA4BrQ,GAClD,OAAOqQ,EAAqB1O,KAAKD,IAAI,GAAI,EAAI1B,EAC/C,CAKAsQ,UAAAA,CACExL,EACAyL,EACApQ,EACAN,EACA8H,GAGA,IAAK,IAAIvF,EAAIjC,EAAe,EAAGiC,EAAI,EAAGA,IAAK,CACzC,MAAMuH,EAAU7E,GAAUyL,EAAmBnO,GAAK0C,EAAS5D,QAE3D,IAAK,MAAM6I,KAAOJ,EAAQ/B,KAAM,CAC9B,MAAM4I,EAAc9P,EAAUqB,YAC5B4H,EAAQjC,GAAGhD,OAAOC,MAClBgF,EAAQtC,GAAG3C,OAAOC,MAClBoF,EAAInH,SAAW,GAEX6N,EACJ/P,EAAUqB,YAAY4H,EAAQjC,GAAGhD,OAAOzR,EAAG0W,EAAQtC,GAAG3C,OAAOzR,EAAG8W,EAAInH,SAAW,GAC9E4N,EAAczG,EAAIpE,OAAS9F,EAAYiC,KAAKnP,MAAS,EAClD+d,EAAUhQ,EAAUqB,YACxB4H,EAAQjC,GAAGhD,OAAOxR,EAClByW,EAAQtC,GAAG3C,OAAOxR,EAClB6W,EAAInH,SAAW,GAGjBd,KAAKgG,OACHjI,EACA8H,EACAoC,EAAIjC,OACJ0I,EACAC,EACAC,GACC,IACA,EACD/G,EAAQgH,KAEZ,CACF,CACF,CAKAC,aAAAA,CACE9L,EACAyL,EACApQ,EACAN,EACA8H,GAGA,IAAK,IAAIvF,EAAIjC,EAAe,EAAGiC,EAAI,EAAGA,IAAK,CACzC,MAAMuH,EAAU7E,GAAUyL,EAAmBnO,GAAK0C,EAAS5D,QAE3D,IAAK,MAAM4G,KAAU6B,EAAQhC,QAAS,CACpC,MAAM6I,EAAc7G,EAAQjC,GAAGhD,OAAOC,MAChC8L,EACJ9G,EAAQjC,GAAGhD,OAAOzR,EAAKud,EAAc1I,EAAOnC,OAAS9F,EAAYiC,KAAKnP,MAAS,EAC3E+d,EAAU/G,EAAQjC,GAAGhD,OAAOxR,EAElC4O,KAAKgG,OACHjI,EACA8H,EACAG,EAAOpR,OACP8Z,EACAC,EACAC,EACA5I,EAAOnC,OAAS,GAAK,EAAI,GACxB,EACDgE,EAAQgH,KAEZ,CACF,CACF,CAKAE,aAAAA,CACE/L,EACAyL,EACApQ,EACAN,EACA8H,EACAmJ,GAGA,IAAK,IAAI1O,EAAIjC,EAAe,EAAGiC,EAAI,EAAGA,IAAK,CACzC,MAAMuH,EAAU7E,GAAUyL,EAAmBnO,GAAK0C,EAAS5D,QAG3D,IAAK,MAAM4G,KAAU6B,EAAQhC,QAAS,CACpC,MAAM6I,EAAc7G,EAAQjC,GAAGhD,OAAOC,MAChC8L,EACJ9G,EAAQjC,GAAGhD,OAAOzR,EAAKud,EAAc1I,EAAOnC,OAAS9F,EAAYiC,KAAKnP,MAAS,EAC3E+d,EAAU/G,EAAQjC,GAAGhD,OAAOxR,EAG9ByW,EAAQgH,MAAQhH,EAAQjC,GAAGnD,OAAOE,EAAI3C,KAAKwC,aAAeoM,EAAU/G,EAAQgH,MAE1EG,GACFA,EAAkBhJ,EAAOpR,OAAQiT,EAAQlC,MAAOK,EAAOnC,QAI3D7D,KAAKgG,OACHjI,EACA8H,EACAG,EAAOpR,OACP8Z,EACAC,EACAC,EACA5I,EAAOnC,OAAS,GAAK,EAAI,GACxB,EACDgE,EAAQgH,KAEZ,CAGA,IAAK,MAAM5G,KAAOJ,EAAQ/B,KAAM,CAC9B,MAAM4I,EAAc9P,EAAUqB,YAC5B4H,EAAQjC,GAAGhD,OAAOC,MAClBgF,EAAQtC,GAAG3C,OAAOC,MAClBoF,EAAInH,SAAW,GAEX6N,EACJ/P,EAAUqB,YAAY4H,EAAQjC,GAAGhD,OAAOzR,EAAG0W,EAAQtC,GAAG3C,OAAOzR,EAAG8W,EAAInH,SAAW,GAC9E4N,EAAczG,EAAIpE,OAAS9F,EAAYiC,KAAKnP,MAAS,EAClD+d,EAAUhQ,EAAUqB,YACxB4H,EAAQjC,GAAGhD,OAAOxR,EAClByW,EAAQtC,GAAG3C,OAAOxR,EAClB6W,EAAInH,SAAW,GAGjBd,KAAKgG,OACHjI,EACA8H,EACAoC,EAAIjC,OACJ0I,EACAC,EACAC,GACC,IACA,EACD/G,EAAQgH,KAEZ,CACF,CACF,CAKAI,oBAAAA,CAAqBC,EAA6BC,GAChD,MAAMhE,EAAMnL,KAAKmL,IACjBA,EAAIiE,OAEJ,IAAK,MAAMC,KAAQH,EAAY,CAC7B,MAAMI,EAAUH,EAAcE,EAAKE,UAC7BC,EAAW3P,KAAKF,IAAI2P,EAAU,IAAK,GAEzC,GAAIE,GAAY,EAAG,SAGnB,MAAMC,EAAQ,EAAID,EAGZE,EAAgB,EAChBC,EAAiB,EACjBC,EAAc,GAAKJ,EAEzBrE,EAAImD,YAAsB,GAARmB,EAClBtE,EAAIa,UAAY,UAEhB,IAAK,IAAItE,EAAI,EAAGA,EAAIgI,EAAehI,IAAK,CACtC,MAAMmI,EAASnI,EAAIgI,EAAiB7P,KAAKuB,GAAK,EACxCjQ,EAAIke,EAAKle,EAAI0O,KAAKsB,IAAI0O,GAASD,EAC/Bxe,EAAIie,EAAKje,EAAIyO,KAAKiQ,IAAID,GAASD,EAErCzE,EAAIc,YACJd,EAAI4E,IAAI5e,EAAGC,EAAGue,EAAgB,EAAa,EAAV9P,KAAKuB,IACtC+J,EAAIpa,MACN,CAGAoa,EAAImD,YAAcmB,EAClBtE,EAAI6E,KAAO,kBACX7E,EAAIa,UAAY,UAChBb,EAAI8E,YAAc,UAClB9E,EAAI+E,UAAY,EAEhB,MAAMC,EAAI,IAAAhb,OAAOka,EAAK3d,OAAM,WACtB0e,EAAQf,EAAKje,EAAI,GAAKoe,EAE5BrE,EAAIkF,WAAWF,EAAMd,EAAKle,EAAI,GAAIif,GAClCjF,EAAImF,SAASH,EAAMd,EAAKle,EAAI,GAAIif,EAClC,CAEAjF,EAAIoF,SACN,CAKAC,qBAAAA,CAAsBtB,EAA8BC,GAClD,MAAMhE,EAAMnL,KAAKmL,IACjBA,EAAIiE,OAEJ,IAAK,MAAMC,KAAQH,EAAY,CAC7B,MAAMI,EAAUH,EAAcE,EAAKE,UAC7BC,EAAW3P,KAAKF,IAAI2P,EAAU,IAAK,GAEzC,GAAIE,GAAY,EAAG,SAGnB,MAAMiB,EAAiC,IAAvB5Q,KAAKK,SAAW,KAAa,EAAIsP,GAC3CkB,EAAiC,IAAvB7Q,KAAKK,SAAW,KAAa,EAAIsP,GAG3CC,EAAQ,EAAID,EAGZE,EAAgB,EAChBC,EAAiB,EACjBC,EAAc,GAAKJ,EAEzBrE,EAAImD,YAAsB,GAARmB,EAElB,IAAK,IAAI/H,EAAI,EAAGA,EAAIgI,EAAehI,IAAK,CACtC,MAAMmI,EAASnI,EAAIgI,EAAiB7P,KAAKuB,GAAK,EACxCjQ,EAAIke,EAAKle,EAAI0O,KAAKsB,IAAI0O,GAASD,EAAca,EAC7Crf,EAAIie,EAAKje,EAAIyO,KAAKiQ,IAAID,GAASD,EAAcc,EAG7C/Y,EAAQ+P,EAAI,IAAM,EAAI,UAAY,UACxCyD,EAAIa,UAAYrU,EAEhBwT,EAAIc,YACJd,EAAI4E,IAAI5e,EAAGC,EAAGue,GAAkB,EAAe,GAAXH,GAAiB,EAAa,EAAV3P,KAAKuB,IAC7D+J,EAAIpa,MACN,CAGAoa,EAAImD,YAAcmB,EAClBtE,EAAI6E,KAAO,kBACX7E,EAAIa,UAAY,UAChBb,EAAI8E,YAAc,UAClB9E,EAAI+E,UAAY,EAEhB,MAAMC,EAAO,YACPQ,EAAQtB,EAAKle,EAAI,GAAKsf,EACtBL,EAAQf,EAAKje,EAAI,GAAKoe,EAAWkB,EAEvCvF,EAAIkF,WAAWF,EAAMQ,EAAOP,GAC5BjF,EAAImF,SAASH,EAAMQ,EAAOP,GAGtBZ,EAAW,KACbrE,EAAImD,YAAoC,IAArB,EAAe,GAAXkB,GACvBrE,EAAIa,UAAY,UAChBb,EAAIc,YACJd,EAAI4E,IAAIV,EAAKle,EAAGke,EAAKje,EAAG,GAAI,EAAa,EAAVyO,KAAKuB,IACpC+J,EAAIpa,OAER,CAEAoa,EAAIoF,SACN,ECnhBK,MAAMK,EAcX7N,WAAAA,CACU8N,EACAC,GAEP,IADDhT,EAAWqB,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,GAAE,KAFR0R,OAAAA,EAA4B,KAC5BC,OAAAA,EAAuC,KAfzCC,WAAY,EAAM,KAClBC,iBAAkC,KAAK,KACvCC,cAAgB,EAAE,KAClBC,YAAc,EAAE,KACPC,eAAS,OACTC,mBAAa,OACbC,kBAAY,EAE7B,KACQC,WAAa,EAAE,KACfC,cAAgB,EAAE,KAClBC,WAAa,EA0CrB,KAGQC,KAAO,KACb,IAAKzR,KAAK+Q,UAAW,OAErB,MAAM5B,EAAcvQ,EAAUC,YAC9B,IAAI6S,GAAavC,EAAcnP,KAAKiR,eAAiB,IAQrD,IALAS,EAAY7R,KAAKF,IAAI+R,EAAW1R,KAAKqR,cACrCrR,KAAKiR,cAAgB9B,EACrBnP,KAAKkR,aAAeQ,EAGb1R,KAAKkR,aAAelR,KAAKoR,eAC9BpR,KAAK6Q,OAAO7Q,KAAKoR,eACjBpR,KAAKkR,aAAelR,KAAKoR,cAI3B,MAAMO,EAAgB3R,KAAKkR,YAAclR,KAAKoR,cAG9CpR,KAAK8Q,OAAOa,GAGZ3R,KAAK4R,mBAGL5R,KAAKgR,iBAAmBa,sBAAsB7R,KAAKyR,OAjEnDzR,KAAKmR,UAAYrT,EACjBkC,KAAKoR,cAAgB,EAAItT,EACzBkC,KAAKqR,aAAoC,EAArBrR,KAAKoR,aAC3B,CAKAlY,KAAAA,GACM8G,KAAK+Q,YAET/Q,KAAK+Q,WAAY,EACjB/Q,KAAKiR,cAAgBrS,EAAUC,YAC/BmB,KAAKkR,YAAc,EACnBlR,KAAKyR,OACP,CAKAK,IAAAA,GACE9R,KAAK+Q,WAAY,EACa,OAA1B/Q,KAAKgR,mBACPe,qBAAqB/R,KAAKgR,kBAC1BhR,KAAKgR,iBAAmB,KAE5B,CAKAgB,MAAAA,GACE,OAAOhS,KAAKwR,UACd,CAsCQI,gBAAAA,GACN5R,KAAKsR,aACL,MAAMvS,EAAMH,EAAUC,YAElBE,EAAMiB,KAAKuR,eAAiB,MAC9BvR,KAAKwR,WAAa3R,KAAKE,MAAyB,IAAlBC,KAAKsR,YAAsBvS,EAAMiB,KAAKuR,gBACpEvR,KAAKsR,WAAa,EAClBtR,KAAKuR,cAAgBxS,EAEzB,EAMK,MAAMkT,EAIX,uBAAaC,CACXC,EACAC,GAE8B,IAD9BC,EAAYlT,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,UAEf,MAAMmT,EAAWH,EAAMI,IAAKtN,GAASjF,KAAKwS,gBAAgBvN,EAAMmN,EAAUC,IAC1E,OAAOI,QAAQC,IAAIJ,EACrB,CAKA,sBAAeE,CACbvN,EACAmN,EACAC,GAEA,OAAO,IAAII,QAAQ,CAACE,EAASC,KAC3B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAAD9d,OAA0B8P,KAG5D4N,EAAIK,IADO,YAATb,EACK,GAAAld,OAAMid,EAAQ,KAAAjd,OAAI8P,EAAI,SAEtB,GAAA9P,OAAMid,EAAQ,WAAAjd,OAAUkd,EAAI,KAAAld,OAAI8P,EAAI,UAGjD,EAMK,MAAMkO,EAQXpQ,WAAAA,GAAe,KAPPqQ,KAAmC,CAAC,EAAE,KACtCC,YAIH,GA0CL,KAGQC,cAAiBpf,IACvB8L,KAAKoT,KAAKlf,EAAMqf,UAAW,EAC3BvT,KAAKwT,mBAAmBtf,EAAMqf,QAAS,QAGtB,CAAC,GAAI,GAAI,GAAI,IACjBE,SAASvf,EAAMqf,UAC1Brf,EAAMwf,kBAIV,KAGQC,YAAezf,IACrB8L,KAAKoT,KAAKlf,EAAMqf,UAAW,EAC3BvT,KAAKwT,mBAAmBtf,EAAMqf,QAAS,OA1DvCvT,KAAK4T,wBACP,CAKQA,sBAAAA,GACNtf,SAASC,iBAAiB,UAAWyL,KAAKsT,eAC1Chf,SAASC,iBAAiB,QAASyL,KAAK2T,YAC1C,CAKAE,OAAAA,GACEvf,SAASE,oBAAoB,UAAWwL,KAAKsT,eAC7Chf,SAASE,oBAAoB,QAASwL,KAAK2T,YAC7C,CAKAG,cAAAA,CACEC,GAMA/T,KAAKqT,YAAcU,CACrB,CAKAC,YAAAA,CAAaT,GACX,OAAOvT,KAAKoT,KAAKG,KAAY,CAC/B,CA2BQC,kBAAAA,CAAmBD,EAAiBU,GAC1C,IAAK,MAAMC,KAAWlU,KAAKqT,YACrBa,EAAQD,OAASA,GAAQC,EAAQd,KAAKK,SAASF,IACjDW,EAAQC,QAGd,CAKAC,kBAAAA,CAAmBC,GAEjB,CAMMC,sBAAAA,CAAuBC,GAC7B,OAAQA,GACN,IAAK,OACH,OAAO,GACT,IAAK,KACH,OAAO,GACT,IAAK,QACH,OAAO,GACT,IAAK,OACH,OAAO,GACT,QACE,OAAO,EAEb,EC5PK,MAAM5hB,EAAWA,KACtB,GAAsB,qBAAX6hB,OAAwB,CACjC,MAAMC,EAAoB,iEAAiEC,KACzFC,UAAUC,WAENC,EAAgBL,OAAOM,WAAW,sCAAsCC,QACxEC,EAAwBL,UAAUM,eAAiB,EACzD,OAAOJ,GAAiBJ,GAAqBO,CAC/C,CACA,OAAO,GCCF,MAAME,EAA0BrjB,IAA4D,IAA3D,WAAEkS,EAAU,cAAEoR,EAAa,OAAEzjB,EAAM,IAAE0jB,EAAG,UAAEC,GAAWxjB,EAI3F,MAAMyjB,EAAyBA,KACfjW,SAAS+V,EAAIlN,OAAS,MAAQ,GAE5B,IAAO,IAAM,GAG/B,MAAkB,YAAdmN,GAAyC,WAAdA,GAAwC,YAAdA,EAChD,MAIP1kB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EAEEL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,UAASlB,SAAA,EAEtBL,EAAAA,EAAAA,MAAA,QAAMuB,UAAU,kBAAiBlB,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAeghB,IAAI,sCAAsCsC,IAAI,UAC5E7kB,EAAAA,EAAAA,MAAA,QAAMuB,UAAU,eAAclB,SAAA,CAC3B+S,EAAW,IAAEoR,SAKlBxkB,EAAAA,EAAAA,MAAA,QAAMuB,UAAU,WAAUlB,SAAA,EACxBC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAeghB,IAAI,uCAAuCsC,IAAI,UAC7EvkB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,eAAclB,SAAEokB,EAAIK,uBAItC9kB,EAAAA,EAAAA,MAAA,QAAMuB,UAAU,YAAWlB,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAeghB,IAAI,iCAAiCsC,IAAI,YACvEvkB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,kBAAiBlB,SAAEU,WAKvCT,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UACzBL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,YAAWlB,SAAA,EACxBL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kBAAkBtB,QAAQ,cAAaI,SAAA,EAEpDC,EAAAA,EAAAA,KAAA,UAAQykB,GAAG,MAAMC,GAAG,MAAMC,EAAE,KAAK7kB,KAAK,OAAOQ,OAAO,OAAOC,YAAY,OAEvEP,EAAAA,EAAAA,KAAA,QAAMC,EAAE,iCAAiCH,KAAK,OAAOQ,OAAO,OAAOC,YAAY,MAE9E,CAAC,EAAG,GAAI,GAAI,GAAI,KAAK+gB,IAAI,CAACrK,EAAOR,KAChC,MAAMmI,GAAc,IAAJnI,EAAW,EAAI,KAAO7H,KAAKuB,GAAK,KAC1CS,EAAK,IAAM,GAAKhC,KAAKsB,IAAI0O,GACzBnE,EAAK,IAAM,GAAK7L,KAAKiQ,IAAID,GACzB9N,EAAK,IAAM,GAAKlC,KAAKsB,IAAI0O,GACzBlE,EAAK,IAAM,GAAK9L,KAAKiQ,IAAID,GAC/B,OACE5e,EAAAA,EAAAA,KAAA,QAAkB4Q,GAAIA,EAAI6J,GAAIA,EAAI3J,GAAIA,EAAI4J,GAAIA,EAAIpa,OAAO,OAAOC,YAAY,KAAjE0W,MAIfjX,EAAAA,EAAAA,KAAA,QACE4Q,GAAG,MACH6J,GAAG,MACH3J,GAAI,IAAM,GAAKlC,KAAKsB,KAAKmU,IAA2B,KAAOzV,KAAKuB,GAAK,MACrEuK,GAAI,IAAM,GAAK9L,KAAKiQ,KAAKwF,IAA2B,KAAOzV,KAAKuB,GAAK,MACrE7P,OAAO,UACPC,YAAY,IACZC,cAAc,WAGhBR,EAAAA,EAAAA,KAAA,UAAQykB,GAAG,MAAMC,GAAG,MAAMC,EAAE,IAAI7kB,KAAK,gBAGvCJ,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iBAAgBlB,SAAA,CAAEokB,EAAIlN,MAAM,mBCrExC2N,EAAgDhkB,IAGtD,IAHuD,kBAC5D6S,EAAiB,UACjBoR,GAAY,GACbjkB,EACC,MAAOkkB,EAAOC,IAAY7iB,EAAAA,EAAAA,UAA+C,MAezE,IAbAa,EAAAA,EAAAA,WAAU,KACR,GAAI8hB,EAAW,CACb,MAAMhd,EAAWC,YAAY,KAC3B,MAAMkd,EAAWvR,IACbuR,GACFD,EAASC,IAEV,KAEH,MAAO,IAAMjd,cAAcF,EAC7B,GACC,CAAC4L,EAAmBoR,KAElBA,IAAcC,EAAO,OAAO,KAEjC,MAAMG,EAAaC,OAAO/C,KAAK2C,EAAMnR,YAAYwR,OAEjD,OACEzlB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kBAAiBlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,kBAAiBlB,SAAC,yBAChCL,EAAAA,EAAAA,MAAA,OAAAK,SAAA,EACEL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iBAAgBlB,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,uBAAsBlB,SAAC,YACvCL,EAAAA,EAAAA,MAAA,QAAMuB,UAAU,uBAAsBlB,SAAA,CAAE+kB,EAAM9S,YAAY,WAE5DtS,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iBAAgBlB,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,uBAAsBlB,SAAC,WACvCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,uBAAsBlB,SAAE+kB,EAAMpR,mBAGlDhU,EAAAA,EAAAA,MAAA,SAAOuH,MAAO,CAAErH,MAAO,OAAQwlB,SAAU,WAAYrlB,SAAA,EACnDC,EAAAA,EAAAA,KAAA,SAAAD,UACEL,EAAAA,EAAAA,MAAA,MAAIuH,MAAO,CAAEoe,aAAc,qBAAsBtlB,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,OAAQC,cAAe,YAAaxlB,SAAC,eAC7DC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,SAAUC,cAAe,YAAaxlB,SAAC,YAC/DC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,SAAUC,cAAe,YAAaxlB,SAAC,WAC/DC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,QAASC,cAAe,YAAaxlB,SAAC,YAGlEC,EAAAA,EAAAA,KAAA,SAAAD,SACGklB,EAAW3D,IAAK9K,IACf,MAAMgP,EAASV,EAAMnR,WAAW6C,IAAc,EACxCiP,EAAQX,EAAMlR,YAAY4C,IAAc,EACxCkP,EAAcZ,EAAMjR,uBAAuB2C,IAAc,EACzDmP,EAAaD,EAAc,GAAMD,EAAQC,EAAe,KAAKE,QAAQ,GAAK,IAEhF,OACElmB,EAAAA,EAAAA,MAAA,MAAoBuH,MAAO,CAAEoe,aAAc,qBAAsBtlB,SAAA,EAC/DC,EAAAA,EAAAA,KAAA,MACEiH,MAAO,CACL4e,WAAY,WACZN,cAAe,WACfH,SAAU,YACVrlB,SAEDyW,EAAUsP,QAAQ,YAAa,QAElC9lB,EAAAA,EAAAA,KAAA,MACEiH,MAAO,CAAEqe,UAAW,SAAUO,WAAY,WAAYN,cAAe,YAAaxlB,SAEjFylB,KAEHxlB,EAAAA,EAAAA,KAAA,MACEiH,MAAO,CAAEqe,UAAW,SAAUO,WAAY,WAAYN,cAAe,YAAaxlB,SAEjF0lB,KAEH/lB,EAAAA,EAAAA,MAAA,MACEuH,MAAO,CAAEqe,UAAW,QAASO,WAAY,WAAYN,cAAe,YAAaxlB,SAAA,CAEhF4lB,EAAW,SAvBPnP,QA6BfxW,EAAAA,EAAAA,KAAA,SAAAD,UACEL,EAAAA,EAAAA,MAAA,MAAIuH,MAAO,CAAE8e,WAAY,OAAQC,UAAW,qBAAsBjmB,SAAA,EAChEC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAE4e,WAAY,UAAWT,SAAU,WAAYrlB,SAAC,WAC3DC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,SAAUO,WAAY,WAAY9lB,SACvDmlB,OAAOe,OAAOnB,EAAMnR,YAAYuS,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,MAE3D5P,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEqe,UAAW,SAAUO,WAAY,WAAY9lB,SACvDmlB,OAAOe,OAAOnB,EAAMlR,aAAasS,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,MAE5DlQ,EAAAA,EAAAA,MAAA,MAAIuH,MAAO,CAAEqe,UAAW,QAASO,WAAY,WAAY9lB,SAAA,CACtDmlB,OAAOe,OAAOnB,EAAMjR,wBAAwBqS,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,GAAK,GAEnEsV,OAAOe,OAAOnB,EAAMlR,aAAasS,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,GACxDsV,OAAOe,OAAOnB,EAAMjR,wBAAwBqS,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,GACtE,KACAgW,QAAQ,GACV,IAAI,gBAMhB5lB,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEkf,UAAW,UAAWf,SAAU,WAAY1e,MAAO,WAAY3G,UAC3EL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,8BAA4B+kB,EAAMpR,UAAU,kBC7G1C0S,GAAaC,EAAAA,EAAAA,YACzB,CAAAzlB,EAAoDyE,KAAS,IAA5D,MAAEzF,EAAK,OAAEC,EAAM,UAAEoB,EAAY,GAAE,QAAEC,EAAO,MAAE+F,GAAOrG,EACjD,OACClB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,sBAAqBlB,SAAA,EAEnCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8CACfjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8CACfjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8CACfjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8CAGfjB,EAAAA,EAAAA,KAAA,UACCqF,IAAKA,EACLzF,MAAOA,EACPC,OAAQA,EACRqB,QAASA,EACTD,UAAS,eAAAiD,OAAiBjD,GAC1BgG,OAAKsF,EAAAA,EAAAA,GAAA,CACJ+Z,eAAgB,aACbrf,UAQTmf,EAAWG,YAAc,aCnBlB,MAAMC,EAA4C5lB,IASlD,IATmD,UACzD6lB,EAAS,aACTC,EAAY,iBACZC,GAAmB,EAAK,OACxBC,EAAS,OAAM,YACfC,EAAc,IAAG,WACjBC,EAAU,aACVC,EAAe,IAAG,YAClBC,GACApmB,EAEA,MAAMqmB,EAA2C,CAChDC,WAAY,OACZC,iBAAkB,OAClBC,cAAe,OACfC,aAAc,OACdC,YAAa,OACbC,mBAAoB,QAGfC,EAAqB1iB,IAC1BA,EAAE2d,kBACK,GAIR,MAAe,eAAXmE,GAEFlnB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,2BAA0BlB,SAAA,EACxCC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXvlB,QAASA,IAAMulB,EAAU,QACzBiB,cAAeF,EACfvmB,UAAU,iDACVgG,MAAOggB,EAAoBlnB,SAC3B,WAGA4mB,IACA3mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,WAEXvlB,QAASA,IAAMulB,EAAU,UACzBiB,cAAeF,EACfvmB,UAAU,0EACVgG,MAAOggB,EAAoBlnB,SAE1B+mB,GAAcD,KAGjB7mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,UAEXvlB,QAASA,IAAMulB,EAAU,SACzBiB,cAAeF,EACfvmB,UAAU,iDACVgG,MAAOggB,EAAoBlnB,SAC3B,cAQW,WAAX6mB,GAEFlnB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uBAAsBlB,SAAA,EAEpCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,gCAA+BlB,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,SAEhBkB,YAAaA,IAAMnB,EAAU,QAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,QAChCgB,cAAeF,EACfvmB,UAAU,+CACVgG,MAAOggB,EAAoBlnB,SAC3B,YAGDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,UAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,UAEhBkB,YAAaA,IAAMnB,EAAU,SAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,SAChCgB,cAAeF,EACfvmB,UAAU,+CACVgG,MAAOggB,EAAoBlnB,SAC3B,eAMFL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,+BAA8BlB,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,OAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,OAEhBkB,YAAaA,IAAMnB,EAAU,MAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,MAChCgB,cAAeF,EACfvmB,UAAU,0CACVgG,MAAOggB,EAAoBlnB,SAE1B+mB,GAAcD,KAEhB7mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,SAEhBkB,YAAaA,IAAMnB,EAAU,QAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,QAChCgB,cAAeF,EACfvmB,UAAU,4CACVgG,MAAOggB,EAAoBlnB,SAE1BinB,GAAeD,UAON,WAAXH,GAEF5mB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0BAAyBlB,UACvCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qBAAoBlB,SAAA,EAElCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,2BAGfjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,+BAGfjB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,OAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,OAEhBkB,YAAaA,IAAMnB,EAAU,MAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,MAChCgB,cAAeF,EACfvmB,UAAU,yCACVgG,MAAOggB,EAAoBlnB,SAC3B,YAIDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,SAEhBkB,YAAaA,IAAMnB,EAAU,QAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,QAChCgB,cAAeF,EACfvmB,UAAU,2CACVgG,MAAOggB,EAAoBlnB,SAC3B,WAIA4mB,IACA3mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,WAEXvlB,QAASA,IAAMulB,EAAU,UACzBiB,cAAeF,EACfvmB,UAAU,6CACVgG,MAAOggB,EAAoBlnB,SAE1B+mB,GAAcD,KAIjB7mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,UAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,UAEhBkB,YAAaA,IAAMnB,EAAU,SAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,SAChCgB,cAAeF,EACfvmB,UAAU,4CACVgG,MAAOggB,EAAoBlnB,SAC3B,YAIDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,SAEhBkB,YAAaA,IAAMnB,EAAU,QAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,QAChCgB,cAAeF,EACfvmB,UAAU,2CACVgG,MAAOggB,EAAoBlnB,SAC3B,iBAUJC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0BAAyBlB,UACvCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qBAAoBlB,SAAA,EAElCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,2BAGfjB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,+BAGfjB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,OAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,OAEhBkB,YAAaA,IAAMnB,EAAU,MAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,MAChCgB,cAAeF,EACfvmB,UAAU,yCACVgG,MAAOggB,EAAoBlnB,SAC3B,YAIDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,UAEXvlB,QAASA,IAAMulB,EAAU,SACzBiB,cAAeF,EACfvmB,UAAU,4CACVgG,MAAOggB,EAAoBlnB,SAC3B,YAIDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXkB,WAAY7iB,IACXA,EAAE2d,iBACU,OAAZiE,QAAY,IAAZA,GAAAA,EAAe,SAEhBkB,YAAaA,IAAMnB,EAAU,QAC7BoB,UAAWA,IAAkB,OAAZnB,QAAY,IAAZA,OAAY,EAAZA,EAAe,QAChCgB,cAAeF,EACfvmB,UAAU,2CACVgG,MAAOggB,EAAoBlnB,SAC3B,YAIDC,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,SAEXvlB,QAASA,IAAMulB,EAAU,QACzBiB,cAAeF,EACfvmB,UAAU,2CACVgG,MAAOggB,EAAoBlnB,SAC3B,WAKA4mB,IACA3mB,EAAAA,EAAAA,KAAA,UACCynB,aAAc3iB,IACbA,EAAE2d,iBACFgE,EAAU,WAEXvlB,QAASA,IAAMulB,EAAU,UACzBiB,cAAeF,EACfvmB,UAAU,6CACVgG,MAAOggB,EAAoBlnB,SAE1B+mB,GAAcD,UCuIrB,EA9cmBjmB,IAWK,IAXJ,KAClBknB,EAAI,gBACJC,EAAe,YACfC,EAAW,MACX7R,EAAQ,EAAC,KACTiL,EAAO,UAAS,UAChB6G,EAAY,cAAa,WACzB3gB,EAAa,UAAS,UACtB4gB,EAAS,mBACTC,GAAqB,EAAK,KAC1BtmB,EAAO,MACSjB,EAChB,MAAMkB,GAAIC,EAAAA,EAAAA,GAAgBF,GACpBumB,EAAS1mB,IACTwiB,EAAgB4D,GAAQ,GACvBO,EAAaC,IAAkBpmB,EAAAA,EAAAA,WAAS,IAGzC,UACJqmB,EAAS,UACTnE,EAAS,WACTtR,EAAU,OACVrS,EAAM,IACN0jB,EAAG,UACHqE,EAAS,YACTC,EAAW,mBACXtF,EAAkB,mBAClBuF,EAAkB,kBAClBjV,ICxCG,SACLqU,EACA3R,EACAiL,EACA2G,EACAC,GAEA,MAAMI,EAAS1mB,KAGR0iB,EAAWuE,IAAgBzmB,EAAAA,EAAAA,UAEhC,WACI0mB,GAAe/lB,EAAAA,EAAAA,QAAOuhB,IACrBtR,EAAY+V,IAAiB3mB,EAAAA,EAAAA,UAAS,IACtCzB,EAAQqoB,IAAa5mB,EAAAA,EAAAA,UAAS,IAC9BiiB,EAAK4E,IAAU7mB,EAAAA,EAAAA,UAAmB,CACvC+U,MAAO,IACPuN,iBAAkB,YAEdwE,GAAoBnmB,EAAAA,EAAAA,QAAwB,IAC5ComB,GAAqBpmB,EAAAA,EAAAA,QAAyB,KAGpDE,EAAAA,EAAAA,WAAU,KACR6lB,EAAa1lB,QAAUkhB,GACtB,CAACA,IAGJ,MAAMmE,GAAY1lB,EAAAA,EAAAA,QAA0B,MACtCqmB,GAAgBrmB,EAAAA,EAAAA,QAAmB,MACnCsmB,GAAmBtmB,EAAAA,EAAAA,QAAsB,MACzCumB,GAAkBvmB,EAAAA,EAAAA,QAAqB,MACvCwmB,GAAcxmB,EAAAA,EAAAA,QAAiB,MAC/BymB,GAAkBzmB,EAAAA,EAAAA,QAAqB,MAGvC0mB,GAAe1mB,EAAAA,EAAAA,QAAO,CAC1B8U,SAAU,EACVV,MAAO,EACPS,QAAS,EACTtB,QAAS,EACToT,eAAgB,EAChB3U,KAAM,GACN+E,UAAW,EACXC,WAAY,EACZC,WAAY,EACZ/S,WAAY,KACZ6N,QAAS,KACT6U,aAAa,IAITC,GAAgB7mB,EAAAA,EAAAA,QAAmB,CACvC0V,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,QAAQ,IAIJiR,GAAY9mB,EAAAA,EAAAA,SAAM0J,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACnBK,GAAc,IACjB2E,YAAa,EAAI3C,KAAKgb,IAAMhd,EAAeM,YAAc,EAAK0B,KAAKuB,GAAM,KACzE4G,SAAUnK,EAAeG,eAAkB,EAAIH,EAAeC,IAAO,KACrE4C,MAAO,EACP2H,SAAU,EACVC,MAAO,EACPC,aAAc,EACdC,aAAc,EACdnB,QAAS,MAIXrT,EAAAA,EAAAA,WAAU,KACR,MAAMoU,EAASwS,EAAUzmB,QACzBiU,EAAOf,QAAUe,EAAOhK,aAAegK,EAAO5F,YAC9C4F,EAAOJ,SAAWI,EAAOpK,eAAkB,EAAIoK,EAAOtK,IAAO,KAC7DsK,EAAO1H,MAAQ0H,EAAOJ,SAAW,EACjCI,EAAOC,UAAYD,EAAOJ,SAC1BI,EAAOE,OAASF,EAAOJ,SAAW,EAClCI,EAAOG,cAAgBH,EAAOJ,SAAW,EACzCI,EAAOI,aAAeJ,EAAOJ,SAAW,GACvC,IAKH,MAAM8S,GAAapmB,EAAAA,EAAAA,aAAaiM,IAC9B,MAAMoa,EAAUlb,KAAKwF,MAAM1E,EAAK,IAC1Bqa,EAAUnb,KAAKwF,MAAM1E,EAAe,GAAVoa,GAC1BE,EAASpb,KAAKwF,MAAM,IAAM1E,EAAKd,KAAKwF,MAAM1E,KAEhD,OAAIoa,EAAU,GAAKA,EAAU,GACrB,IAAN5lB,OAAW4lB,EAAO,KAAA5lB,OAAI6lB,EAAU,GAAK,IAAM,IAAE7lB,OAAG6lB,EAAO,KAAA7lB,OAAI8lB,GAEzDF,EAAU,GAAKA,GAAW,GACtB,GAAN5lB,OAAU4lB,EAAO,KAAA5lB,OAAI6lB,EAAU,GAAK,IAAM,IAAE7lB,OAAG6lB,EAAO,KAAA7lB,OAAI8lB,GAEtD,MAAN9lB,OAAa6lB,EAAU,GAAK,IAAM,IAAE7lB,OAAG6lB,EAAO,KAAA7lB,OAAI8lB,EAAS,GAAK,IAAM,IAAE9lB,OAAG8lB,IAC1E,IAKGC,GAAYxmB,EAAAA,EAAAA,aAAY,CAACymB,EAAqBtkB,KAClDmjB,EAAQoB,GACFA,EAAQD,KAAStkB,GACnB2G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAY4d,GAAO,IAAE,CAACD,GAAMtkB,IAEvBukB,IAER,IAKGC,GAAoB3mB,EAAAA,EAAAA,aAAY,KACpC,MAAM4mB,EAAS9B,EAAUrlB,QACzB,IAAKmnB,EAAQ,OAGb,MAAMlT,EAASwS,EAAUzmB,QACzBmnB,EAAOzqB,MAAQuX,EAAOvX,MACtByqB,EAAOxqB,OAASsX,EAAOtX,OAEvB,MAAMqa,EAAMmQ,EAAOC,WAAW,MAC9B,OAAKpQ,GAGLgP,EAAchmB,QAAU,IAAI2O,EAAWsF,EAAOpK,cAAeoK,EAAOnK,cACpEmc,EAAiBjmB,QAAU,IAAIgU,EAAc,CAC3CH,SAAUI,EAAOJ,SACjBtH,MAAO0H,EAAO1H,MACd2H,SAAUD,EAAOC,SACjBC,MAAOF,EAAOE,MACdC,aAAcH,EAAOG,aACrBC,aAAcJ,EAAOI,aACrBjK,YAAa6J,EAAO7J,YACpB0E,YAAa,IAEfoX,EAAgBlmB,QAAU,IAAI+W,EAAaC,EAAK/C,EAAOvX,MAAOuX,EAAOtX,QACrEupB,EAAgBlmB,QAAQkX,eAAejD,EAAO5F,aAC9C+X,EAAgBpmB,QAAU,IAAIgf,EAG9BoH,EAAgBpmB,QAAQ2f,eAAe,CACrC,CACEV,KAAM,CAAC1Z,EAAUA,GACjBua,KAAM,OACNE,OAAQA,KACNwG,EAAcxmB,QAAQqV,MAAO,IAGjC,CACE4J,KAAM,CAAC1Z,EAAWA,GAClBua,KAAM,OACNE,OAAQA,KACNwG,EAAcxmB,QAAQsV,OAAQ,IAGlC,CACE2J,KAAM,CAAC1Z,EAAQA,GACfua,KAAM,OACNE,OAAQA,KACNwG,EAAcxmB,QAAQuV,QAAS,IAGnC,CACE0J,KAAM,CAAC1Z,EAAUA,GACjBua,KAAM,OACNE,OAAQA,KACNwG,EAAcxmB,QAAQwV,QAAS,IAGnC,CACEyJ,KAAM,CAAC1Z,EAAUA,GACjBua,KAAM,KACNE,OAAQA,KACNwG,EAAcxmB,QAAQqV,MAAO,IAGjC,CACE4J,KAAM,CAAC1Z,EAAWA,GAClBua,KAAM,KACNE,OAAQA,KACNwG,EAAcxmB,QAAQsV,OAAQ,IAGlC,CACE2J,KAAM,CAAC1Z,EAAQA,GACfua,KAAM,KACNE,OAAQA,KACNwG,EAAcxmB,QAAQuV,QAAS,IAGnC,CACE0J,KAAM,CAAC1Z,EAAUA,GACjBua,KAAM,KACNE,OAAQA,KACNwG,EAAcxmB,QAAQwV,QAAS,OAK9B,QA9EP,GA+EC,IAKG6R,GAAa9mB,EAAAA,EAAAA,aAAY+mB,UAC7B,IACE,MAAMC,QAAezJ,EAAYC,WAC/B,CAAC,aAAc,WACf,uBACAG,GAMF,OAHAmI,EAAarmB,QAAQ6D,WAAa0jB,EAAO,GACzClB,EAAarmB,QAAQ0R,QAAU6V,EAAO,IAE/B,CACT,CAAE,MAAOC,GAEP,OADAC,QAAQD,MAAM,8BAA+BA,IACtC,CACT,GACC,CAACtJ,IAKEwJ,GAAYnnB,EAAAA,EAAAA,aAAY,KAC5B,MAAM0T,EAASwS,EAAUzmB,QACnBuO,EAAQ8X,EAAarmB,QAY3B,GATAuO,EAAMkG,SAAW,EACjBlG,EAAMwF,MAAQ,EACdxF,EAAMiG,QAAU,EAChBjG,EAAM+X,eAAiB,EACvB/X,EAAMmI,UAAY,EAClBnI,EAAMoI,WAAa,EACnBpI,EAAMqI,WAAa,EAGfoP,EAAchmB,SAAWimB,EAAiBjmB,QAAS,CACrDgmB,EAAchmB,QAAQgT,MAAMC,EAAOgB,EAAOf,SAC1C,MAAMpE,EAAckX,EAAchmB,QAAQqP,iBAC1C4W,EAAiBjmB,QAAQsU,kBAAkBxF,GAC3CP,EAAMoD,KAAOqU,EAAchmB,QAAQ4T,UAAUK,EAAOzJ,UAAWyJ,EAAOJ,SACxE,CAGA8R,EAAc,GACdC,EAAU,GACVE,EAAkB9lB,QAAU,GAC5B+lB,EAAmB/lB,QAAU,GAC7B+mB,EAAU,QAAS,KACnBA,EAAU,mBAAoB,YAC7B,CAAC9T,EAAO8T,IAKLrK,GAASnc,EAAAA,EAAAA,aACZiM,IACC,GAA6B,YAAzBkZ,EAAa1lB,QAAuB,OAExC,MAAMiU,EAASwS,EAAUzmB,QACnBuO,EAAQ8X,EAAarmB,QACrB2nB,EAAU1B,EAAiBjmB,QAC3BsG,EAAO0f,EAAchmB,QAE3B,IAAK2nB,IAAYrhB,EAAM,OAEvB,MAAM8M,EAAgB9M,EAAK2K,YAAY1C,EAAMkG,SAAWR,EAAOf,SACzD2D,EAAgBtI,EAAMkG,SAGtBmT,EAAeD,EAAQpT,aAC3BhG,EAAMiG,QACNjG,EAAMwF,MACNxF,EAAMkG,SACN+R,EAAcxmB,QACdoT,EACA5G,EACCgC,GAAMlI,EAAK2K,YAAYzC,GACxByF,EAAOvX,MACPuX,EAAOtX,QAGT4R,EAAMiG,QAAUoT,EAAapT,QAC7BjG,EAAMwF,MAAQ6T,EAAa7T,MAC3BxF,EAAMkG,SAAWhK,EAAU6C,SAASiB,EAAMkG,SAAUjI,EAAK+B,EAAMwF,MAAOzN,EAAK+I,kBAGzC,IAA9BuY,EAAazS,cACfyQ,EAAWhlB,GAAS8K,KAAKD,IAAI7K,EAAOgnB,EAAazS,aAAc,IAI7DyS,EAAa3S,eAAiB2S,EAAazS,aAAe,GAC5D2Q,EAAkB9lB,QAAQuR,KAAK,CAC7BvU,EAAG4qB,EAAa3S,cAAejY,EAC/BC,EAAG2qB,EAAa3S,cAAehY,EAC/BM,OAAQqqB,EAAazS,aACrBiG,UAAWyM,KAAKjd,QAKhBgd,EAAa1S,eAAiB0S,EAAaxS,SAC7C2Q,EAAmB/lB,QAAQuR,KAAK,CAC9BvU,EAAG4qB,EAAa1S,cAAelY,EAC/BC,EAAG2qB,EAAa1S,cAAejY,EAC/Bme,UAAWyM,KAAKjd,QAKpB+c,EAAQ9R,WACNtH,EAAMoD,KACNnF,EACA4G,EACA7E,EAAMiG,QACNjG,EAAMwF,MACNE,EAAO/J,aACNsE,GAAMlI,EAAK2K,YAAYzC,GACxBlI,EAAK8I,eAIP,MAAM0Y,EAAeH,EAAQlR,oBAC3BlI,EAAMmI,UACNnI,EAAMoI,WACNpI,EAAMqI,WACNxD,EACAyD,EACAtI,EAAMkG,SACNR,EAAOpK,cACPoK,EAAO5J,SACP4J,EAAO3J,UACP2J,EAAO1J,WAGTgE,EAAMmI,UAAYoR,EAAapR,UAC/BnI,EAAMoI,WAAamR,EAAanR,WAChCpI,EAAMqI,WAAakR,EAAalR,WAG5BrI,EAAMkG,SAAWR,EAAOf,UACtB3E,EAAM+X,gBAAkBzP,EAAgB5C,EAAOf,SACjDyS,EAAe/kB,GAASA,EAAO,GAC/B0F,EAAKmN,iBACLlF,EAAM+X,eAAiB,GAEvB/X,EAAM+X,gBAAkB9Z,GAK5Bua,EAAU,QAAS5b,OAAO,EAAIO,KAAKE,MAAM2C,EAAMwF,MAAQ,OACvDgT,EAAU,mBAAoBJ,EAAWpY,EAAM+X,kBAEjD,CAACK,EAAYI,IAMTpK,IAASpc,EAAAA,EAAAA,aACZwnB,IACC,GAA6B,YAAzBrC,EAAa1lB,QACf,OAGF,MAAMiU,EAASwS,EAAUzmB,QACnBuO,EAAQ8X,EAAarmB,QACrBgoB,EAAW9B,EAAgBlmB,QAC3BsG,EAAO0f,EAAchmB,QAE3B,IAAKgoB,IAAa1hB,IAASiI,EAAM1K,aAAe0K,EAAMmD,QAAS,OAE/DsW,EAAS3U,QAET,MAAM4U,EAAc3hB,EAAK2K,YAAY1C,EAAMkG,UACrCyT,EAAczd,EAAUyB,iBAAiBqC,EAAMkG,SAAUR,EAAOpK,eAChEuJ,EAAgB9M,EAAK2K,YAAY1C,EAAMkG,SAAWR,EAAOf,SACzDiV,EAAgB1d,EAAUyB,iBAC9BqC,EAAMkG,SAAWR,EAAOf,QACxBe,EAAOpK,eAEHue,EAAU3d,EAAUqB,YACxBsH,EAAc3B,GAAGlD,MAAMtR,EACvBmW,EAAchC,GAAG7C,MAAMtR,EACvBkrB,GAGF,IAAInrB,EAAI,EACJgY,GAAOiT,EAAY3W,MAAQ4W,EAC3BG,EAAOpU,EAAOtX,OAGlBqrB,EAASnkB,WACP0K,EAAM1K,WACNgD,EACA0H,EAAMmI,UACNsR,EAAS/Q,WAAahD,EAAO5J,SAAW+d,GAE1CJ,EAASnkB,WACP0K,EAAM1K,WACNgD,EACA0H,EAAMoI,WACNqR,EAAS/Q,WAAahD,EAAO3J,UAAY8d,GAE3CJ,EAASnkB,WACP0K,EAAM1K,WACNgD,EACA0H,EAAMqI,WACNoR,EAAS/Q,WAAahD,EAAO1J,UAAY6d,GAI3C,MAAMvZ,EAAWvI,EAAK8I,cACtB,IAAK,IAAIjD,EAAI,EAAGA,EAAI8H,EAAO/J,aAAciC,IAAK,CAC5C,MAAMuH,EAAU7E,GAAUoZ,EAAYzW,MAAQrF,GAAK0C,EAAS5D,QAC5DyI,EAAQ4U,OAAS5U,EAAQlC,MAAQyW,EAAYzW,MAC7CkC,EAAQwE,IAAMzN,EAAUyC,eAAef,EAAI8H,EAAO/J,aAAc+J,EAAO9J,YACvEuJ,EAAQgH,KAAO2N,EAEf5d,EAAUuD,QACR0F,EAAQjC,GACRlD,EAAMiG,QAAUP,EAAOrK,UAAY5M,EACnCorB,EAAUnU,EAAOhK,aACjBsE,EAAMkG,UAAYf,EAAQ4U,OAAShiB,EAAK+I,iBAAmB,GAC3D4E,EAAO5F,YACP4F,EAAOvX,MACPuX,EAAOtX,OACPsX,EAAOrK,WAETa,EAAUuD,QACR0F,EAAQtC,GACR7C,EAAMiG,QAAUP,EAAOrK,UAAY5M,EAAIgY,EACvCoT,EAAUnU,EAAOhK,aACjBsE,EAAMkG,UAAYf,EAAQ4U,OAAShiB,EAAK+I,iBAAmB,GAC3D4E,EAAO5F,YACP4F,EAAOvX,MACPuX,EAAOtX,OACPsX,EAAOrK,WAGT5M,GAAQgY,EACRA,GAAUtB,EAAQpC,MAGhBoC,EAAQjC,GAAGnD,OAAOE,GAAKyF,EAAO5F,aAC9BqF,EAAQtC,GAAG3C,OAAOxR,GAAKyW,EAAQjC,GAAGhD,OAAOxR,GACzCyW,EAAQtC,GAAG3C,OAAOxR,GAAKorB,IAKzBL,EAAStU,QACPO,EAAOlK,MACP2J,EAAQjC,GAAGhD,OAAOzR,EAClB0W,EAAQjC,GAAGhD,OAAOxR,EAClByW,EAAQjC,GAAGhD,OAAO3H,EAClB4M,EAAQtC,GAAG3C,OAAOzR,EAClB0W,EAAQtC,GAAG3C,OAAOxR,EAClByW,EAAQtC,GAAG3C,OAAO3H,EAClB4M,EAAQwE,IACRxE,EAAQlQ,OAGV6kB,EAAO3U,EAAQjC,GAAGhD,OAAOxR,EAC3B,CAGA+qB,EAASpN,cACP/L,EACAoZ,EAAYzW,MACZyC,EAAO/J,aACP+J,EAAOrK,UACP2E,EAAMmD,QACN,CAACG,EAAQpC,EAAcC,KAErB,GAAIpJ,EAAKyL,iBAAkB,CACzB,MAAMpC,EAAgBrJ,EAAKyL,iBAAiBF,GACxClC,GACFrJ,EAAKkJ,0BAA0BC,EAAcC,EAAQC,EAAeC,EAExE,IAKJoY,EAASjO,OACP9F,EAAOrK,UACP2E,EAAMmD,QACNnD,EAAMwF,MAAQE,EAAOJ,SACrBI,EAAO5F,YAAc4F,EAAOf,QAC5Be,EAAOvX,MAAQ,EACfuX,EAAOtX,OAAS,EACZsX,EAAO5F,YAAc4F,EAAOf,QAC5BzI,EAAUqB,YACRsH,EAAc3B,GAAGnD,OAAOrR,EACxBmW,EAAchC,GAAG9C,OAAOrR,EACxBkrB,GAEFlU,EAAOtX,OACP,EACJ4R,EAAMwF,OAASyS,EAAcxmB,QAAQqV,MAAQ,EAAImR,EAAcxmB,QAAQsV,MAAQ,EAAI,GACnFlC,EAAchC,GAAG7C,MAAMtR,EAAImW,EAAc3B,GAAGlD,MAAMtR,GAIpD,MAAM+d,EAAc6M,KAAKjd,MACzBod,EAASlN,qBAAqBgL,EAAkB9lB,QAASgb,GACzDgN,EAAS3L,sBAAsB0J,EAAmB/lB,QAASgb,GAG3D8K,EAAkB9lB,QAAU8lB,EAAkB9lB,QAAQ2T,OACnDuH,GAASF,EAAcE,EAAKE,UAAY,KAE3C2K,EAAmB/lB,QAAU+lB,EAAmB/lB,QAAQ2T,OACrDuH,GAASF,EAAcE,EAAKE,UAAY,MAG7C,CAACxL,IAMG0V,IAAY/kB,EAAAA,EAAAA,aAAY+mB,UAC5B7B,EAAa,WAERyB,UAKsBG,KAM3BK,IAGAvB,EAAYnmB,QAAU,IAAIyc,EAASC,EAAQC,GAAQjT,EAAeC,KAClEwc,EAAYnmB,QAAQ+E,QAEpB0gB,EAAa,YAVXgC,QAAQD,MAAM,8BANdC,QAAQD,MAAM,sCAiBf,CAACN,EAAmBG,EAAYK,EAAWhL,EAAQC,KAKhD4I,IAAchlB,EAAAA,EAAAA,aAAY,KACA,IAADgoB,EAA7B,GAAkB,YAAdrH,EACFuE,EAAa,UACM,QAAnB8C,EAAApC,EAAYnmB,eAAO,IAAAuoB,GAAnBA,EAAqB5K,YAChB,GAAkB,WAAduD,EAAwB,CAAC,IAADsH,EACjC/C,EAAa,WACM,QAAnB+C,EAAArC,EAAYnmB,eAAO,IAAAwoB,GAAnBA,EAAqBzjB,OACvB,GACC,CAACmc,IAKEuH,IAAWloB,EAAAA,EAAAA,aAAY,KAAO,IAADmoB,EAAAC,EACd,QAAnBD,EAAAvC,EAAYnmB,eAAO,IAAA0oB,GAAnBA,EAAqB/K,OACE,QAAvBgL,EAAAvC,EAAgBpmB,eAAO,IAAA2oB,GAAvBA,EAAyBjJ,UACzB+F,EAAa,aACZ,KAGH5lB,EAAAA,EAAAA,WAAU,KACJ+P,EAAagV,IACfC,EAAgBtnB,GAChBunB,GAAY,GACZ2D,OAED,CAAC7Y,EAAYgV,EAAMrnB,EAAQsnB,EAAiBC,EAAa2D,KAK5D,MAAMxI,IAAqB1f,EAAAA,EAAAA,aAAa/B,IAClC4nB,EAAgBpmB,SAClBomB,EAAgBpmB,QAAQigB,mBAAmBzhB,IAE5C,KAGHqB,EAAAA,EAAAA,WAAU,KACU,YAAdqhB,GAA2BkF,EAAgBpmB,SAC7ComB,EAAgBpmB,QAAQigB,mBAAmBiF,IAE5C,CAAChE,EAAWgE,KAGfrlB,EAAAA,EAAAA,WAAU,IACD,KAAO,IAAD+oB,EAAAC,EACQ,QAAnBD,EAAAzC,EAAYnmB,eAAO,IAAA4oB,GAAnBA,EAAqBjL,OACE,QAAvBkL,EAAAzC,EAAgBpmB,eAAO,IAAA6oB,GAAvBA,EAAyBnJ,WAE1B,IAKH,MAAM8F,IAAqBjlB,EAAAA,EAAAA,aACzB,CAAC6f,EAAoE0I,KACnE,OAAQ1I,GACN,IAAK,OACHoG,EAAcxmB,QAAQqV,KAAOyT,EAC7B,MACF,IAAK,QACHtC,EAAcxmB,QAAQsV,MAAQwT,EAC9B,MACF,IAAK,KACHtC,EAAcxmB,QAAQuV,OAASuT,EAC/B,MACF,IAAK,OACHtC,EAAcxmB,QAAQwV,OAASsT,IAIrC,IAMIvY,IAAoBhQ,EAAAA,EAAAA,aAAY,IAChCylB,EAAchmB,QACTgmB,EAAchmB,QAAQuQ,kBAAkBqU,GAE1C,KACN,CAACA,IAEJ,MAAO,CACLS,YACAnE,YACAtR,aACArS,SACA0jB,MACAD,cAAe4D,EACfU,aACAC,eACAkD,YACAxI,sBACAuF,sBACAjV,qBAEJ,CD3mBMwY,CAAW/H,EAAe/N,EAAOiL,EAAM2G,EAAiBC,IAS5DjlB,EAAAA,EAAAA,WAAU,KACJwlB,EAAUrlB,UAEZqlB,EAAUrlB,QAAQtD,MAAQ,IAC1B2oB,EAAUrlB,QAAQrD,OAAS,MAE5B,CAAC0oB,KAGJxlB,EAAAA,EAAAA,WAAU,KACJqlB,GAAwB,YAAdhE,GACZjB,GAAmB,IAEpB,CAACiF,EAAQhE,EAAWjB,IAGvB,MAAM+I,IAAgBzoB,EAAAA,EAAAA,aACnB6f,IACmB,YAAdc,GAGJsE,EAAmBpF,GAAW,IAEhC,CAACc,EAAWsE,IAGRyD,IAAmB1oB,EAAAA,EAAAA,aACtB6f,IAECoF,EAAmBpF,GAAW,IAEhC,CAACoF,IA0BH,OAtBA3lB,EAAAA,EAAAA,WAAU,KACR,MAAMsf,EAAiBvd,IAGrB,GADwC,CAAE,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAC1DA,EAAEwd,SAET,OADAxd,EAAE2d,kBACK,GAIL4F,GAA0B,WAAVvjB,EAAEolB,KAA8B,MAAVplB,EAAEolB,MAC1CplB,EAAE2d,iBACFgG,MAKJ,OADAlF,OAAOjgB,iBAAiB,UAAW+e,GAAe,GAC3C,KACLkB,OAAOhgB,oBAAoB,UAAW8e,GAAe,KAEtD,CAACgG,EAAaI,KAGfzoB,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAErH,MAAO,OAAQ+X,SAAU,YAAa5X,UAClDL,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLrH,MAAO,OACP+X,SAAU,WACVyU,QAAS,OACTC,cAAe,SACfC,IAAK,UACLC,eAAgB,SAChBC,WAAY,UACZzsB,SAAA,EAGAsoB,IACAroB,EAAAA,EAAAA,KAACkH,EAAW,CACVvB,KAAK,SACLK,MAAOiiB,EACP3gB,WAAYA,EACZC,SAlFcijB,UACtBlC,GAAe,SACTE,KAiFEhhB,WAAY1F,EAAE+C,MAAM4nB,OAAOC,YAC3B7qB,KAAMA,EACN4F,eACE/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAE0lB,aAAc,QAAS5sB,SAAA,CAClCmoB,IACCxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAC,UACtDC,EAAAA,EAAAA,KAAA,OACEiiB,IAAKiG,EACL3D,IAAI,aACJtd,MAAO,CACL2lB,OAAQ,SACRhtB,MAAO,QACPC,OAAQ,OACR8sB,aAAc,cAKtB3sB,EAAAA,EAAAA,KAAA,KAAGiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAClDqoB,EACGtmB,EAAE+C,MAAM4nB,OAAOI,iBACf/qB,EAAE+C,MAAM4nB,OAAOK,eAGrB9sB,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEkf,UAAW,UAAWpmB,SACjCqoB,GACC1oB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACEL,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACdtmB,MAAO,QACPqf,WAAY,OACZX,SAAU,YACVrlB,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SACrD+B,EAAE+C,MAAM4nB,OAAOQ,eAGpBvtB,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACdtmB,MAAO,QACPqf,WAAY,OACZX,SAAU,YACVrlB,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SACrD+B,EAAE+C,MAAM4nB,OAAOS,gBAGpBxtB,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACdtmB,MAAO,QACPqf,WAAY,OACZX,SAAU,YACVrlB,SACH,kBAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOld,iBAE3E7P,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACdtmB,MAAO,QACPqf,WAAY,OACZX,SAAU,YACVrlB,SACH,kBAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOU,eAI7EztB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACEL,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOW,MACzEptB,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,OAGDL,EAAAA,EAAAA,MAAA,QAAMuH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAA,CAAC,KACpD+B,EAAE+C,MAAM4nB,OAAOQ,gBAGtBvtB,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOW,MACzEptB,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,OAGDL,EAAAA,EAAAA,MAAA,QAAMuH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAA,CAAC,KACpD+B,EAAE+C,MAAM4nB,OAAOS,iBAGtBxtB,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOW,MACzEptB,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,OAGDL,EAAAA,EAAAA,MAAA,QAAMuH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAA,CAAC,KAAG+B,EAAE+C,MAAM4nB,OAAOld,kBAE7E7P,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACLmlB,QAAS,OACTI,WAAY,SACZF,IAAK,UACLK,aAAc,UACd5sB,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,YAGDC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAE+B,EAAE+C,MAAM4nB,OAAOW,MACzEptB,EAAAA,EAAAA,KAAA,OACEiH,MAAO,CACL8lB,QAAS,iBACT/lB,gBAAiB,UACjBgmB,aAAc,UACd5H,SAAU,UACV1e,MAAO,SACP3G,SACH,OAGDL,EAAAA,EAAAA,MAAA,QAAMuH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAA,CAAC,KAAG+B,EAAE+C,MAAM4nB,OAAOU,kBAMnFntB,EAAAA,EAAAA,KAAA,KAAGiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,UAAWyf,UAAW,QAASpmB,SACpE+B,EAAE+C,MAAM4nB,OAAOY,oBAQX,WAAdjJ,IACCpkB,EAAAA,EAAAA,KAACkH,EAAW,CACVvB,KAAK,QACLK,MAAK,gBAAA9B,OAAQpC,EAAE+C,MAAMqD,OACrBf,QAASrF,EAAE+C,MAAM4nB,OAAOa,iBACxB/lB,SAAUkhB,EACVjhB,WAAY1F,EAAE+C,MAAM0oB,SACpBjmB,WAAYA,EACZzF,KAAMA,KAKVnC,EAAAA,EAAAA,MAAA,OACE8tB,GAAG,QACHvmB,MAAO,CAAEmlB,QAAS,OAAQG,eAAgB,SAAUC,WAAY,SAAU5sB,MAAO,QAASG,SAAA,CAE3E,aAAdqkB,IACCpkB,EAAAA,EAAAA,KAACkH,EAAW,CAACvB,KAAK,WAAWyB,MAAO3G,EAAQ6G,WAAYA,EAAYzF,KAAMA,KAI5EnC,EAAAA,EAAAA,MAAA,OACEuH,MAAO,CACL0Q,SAAU,WACVoV,QAAS,EACTH,OAAQ,EACRhtB,MAAO,OACP6tB,SAAU,QACV5tB,OAAQ,QACRusB,QAAuB,aAAdhI,EAA2B,OAAS,QAC7CsJ,WAA0B,UAAdtJ,EAAwB,SAAW,WAC/CrkB,SAAA,EAGFC,EAAAA,EAAAA,KAACikB,EAAG,CACFnR,WAAYA,EACZoR,cAAeA,EACfzjB,OAAQA,EACR0jB,IAAKA,EACLC,UAAWA,KAIbpkB,EAAAA,EAAAA,KAAComB,EAAU,CACT/gB,IAAKkjB,EACL3oB,MAAO,IACPC,OAAQ,IACRoH,MAAO,CAAED,gBAAiB,UAAWpH,MAAO,OAAQC,OAAQ,iBAMlEG,EAAAA,EAAAA,KAAC4kB,EAAc,CACbnR,kBAAmBA,GACnBoR,UAAWsD,GAAoC,YAAd/D,IAA4BgE,IAI9DA,GAAwB,YAAdhE,IACTpkB,EAAAA,EAAAA,KAACwmB,EAAY,CACXC,UAAWyF,GACXxF,aAAcyF,GACdvF,OAAO,SACPtf,WAAYA,EACZwf,WAAW,eACXE,YAAY,uBE9dX2G,EAAWA,CAAC1Q,EAAgB2Q,KAA6B,IAADC,EAAAC,EACpE,MAAOC,EAAOC,GAAYC,EAAAA,SAAeC,OAClCC,EAAaC,GAAkBH,EAAAA,SAAe,IAC9CI,EAAcC,GAAmBL,EAAAA,SAAyB,IAiFjE,OA/EAA,EAAAA,UAAgB,KACf,IAAKhR,EAAOsR,IAAK,OAEjBH,EAAe,GAEf,MAwCMI,EAAeC,IAGpB,MAAMC,EAAWD,EAAUnN,IAC1BqN,GACCA,EAAIrN,IAAIsN,GACK,UAAZA,EAAK,GAAiB,CAAC,EAAG,SAAWA,IAgBxC,OAXA3R,EAAO4R,UAAU/a,QAAQ,CAAC6a,EAAKxuB,KAC9BwuB,EAAI7a,QAAQ,CAAClO,EAAO1F,KACL,IAAV0F,IACH8oB,EAASvuB,EAAI8c,EAAOsR,IAAIpuB,GAAGD,EAAI+c,EAAOsR,IAAIruB,GAAK,CAC9C0F,EAAM,GAAD1B,OACF+Y,EAAO6R,SAAW,SAAW,eAMhC7R,EAAO6R,UACVlB,IA/DiBc,KAClB,IAAIP,EAAc,EAClB,MAAMY,EAAyB,GAG/BL,EAAS5a,QAAQ,CAAC6a,EAAKja,KAClBia,EAAIK,MAAMJ,GAAoB,IAAZA,EAAK,MAC1BG,EAAata,KAAKC,GAClByZ,GAAe,KAKbY,EAAa5gB,OAAS,IACzBmgB,EAAgBS,GAGhBE,WAAW,KACVX,EAAgB,KACd,MAIJ,MAAMY,EAAeR,EAASxI,OAAO,CAACiJ,EAAKR,EAAKja,KAC3Cqa,EAAavM,SAAS9N,GAEzBya,EAAIC,QACH,IAAIC,MAAMX,EAAS,GAAGvgB,QAAQrO,KAAK,CAAC,EAAG,WAIxCqvB,EAAI1a,KAAKka,GAEHQ,GACL,IAGH,OADAf,EAAeD,GACRe,GA2BCI,CAAUZ,IAGXA,GAGRV,EAASlqB,GAAQ0qB,EAAY1qB,KAE3B,CAACmZ,EAAO6R,SAAoB,QAAZjB,EAAE5Q,EAAOsR,WAAG,IAAAV,OAAA,EAAVA,EAAY3tB,EAAa,QAAZ4tB,EAAE7Q,EAAOsR,WAAG,IAAAT,OAAA,EAAVA,EAAY3tB,EAAG8c,EAAO4R,YAEnD,CAAEd,QAAOC,WAAUG,cAAaE,iBC5E3BkB,EAAwC3uB,IAY9C,IAZ+C,MACrDyG,EAAK,MACLmoB,EAAK,MACLpoB,EAAK,QACLqoB,EAAO,SACPC,GAAW,EAAK,YAChBC,EAAW,WACXroB,EAAa,UAAS,SACtB5F,EAAQ,OACRkuB,EAAM,eACNC,GAAiB,EAAK,WACtBC,GAAa,GACblvB,EAEA,MAAMmvB,EAAiBF,GAAkBD,IAAWE,EAEpD,OACCpwB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,cAAalB,SAAA,EAC3BL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,MACtBuI,IAAVjB,IACA3H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uBAAsBlB,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,yBAAwBlB,SAAC,WACzCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,yBAAwBlB,SAAEsH,YAIjCiB,IAAVknB,IACA9vB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uBAAsBlB,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,wBAAuBlB,SAAC,kBACxCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,yBAAwBlB,SAAEyvB,QAI5C9vB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uBAAsBlB,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,wBAAuBlB,SAAC,kBACxCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,yBAAwBlB,SACtCqH,EAAMmB,sBAIRonB,MAIFjwB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,sBAAqBlB,SAAA,CAElC0vB,IAAYK,IACZ9vB,EAAAA,EAAAA,KAAA,UACCkB,QAASuuB,EACTxuB,UAAU,kBACVgG,MAAO,CAAED,gBAAiBM,GAAavH,SAEtC2vB,EAAQ,gBAAAxrB,OACAxC,EAAW,GAAK,aAAW,gBAAAwC,OAC3BxC,EAAW,GAAK,YAK1BquB,IACA/vB,EAAAA,EAAAA,KAAA,UACCkB,QAAS0uB,EACT3uB,UAAU,uCACVgG,MAAO,CAAED,gBAAiBM,GAAavH,SAEtC2B,EAAW,eAAO,8B,cC2HlB,MAAMsuB,EAAc,IA1MpB,MAAyBle,WAAAA,GAAA,KACvBme,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQC,aAAe,EAAC,KACPC,aAAe,IAEhC,KACQC,UAA+B,KAAI,KACnCC,YAAiC,KAAI,KACrCC,UAAuC,KAAI,KAC3CC,UAAmC,KAAI,KACvCC,YAAqC,KAAI,KACzCC,cAAmC,IAAI,CAE/C,UAAMC,GACD5hB,KAAKkhB,oBAEHW,EAAAA,KAGN7hB,KAAKshB,UAAY,IAAIO,EAAAA,GAAW,CAC/BC,WAAY,CAAElrB,KAAM,UACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHriB,KAAKuhB,YAAc,IAAIM,EAAAA,GAAW,CACjCC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHriB,KAAKwhB,UAAY,IAAIK,EAAAA,GAAmB,CACvCS,WAAY,IACZC,QAAS,EACTT,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHriB,KAAKyhB,UAAY,IAAII,EAAAA,GAAeA,EAAAA,GAAY,CAC/CC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK0hB,YAAc,IAAIG,EAAAA,GAAeA,EAAAA,GAAY,CACjDC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK2hB,cAAgB,IAAIE,EAAAA,GAAW,CACnCC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHriB,KAAKkhB,aAAc,EACpB,CAGAsB,QAAAA,GACC,IAAKxiB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKshB,UAAW,OAExD,MAAMviB,EAAM8iB,EAAAA,KACR9iB,EAAMiB,KAAKohB,aAAephB,KAAKqhB,eAEnCrhB,KAAKohB,aAAeriB,EACpBiB,KAAKshB,UAAUmB,qBAAqB,KAAM,MAAO1jB,GAClD,CAGA2jB,UAAAA,GACC,IAAK1iB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKuhB,YAAa,OAC1D,MAAMxiB,EAAM8iB,EAAAA,KACZ7hB,KAAKuhB,YAAYkB,qBAAqB,KAAM,MAAO1jB,GACnDiB,KAAKuhB,YAAYkB,qBAAqB,KAAM,MAAO1jB,EAAM,IAC1D,CAGA4jB,QAAAA,GACC,IAAK3iB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKwhB,UAAW,OACxD,MAAMziB,EAAM8iB,EAAAA,KACZ7hB,KAAKwhB,UAAUiB,qBAAqB,KAAM,KAAM1jB,EACjD,CAGA6jB,aAAAA,CAAc5d,GACb,IAAKhF,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKyhB,UAAW,OAGxD,GAAIzc,GAAS,EAEZ,YADAhF,KAAK6iB,aAIN,MAAM9jB,EAAM8iB,EAAAA,KAEsB,CAAC,CAAC,MAAO,CAAC,KAAM,MAAO,CAAC,KAAM,KAAM,OAE1ChiB,KAAKF,IAAIqF,EAAQ,EAAG,IAC1CD,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAKyhB,UAAWgB,qBAAqBK,EAAM,KAAM/jB,EAAU,IAAJ2I,IAEzD,CAGAmb,UAAAA,GACC,IAAK7iB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK0hB,YAAa,OAC1D,MAAM3iB,EAAM8iB,EAAAA,KAGI,CACf,CAAEkB,MAAO,CAAC,KAAM,KAAM,MAAOC,KAAM,GACnC,CAAED,MAAO,CAAC,KAAM,KAAM,MAAOC,KAAM,IACnC,CAAED,MAAO,CAAC,KAAM,KAAM,MAAOC,KAAM,IACnC,CAAED,MAAO,CAAC,KAAM,KAAM,KAAM,MAAOC,KAAM,MAGlCje,QAAQlT,IAAsB,IAArB,MAAEkxB,EAAK,KAAEC,GAAMnxB,EAC/BmO,KAAK0hB,YAAae,qBAAqBM,EAAO,KAAMhkB,EAAMikB,IAE5D,CAGAC,YAAAA,GACC,IAAKjjB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK2hB,cAAe,OAC5D,MAAM5iB,EAAM8iB,EAAAA,KAEE,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACvC9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK2hB,cAAec,qBAAqBK,EAAM,KAAM/jB,EAAU,GAAJ2I,IAE7D,CAEAwb,QAAAA,CAAS/B,GACRnhB,KAAKmhB,MAAQA,CACd,CAEAgC,OAAAA,GACC,OAAOnjB,KAAKmhB,KACb,CAEAiC,OAAAA,GAAiB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACV1jB,KAAKkhB,cAEI,QAAdmC,EAAArjB,KAAKshB,iBAAS,IAAA+B,GAAdA,EAAgBD,UACA,QAAhBE,EAAAtjB,KAAKuhB,mBAAW,IAAA+B,GAAhBA,EAAkBF,UACJ,QAAdG,EAAAvjB,KAAKwhB,iBAAS,IAAA+B,GAAdA,EAAgBH,UACF,QAAdI,EAAAxjB,KAAKyhB,iBAAS,IAAA+B,GAAdA,EAAgBJ,UACA,QAAhBK,EAAAzjB,KAAK0hB,mBAAW,IAAA+B,GAAhBA,EAAkBL,UACA,QAAlBM,EAAA1jB,KAAK2hB,qBAAa,IAAA+B,GAAlBA,EAAoBN,UAEpBpjB,KAAKshB,UAAY,KACjBthB,KAAKuhB,YAAc,KACnBvhB,KAAKwhB,UAAY,KACjBxhB,KAAKyhB,UAAY,KACjBzhB,KAAK0hB,YAAc,KACnB1hB,KAAK2hB,cAAgB,KAErB3hB,KAAKkhB,aAAc,EACpB,GC9LYyC,EAAc,GAGrBC,GAAa,CACjB,EAAG,CAAEC,MAAO,CAAC,CAAC,IAAKlsB,MAAO,WAC1BmsB,EAAG,CACDD,MAAO,CACL,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,GACZ,CAAC,EAAG,IAAK,EAAG,IAEdlsB,MAAO,WAETosB,EAAG,CACDF,MAAO,CACL,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,GACT,CAAC,IAAK,IAAK,IAEblsB,MAAO,WAETqsB,EAAG,CACDH,MAAO,CACL,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,GACT,CAAC,EAAG,IAAK,MAEXlsB,MAAO,WAETssB,EAAG,CACDJ,MAAO,CACL,CAAC,IAAK,KACN,CAAC,IAAK,MAERlsB,MAAO,WAETusB,EAAG,CACDL,MAAO,CACL,CAAC,EAAG,IAAK,KACT,CAAC,IAAK,IAAK,GACX,CAAC,EAAG,EAAG,IAETlsB,MAAO,WAETwsB,EAAG,CACDN,MAAO,CACL,CAAC,EAAG,EAAG,GACP,CAAC,IAAK,IAAK,KACX,CAAC,EAAG,IAAK,IAEXlsB,MAAO,WAETysB,EAAG,CACDP,MAAO,CACL,CAAC,IAAK,IAAK,GACX,CAAC,EAAG,IAAK,KACT,CAAC,EAAG,EAAG,IAETlsB,MAAO,YAOEwnB,GAAcA,IAClBmB,MAAM+D,KAAK/D,MAlEQ,IAkEa,IAAMA,MAAMqD,GAAa5yB,KAAK,CAAC,EAAG,WAG9DuzB,GAAkBA,KAC7B,MAAMC,EAAa,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5CC,EAAgBD,EAAW1kB,KAAKwF,MAAMxF,KAAKK,SAAWqkB,EAAWnlB,SACvE,OAAOwkB,GAAWY,IAGPC,GAAcA,CACzBvW,EACA8Q,EAAgBntB,KAEZ,IADFV,EAAGuzB,EAAOtzB,EAAGuzB,GAAiC9yB,EAGhD,IAAK,IAAIT,EAAI,EAAGA,EAAI8c,EAAO4R,UAAU1gB,OAAQhO,GAAK,EAChD,IAAK,IAAID,EAAI,EAAGA,EAAI+c,EAAO4R,UAAU1uB,GAAGgO,OAAQjO,GAAK,EAEnD,GAA+B,IAA3B+c,EAAO4R,UAAU1uB,GAAGD,MAInB6tB,EAAM5tB,EAAI8c,EAAOsR,IAAIpuB,EAAIuzB,KAEzB3F,EAAM5tB,EAAI8c,EAAOsR,IAAIpuB,EAAIuzB,GAAOxzB,EAAI+c,EAAOsR,IAAIruB,EAAIuzB,IAEa,UAAjE1F,EAAM5tB,EAAI8c,EAAOsR,IAAIpuB,EAAIuzB,GAAOxzB,EAAI+c,EAAOsR,IAAIruB,EAAIuzB,GAAO,IAE1D,OAAO,GAYXE,GAA4BC,IAA2B,IAA1B,KAAEjuB,EAAI,WAAEkuB,GAAYD,EACrD,MAAMltB,EAAQisB,GAAWhtB,GAAMe,MACzBotB,EAAmB,IAATnuB,EAEhB,OACE3F,EAAAA,EAAAA,KAAA,OACEiB,UAAS,aAAAiD,OAAgB4vB,EAA+B,GAArB,mBAAuB,KAAA5vB,OAAI2vB,EAAa,qBAAuB,IAClG5sB,MAAO,CACLD,gBAAiB8sB,EAAU,cAAgBD,EAAa,UAAYntB,EACpEqtB,YAAaD,EAAU,2BAA6BD,EAAa,UAAS,GAAA3vB,OAAMwC,EAAK,MACrFstB,UAAWF,EACP,OAAM,8EAYZG,GAA8BC,IAAmC,IAAlC,MAAEnG,EAAK,aAAEM,EAAe,IAAI6F,EAC/D,OACEl0B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oBAAmBlB,SAC/BguB,EAAMzM,IAAI,CAACqN,EAAKxuB,IACfwuB,EAAIrN,IAAI,CAACsN,EAAM1uB,KACbF,EAAAA,EAAAA,KAAC2zB,GAAI,CAAmBhuB,KAAMipB,EAAK,GAAIiF,WAAYxF,EAAa7L,SAASriB,IAAG,GAAA+D,OAA9D/D,EAAC,KAAA+D,OAAIhE,SAYvBi0B,GAAsCC,IAAuB,IAADC,EAAA,IAArB,MAAEzB,EAAK,MAAElsB,GAAO0tB,EAC3D,OACEp0B,EAAAA,EAAAA,KAAA,OACEiB,UAAU,oBACVgG,MAAO,CACLqtB,oBAAoB,UAADpwB,QAAoB,QAARmwB,EAAAzB,EAAM,UAAE,IAAAyB,OAAA,EAARA,EAAUlmB,SAAU,EAAC,UACpDomB,iBAAiB,UAADrwB,OAAY0uB,EAAMzkB,OAAM,UACxC4e,QAAS,SACTyH,OAAQ,qBACRz0B,SAED6yB,EAAMtR,IAAI,CAACqN,EAAKxuB,IACfwuB,EAAIrN,IAAI,CAACsN,EAAM1uB,KACbF,EAAAA,EAAAA,KAAA,OAEEiB,UAAS,aAAAiD,OAAwB,IAAT0qB,EAAa,mBAAqB,IAC1D3nB,MAAO,CACLD,gBAA0B,IAAT4nB,EAAaloB,EAAQ,cACtCqtB,YAAsB,IAATnF,EAAU,GAAA1qB,OAAMwC,EAAK,MAAO,2BACzCstB,UACW,IAATpF,EAAU,0EAEN,SACN,GAAA1qB,OATM/D,EAAC,KAAA+D,OAAIhE,SAqazB,GA1Y8Cu0B,IAQvC,IARwC,MAC7CjF,EAAK,gBACLzH,EAAe,YACfC,EAAW,WACX1gB,EAAU,KACV8Z,EAAO,UAAS,UAChB6G,EAAY,SAAQ,UACpBC,GACDuM,EACC,MAAMrM,EAAS1mB,KAER2mB,EAAaC,IAAkBpmB,EAAAA,EAAAA,WAAS,IACxCwyB,EAAYC,IAAiBzyB,EAAAA,EAAAA,WAAS,IACtCiG,EAAUysB,IAAoB1yB,EAAAA,EAAAA,WAAS,IACvC2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClC6yB,EAAeC,IAAoB9yB,EAAAA,EAAAA,WAAS,IAE5C+yB,EAAcC,IAAmBhzB,EAAAA,EAAAA,UAASstB,IAC1C/uB,EAAQqoB,IAAa5mB,EAAAA,EAAAA,UAAS,IAC9BmF,EAAO8tB,IAAYjzB,EAAAA,EAAAA,UAAS,IAC5B,CAAEkzB,IAAwBlzB,EAAAA,EAAAA,UAAS,IACnCmzB,EAAWC,IAAgBpzB,EAAAA,EAAAA,UAASmxB,OAEpCkC,EAAUC,IAAetzB,EAAAA,EAAAA,UAAwB,OACjDuzB,EAAeC,IAAoBxzB,EAAAA,EAAAA,UAAiB,MAErD,OAAE+a,EAAM,gBAAE0Y,EAAe,YAAE/H,EAAW,aAAEgI,GCrNvBC,MACxB,MAAO5Y,EAAQ6Y,IAAa5zB,EAAAA,EAAAA,UAAS,CAAC,GA6ChC0rB,GAAcnqB,EAAAA,EAAAA,aAClBmvB,GACAkD,EAAU,CACTvH,IAAK,CAAEruB,EAAGwyB,EAAc,EAAI,EAAGvyB,EAAG,GAClC0uB,UAAW+D,GAASS,KAAkBT,MACtC9D,UAAU,IAEZ,IAGD,MAAO,CAAE7R,SAAQ0Y,gBA1BO/0B,IAQX,IARY,EACxBV,EAAC,EACDC,EAAC,SACD2uB,GAKAluB,EACAk1B,EAAUhyB,IAAIyI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVzI,GAAI,IACPyqB,IAAK,CAAEruB,EAAG4D,EAAKyqB,IAAIruB,EAAIA,EAAGC,EAAG2D,EAAKyqB,IAAIpuB,EAAIA,GAC1C2uB,eAcgClB,cAAagI,aA9CzBG,IACrB,MAAMC,EAAeC,KAAKC,MAAMD,KAAKE,UAAUlZ,IARhCmZ,MASfJ,EAAanH,WATEuH,EASiBJ,EAAanH,WAPzBvN,IAAI,CAAC+U,EAAG5f,IAAM2f,EAAO9U,IAAIgV,GAAUA,EAAO7f,KAElD6K,IAAIqN,GAAOA,EAAI4H,WAQ3B,MAAMC,EAAOR,EAAazH,IAAIruB,EAC9B,IAAI0S,EAAS,EACb,KAAO4gB,GAAYwC,EAAcD,EAAO,CAAE71B,EAAG,EAAGC,EAAG,KAIlD,GAHA61B,EAAazH,IAAIruB,GAAK0S,EACtBA,IAAWA,GAAUA,EAAS,EAAI,GAAK,IAEnCA,EAASojB,EAAanH,UAAU,GAAG1gB,OAEtC,YADA6nB,EAAazH,IAAIruB,EAAIs2B,GAKvBV,EAAUE,MD0LqDH,IACzD,MAAE9H,EAAK,SAAEC,EAAQ,YAAEG,EAAW,aAAEE,GAAiBV,EAAS1Q,EAAQ,KACtEwZ,MAGIC,GAAkB7zB,EAAAA,EAAAA,QAAY,MAE9B4zB,GAA2BhzB,EAAAA,EAAAA,aAAY,KACvC4xB,IACFzH,EAAYyH,EAAUzC,OACtB0C,EAAajC,QAEd,CAACgC,EAAWzH,IAET+I,GAAalzB,EAAAA,EAAAA,aAChBmzB,IACMpD,GAAYvW,EAAQ8Q,EAAO,CAAE7tB,EAAG02B,EAAKz2B,EAAG,MAC3Cw1B,EAAgB,CAAEz1B,EAAG02B,EAAKz2B,EAAG,EAAG2uB,UAAU,IAC1CkB,EAAYuB,aAGhB,CAACtU,EAAQ8Q,EAAO4H,IAGZzJ,GAAgBzoB,EAAAA,EAAAA,aACnB6f,IACC,IAAInb,IAAYusB,EAEhB,OAAQpR,GACN,IAAK,KACHsS,EAAa7H,GACbiC,EAAYyB,aACZ,MACF,IAAK,OAEH+D,EAAY,IACZ,MACF,IAAK,OACHmB,GAAY,GACZ,MACF,IAAK,QACHA,EAAW,KAIjB,CAACxuB,EAAUusB,EAAY3G,EAAO6H,EAAce,IAGxCxK,IAAmB1oB,EAAAA,EAAAA,aACtB6f,IACmB,SAAdA,GAEFkS,EAAYC,IAGhB,CAACA,IAGGoB,GAAQC,IAA6C,IAA5C,QAAExU,GAA8BwU,EACxC3uB,GACa,KAAZma,GACFkT,EAAYC,IAKZsB,GAAOC,IAAsE,IAArE,QAAE1U,EAAO,OAAE2U,GAA8CD,EACrE,IAAKtC,GAAcvsB,EACjB,GAAgB,KAAZma,EACFqU,GAAY,QACP,GAAgB,KAAZrU,EACTqU,EAAW,QACN,GAAgB,KAAZrU,EAAgB,CAEzB,GAAI2U,EAAQ,OACZzB,EAAY,GACd,MAAuB,KAAZlT,IACTsT,EAAa7H,GACbiC,EAAYyB,eAqDZyF,GAA+BpyB,IAEnC,GAAwB,IADN,CAAE,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GACpCA,EAAEwd,SAET,OADAxd,EAAE2d,kBACK,GA4FX,OAxFA1f,EAAAA,EAAAA,WAAU,KACRwgB,OAAOjgB,iBAAiB,UAAW4zB,IAA6B,GAChElH,EAAYW,OACL,KACLX,EAAYmC,YAEb,IEhXsBgF,EAACC,EAAsBC,KACjD,MAAMC,GAAgBz0B,EAAAA,EAAAA,QAAmBu0B,IAEzCr0B,EAAAA,EAAAA,WAAU,KACTu0B,EAAcp0B,QAAUk0B,GACtB,CAACA,KAEJr0B,EAAAA,EAAAA,WAAU,KAOT,GAAc,OAAVs0B,EAAgB,CACnB,MAAM7J,EAAK1lB,YAPCyvB,KACRD,EAAcp0B,SACjBo0B,EAAcp0B,WAKcm0B,GAC7B,MAAO,IAAMtvB,cAAcylB,EAC5B,GACE,CAAC6J,KFgWHF,CAAY,MACN9O,GAAgBlgB,GAAausB,IAhE5BlB,GAAYvW,EAAQ8Q,EAAO,CAAE7tB,EAAG,EAAGC,EAAG,IAGrC8c,EAAOsR,IAAIpuB,EAAI,GACjB+0B,EAAgBD,EAAe,GAC3BA,EAAe,GAAK,GACtBL,GAAiB,GACjB5M,GAAY,GACZD,EAAgBtnB,GAChB+0B,EAAY,MACZxF,EAAYgC,gBAEZhE,EAASE,QAGXyH,EAAgB,CAAEz1B,EAAG,EAAGC,EAAG,EAAG2uB,UAAU,IACxCkB,EAAY0B,YAfdiE,EAAgB,CAAEz1B,EAAG,EAAGC,EAAG,EAAG2uB,UAAU,MAkEzCyG,IAEHxyB,EAAAA,EAAAA,WAAU,KACR,GAAIorB,EAAc,EAAG,CAEnB,IAAI9V,EAAe,EACnB,OAAQ8V,GACN,KAAK,EACH9V,EAAe,IAAMhR,EACrB,MACF,KAAK,EACHgR,EAAe,IAAMhR,EACrB,MACF,KAAK,EACHgR,EAAe,IAAMhR,EACrB,MACF,KAAK,EACHgR,EAAe,IAAMhR,EACrB,MACF,QACEgR,EAAe,IAAMhR,EAAQ8mB,EAIjC6B,EAAY2B,cAAcxD,GAE1BrF,EAAWhlB,GAASA,EAAOuU,GAC3B+c,EAAsBtxB,IACpB,MAAM0zB,EAAW1zB,EAAOqqB,EAElBsJ,EAAW7oB,KAAKwF,MAAMojB,EAAW,IAAM,EAI7C,OAHIC,EAAWpwB,GACb8tB,EAASsC,GAEJD,IAEThC,EAAYC,EACd,GACC,CAACtH,EAAa9mB,EAAOouB,KAGxB1yB,EAAAA,EAAAA,WAAU,KAER,MAAM20B,EAAW9oB,KAAKD,IAAI,IAAK,IAAqB,IAAbtH,EAAQ,IAC/CquB,EAAiBgC,IAChB,CAACrwB,KAEJtE,EAAAA,EAAAA,WAAU,KACRyyB,EAAYC,IACX,CAACA,KAGJ1yB,EAAAA,EAAAA,WAAU,KACR,MAAMsf,EAAiBvd,GAAqBiyB,GAAKjyB,GAC3C4d,EAAe5d,GAAqB+xB,GAAM/xB,GAKhD,OAHAye,OAAOjgB,iBAAiB,UAAW+e,GACnCkB,OAAOjgB,iBAAiB,QAASof,GAE1B,KACLa,OAAOhgB,oBAAoB,UAAW8e,GACtCkB,OAAOhgB,oBAAoB,QAASmf,KAGrC,CAACgS,EAAYvsB,EAAU8U,EAAQ8Q,EAAO0H,EAAekB,EAAYf,KAGpE7yB,EAAAA,EAAAA,WAAU,KACR,MAAM40B,EAAajB,EAAgBxzB,QACnC,MAAO,KACDy0B,GACFC,aAAaD,KAGhB,KAGDj4B,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iBAAiBgG,MAAO,CAAED,gBAAiBM,GAA0B,WAAYvH,SAAA,EAE9FC,EAAAA,EAAAA,KAACuvB,EAAU,CACTloB,MAAOA,EACPmoB,MAAOyF,EACP7tB,MAAO3G,EACPgvB,QAASA,IAAMkF,GAAeD,GAC9BhF,SAAUgF,EACVptB,WAAYA,EACZ5F,SAAU0mB,EACVwH,OAAQA,KACNkF,GAAY,GACZE,EAAiBN,GACjBC,GAAc,IAEhB9E,eAAgBxH,EAChByH,WAAY+E,KAGd70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UACzBL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,mBAAkBlB,SAAA,EAE/BC,EAAAA,EAAAA,KAAA,OACEiB,UAAU,qBACV42B,UAAWd,GACXe,QAASjB,GAAM92B,UAEfL,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEmlB,QAAS,OAAQE,IAAK,QAASvsB,SAAA,EAE3CC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEmlB,QAAS,OAAQC,cAAe,SAAUG,WAAY,UAAWzsB,UAC7EC,EAAAA,EAAAA,KAACi0B,GAAK,CAAClG,MAAOA,EAAOM,aAAcA,OAIrC3uB,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kBAAiBlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,wBAAuBlB,SAAC,eACtCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,sBAAqBlB,UAClCC,EAAAA,EAAAA,KAACm0B,GAAS,CAACvB,MAAOyC,EAAUzC,MAAOlsB,MAAO2uB,EAAU3uB,UAE5C,YAAT0a,IACCphB,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAErH,MAAO,OAAQumB,UAAW,SAAUzf,MAAO,WAAY3G,UACnEC,EAAAA,EAAAA,KAAA,OACEiiB,IAAG,uBAAA/d,OAAyBkd,EAAI,YAChCmD,IAAG,GAAArgB,OAAKkd,EAAI,sBACZna,MAAO,CAAErH,MAAO,MAAOgtB,OAAQ,SAAUmL,UAAW,uBAS/DrD,IAAeG,IACd70B,EAAAA,EAAAA,KAACkH,EAAW,CACVvB,KAAK,QACL2B,WAAYA,EACZC,SAAUA,IAAMotB,GAAc,KAKjCE,IACC70B,EAAAA,EAAAA,KAACkH,EAAW,CACVvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+CzD,EAAM,wCAC5D6G,WAAYA,EACZG,eACE/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EAChCC,EAAAA,EAAAA,KAAA,UACEkB,QApLC82B,KACjBlD,GAAY,GACZH,EAAcI,IAmLE9zB,UAAU,qCAAoClB,SAC/C,2BAGDC,EAAAA,EAAAA,KAAA,UACEkB,QArLQ+2B,KACxBlQ,EAAgBtnB,GAChBunB,GAAY,GACZM,GAAe,GACfkN,EAAY,OAkLIv0B,UAAU,sCAAqClB,SAChD,4BAQRoI,IACCnI,EAAAA,EAAAA,KAACkH,EAAW,CAACvB,KAAK,WAAWyB,MAAO3G,EAAQ6G,WAAYA,KAGxD+gB,IACAroB,EAAAA,EAAAA,KAACkH,EAAW,CACVvB,KAAK,SACL2B,WAAYA,EACZC,SA1NMihB,KAChBF,GAAe,GACf0F,EAASE,MACTsH,EAAYC,GACZH,EAAajC,MACboD,IACA7B,GAAiB,GACjB9L,EAAU,GACVoM,EAAgB1F,GAChB2F,EAAS,GACTC,EAAqB,GACrBN,GAAY,IAgNFttB,WAAW,qBACXE,kBAAkB,EAClBD,eACE/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEqe,UAAW,UAAWvlB,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEme,SAAU,SAAUW,WAAY,OAAQrf,MAAO,UAAWimB,aAAc,UAAW5sB,SAC7FkoB,IAEFC,IACCxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAC,UACtDC,EAAAA,EAAAA,KAAA,OACEiiB,IAAKiG,EACL3D,IAAI,aACJtd,MAAO,CAAE2lB,OAAQ,SAAUhtB,MAAO,QAASC,OAAQ,OAAQ8sB,aAAc,cAI/EjtB,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEP,MAAO,UAAW0e,SAAU,YAAarlB,SAAA,EACrDC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,0DAELC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,UAAWyf,UAAW,QAASpmB,UACxEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wEAShBqoB,GAAUC,IACTroB,EAAAA,EAAAA,KAACwmB,EAAY,CACXC,UAAWyF,EACXxF,aAAcyF,GACdvF,OAAO,SACPtf,WAAYA,QGtjBT4wB,GAAyB,CACrC,CAAEvyB,KAAM,QAASlF,OAAQ,EAAG03B,OAAQ,IACpC,CAAExyB,KAAM,SAAUlF,OAAQ,EAAG03B,OAAQ,KACrC,CAAExyB,KAAM,WAAYlF,OAAQ,EAAG03B,OAAQ,IACvC,CAAExyB,KAAM,SAAUlF,OAAQ,EAAG03B,OAAQ,KACrC,CAAExyB,KAAM,QAASlF,OAAQ,EAAG23B,cAAe,QAASD,OAAQ,KAC5D,CAAExyB,KAAM,OAAQlF,OAAQ,EAAG23B,cAAe,OAAQD,OAAQ,MCkKpD,MAAME,GAAa,IA1LnB,MAAwBvmB,WAAAA,GAAA,KACtBme,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQoI,cAAgB,EAAC,KACjBC,cAAgB,EAAC,KACRC,aAAe,KAEhC,KACQC,SAA8B,KAAI,KAClCC,UAAmC,KAAI,KACvCC,UAAuC,KAAI,KAC3CC,WAAqC,KAAI,KACzCC,YAAqC,IAAI,CAEjD,UAAMlI,GACD5hB,KAAKkhB,oBAEHW,EAAAA,KAGN7hB,KAAK0pB,SAAW,IAAI7H,EAAAA,GAAW,CAC9BC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK2pB,UAAY,IAAI9H,EAAAA,GAAeA,EAAAA,GAAY,CAC/CC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHriB,KAAK4pB,UAAY,IAAI/H,EAAAA,GAAmB,CACvCS,WAAY,IACZC,QAAS,EACTT,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK6pB,WAAa,IAAIhI,EAAAA,GAAgB,CACrCkI,MAAO,CAAEnzB,KAAM,QACfmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,KACPC,gBAGHriB,KAAK8pB,YAAc,IAAIjI,EAAAA,GAAeA,EAAAA,GAAY,CACjDC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,KACPC,gBAEHriB,KAAKkhB,aAAc,EACpB,CAEQ8I,WAAAA,CAAYC,EAAkBC,GACrC,MAAMnrB,EAAM8iB,EAAAA,KACNsI,EAAcF,EAAWjqB,KAAKypB,aAC9BW,EAAWvqB,KAAKD,IAAIb,EAAKorB,GAK/B,MAHiB,UAAbD,EAAsBlqB,KAAKupB,cAAgBa,EACzB,UAAbF,IAAsBlqB,KAAKwpB,cAAgBY,GAE7CA,CACR,CAGAC,WAAAA,GACC,IAAKrqB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK0pB,SAAU,OACvD,MAAM1G,EAAOhjB,KAAKgqB,YAAYhqB,KAAKupB,cAAe,SAClDvpB,KAAK0pB,SAASjH,qBAAqB,KAAM,MAAOO,EACjD,CAGAsH,YAAAA,GACC,IAAKtqB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK2pB,UAAW,OACxD,MAAM5qB,EAAM8iB,EAAAA,KACE,CAAC,KAAM,KAAM,KAAM,MAC3B9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK2pB,UAAWlH,qBAAqBK,EAAM,MAAO/jB,EAAU,IAAJ2I,IAE1D,CAGA6iB,WAAAA,GACC,IAAKvqB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK0pB,SAAU,OACvD,MAAM1G,EAAOhjB,KAAKgqB,YAAYhqB,KAAKupB,cAAe,SAClDvpB,KAAK0pB,SAASjH,qBAAqB,KAAM,MAAOO,GAChDhjB,KAAK0pB,SAASjH,qBAAqB,KAAM,MAAOO,EAAO,KACvDhjB,KAAKupB,cAAgBvG,EAAO,GAC7B,CAGAC,YAAAA,GACC,IAAKjjB,KAAKkhB,aAAelhB,KAAKmhB,MAAO,OAErC,MAAMqJ,EAAWxqB,KAAKgqB,YAAYhqB,KAAKupB,cAAe,SAChDkB,EAAYzqB,KAAKgqB,YAAYhqB,KAAKwpB,cAAe,SAQvD,GANIxpB,KAAK4pB,WACR5pB,KAAK4pB,UAAUnH,qBAAqB,KAAM,KAAM+H,GAE7CxqB,KAAK6pB,YACR7pB,KAAK6pB,WAAWpH,qBAAqB,KAAMgI,GAExCzqB,KAAK8pB,YAAa,CAEN,CAAC,KAAM,KAAM,KAAM,MAC3B/kB,QAAQ,CAAC+d,EAAMpb,KACrB1H,KAAK8pB,YAAarH,qBACjBK,EACA,KACA0H,EAAW,GAAU,GAAJ9iB,IAGpB,CACD,CAGAgjB,WAAAA,GACC,IAAK1qB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK8pB,YAAa,OAC1D,MAAM/qB,EAAM8iB,EAAAA,KACE,CAAC,KAAM,KAAM,MACrB9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK8pB,YAAarH,qBAAqBK,EAAM,MAAO/jB,EAAU,IAAJ2I,IAE5D,CAEAwb,QAAAA,CAAS/B,GACRnhB,KAAKmhB,MAAQA,CACd,CAEAgC,OAAAA,GACC,OAAOnjB,KAAKmhB,KACb,CAEAiC,OAAAA,GAAiB,IAADuH,EAAAC,EAAAC,EAAAC,EAAAC,EACV/qB,KAAKkhB,cAEG,QAAbyJ,EAAA3qB,KAAK0pB,gBAAQ,IAAAiB,GAAbA,EAAevH,UACD,QAAdwH,EAAA5qB,KAAK2pB,iBAAS,IAAAiB,GAAdA,EAAgBxH,UACF,QAAdyH,EAAA7qB,KAAK4pB,iBAAS,IAAAiB,GAAdA,EAAgBzH,UACD,QAAf0H,EAAA9qB,KAAK6pB,kBAAU,IAAAiB,GAAfA,EAAiB1H,UACD,QAAhB2H,EAAA/qB,KAAK8pB,mBAAW,IAAAiB,GAAhBA,EAAkB3H,UAElBpjB,KAAK0pB,SAAW,KAChB1pB,KAAK2pB,UAAY,KACjB3pB,KAAK4pB,UAAY,KACjB5pB,KAAK6pB,WAAa,KAClB7pB,KAAK8pB,YAAc,KAEnB9pB,KAAKkhB,aAAc,EACpB,GCiND,GArY4CrvB,IAOrC,IAPsC,OAC5C6pB,EAAM,cACNsP,EAAa,WACbC,EAAU,SACVtK,EAAQ,UACRuK,EAAY,GAAE,SACdC,EAAW,IACXt5B,EACA,MAAM2nB,GAAY1lB,EAAAA,EAAAA,QAA0B,OACrCs3B,EAAOC,IAAYl4B,EAAAA,EAAAA,UAAqB,CAAC,CAAEhC,EAAG,GAAIC,EAAG,OACrDk6B,EAAMC,IAAWp4B,EAAAA,EAAAA,UAAe,CACtCyV,SAAU,CAAEzX,EAAG,GAAIC,EAAG,IACtBM,OAAQ,EACRkF,KAAM,WAEA2d,EAAWiX,IAAgBr4B,EAAAA,EAAAA,UAAoB,UAC/Cs4B,EAAeC,IAAoBv4B,EAAAA,EAAAA,UAAoB,UACvD+U,EAAOyjB,IAAYx4B,EAAAA,EAAAA,UAAiB,KACrCy4B,GAAiB93B,EAAAA,EAAAA,QAAe,GAChCkd,GAAmBld,EAAAA,EAAAA,QAAe,GAClC+3B,GAAe/3B,EAAAA,EAAAA,QAAe,IAC7Bg4B,EAAaC,IAAkB54B,EAAAA,EAAAA,WAAkB,IACjD64B,EAAYC,IAAiB94B,EAAAA,EAAAA,UAAiB,GAC/C+4B,GAAkBp4B,EAAAA,EAAAA,QAAe,GACjCq4B,GAAcr4B,EAAAA,EAAAA,SAAgB,GAE9Bs4B,EAAalB,EAAYC,GAG/Bn3B,EAAAA,EAAAA,WAAU,KACTm4B,EAAYh4B,SAAU,EACtBm1B,GAAW1H,OACJ,KACNuK,EAAYh4B,SAAU,EACtBm1B,GAAWlG,YAEV,IAGH,MAAMiJ,GAAoB33B,EAAAA,EAAAA,aAAY,KACrC,MAAM43B,EAAmBA,KAAA,CACxBn7B,EAAG0O,KAAKwF,MAAMxF,KAAKK,SAAWgrB,GAC9B95B,EAAGyO,KAAKwF,MAAMxF,KAAKK,SAAWgrB,KAG/B,IAAI1L,EAAM8M,IAEV,KAAOlB,EAAMmB,KAAK1kB,GAAWA,EAAQ1W,IAAMquB,EAAIruB,GAAK0W,EAAQzW,IAAMouB,EAAIpuB,IACrEouB,EAAM8M,IAEP,OAAO9M,GACL,CAAC0L,EAAWE,IAGToB,GAAgB93B,EAAAA,EAAAA,aAAY,KAEjC,MAAM+3B,EAActD,GAAWhS,OAC9B,CAACuV,EAAKpB,IAASoB,GAAOpB,EAAKlC,QAAU,GACrC,GAED,IAAIlpB,EAASL,KAAKK,SAAWusB,EAGzBE,EAAexD,GAAW,GAC9B,IAAK,MAAMyD,KAAYzD,GAEtB,GADAjpB,GAAU0sB,EAASxD,QAAU,EACzBlpB,GAAU,EAAG,CAChBysB,EAAeC,EACf,KACD,CAGD,MAAO,CACNhkB,SAAUyjB,IACV36B,OAAQi7B,EAAaj7B,OACrBkF,KAAM+1B,EAAa/1B,OAElB,CAACy1B,IAGE/Y,GAAgB5e,EAAAA,EAAAA,aACpBR,IACA,IAAIysB,EAQJ,OALIzsB,EAAMinB,IAAI0R,WAAW,UACxB34B,EAAMwf,iBAICxf,EAAMinB,KACb,IAAK,UACc,SAAd5G,GACHmX,EAAiB,MAElB,MACD,IAAK,YACc,OAAdnX,GACHmX,EAAiB,QAElB,MACD,IAAK,YACc,UAAdnX,GACHmX,EAAiB,QAElB,MACD,IAAK,aACc,SAAdnX,GACHmX,EAAiB,WAKrB,CAAC/K,EAAUpM,KAIZvgB,EAAAA,EAAAA,WAAU,KACTwgB,OAAOjgB,iBAAiB,UAAW+e,GAC5B,IAAMkB,OAAOhgB,oBAAoB,UAAW8e,IACjD,CAACA,IAGJ,MAAMwZ,GAAYp4B,EAAAA,EAAAA,aAAY,KACzBisB,IAGJ6K,EAAaC,GAEbJ,EAAS0B,IACR,MAAMC,EAAW,IAAID,GACfE,GAAIzvB,EAAAA,EAAAA,GAAA,GAAQwvB,EAAS,IAG3B,OAAQvB,GACP,IAAK,KACJwB,EAAK77B,GAAK,EACV,MACD,IAAK,OACJ67B,EAAK77B,GAAK,EACV,MACD,IAAK,OACJ67B,EAAK97B,GAAK,EACV,MACD,IAAK,QACJ87B,EAAK97B,GAAK,EAWZ,GANI87B,EAAK97B,EAAI,IAAG87B,EAAK97B,EAAI+5B,EAAY,GACjC+B,EAAK97B,GAAK+5B,IAAW+B,EAAK97B,EAAI,GAC9B87B,EAAK77B,EAAI,IAAG67B,EAAK77B,EAAI85B,EAAY,GACjC+B,EAAK77B,GAAK85B,IAAW+B,EAAK77B,EAAI,GAIjC47B,EAAST,KAAK1kB,GAAWA,EAAQ1W,IAAM87B,EAAK97B,GAAK0W,EAAQzW,IAAM67B,EAAK77B,GAWpE,OARK+6B,EAAYh4B,UAChBg4B,EAAYh4B,SAAU,EACtBm1B,GAAWrG,eAEX/C,WAAW,KACV+K,KACE,IAEG8B,EAOR,GAHAC,EAAS3M,QAAQ4M,GAGbA,EAAK97B,IAAMm6B,EAAK1iB,SAASzX,GAAK87B,EAAK77B,IAAMk6B,EAAK1iB,SAASxX,EAAG,CAE7D,MAAMw7B,EAAWzD,GAAWhlB,KAAK+oB,GAAKA,EAAEt2B,OAAS00B,EAAK10B,MACtD,GAAgC,WAApB,OAARg2B,QAAQ,IAARA,OAAQ,EAARA,EAAUvD,eAEb0C,GAAe,GACfE,EAAc,KACdC,EAAgB/3B,QAAU,EAC1Bm1B,GAAWgB,oBACL,GAAgC,UAApB,OAARsC,QAAQ,IAARA,OAAQ,EAARA,EAAUvD,gBAA4B2D,EAAS5tB,OAAS,EAAG,CAErE,MAAM+tB,EAAmBttB,KAAKF,IAAI,EAAGqtB,EAAS5tB,OAAS,GACvD,IAAK,IAAIsI,EAAI,EAAGA,EAAIylB,EAAkBzlB,IACrCslB,EAASI,MAEV9D,GAAWiB,aACZ,MACCjB,GAAWe,cAIZ,MACMgD,EADY/B,EAAK55B,OACSw6B,EAAgB/3B,QAChD03B,EAAa13B,SAAWk5B,EAExBnN,WAAW,KACV8K,EAAcqC,IACZ,GACH9B,EAAQiB,KAGJX,EAAa13B,QAAU,KAAO,IACjCw3B,EAAS52B,GAAQ8K,KAAKD,IAAI,GAAI7K,EAAO,KACrCu0B,GAAWoB,cAEb,MAECsC,EAASI,MAGV,OAAOJ,MAGN,CAACrM,EAAU8K,EAAeP,EAAWI,EAAMkB,EAAevB,IA8J7D,OA3JAj3B,EAAAA,EAAAA,WAAU,KACT,GAAI83B,GAAeE,EAAa,EAAG,CAClC,MAAMlzB,EAAWC,YAAY,KAC5BkzB,EAAcl3B,GACTA,GAAQ,KACXg3B,GAAe,GACfG,EAAgB/3B,QAAU,EACnB,GAEDY,EAAO,MAEb,KACH,MAAO,IAAMiE,cAAcF,EAC5B,GACE,CAACgzB,EAAaE,KAGjBh4B,EAAAA,EAAAA,WAAU,KACT,MAAMs5B,EAAYzuB,IACbA,EAAY+sB,EAAez3B,SAAW+T,IACzC4kB,IACAlB,EAAez3B,QAAU0K,GAE1BmS,EAAiB7c,QAAU0d,sBAAsByb,IAIlD,OADAtc,EAAiB7c,QAAU0d,sBAAsByb,GAC1C,KACFtc,EAAiB7c,SACpB4d,qBAAqBf,EAAiB7c,WAGtC,CAAC24B,EAAW5kB,KAGflU,EAAAA,EAAAA,WAAU,KACT,MAAMsnB,EAAS9B,EAAUrlB,QACzB,IAAKmnB,EAAQ,OAEb,MAAMnQ,EAAMmQ,EAAOC,WAAW,MAC9B,IAAKpQ,EAAK,OAGVA,EAAIK,UAAU,EAAG,EAAG4gB,EAAYA,GAGhCjhB,EAAIyC,UAAU8N,EAAO1jB,WAAY,EAAG,EAAGo0B,EAAYA,GAGnDjhB,EAAI8E,YAAc,2BAClB9E,EAAI+E,UAAY,GAChB,IAAK,IAAIxI,EAAI,EAAGA,GAAKwjB,EAAWxjB,IAC/ByD,EAAIc,YACJd,EAAIe,OAAOxE,EAAIyjB,EAAU,GACzBhgB,EAAIgB,OAAOzE,EAAIyjB,EAAUiB,GACzBjhB,EAAIe,OAAO,EAAGxE,EAAIyjB,GAClBhgB,EAAIgB,OAAOigB,EAAY1kB,EAAIyjB,GAC3BhgB,EAAI5Z,SA0CL,IAAIg8B,EACJ,OAvCAnC,EAAMrmB,QAAQ,CAAC8C,EAASlC,KACvB,GAAc,IAAVA,EAAa,CAEhB,IAAI6nB,EACJ,OAAQjZ,GACP,IAAK,KACJiZ,EAAY9R,EAAO+R,OACnB,MACD,IAAK,OACJD,EAAY9R,EAAOgS,SACnB,MACD,IAAK,OACJF,EAAY9R,EAAOiS,SACnB,MACD,IAAK,QACJH,EAAY9R,EAAOkS,UAGrBziB,EAAIyC,UACH4f,EACA3lB,EAAQ1W,EAAIg6B,EACZtjB,EAAQzW,EAAI+5B,EACZA,EACAA,EAEF,MAEChgB,EAAIyC,UACH8N,EAAOmS,KACPhmB,EAAQ1W,EAAIg6B,EACZtjB,EAAQzW,EAAI+5B,EACZA,EACAA,KAOKG,EAAK10B,MACZ,IAAK,QACJ22B,EAAY7R,EAAOoS,MACnB,MACD,IAAK,SACJP,EAAY7R,EAAOqS,OACnB,MACD,IAAK,WACJR,EAAY7R,EAAOsS,SACnB,MACD,IAAK,SACJT,EAAY7R,EAAOuS,OACnB,MACD,IAAK,QACJV,EAAY7R,EAAOwS,MACnB,MACD,IAAK,OACJX,EAAY7R,EAAOyS,KAGrBhjB,EAAIyC,UACH2f,EACAjC,EAAK1iB,SAASzX,EAAIg6B,EAClBG,EAAK1iB,SAASxX,EAAI+5B,EAClBA,EACAA,GAIGW,IAEH3gB,EAAI8E,YAAc,UAClB9E,EAAI+E,UAAY,EAChB/E,EAAIijB,WAAW,EAAG,EAAGhC,EAAa,EAAGA,EAAa,GAGlDjhB,EAAIa,UAAY,UAChBb,EAAI6E,KAAO,kBACX7E,EAAIkjB,YAAc,QAClBljB,EAAImjB,WAAa,EACjBnjB,EAAImF,SAAS,UAADnb,QAAY62B,EAAa,KAAMnV,QAAQ,GAAE,KAAK,GAAI,IAC9D1L,EAAImjB,WAAa,IAEhB,CACFlD,EACAE,EACA/W,EACAmH,EACAwP,EACAC,EACAiB,EACAN,EACAE,KAIA/6B,EAAAA,EAAAA,KAAComB,EAAU,CACV/gB,IAAKkjB,EACL3oB,MAAOu7B,EACPt7B,OAAQs7B,EACRl6B,UAAU,qDACVgG,MAAO,CACNqf,eAAgB,WC/BpB,GAhV4C1lB,IASrC,IATsC,aAC5C08B,EAAY,YACZtV,EAAW,gBACXD,EAAe,WACfzgB,EAAa,UAAS,KACtB8Z,EAAI,UACJ6G,EAAY,QAAO,UACnBsV,EAAS,UACTrV,GACAtnB,EACA,MAAM48B,GAAe36B,EAAAA,EAAAA,QAAuB,OACrC4nB,EAAQgT,EAAeC,GCd9Btc,KAEA,MAAOqJ,EAAQkT,IAAaz7B,EAAAA,EAAAA,UAA6B,OAClD07B,EAASC,IAAc37B,EAAAA,EAAAA,WAAS,IAChCwoB,EAAOoT,IAAY57B,EAAAA,EAAAA,UAAwB,MA4ElD,OA1EAa,EAAAA,EAAAA,WAAU,KACT,MAAMg7B,EAAa9b,GACX,IAAIT,QAAQ,CAACE,EAASC,KAC5B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAAD9d,OAA0B+d,KAC9DL,EAAIK,IAAMA,IAIUuI,WACrB,IACCqT,GAAW,GACXC,EAAS,MAET,MAAM3c,EAAQ,0BACR6c,EAAY5c,EAAI,SAAAld,OAAYkd,EAAI,KAAM,IAG3Cob,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAn2B,SACSya,QAAQC,IAAI,CACrBsc,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,iBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,mBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,mBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,oBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,cACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,eACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,gBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,kBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,gBACjCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,eAAcC,MAAM,IACpDF,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,iBAElCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,cAAaC,MAAM,IACnDF,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,gBAElCD,EAAU,GAAD75B,OAAIid,GAAQjd,OAAG85B,EAAS,cAGlCL,EAAU,CACTnB,SACAC,WACAC,WACAC,YACAC,OACAC,QACAC,SACAC,WACAC,SACAC,QACAC,OACAn2B,cAEF,CAAE,MAAOm3B,GACRJ,EAASI,aAAelc,MAAQkc,EAAI/2B,QAAU,wBAC/C,CAAC,QACA02B,GAAW,EACZ,GAGDM,IACE,CAAC/c,IAEG,CAACqJ,EAAQmT,EAASlT,IDlEoB0T,CAAehd,IAErDha,EAAOi3B,IAAYn8B,EAAAA,EAAAA,UAAS,IAC5BstB,EAAO8O,IAAYp8B,EAAAA,EAAAA,UAASo7B,IAC5B5N,EAAU6O,IAAer8B,EAAAA,EAAAA,WAAS,IAClCs8B,EAAeC,IAAoBv8B,EAAAA,EAAAA,WAAS,IAC5Cw8B,EAAYC,IAAiBz8B,EAAAA,EAAAA,WAAS,IACtC2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClC6yB,EAAeC,IAAoB9yB,EAAAA,EAAAA,WAAS,IAC5C,CAAE08B,IAAiB18B,EAAAA,EAAAA,UAAS,CAAEtC,MAAO,EAAGC,OAAQ,KAChDg/B,EAAgBC,IAAqB58B,EAAAA,EAAAA,WAAS,IAC9C68B,EAAgBC,IAAqB98B,EAAAA,EAAAA,UAAS,KAC9C+8B,EAAYC,IAAiBh9B,EAAAA,EAAAA,UAAS,IACtCi9B,EAAgBC,IAAqBl9B,EAAAA,EAAAA,UAAS,GAE/Cm9B,EAAiB39B,KAGvBqB,EAAAA,EAAAA,WAAU,KACT,MAAMu8B,EAAeA,KACpBV,EAAc,CAAEh/B,MAAO2jB,OAAOgc,WAAY1/B,OAAQ0jB,OAAOic,eAM1D,OAHAjc,OAAOjgB,iBAAiB,SAAUg8B,GAClCA,IAEO,IAAM/b,OAAOhgB,oBAAoB,SAAU+7B,IAChD,KAGHv8B,EAAAA,EAAAA,WAAU,KACT,MAAM08B,EAAkB36B,IACT,MAAVA,EAAEolB,KAAyB,WAAVplB,EAAEolB,MACtBplB,EAAE2d,iBACE+b,IAAkBE,GACrBjW,MAMH,OADAlF,OAAOjgB,iBAAiB,UAAWm8B,GAC5B,IAAMlc,OAAOhgB,oBAAoB,UAAWk8B,IAEjD,CAACjB,EAAeE,IAEnB,MAAMjW,GAAchlB,EAAAA,EAAAA,aAAY,KAC3B+6B,IAAkBE,GACrBH,EAAYz6B,IAASA,IAEpB,CAAC06B,EAAeE,IAEblW,GAAY/kB,EAAAA,EAAAA,aAAY,MACxB+6B,GAAiB/T,IACrBgU,GAAiB,GACjBE,GAAc,GACdN,EAAS,GACTa,EAAc,GACdZ,EAAShB,GACTxI,GAAY,KAEX,CAAC0J,EAAe/T,EAAQ6S,IAcrBoC,GAAiBj8B,EAAAA,EAAAA,aAAY,KAClC,IAAKi7B,EAAY,CAChB,MAAMiB,EAAWnQ,EAAQ,EACzB8O,EAASqB,GAELA,GAAY,GACfhB,GAAc,GACd3W,GAAY,GACZD,EAAgBkX,IAIhBG,EAAkBt7B,GAAQA,EAAO,EAEnC,GACE,CAAC46B,EAAYlP,EAAOyP,EAAYjX,EAAaD,IAE1C6X,GAAoBn8B,EAAAA,EAAAA,aACxBhD,IACA,MAAMo/B,EAAWZ,EAAax+B,EAI9B,GAHAy+B,EAAcW,GACdxB,EAASwB,GAELtC,GAAasC,GAAYtC,EAI5B,OAHAoB,GAAc,GACd3W,GAAY,QACZD,EAAgB8X,GAKjB,MAAMC,EAAkB,CAAC,GAAI,IAAK,IAAK,IAAK,KACtCC,EAAeD,EAAgBjpB,OAAO/U,GAAKm9B,GAAcn9B,GAAGqM,OAC7C2xB,EAAgBjpB,OAAO/U,GAAK+9B,GAAY/9B,GAAGqM,OAE7C4xB,IAClBf,EAAkB,4BAClBF,GAAkB,GAClB7P,WAAW,IAAM6P,GAAkB,GAAQ,QAI7C,CAACG,EAAY1B,EAAWvV,EAAaD,IAGhCiY,GAAuBv8B,EAAAA,EAAAA,aAC3B6f,IACA,GAAIkb,IAAkB9O,IAAagP,EAAY,CAE9C,MAAMz7B,EAAQ,IAAIg9B,cAAc,UAAW,CAC1C/V,IAAI,QAADhmB,OAAUof,EAAU4c,OAAO,GAAGC,cAAgB7c,EAAU8c,MAAM,IACjEC,SAAS,IAEV9c,OAAO+c,cAAcr9B,EACtB,GAED,CAACu7B,EAAe9O,EAAUgP,IA8B3B,OACCh/B,EAAAA,EAAAA,MAAA,OACCuB,UAAU,iBACVgG,MAAO,CAAED,gBAAiBM,GAA0B,WACpDjC,IAAKm4B,EAAaz9B,SAAA,EAGlBC,EAAAA,EAAAA,KAACuvB,EAAU,CACVC,MAAOA,EACPpoB,MAAOA,EACPqoB,QAAShH,EACTiH,SAAUA,EACVpoB,WAAYA,EACZ5F,SAAU29B,EACVzP,OAAQA,KACPkF,GAAY,GACZE,EAAiBtF,GACjB6O,GAAY,IAEb1O,eAAgB2O,EAChB1O,WAAY+E,KAIb70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAagG,MAAO,CAAEs5B,YAAa,KAAMxgC,UACvDL,EAAAA,EAAAA,MAAA,OACCuB,UAAU,mBACVgG,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUD,eAAgB,UAAWxsB,SAAA,CAG1E09B,IACAz9B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAclB,UAC5BC,EAAAA,EAAAA,KAAA,OAAAD,SAAK,kBAKN29B,IACA19B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UAC1BL,EAAAA,EAAAA,MAAA,OAAAK,SAAA,CAAK,gCAA2B29B,OAKjCjT,GAAU+T,IAAkBE,IAC5B1+B,EAAAA,EAAAA,KAAA,OACCiH,MAAO,CACNu5B,UAAU,SAADt8B,OAzEOu8B,MACtB,MAIM1T,EAAUsS,EAAiB,GAAK,GAEhCqB,EAAiBrB,EAAiB,IAAM,EAOxCsB,GAJiBpd,OAAOgc,WAAuB,EAAVxS,GAPxBkN,IAYb2G,GAHLrd,OAAOic,YANa,GAMgBkB,EAJjB,IALDzG,IAanB,IAAIroB,EAAQhD,KAAKF,IAAIiyB,EAAQC,GAE7B,OAAIvB,GACHztB,EAAQhD,KAAKF,IAAIkD,EAAO,KACjBhD,KAAKD,IAAIiD,EAAO,KAEhBhD,KAAKF,IAAIkD,EAAO,IAmDE6uB,GAAgB,KACpCI,gBAAiB,UAChB9gC,UAEFC,EAAAA,EAAAA,KAAC8gC,GAAa,CAEbrW,OAAQA,EACRsP,cAAe6F,EACfmB,cAAezC,EACftE,WAAY0F,EACZhQ,SAAUA,GALLyP,KAWPN,GAAkBL,IAAkBE,IACpC1+B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oBAAmBlB,UACjCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,4BAA2BlB,UACzCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,yBAAwBlB,SAAEg/B,SAMxCP,GAAiB/T,IAClBzqB,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUihB,EACVhhB,WAAW,qBACXE,kBAAkB,EAClBD,eACC/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEqe,UAAW,UAAWvlB,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEme,SAAU,OAAQW,WAAY,OAAQrf,MAAO,WAAY3G,SACpEkoB,IAEDC,IACAxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAC,UACtDC,EAAAA,EAAAA,KAAA,OACCiiB,IAAKiG,EACL3D,IAAI,aACJtd,MAAO,CAAE2lB,OAAQ,SAAUhtB,MAAO,QAASC,OAAQ,OAAQ8sB,aAAc,cAI5EjtB,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEP,MAAO,UAAW0e,SAAU,YAAarlB,SAAA,EACtDC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,gDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEJC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,UAAWyf,UAAW,WAAYpmB,UAC3EC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mEAOP2vB,IAAagP,IACb1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,QACL2B,WAAYA,EACZC,SAAUkhB,IAIXiW,IACA1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,WACLyB,MAAOA,EACPE,WAAYA,IAKbutB,IACA70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+C+6B,EAAU,wCAChE33B,WAAYA,EACZG,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UACCkB,QAxOU82B,KAClBlD,GAAY,GACZyJ,EAAYxJ,IAuOJ9zB,UAAU,qCAAoClB,SAC9C,2BAGDC,EAAAA,EAAAA,KAAA,UACCkB,QAzOiB+2B,KACzBlQ,EAAgBkX,GAChBjX,GAAY,GACZyW,GAAiB,GACjBE,GAAc,IAsON19B,UAAU,sCAAqClB,SAC/C,iCAWNs/B,GAAkBb,IAAkBE,IACpC1+B,EAAAA,EAAAA,KAACwmB,EAAY,CACZC,UAAWuZ,EACX14B,WAAYA,EACZsf,OAAO,SACPD,kBAAkB,QEnNhB,MAAMqa,GAAkB,IAzIxB,MAA6BlvB,WAAAA,GAAA,KAC3Bme,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQ+Q,aAAe,EAAC,KACPC,aAAe,IAEhC,KACQC,UAA+B,KAAI,KACnCC,WAAoC,KAAI,KACxCC,eAA4C,KAAI,KAChD3Q,cAAuC,IAAI,CAEnD,UAAMC,GACD5hB,KAAKkhB,oBAEHW,EAAAA,KAGN7hB,KAAKoyB,UAAY,IAAIvQ,EAAAA,GAAW,CAC/BC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHriB,KAAKqyB,WAAa,IAAIxQ,EAAAA,GAAeA,EAAAA,GAAY,CAChDC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAKsyB,eAAiB,IAAIzQ,EAAAA,GAAmB,CAC5CS,WAAY,IACZC,QAAS,EACTT,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK2hB,cAAgB,IAAIE,EAAAA,GAAeA,EAAAA,GAAY,CACnDC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,IACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHriB,KAAKkhB,aAAc,EACpB,CAGAqR,QAAAA,GACC,IAAKvyB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKoyB,UAAW,OAExD,MAAMrzB,EAAM8iB,EAAAA,KACR9iB,EAAMiB,KAAKkyB,aAAelyB,KAAKmyB,eAEnCnyB,KAAKkyB,aAAenzB,EAEpBiB,KAAKoyB,UAAU3P,qBAAqB,KAAM,MAAO1jB,GACjDiB,KAAKoyB,UAAU3P,qBAAqB,KAAM,MAAO1jB,EAAM,KACxD,CAGAyzB,SAAAA,GACC,IAAKxyB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKqyB,WAAY,OACzD,MAAMtzB,EAAM8iB,EAAAA,KAEZ7hB,KAAKqyB,WAAW5P,qBAAqB,CAAC,KAAM,MAAO,KAAM1jB,EAC1D,CAGA0zB,aAAAA,GACC,IAAKzyB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAKsyB,eAAgB,OAC7D,MAAMvzB,EAAM8iB,EAAAA,KACZ7hB,KAAKsyB,eAAe7P,qBAAqB,KAAM,KAAM1jB,EACtD,CAGAkkB,YAAAA,GACC,IAAKjjB,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK2hB,cAAe,OAC5D,MAAM5iB,EAAM8iB,EAAAA,KAGE,CAAC,KAAM,KAAM,KAAM,KAAM,MACjC9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK2hB,cAAec,qBAAqBK,EAAM,KAAM/jB,EAAU,IAAJ2I,IAE7D,CAEAwb,QAAAA,CAAS/B,GACRnhB,KAAKmhB,MAAQA,CACd,CAEAgC,OAAAA,GACC,OAAOnjB,KAAKmhB,KACb,CAEAiC,OAAAA,GAAiB,IAADsP,EAAAC,EAAAC,EAAAlP,EACV1jB,KAAKkhB,cAEI,QAAdwR,EAAA1yB,KAAKoyB,iBAAS,IAAAM,GAAdA,EAAgBtP,UACD,QAAfuP,EAAA3yB,KAAKqyB,kBAAU,IAAAM,GAAfA,EAAiBvP,UACE,QAAnBwP,EAAA5yB,KAAKsyB,sBAAc,IAAAM,GAAnBA,EAAqBxP,UACH,QAAlBM,EAAA1jB,KAAK2hB,qBAAa,IAAA+B,GAAlBA,EAAoBN,UAEpBpjB,KAAKoyB,UAAY,KACjBpyB,KAAKqyB,WAAa,KAClBryB,KAAKsyB,eAAiB,KACtBtyB,KAAK2hB,cAAgB,KAErB3hB,KAAKkhB,aAAc,EACpB,GCzFK2R,GAAa,IADP,GAmXZ,GAhX4BzqB,IAC3B,MAAO/P,EAAOi3B,IAAYn8B,EAAAA,EAAAA,UAAS,IAC5B+yB,EAAcC,IAAmBhzB,EAAAA,EAAAA,WAAe,OAANiV,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQqgB,QAAS,IACnEqS,EAAiBC,IAAsB5/B,EAAAA,EAAAA,UAAS,IAChDmmB,EAAaC,IAAkBpmB,EAAAA,EAAAA,WAAS,IACxCw8B,EAAYC,IAAiBz8B,EAAAA,EAAAA,WAAS,IACtC6/B,EAAYC,IAAiB9/B,EAAAA,EAAAA,WAAe,OAANiV,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQmd,MAAO,KAE9D2V,GAAep/B,EAAAA,EAAAA,SAAO,GACtBw0B,GAAQx0B,EAAAA,EAAAA,QAAO,GACfq/B,GAAQr/B,EAAAA,EAAAA,QAAO,KACfs/B,GAAet/B,EAAAA,EAAAA,QAAO,GACtBu/B,GAAav/B,EAAAA,EAAAA,QAAe,CAAC,CAAE3C,EAAG,IAAKC,EAAG,EAAGkiC,QAAQ,KACrDC,GAAgBz/B,EAAAA,EAAAA,QAAO,GACvB0/B,GAAe1/B,EAAAA,EAAAA,QAAO,IAG5BE,EAAAA,EAAAA,WAAU,KACTi+B,GAAgBrQ,OACT,KACNqQ,GAAgB7O,YAEf,IAEH,MAAMqQ,GAAM/+B,EAAAA,EAAAA,aAAY,KAClB0T,IAEAkR,EAEMA,IAAgBqW,EAC1B+D,IAEApL,EAAMn0B,QAAUiU,EAAOhI,QAAQuzB,iBAC/BT,EAAa/+B,SAEbgT,IAPAjO,MAUC,CAACkP,EAAQkR,EAAaqW,IAEnB+D,GAASh/B,EAAAA,EAAAA,aAAY,KACrB0T,IACLgrB,EAAaj/B,SAAWiU,EAAOhI,QAAQwzB,WAAa,IACpD3B,GAAgBM,aACd,CAACnqB,IAEElP,GAAQxE,EAAAA,EAAAA,aAAY,KACzB6kB,GAAe,GACfqW,GAAc,GACdN,EAAS,GACTnJ,GAAsB,OAAN/d,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQqgB,QAAS,GACzCsS,EAAmB,GACnBI,EAAMh/B,QAAU,IAChBi/B,EAAaj/B,QAAU,EACvBq/B,EAAar/B,QAAU,EACvBk/B,EAAWl/B,QAAU,CAAC,CAAEhD,EAAG,IAAKC,EAAG,EAAGkiC,QAAQ,IAC9CL,GAAoB,OAAN7qB,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQmd,MAAO,KACrC+K,EAAMn0B,QAAU,GACd,CAACiU,IAEEjB,GAAQzS,EAAAA,EAAAA,aAAY,KACzBy+B,EAAMh/B,QAAU,IAChBi/B,EAAaj/B,QAAU,EACvBq/B,EAAar/B,QAAU,EACvBk/B,EAAWl/B,QAAU,CAAC,CAAEhD,EAAG,IAAKC,EAAG,EAAGkiC,QAAQ,IAC9ChL,EAAMn0B,QAAU,EAEZ+xB,GAAgB,GAAK4M,KAA0B,OAAN1qB,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQqgB,QAAS,GACrEvnB,KAEAqgB,GAAe,GACfqW,GAAc,KAEb,CAAC1J,EAAc4M,EAAiB1qB,EAAQlP,IAErC26B,GAAYn/B,EAAAA,EAAAA,aAAY,KAAO,IAADo/B,EAAAC,EACnC,MAAMC,EAAgBlB,EAAkB,EAClClC,EAAW1K,EAAe,EAEhC6M,EAAmBiB,GACnB7N,EAAgByK,GACV,OAANxoB,QAAM,IAANA,GAA+B,QAAzB0rB,GAANC,EAAA3rB,EAAQ6rB,WAAUjC,qBAAa,IAAA8B,GAA/BA,EAAAI,KAAAH,EAAkCnD,GAClCqB,GAAgBQ,gBAEZ7B,GAAY,GAAKoD,KAAwB,OAAN5rB,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQqgB,QAAS,IAC/DmP,GAAc,GACR,OAANxnB,QAAM,IAANA,GAAAA,EAAQ6rB,UAAUhb,aAAY,GACxB,OAAN7Q,QAAM,IAANA,GAAAA,EAAQ6rB,UAAUjb,gBAAgB3gB,GAClC45B,GAAgBhP,gBAEhB9b,KAEC,CAAC2rB,EAAiB5M,EAAc9d,EAAQ/P,EAAO8O,IAE5CgtB,GAAOz/B,EAAAA,EAAAA,aACX0/B,IACA,IAAKhsB,EAAQ,OAEb,MAAM+G,EAAcrQ,YAAYC,MAGhC,GAFkBoQ,EAAcokB,EAAcp/B,QAE9B0+B,GAAY,OAE5BU,EAAcp/B,QAAUgb,EAExB,MAAMmM,EAAS8Y,EAAQ9Y,QACjB,KACL+Y,EAAI,WACJC,EAAU,WACVt8B,EAAU,UACVu8B,EAAS,UACTC,EAAS,KACTC,EAAI,MACJC,GACGtsB,EAAOusB,QACL,QAAEC,GAAYxsB,EAAOhI,QAGrBy0B,EAAeh1B,KAAKwF,MAAMhN,EAAQ,KAAO,EACzCy8B,EAAenF,EAAa,EAAI,EAAyB,IAApBkF,EAAe,GACpDE,EAAQ1B,EAAWl/B,QAKzB,GAHAigC,EAAQ5oB,UAAU,EAAG,EAAG8P,EAAOzqB,MAAOyqB,EAAOxqB,QAC7CsjC,EAAQxmB,UAAU5V,EAAY,EAAG,GAE7BshB,IAAgBqW,IAAevnB,EAAOhI,QAAQugB,SAAU,CAC3DyS,EAAaj/B,SAAWygC,EAAU,EAClCxB,EAAaj/B,QAAU0L,KAAKF,IAAIyzB,EAAaj/B,QAAS,GACtDg/B,EAAMh/B,SAAWi/B,EAAaj/B,QAE9Bq/B,EAAar/B,QAAU0L,KAAKF,IAC3BE,KAAKD,IAA2B,EAAvBwzB,EAAaj/B,SAAc,IACpC,IAGD,IAAK,IAAIuT,EAAIqtB,EAAM31B,OAAS,EAAGsI,GAAK,EAAGA,IAAK,CAC3C,GAAIqtB,EAAMrtB,GAAGvW,GAjJC,GAiJgB,CAC7B4jC,EAAMjrB,OAAOpC,EAAG,GAChB,QACD,CAQA,GANA0sB,EAAQxmB,UAAU2mB,EAAWQ,EAAMrtB,GAAGvW,EAAG4jC,EAAMrtB,GAAGtW,GAClDgjC,EAAQxmB,UAAU4mB,EAAWO,EAAMrtB,GAAGvW,EAAG4jC,EAAMrtB,GAAGtW,EAAI4hC,GAEtD+B,EAAMrtB,GAAGvW,GAAK2jC,EAIbptB,IAAMqtB,EAAM31B,OAAS,GACrB21B,EAAMrtB,GAAGvW,GAAKmqB,EAAOzqB,MAAQ,MAC5B8+B,EACA,CAED,MAAMqF,EAAmBn1B,KAAKF,IAAItH,EAAQ,IAAK,KACzC48B,EAA2B,GAAnBV,EAAUzjC,OAClBokC,EAAO5Z,EAAOxqB,OAASwjC,EAAWxjC,OAASkiC,EAAa,GAGxDmC,EAAYJ,EAAMrtB,GAAGtW,EACrBgkC,EAAQv1B,KAAKwF,MAAMxF,KAAKK,UAAYg1B,EAAOD,IAASA,EAG1D,IAAII,EAAOD,EACPv1B,KAAKwE,IAAI+wB,EAAQD,GAAa,KAEjCE,EAAOD,GAASv1B,KAAKK,SAAW,GAAM,IAAM,IAAM80B,EAElDK,EAAOx1B,KAAKD,IAAIq1B,EAAMp1B,KAAKF,IAAIu1B,EAAMG,KAItC,MAAMC,EAAc,IAAgC,EAA1Bz1B,KAAKwF,MAAMhN,EAAQ,KACvCk9B,EACL11B,KAAKwF,MAAsB,GAAhBxF,KAAKK,UAAiBL,KAAKD,IAAI,IAAK01B,GAEhDP,EAAMrvB,KAAK,CACVvU,EAAG4jC,EAAMrtB,GAAGvW,EAAIokC,EAChBnkC,EAAGikC,EACH/B,QAAQ,GAEV,CAEA,IACEyB,EAAMrtB,GAAG4rB,QACVyB,EAAMrtB,GAAGvW,EAjMI,GAiMaiX,EAAOhI,QAAQo1B,QACxC7F,EACA,CACDoF,EAAMrtB,GAAG4rB,QAAS,EAElB,MAAMuB,EAAeh1B,KAAKwF,MAAMhN,EAAQ,KAAO,EACzCiR,EACLlB,EAAOhI,QAAQq1B,kBAAyC,GAApBZ,EAAe,GAC9C/D,EAAWz4B,EAAQiR,EAIzB,GAHA2oB,GAAgBO,YAIfpqB,EAAOhI,QAAQouB,WACfpmB,EAAOhI,QAAQouB,UAAY,GAC3BsC,GAAY1oB,EAAOhI,QAAQouB,UAC1B,CAAC,IAADkH,EAAAC,EAEDrG,EAASlnB,EAAOhI,QAAQouB,WACM,QAA9BkH,GAAAC,EAAAvtB,EAAO6rB,WAAUjJ,qBAAa,IAAA0K,GAA9BA,EAAAxB,KAAAyB,EAAiCvtB,EAAOhI,QAAQouB,WAEhDoB,GAAc,GACdxnB,EAAO6rB,UAAUhb,aAAY,GAC7B7Q,EAAO6rB,UAAUjb,gBAAgB5Q,EAAOhI,QAAQouB,UACjD,KAAO,CAAC,IAADoH,EAAAC,EACNvG,EAASwB,GACqB,QAA9B8E,GAAAC,EAAAztB,EAAO6rB,WAAUjJ,qBAAa,IAAA4K,GAA9BA,EAAA1B,KAAA2B,EAAiC/E,GAGjC,MAAMgF,EAC4C,EAAjDj2B,KAAKwF,MAAMyrB,EA9Na,IA+NnBiF,EAASl2B,KAAKD,IACnBwI,EAAOhI,QAAQmd,IAAMuY,EA/Nb,KAkOT7C,EAAc8C,EACf,CACD,CAEA,MAAMC,EACL7C,EAAMh/B,QArOQ,IAsOdmnB,EAAOxqB,OAASwjC,EAAWxjC,OAAS,GAC/BmlC,EAAgB9C,EAAMh/B,SAAW,EAGjC+hC,EAAW9tB,EAAOhI,QAAQo1B,MAzOX,EA0OfW,EACL/tB,EAAOhI,QAAQo1B,MA7OF,GAEO,EA4OfY,EAAUjD,EAAMh/B,QA5OD,EA6OfkiC,EAAalD,EAAMh/B,QA9OV,GACM,EAgPfmiC,EAAWvB,EAAMrtB,GAAGvW,EAAI,EACxBolC,EAAYxB,EAAMrtB,GAAGvW,EAtPb,GAsP8B,EACtCqlC,EAAgBzB,EAAMrtB,GAAGtW,EAAImjC,EAAUzjC,OAAS,EAChD2lC,EAAgB1B,EAAMrtB,GAAGtW,EAAI4hC,EAAa,EAG1C0D,EACLP,EAAYG,GACZJ,EAAWK,IACVH,EAAUI,GAAiBH,EAAaI,GAE1CvD,EAAa/+B,QAAU6hC,GAEnBU,GAAcV,GAAeC,IAChCpC,GAEF,CAEAO,EAAQhlB,OACRglB,EAAQuC,UACPvuB,EAAOhI,QAAQo1B,MAAQoB,GACvBzD,EAAMh/B,QAAU0iC,IAEjBzC,EAAQ0C,OAAQtD,EAAar/B,QAAU0L,KAAKuB,GAAM,KAClDgzB,EAAQxmB,UAAUymB,GAAM,IAAiB,IACzCD,EAAQ7jB,SACT,CAIA,GAFA6jB,EAAQxmB,UAAU0mB,EAAY,EAAGhZ,EAAOxqB,OAASwjC,EAAWxjC,OAAS,IAEjE6+B,IAAevnB,EAAOhI,QAAQ22B,aACjCzO,EAAMn0B,UAENigC,EAAQpoB,UAAY,qBACpBooB,EAAQxnB,SAAS,EAAG,EAAG0O,EAAOzqB,MAAOyqB,EAAOxqB,QAE5CsjC,EAAQpkB,KAAO,gBACfokB,EAAQpoB,UAAY,OACpBooB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpBkkB,EAAQ/jB,WAAW,YAAa,GAAI,KACpC+jB,EAAQ9jB,SAAS,YAAa,GAAI,KAE9B4iB,EAAa/+B,UAChBigC,EAAQpkB,KAAO,qBACfokB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpBkkB,EAAQ/jB,WAAW,yBAA0B,GAAI,KACjD+jB,EAAQpoB,UAAY,OACpBooB,EAAQ9jB,SAAS,yBAA0B,GAAI,UAE1C,CACN,IAAKgJ,EAAa,CAGjB,GAFAgP,EAAMn0B,WAEDiU,EAAOhI,QAAQ22B,aAAc,CACjC3C,EAAQpoB,UAAY,qBACpBooB,EAAQxnB,SAAS,EAAG,EAAG0O,EAAOzqB,MAAOyqB,EAAOxqB,QAE5CsjC,EAAQpkB,KAAO,gBACfokB,EAAQpoB,UAAY,OACpBooB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpB,MAAM8mB,EAAa5C,EAAQ6C,YAC1B7uB,EAAOhI,QAAQ8Y,WACdroB,MACIqmC,GAAU5b,EAAOzqB,MAAQmmC,GAAc,EAC7C5C,EAAQ/jB,WAAWjI,EAAOhI,QAAQ8Y,UAAWge,EAAQ,KACrD9C,EAAQ9jB,SAASlI,EAAOhI,QAAQ8Y,UAAWge,EAAQ,IACpD,CAGA,MAAMznB,EAAQ5P,KAAKwE,IAAIxE,KAAKiQ,IAAoB,IAAhBwY,EAAMn0B,UACtCigC,EAAQpkB,KAAO,qBACfokB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpBkkB,EAAQ9lB,YAAcmB,EACtB2kB,EAAQ/jB,WAAW,yBAA0B,GAAI,KACjD+jB,EAAQpoB,UAAY,OACpBooB,EAAQ9jB,SAAS,yBAA0B,GAAI,KAC/C8jB,EAAQ9lB,YAAc,CACvB,CAEA,GAAIgL,IAAgBlR,EAAOhI,QAAQ22B,aAAc,CAChD3C,EAAQxmB,UAAU6mB,EAAM,GAAI,GAAI,GAAI,IACpCL,EAAQpoB,UAAY,OACpBooB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpBkkB,EAAQpkB,KAAO,qBACfokB,EAAQ/jB,WAAW,GAADlb,OAAIkD,GAAS,GAAI,IACnC+7B,EAAQ9jB,SAAS,GAADnb,OAAIkD,GAAS,GAAI,IAEjC+7B,EAAQxmB,UAAU8mB,EAAO,IAAK,GAAI,GAAI,IACtCN,EAAQ/jB,WAAW,GAADlb,OAAI+wB,GAAgB,IAAK,IAC3CkO,EAAQ9jB,SAAS,GAADnb,OAAI+wB,GAAgB,IAAK,IAGzC,MAAMiR,EAAkBt3B,KAAKwF,MAAMhN,EAAQ,KAAO,EAClD,GAAI8+B,EAAkB,EAAG,CACxB/C,EAAQpkB,KAAO,qBACfokB,EAAQnkB,YAAc,OACtBmkB,EAAQlkB,UAAY,EACpBkkB,EAAQpoB,UAAY,OACpB,MAAMorB,EAAS,SAAAjiC,OAAYgiC,GAC3B/C,EAAQ/jB,WAAW+mB,EAAW,GAAI,IAClChD,EAAQ9jB,SAAS8mB,EAAW,GAAI,GACjC,CACD,CACD,GAED,CACChvB,EACAkR,EACAqW,EACAt3B,EACA6tB,EACA8M,EACAa,IAYF,OARA7/B,EAAAA,EAAAA,WAAU,MACLkyB,GAAgB,GAAK4M,KAA0B,OAAN1qB,QAAM,IAANA,OAAM,EAANA,EAAQhI,QAAQqgB,QAAS,MACrEmP,GAAc,GACR,OAANxnB,QAAM,IAANA,GAAAA,EAAQ6rB,UAAUhb,aAAY,GACxB,OAAN7Q,QAAM,IAANA,GAAAA,EAAQ6rB,UAAUjb,gBAAgB3gB,KAEjC,CAACy6B,EAAiB5M,EAAc9d,EAAQ/P,IAEpC,CAACo7B,EAAKU,ICtXd,GAlCmBA,IAClB,MAAM3a,GAAY1lB,EAAAA,EAAAA,QAA0B,MACtCwd,GAAaxd,EAAAA,EAAAA,QAAO,GACpBujC,GAAUvjC,EAAAA,EAAAA,QAAO,GA4BvB,OA1BAE,EAAAA,EAAAA,WAAU,KACT,IAAKmgC,EAAM,OAEX,MAAM7Y,EAAS9B,EAAUrlB,QACzB,IAAKmnB,EAAQ,OAEb,MAAM8Y,EAAU9Y,EAAOC,WAAW,KAAM,CAAE9L,OAAO,IACjD,IAAK2kB,EAAS,OAEdA,EAAQkD,uBAAwB,EAEhC,MAAMxmB,EAASA,KACdQ,EAAWnd,UACXggC,EAAKC,EAAS9iB,EAAWnd,SACzBkjC,EAAQljC,QAAUqgB,OAAO3C,sBAAsBf,IAKhD,OAFAA,IAEO,KACFumB,EAAQljC,SACXqgB,OAAOzC,qBAAqBslB,EAAQljC,WAGpC,CAACggC,IAEG3a,GCiFR,GAnGe3nB,IAWK,IAXJ,MACf4uB,EAAK,YACLxH,EAAW,gBACXD,EAAe,KACf3G,EAAI,UACJ6G,EAAY,aAAY,aACxB6d,GAAe,EAAK,cACpB/L,EAAa,cACbgH,EAAa,SACbrR,GAAW,EAAK,UAChB6N,GACa38B,EACb,MAAO6pB,EAAQmT,EAASlT,GClBxBtJ,KAEA,MAAOqJ,EAAQkT,IAAaz7B,EAAAA,EAAAA,UAA6B,OAClD07B,EAASC,IAAc37B,EAAAA,EAAAA,WAAS,IAChCwoB,EAAOoT,IAAY57B,EAAAA,EAAAA,UAAwB,MAyDlD,OAvDAa,EAAAA,EAAAA,WAAU,KACT,MAAMg7B,EAAa9b,GACX,IAAIT,QAAQ,CAACE,EAASC,KAC5B,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,IAAMJ,EAAQE,GAC3BA,EAAIG,QAAU,IAAMJ,EAAO,IAAIK,MAAM,yBAAD9d,OAA0B+d,KAC9DL,EAAIK,IAAMA,IAIUuI,WACrB,IACCqT,GAAW,GACXC,EAAS,MAET,MAAM3c,EAAQ,sBACRmlB,EAAWllB,EAAI,SAAAld,OAAYkd,EAAI,KAAM,IAG1CgiB,EACAr8B,EACAs8B,EACAC,EACAC,EACAC,EACAC,SACSjiB,QAAQC,IAAI,CACrBsc,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,cAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,YAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,YAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,mBAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,mBAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,cAChCvI,EAAU,GAAD75B,OAAIid,GAAQjd,OAAGoiC,EAAQ,iBAGjC3I,EAAU,CACTyF,OACAr8B,aACAs8B,aACAC,YACAC,YACAC,OACAC,SAEF,CAAE,MAAOvF,GACRJ,EAASI,aAAelc,MAAQkc,EAAI/2B,QAAU,wBAC/C,CAAC,QACA02B,GAAW,EACZ,GAGDM,IACE,CAAC/c,IAEG,CAACqJ,EAAQmT,EAASlT,ID3CQ0T,CAAehd,GAE1CjK,EAAS8W,EAAAA,QAAc,IACvBxD,EAEE,CACNiZ,OAAQjZ,EACRtb,QAAS,CACR8Y,UAAWA,EACXya,gBAAiB,EACjB6B,MAAO,GACPjY,IAAK,IACLqW,WAAY,GACZgB,QAAS,IACTa,kBAAmB,GACnBhV,MAAOA,EACPsW,aAAcA,EACdpW,SAAUA,EACV6N,UAAWA,GAEZyF,UAAW,CACVhb,cACAD,kBACAgS,gBACAgH,kBArBkB,KAwBlB,CACFtW,EACAxC,EACAuH,EACAxH,EACAD,EACA+d,EACA/L,EACAgH,EACArR,EACA6N,KAGMiF,EAAKU,GAAQqD,GAAmBpvB,GACjCoR,EAAYie,GAAUtD,GAa5B,OAAItF,GAEF59B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0EAAyElB,UACvFL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,yBAAwBlB,SAAA,EACtCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8EACfjB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,2BAMH2qB,GAEF1qB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,wEAAuElB,UACrFL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,6BAA4BlB,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,iBAAgBlB,SAAC,8BAC9BC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,UAASlB,SAAE2qB,UAO3B1qB,EAAAA,EAAAA,KAAComB,EAAU,CACV/gB,IAAKkjB,EACL3oB,MAAO,IACPC,OAAQ,IACRqB,QAtCkBulC,KACnB,IAAKtvB,EAAQ,OAEb,MAAMkT,EAAS9B,EAAUrlB,SACP,OAANmnB,QAAM,IAANA,OAAM,EAANA,EAAQC,WAAW,QAG9BkY,KAgCAvhC,UAAU,yCE0Mb,GAxSsDL,IAS/C,IATgD,aACtD08B,EAAY,YACZtV,EAAW,gBACXD,EAAe,WACfzgB,EAAa,UAAS,KACtB8Z,EAAI,UACJ6G,EAAY,cAAa,UACzBsV,EAAS,UACTrV,GACAtnB,EACA,MAAM48B,GAAe36B,EAAAA,EAAAA,QAAuB,MACtC6jC,GAAmB7jC,EAAAA,EAAAA,QAAuB,OAEzCuE,EAAOi3B,IAAYn8B,EAAAA,EAAAA,UAAS,IAC5BstB,EAAO8O,IAAYp8B,EAAAA,EAAAA,UAASo7B,IAC5Bj2B,EAAO8tB,IAAYjzB,EAAAA,EAAAA,UAAS,IAC5BykC,EAAaC,IAAkB1kC,EAAAA,EAAAA,WAAS,IACxC2kC,EAAaC,IAAkB5kC,EAAAA,EAAAA,UAAS,KACxCwtB,EAAU6O,IAAer8B,EAAAA,EAAAA,WAAS,IAClCs8B,EAAeC,IAAoBv8B,EAAAA,EAAAA,WAAS,IAC5Cw8B,EAAYC,IAAiBz8B,EAAAA,EAAAA,WAAS,IACtC6kC,EAAcC,IAAmB9kC,EAAAA,EAAAA,WAAS,IAC1C2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClC6yB,EAAeC,IAAoB9yB,EAAAA,EAAAA,WAAS,IAC5C,CAAE08B,IAAiB18B,EAAAA,EAAAA,UAAS,CAAEtC,MAAO,EAAGC,OAAQ,IAEjDw/B,EAAiB39B,KAGvBqB,EAAAA,EAAAA,WAAU,KACT,MAAMu8B,EAAeA,KACpBV,EAAc,CAAEh/B,MAAO2jB,OAAOgc,WAAY1/B,OAAQ0jB,OAAOic,eAM1D,OAHAjc,OAAOjgB,iBAAiB,SAAUg8B,GAClCA,IAEO,IAAM/b,OAAOhgB,oBAAoB,SAAU+7B,IAChD,KAGHv8B,EAAAA,EAAAA,WAAU,KACT,MAAM08B,EAAkB36B,IACT,MAAVA,EAAEolB,KAAyB,WAAVplB,EAAEolB,MACtBplB,EAAE2d,iBACE+b,IAAkBE,GACrBjW,MAMH,OADAlF,OAAOjgB,iBAAiB,UAAWm8B,GAC5B,IAAMlc,OAAOhgB,oBAAoB,UAAWk8B,IAEjD,CAACjB,EAAeE,IAEnB,MAAMjW,GAAchlB,EAAAA,EAAAA,aAAY,KAC3B+6B,IAAkBE,GACrBH,EAAYz6B,IAASA,IAEpB,CAAC06B,EAAeE,IAEblW,GAAY/kB,EAAAA,EAAAA,aAAY,KACxB+6B,IACJC,GAAiB,GACjBE,GAAc,GACdqI,GAAgB,GAChB3I,EAAS,GACTC,EAAShB,GACTxI,GAAY,KAEX,CAAC0J,EAAelB,IAeboC,GAAiBj8B,EAAAA,EAAAA,aACrBwjC,IACIA,IAAkBvI,IACrBsI,GAAgB,GAChBrI,GAAc,GACd3W,GAAY,KAGd,CAAC0W,EAAY1W,IAGRkf,GAAqBzjC,EAAAA,EAAAA,aACzBhD,IACA49B,EAAS59B,GACTsnB,EAAgBtnB,IAEjB,CAACsnB,IAGI6X,GAAoBn8B,EAAAA,EAAAA,aACxBo8B,IACAxB,EAASwB,GAET,MAAMpI,EAAW7oB,KAAKwF,MAAMyrB,EAAW,KAAO,EAC1CpI,EAAWpwB,IACd8tB,EAASsC,GACTqP,EAAe,aAAD5iC,OAAWuzB,EAAQ,MACjCmP,GAAe,GAEf3X,WAAW,IAAM2X,GAAe,GAAQ,OAG1C,CAACv/B,IAiCF,OACC3H,EAAAA,EAAAA,MAAA,OACCuB,UAAU,iBACVgG,MAAO,CAAED,gBAAiBM,GAA0B,WACpDjC,IAAKm4B,EAAaz9B,SAAA,EAGlBC,EAAAA,EAAAA,KAACuvB,EAAU,CACVloB,MAAOA,EACPmoB,MAAOA,EACPpoB,MAAOA,EACPqoB,QAAShH,EACTiH,SAAUA,EACVpoB,WAAYA,EACZ5F,SAAU29B,EACVzP,OAAQA,KACPkF,GAAY,GACZE,EAAiBtF,GACjB6O,GAAY,IAEb1O,eAAgB2O,EAChB1O,WAAY+E,KAIb70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UAC1BL,EAAAA,EAAAA,MAAA,OACCuB,UAAU,mBACVgG,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUD,eAAgB,SAAU1sB,OAAQ,SAClFwF,IAAKqhC,EAAiB3mC,SAAA,CAErBy+B,IAAkBuI,IAClB/mC,EAAAA,EAAAA,KAAA,OACCiH,MAAO,CACNu5B,UAAU,SAADt8B,OA/DOu8B,MACtB,MAGM1T,EAAUsS,EAAiB,GAAK,GAEhCqB,EAAiBrB,EAAiB,IAAM,EAGxC8H,EAAiB5jB,OAAOgc,WAAuB,EAAVxS,EACrCqa,EACL7jB,OAAOic,YANa,GAMgBkB,EAJjB,GAUdC,EAASwG,EAhBK,IAiBdvG,EAHkBhyB,KAAKF,IAAI04B,EADf,KAZG,IAiBrB,IAAIx1B,EAAQhD,KAAKF,IAAIiyB,EAAQC,GAE7B,OAAIvB,GACHztB,EAAQhD,KAAKF,IAAIkD,EAAO,KACjBhD,KAAKD,IAAIiD,EAAO,KAEhBhD,KAAKF,IAAIkD,EAAO,KAsCE6uB,GAAgB,KACpCI,gBAAiB,UAChB9gC,UAEFC,EAAAA,EAAAA,KAACqnC,GAAc,CACd7X,MAAO8N,EACPtV,YAAa0X,EACb3X,gBAAiBmf,EACjB9lB,KAAMA,EACN6G,UAAU,aACV6d,cAAc,EACd/L,cAAe6F,EACfmB,cAAezC,EACf5O,SAAUA,EACV6N,UAAWA,MAMboJ,GAAenI,IAAkBE,IACjC1+B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oBAAoBgG,MAAO,CAAEqgC,IAAK,OAAQvnC,UACxDC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,4BAA4BgG,MAAO,CAAED,gBAAiB,UAAWN,MAAO,SAAU3G,UAChGC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,yBAAwBlB,SAAE8mC,SAMxCrI,IACDx+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUihB,EACVhhB,WAAW,qBACXE,kBAAkB,EAClBD,eACC/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEqe,UAAW,UAAWvlB,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEme,SAAU,SAAUW,WAAY,OAAQrf,MAAO,UAAWimB,aAAc,UAAW5sB,SAC9FkoB,IAEDC,IACAxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAC,UACtDC,EAAAA,EAAAA,KAAA,OACCiiB,IAAKiG,EACL3D,IAAI,aACJtd,MAAO,CAAE2lB,OAAQ,SAAUhtB,MAAO,QAASC,OAAQ,OAAQ8sB,aAAc,cAI5EjtB,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEP,MAAO,UAAW0e,SAAU,QAASrlB,SAAA,EAClDC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kCACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,0CACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oCAEJC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,UAAWyf,UAAW,QAASpmB,UACzEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,uDAOP2vB,IAAagP,IACb1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,QACL2B,WAAYA,EACZC,SAAUkhB,IAIXiW,IACA1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,WACLyB,MAAOA,EACPE,WAAYA,IAKbutB,IACA70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+CkD,EAAK,wCAC3DE,WAAYA,EACZG,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UACCkB,QA1MU82B,KAClBlD,GAAY,GACZyJ,EAAYxJ,IAyMJ9zB,UAAU,qCAAoClB,SAC9C,2BAGDC,EAAAA,EAAAA,KAAA,UACCkB,QA3MiB+2B,KACzBlQ,EAAgB3gB,GAChB4gB,GAAY,GACZyW,GAAiB,GACjBE,GAAc,GACdqI,GAAgB,IAuMR/lC,UAAU,sCAAqClB,SAC/C,qCC5HH,MAAMwnC,GAAgB,IAhLtB,MAA2Bz1B,WAAAA,GAAA,KACzBme,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQsX,eAAiB,EAAC,KACTC,eAAiB,IAElC,KACQC,YAAiC,KAAI,KACrCC,WAAoC,KAAI,KACxCC,aAAsC,KAAI,KAC1CC,UAA+B,KAAI,KACnCC,WAAoC,IAAI,CAEhD,UAAMnX,GACD5hB,KAAKkhB,oBAEHW,EAAAA,KAGN7hB,KAAK24B,YAAc,IAAI9W,EAAAA,GAAW,CACjCC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHriB,KAAK44B,WAAa,IAAI/W,EAAAA,GAAeA,EAAAA,GAAY,CAChDC,WAAY,CAAElrB,KAAM,UACpBmrB,SAAU,CACTC,OAAQ,KACRC,MAAO,IACPC,QAAS,EACTC,QAAS,KAEVC,QAAS,KACPC,gBAGHriB,KAAK64B,aAAe,IAAIhX,EAAAA,GAAeA,EAAAA,GAAY,CAClDC,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK84B,UAAY,IAAIjX,EAAAA,GAAW,CAC/BC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,EACTC,QAAS,IAEVC,QAAS,IACPC,gBAGHriB,KAAK+4B,WAAa,IAAIlX,EAAAA,GAAeA,EAAAA,GAAY,CAChDC,WAAY,CAAElrB,KAAM,YACpBmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAEVC,QAAS,IACPC,gBAEHriB,KAAKkhB,aAAc,EACpB,CAGA8X,aAAAA,GACC,IAAKh5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK24B,YAAa,OAE1D,MAAM55B,EAAM8iB,EAAAA,KACR9iB,EAAMiB,KAAKy4B,eAAiBz4B,KAAK04B,iBAErC14B,KAAKy4B,eAAiB15B,EACtBiB,KAAK24B,YAAYlW,qBAAqB,KAAM,MAAO1jB,GACpD,CAGAk6B,WAAAA,GACC,IAAKj5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK24B,YAAa,OAE1D,MAAM55B,EAAM8iB,EAAAA,KACR9iB,EAAMiB,KAAKy4B,eAAiBz4B,KAAK04B,iBAErC14B,KAAKy4B,eAAiB15B,EACtBiB,KAAK24B,YAAYlW,qBAAqB,KAAM,MAAO1jB,GACpD,CAGAm6B,cAAAA,GACC,IAAKl5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK44B,WAAY,OACzD,MAAM75B,EAAM8iB,EAAAA,KAEZ7hB,KAAK44B,WAAWnW,qBAAqB,KAAM,MAAO1jB,GAClDiB,KAAK44B,WAAWnW,qBAAqB,KAAM,MAAO1jB,EAAM,IACzD,CAGAo6B,kBAAAA,GACC,IAAKn5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK64B,aAAc,OAC3D,MAAM95B,EAAM8iB,EAAAA,KAEE,CAAC,KAAM,KAAM,KAAM,MAC3B9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK64B,aAAcpW,qBAAqBK,EAAM,MAAO/jB,EAAU,IAAJ2I,IAE7D,CAGA0xB,YAAAA,GACC,IAAKp5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK84B,UAAW,OACxD,MAAM/5B,EAAM8iB,EAAAA,KAEE,CAAC,KAAM,KAAM,MACrB9c,QAAQ,CAAC+d,EAAMpb,KACpB1H,KAAK84B,UAAWrW,qBAAqBK,EAAM,KAAM/jB,EAAU,GAAJ2I,IAEzD,CAGA2xB,WAAAA,GACC,IAAKr5B,KAAKkhB,aAAelhB,KAAKmhB,QAAUnhB,KAAK+4B,WAAY,OACzD,MAAMh6B,EAAM8iB,EAAAA,KAEK,CAAC,KAAM,KAAM,KAAM,MAC3B9c,QAAQ,CAAC+d,EAAMpb,KACvB1H,KAAK+4B,WAAYtW,qBAAqBK,EAAM,MAAO/jB,EAAU,IAAJ2I,KAG1D1H,KAAK+4B,WAAWtW,qBAAqB,CAAC,KAAM,KAAM,MAAO,KAAM1jB,EAAM,GACtE,CAEAmkB,QAAAA,CAAS/B,GACRnhB,KAAKmhB,MAAQA,CACd,CAEAgC,OAAAA,GACC,OAAOnjB,KAAKmhB,KACb,CAEAiC,OAAAA,GAAiB,IAADkW,EAAAC,EAAAC,EAAAC,EAAAC,EACV15B,KAAKkhB,cAEM,QAAhBoY,EAAAt5B,KAAK24B,mBAAW,IAAAW,GAAhBA,EAAkBlW,UACH,QAAfmW,EAAAv5B,KAAK44B,kBAAU,IAAAW,GAAfA,EAAiBnW,UACA,QAAjBoW,EAAAx5B,KAAK64B,oBAAY,IAAAW,GAAjBA,EAAmBpW,UACL,QAAdqW,EAAAz5B,KAAK84B,iBAAS,IAAAW,GAAdA,EAAgBrW,UACD,QAAfsW,EAAA15B,KAAK+4B,kBAAU,IAAAW,GAAfA,EAAiBtW,UAEjBpjB,KAAK24B,YAAc,KACnB34B,KAAK44B,WAAa,KAClB54B,KAAK64B,aAAe,KACpB74B,KAAK84B,UAAY,KACjB94B,KAAK+4B,WAAa,KAElB/4B,KAAKkhB,aAAc,EACpB,GC5KYyY,GAAe,IACfC,GAAgB,IAMhBC,GAAe,oBASfC,GAAa,sBAWbC,GAA2B,CACvC,CAAEpiC,MAAO,oBAAqBjG,OAAQ,GAAIsoC,YAAa,GACvD,CAAEriC,MAAO,qBAAsBjG,OAAQ,GAAIsoC,YAAa,GACxD,CAAEriC,MAAO,qBAAsBjG,OAAQ,GAAIsoC,YAAa,GACxD,CAAEriC,MAAO,mBAAoBjG,OAAQ,GAAIsoC,YAAa,GACtD,CAAEriC,MAAO,qBAAsBjG,OAAQ,IAAKsoC,YAAa,GACzD,CAAEriC,MAAO,oBAAqBjG,OAAQ,IAAKsoC,YAAa,IAI5CC,GAA6B,CACzC,CACCh1B,KAAM,UACNi1B,YAAa,CACZ,oBACA,qBACA,qBACA,mBACA,uBAGF,CACCj1B,KAAM,QACNi1B,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,oBACA,oBACA,oBACA,mBACA,uBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,qBACA,qBACA,qBACA,oBACA,uBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACCj1B,KAAM,OACNi1B,YAAa,CACZ,qBACA,qBACA,qBACA,oBACA,qBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,qBACA,qBACA,qBACA,qBACA,uBAGF,CACCj1B,KAAM,OACNi1B,YAAa,CACZ,qBACA,sBACA,sBACA,sBACA,sBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,oBACA,oBACA,oBACA,oBACA,qBAGF,CACCj1B,KAAM,SACNi1B,YAAa,CACZ,oBACA,qBACA,qBACA,qBACA,sBAYUC,GAAoB,IAGpBC,GAAkB,CAC9B,cAAe,CACdziC,MAAO,qBACP0iC,MAAO,+BACPviC,YAAa,qCAEd,gBAAiB,CAChBH,MAAO,mBACP0iC,MAAO,8BACPviC,YAAa,2CAEd,aAAc,CACbH,MAAO,qBACP0iC,MAAO,sBACPviC,YAAa,oCAEd,aAAc,CACbH,MAAO,oBACP0iC,MAAO,sBACPviC,YAAa,6BAEd,aAAc,CACbH,MAAO,qBACP0iC,MAAO,0BACPviC,YAAa,iCC5JTwiC,GAA0BA,CAC/B1a,EACAtnB,KAEA,MAAM3D,EAAQslC,IAAc3hC,EAAQ,GAAK2hC,GAAa76B,QAGtD,GAAI9G,EAAQ,IAAM,EAAG,CAEpB,MACMiiC,EADe3a,EAAM,IAAM,KAAQtnB,EAAQ,IAAM,GAEpDuH,KAAKF,IAAI,EAAIE,KAAKwF,MAAM/M,EAAQ,GAAIyhC,GAAY36B,OAAS,GACzDS,KAAKF,IAAI,EAAIE,KAAKwF,MAAM/M,EAAQ,GAAIyhC,GAAY36B,OAAS,GAC5D,MAAO,CACNxI,KAAMmjC,GAAYQ,GAClBC,cAAe7lC,EAAMulC,YAAYta,EAAMjrB,EAAMulC,YAAY96B,QAE3D,CAAO,GAAI9G,EAAQ,IAAM,EAAG,CAE3B,MAAMmiC,EAAqB56B,KAAKwE,IAAIub,EAAM/f,KAAKwF,MAAMq1B,MAC/CH,EAAY16B,KAAKD,IACtB,EACAC,KAAKF,IACJo6B,GAAY36B,OAAS,EACrB26B,GAAY36B,OAAS,EAAIq7B,IAG3B,MAAO,CACN7jC,KAAMmjC,GAAYQ,GAClBC,cAAe7lC,EAAMulC,YAAYta,EAAMjrB,EAAMulC,YAAY96B,QAE3D,CAAO,CAEN,MAAMu7B,EAAgB96B,KAAKwF,MAAOua,EDhCL,ECgC8B,GACrDgb,EAAgB/6B,KAAKF,IAAIg7B,EAAgB96B,KAAKwF,MAAM/M,EAAQ,GAAI,GACtE,MAAO,CACN1B,KAAMmjC,GAAYl6B,KAAKF,IAAIi7B,EAAeb,GAAY36B,OAAS,IAC/Do7B,cAAe7lC,EAAMulC,YAAYta,EAAMjrB,EAAMulC,YAAY96B,QAE3D,GAIKy7B,GAAuBA,KAC5B,MAAMC,EAAuB,CAC5B,cACA,gBACA,aACA,aACA,cAIKC,EAAU,CAAC,GAAI,GAAI,GAAI,GAAI,IAC3BtO,EAAcsO,EAAQ5jB,OAAO,CAACvW,EAAGC,IAAMD,EAAIC,EAAG,GACpD,IAAIX,EAASL,KAAKK,SAAWusB,EAE7B,IAAK,IAAI/kB,EAAI,EAAGA,EAAIozB,EAAM17B,OAAQsI,IAEjC,GADAxH,GAAU66B,EAAQrzB,GACdxH,GAAU,EACb,OAAO46B,EAAMpzB,GAIf,OAAOozB,EAAM,IAGDE,GAAgB1iC,IAC5B,MAAM2iC,EAAoB,GAQpBC,EAAgBr7B,KAAKF,IDsDQ,ICtD2B,IAARrH,EAAc,IAGpE,IAAK,IAAI6iC,EAAI,EAAGA,ED7EiB,EC6EOA,IACvCF,EAAOE,GAAK,GAGb,IAAK,IAAIvlB,EAAI,EAAGA,EDlFc,ECkFOA,IACpC,IAAK,IAAIulB,EAAI,EAAGA,EDlFgB,ECkFQA,IAAK,CAC5C,MAAM,KAAEvkC,EAAI,cAAE4jC,GAAkBF,GAAwB1kB,EAAGtd,GAGrD8iC,EAAav7B,KAAKK,SAAWg7B,EAC7BG,EAAcD,EAAaP,UAAyBthC,EAEpDpI,EAAK,GAADgqC,EArBX,KAsBO/pC,EAAK,GAADwkB,EDtFmB,GCwF7BqlB,EAAOE,GAAGvlB,GAAK,CACdzkB,IACAC,IACAP,MD9FuB,GC+FvBC,OD9FwB,GC+FxB6G,MAAO6iC,GAAiB5jC,EAAKe,MAC7BjG,OAAQkF,EAAKlF,OACb4pC,OAAQ1kC,EAAKojC,YACbA,YAAapjC,EAAKojC,YAClBoB,aACAC,cAEF,CAGD,OAAOJ,GAOKM,GAAwBjjC,GAC7BuH,KAAKD,IDjImB,GADI,IAIY,GCgItBtH,EAAQ,IAIrBkjC,GAAsBljC,GAC3BuH,KAAKF,IDhIiB,GADI,EAEW,GCiIrBrH,EAAQ,IC3IzB,SAASmjC,GACfC,EACAT,EACAU,EACA3yB,EACAD,GAEA,IAEI6yB,EAFAC,EAAc,EACdC,GAAW,EAEf,MAAMC,EAAYL,EAAKvqC,EAAIuqC,EAAKvyB,GAC1B6yB,EAAYN,EAAKtqC,EAAIsqC,EAAKO,GAGhC,IAAK,IAAId,EAAI,EAAGA,EAAIF,EAAO77B,OAAQ+7B,IAClC,IAAK,IAAIvlB,EAAI,EAAGA,EAAIqlB,EAAOE,GAAG/7B,OAAQwW,IAAK,CAC1C,MAAMsmB,EAAQjB,EAAOE,GAAGvlB,GACxB,GAAIsmB,EAAMZ,OAAS,GAEjBS,EAAYL,EAAKS,OAASD,EAAM/qC,GAChC4qC,EAAYL,EAAKS,OAASD,EAAM/qC,EAAI+qC,EAAMrrC,OAC1CmrC,EAAYN,EAAKS,OAASD,EAAM9qC,GAChC4qC,EAAYN,EAAKS,OAASD,EAAM9qC,EAAI8qC,EAAMprC,OACzC,CACDorC,EAAMZ,QAAU,EAGK,IAAjBY,EAAMZ,SACTO,GAAeK,EAAMxqC,OAEjBwqC,EAAMd,YAAcc,EAAMb,cAC7BO,EAAe,CACdzqC,EAAG+qC,EAAM/qC,EAAI+qC,EAAMrrC,MAAQ,EAC3BO,EAAG8qC,EAAM9qC,EAAI8qC,EAAMprC,OAAS,EAC5B8F,KAAMslC,EAAMb,eAMf,MAAMe,EAAWv8B,KAAKF,IACrB+7B,EAAKvqC,EAAIuqC,EAAKS,OAASD,EAAM/qC,EAC7B+qC,EAAM/qC,EAAI+qC,EAAMrrC,OAAS6qC,EAAKvqC,EAAIuqC,EAAKS,SAElCE,EAAWx8B,KAAKF,IACrB+7B,EAAKtqC,EAAIsqC,EAAKS,OAASD,EAAM9qC,EAC7B8qC,EAAM9qC,EAAI8qC,EAAMprC,QAAU4qC,EAAKtqC,EAAIsqC,EAAKS,SAezC,OAZIE,GAAYD,GAEfV,EAAKO,IAAMP,EAAKO,GAEhBP,EAAKtqC,GAAKsqC,EAAKO,GAAK,GAAKI,EAAWA,IAGpCX,EAAKvyB,IAAMuyB,EAAKvyB,GAEhBuyB,EAAKvqC,GAAKuqC,EAAKvyB,GAAK,GAAKizB,EAAWA,GAG9B,CAAEP,cAAaC,WAAUF,eACjC,CAEF,CAID,GACCI,EAAYN,EAAKS,OAASR,EAAOvqC,GACjCsqC,EAAKtqC,EAAIsqC,EAAKS,OAASR,EAAOvqC,EAAIuqC,EAAO7qC,QACzCirC,EAAYL,EAAKS,OAASR,EAAOxqC,GACjC4qC,EAAYL,EAAKS,OAASR,EAAOxqC,EAAIwqC,EAAO9qC,OAGxC6qC,EAAKO,GAAK,EAAG,CAChB,IAAIK,GACFZ,EAAKvqC,GAAKwqC,EAAOxqC,EAAIwqC,EAAO9qC,MAAQ,KAAO8qC,EAAO9qC,MAAQ,GAC5DyrC,EAAez8B,KAAKD,KAAK,IAAMC,KAAKF,IAAI,IAAM28B,IAC9C,MAAMC,EAAWD,GAAgBz8B,KAAKuB,GAAK,GAC3Cs6B,EAAKvyB,GAAKuyB,EAAKxzB,MAAQrI,KAAKiQ,IAAIysB,GAChCb,EAAKO,IAAMp8B,KAAKwE,IAAIq3B,EAAKxzB,MAAQrI,KAAKsB,IAAIo7B,IAC1Cb,EAAKtqC,EAAIuqC,EAAOvqC,EAAIsqC,EAAKS,OAAS,EACnC,CAyBD,OArBIJ,EAAYhzB,EAAc2yB,EAAKS,QAAUJ,EAAYL,EAAKS,UAC7DT,EAAKvyB,IAAMuyB,EAAKvyB,GAEZ4yB,EAAYhzB,EAAc2yB,EAAKS,OAClCT,EAAKvqC,EAAI4X,EAAc2yB,EAAKS,OAE5BT,EAAKvqC,EAAIuqC,EAAKS,QAKZH,EAAYN,EAAKS,SACpBT,EAAKO,IAAMP,EAAKO,GAChBP,EAAKtqC,EAAIsqC,EAAKS,QAIXT,EAAKtqC,EAAI4X,EAAe0yB,EAAKS,SAChCL,GAAW,GAGL,CAAED,cAAaC,WAAUF,eACjC,CC7DA,MA+4BA,GA/4BkD/pC,IAQ3C,IAPN4uB,MAAO8N,EAAY,gBACnBvV,EAAe,YACfC,EAAW,WACX1gB,EAAa,qBAAoB,KACjC8Z,EAAO,UAAS,UAChB6G,EAAY,6BAAkB,UAC9BC,GACAtnB,EAEA,MAAMwnB,EAAS1mB,KAGR2mB,EAAaC,IAAkBpmB,EAAAA,EAAAA,WAAS,IACxCwyB,EAAYC,IAAiBzyB,EAAAA,EAAAA,WAAS,IACtC2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClC6yB,EAAeC,IAAoB9yB,EAAAA,EAAAA,WAAS,IAC5CqpC,EAAcC,IAAmBtpC,EAAAA,EAAAA,WAAS,IAC1CupC,EAAkBC,IAAuBxpC,EAAAA,EAAAA,UAAS,IAGlDmF,EAAO8tB,IAAYjzB,EAAAA,EAAAA,UHmEE,IGlErBzB,EAAQqoB,IAAa5mB,EAAAA,EAAAA,UAAS,IAC9B+yB,EAAcC,IAAmBhzB,EAAAA,EAAAA,UAASo7B,IAG1CqO,EAAqBC,IAA0B1pC,EAAAA,EAAAA,UAEpD,IAGIqmB,GAAY1lB,EAAAA,EAAAA,QAA0B,MACtCkd,GAAmBld,EAAAA,EAAAA,QAAsB,MACzCgpC,GAAiBhpC,EAAAA,EAAAA,SAAO,GACxBipC,GAAkBjpC,EAAAA,EAAAA,SAAO,GAGzBqpB,GAAgBzoB,EAAAA,EAAAA,aACpB6f,IACKoR,IACc,SAAdpR,GACHuoB,EAAe3oC,SAAU,EAEzB+rB,WAAW,KACV4c,EAAe3oC,SAAU,GACvB,MACqB,UAAdogB,IACVwoB,EAAgB5oC,SAAU,EAE1B+rB,WAAW,KACV6c,EAAgB5oC,SAAU,GACxB,QAIN,CAACwxB,IAEIqX,GAAclpC,EAAAA,EAAAA,QAAsB,MACpCmpC,GAAsBnpC,EAAAA,EAAAA,QAC3BynC,GH6B2B,IG3BtB2B,GAAqBppC,EAAAA,EAAAA,QAAgC,MAGrDqpC,GAAUrpC,EAAAA,EAAAA,QAAa,CAC5B3C,EAAGwoC,IACHvoC,EAAGwoC,IACHzwB,GAAI,EACJ8yB,GAAI,EACJE,OH9GyB,GG+GzBj0B,MAAOszB,GHkBoB,GGjB3B7jC,MAAOmiC,KAIFsD,GAAYtpC,EAAAA,EAAAA,QAAe,CAChC3C,GAAIwoC,GAAe4B,GHYQ,IGZ+B,EAC1DnqC,EAAGwoC,IACH/oC,MAAO0qC,GHUoB,GGT3BzqC,OHhI2B,GGiI3BoX,MH7H0B,GG8H1BvQ,MAAOkiC,KAIFwD,GAAYvpC,EAAAA,EAAAA,QAAkBknC,GHGR,IGAtBsC,GAAcxpC,EAAAA,EAAAA,QAAkB,IAChCypC,GAAgBzpC,EAAAA,EAAAA,QAAe,IAC/B0pC,GAAoB1pC,EAAAA,EAAAA,QAAwB,IAI5C2pC,GAAqB/oC,EAAAA,EAAAA,aAAY,KACtC,MAAMgpC,EAAcnC,GAAqBjjC,GACnCqlC,EAAYnC,GAAmBljC,GAErC8kC,EAAUjpC,QAAU,CACnBhD,GAAIwoC,GAAe+D,GAAe,EAClCtsC,EAAGwoC,IACH/oC,MAAO6sC,EACP5sC,OHvJ0B,GGwJ1BoX,MHpJyB,GGqJzBvQ,MAAOkiC,IAGRsD,EAAQhpC,QAAU,CACjBhD,EAAGwoC,IACHvoC,EAAGwoC,IACHzwB,GAAI,EACJ8yB,GAAI,EACJE,OHzJwB,GG0JxBj0B,MAAOy1B,EACPhmC,MAAOmiC,IAGR2C,GAAgB,IACd,CAACnkC,IAEEslC,GAAUlpC,EAAAA,EAAAA,aAAY,KAC3B,MAAMg0B,EAAWpwB,EAAQ,EACzB8tB,EAASsC,GACT2U,EAAUlpC,QAAU6mC,GAAatS,GACjC+U,IACAjF,GAAca,eACZ,CAAC/gC,EAAOmlC,IAELI,GAAWnpC,EAAAA,EAAAA,aAAY,KAC5ByxB,EAAgBpxB,GAAQA,EAAO,GAC/B0oC,IACAjF,GAAcY,gBACZ,CAACqE,IAEEK,GAAappC,EAAAA,EAAAA,aAAY,KAC9B,IAAK8nC,GAAgBljB,IAAgBqM,EAAY,CAChD,MAAMoY,EAAel+B,KAAKK,SAAWL,KAAKuB,GAAM,EAAIvB,KAAKuB,GAAK,EAC9D+7B,EAAQhpC,QAAQgV,GAAKg0B,EAAQhpC,QAAQ+T,MAAQrI,KAAKiQ,IAAIiuB,GACtDZ,EAAQhpC,QAAQ8nC,IAAMkB,EAAQhpC,QAAQ+T,MAAQrI,KAAKsB,IAAI48B,GACvDtB,GAAgB,EACjB,GACE,CAACD,EAAcljB,EAAaqM,IAGzBiW,IAAelnC,EAAAA,EAAAA,aACpB,CAACvD,EAAWC,EAAWwF,KACtB,MAAMwR,EAASgyB,GAAgBxjC,GAC/B0mC,EAAYnpC,QAAQuR,KAAK,CACxBvU,EAAGA,EAAI6sC,GACP5sC,EAAGA,EAAI4sC,GACPntC,MH1DyB,GG2DzBC,OH3DyB,GG4DzB8F,OACAsR,MH5D0B,EG6D1BvQ,MAAOyQ,EAAOzQ,MACdsmC,QAAQ,KAGV,IAGKC,IAAkBxpC,EAAAA,EAAAA,aAAakC,IACpC,MAAMmI,EAAMid,KAAKjd,MAEjB,OAAQnI,GACP,IAAK,cACJqmC,EAAoB9oC,QAAUipC,EAAUjpC,QAAQtD,MAChDusC,EAAUjpC,QAAQtD,MAAQgP,KAAKF,IACJ,IAA1By9B,EAAUjpC,QAAQtD,MAClB8oC,KAEDyD,EAAUjpC,QAAQhD,EAAI0O,KAAKD,IAC1B,EACAC,KAAKF,IAAIg6B,GAAeyD,EAAUjpC,QAAQtD,MAAOusC,EAAUjpC,QAAQhD,IAEpEqsC,EAAkBrpC,QAAQuR,KAAK,CAC9B9O,OACAunC,QAASp/B,EAAMo7B,KAEhB,MAGD,IAAK,gBACJ8C,EAAoB9oC,QAAUipC,EAAUjpC,QAAQtD,MAChDusC,EAAUjpC,QAAQtD,MAAQgP,KAAKD,IACJ,GAA1Bw9B,EAAUjpC,QAAQtD,MAClB,IAEDusC,EAAUjpC,QAAQhD,EAAI0O,KAAKD,IAC1B,EACAC,KAAKF,IAAIg6B,GAAeyD,EAAUjpC,QAAQtD,MAAOusC,EAAUjpC,QAAQhD,IAEpEqsC,EAAkBrpC,QAAQuR,KAAK,CAC9B9O,OACAunC,QAASp/B,EAAMo7B,KAEhB,MAGD,IAAK,aAAc,CAClBgD,EAAQhpC,QAAQ+T,MAAgC,GAAxBi1B,EAAQhpC,QAAQ+T,MAExC,MAAMk2B,EAAev+B,KAAKw+B,KACzBlB,EAAQhpC,QAAQgV,IAAM,EAAIg0B,EAAQhpC,QAAQ8nC,IAAM,GAEjDkB,EAAQhpC,QAAQgV,GACdg0B,EAAQhpC,QAAQgV,GAAKi1B,EAAgBjB,EAAQhpC,QAAQ+T,MACvDi1B,EAAQhpC,QAAQ8nC,GACdkB,EAAQhpC,QAAQ8nC,GAAKmC,EAAgBjB,EAAQhpC,QAAQ+T,MACvDs1B,EAAkBrpC,QAAQuR,KAAK,CAC9B9O,OACAunC,QAASp/B,EAAMo7B,KAEhB,KACD,CAEA,IAAK,aAEJ,IAAK,IAAIzyB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,MAAMmI,EAAShQ,KAAKK,SAAWL,KAAKuB,GAAM,EAAIvB,KAAKuB,GAAK,EACxDm8B,EAAcppC,QAAQuR,KAAK,CAC1BvU,EAAGgsC,EAAQhpC,QAAQhD,EACnBC,EAAG+rC,EAAQhpC,QAAQ/C,EACnB+X,GAAIg0B,EAAQhpC,QAAQ+T,MAAQrI,KAAKiQ,IAAID,GACrCosB,IAAKp8B,KAAKwE,IAAI84B,EAAQhpC,QAAQ+T,MAAQrI,KAAKsB,IAAI0O,IAC/CssB,OH1QqB,GG2QrBj0B,MAAOi1B,EAAQhpC,QAAQ+T,MACvBvQ,MAAOmiC,IAET,CACA,MAGD,IAAK,aACJ3T,EAAgBpxB,GAAQA,EAAO,KAI/B,IAEGupC,IAAiB5pC,EAAAA,EAAAA,aAAY,KAClC,MAAMqK,EAAMid,KAAKjd,MAGjBu+B,EAAYnpC,QAAUmpC,EAAYnpC,QAAQ2T,OAAOy2B,KAC3CA,EAAQN,SAEbM,EAAQntC,GAAKmtC,EAAQr2B,MAIpBq2B,EAAQntC,EAAImtC,EAAQztC,OAASssC,EAAUjpC,QAAQ/C,GAC/CmtC,EAAQptC,EAAIisC,EAAUjpC,QAAQhD,EAAIisC,EAAUjpC,QAAQtD,OACpD0tC,EAAQptC,EAAIotC,EAAQ1tC,MAAQusC,EAAUjpC,QAAQhD,GAE9C+sC,GAAgBK,EAAQ3nC,MACxB4hC,GAAcW,sBACP,GAIDoF,EAAQntC,EAAIwoC,KAIpB4D,EAAkBrpC,QAAUqpC,EAAkBrpC,QAAQ2T,OACrD02B,IACC,GAAIz/B,EAAMy/B,EAAcL,QAAS,CAEhC,OAAQK,EAAc5nC,MACrB,IAAK,cACL,IAAK,gBACJwmC,EAAUjpC,QAAQtD,MAAQ0qC,GAAqBjjC,GAC/C8kC,EAAUjpC,QAAQhD,EAAI0O,KAAKD,IAC1B,EACAC,KAAKF,IACJg6B,GAAeyD,EAAUjpC,QAAQtD,MACjCusC,EAAUjpC,QAAQhD,IAGpB,MAED,IAAK,aAAc,CAClBgsC,EAAQhpC,QAAQ+T,MAAQszB,GAAmBljC,GAE3C,MAAM8lC,EAAev+B,KAAKw+B,KACzBlB,EAAQhpC,QAAQgV,IAAM,EAAIg0B,EAAQhpC,QAAQ8nC,IAAM,GAEjDkB,EAAQhpC,QAAQgV,GACdg0B,EAAQhpC,QAAQgV,GAAKi1B,EAAgBjB,EAAQhpC,QAAQ+T,MACvDi1B,EAAQhpC,QAAQ8nC,GACdkB,EAAQhpC,QAAQ8nC,GAAKmC,EAAgBjB,EAAQhpC,QAAQ+T,MACvD,KACD,EAED,OAAO,CACR,CACA,OAAO,IAKT20B,EAAuB,IAAIW,EAAkBrpC,WAC3C,CAAC+pC,GAAiB5lC,KAKrBtE,EAAAA,EAAAA,WAAU,KACTwkC,GAAc5W,OACP,KACN4W,GAAcpV,YAEb,KAGHpvB,EAAAA,EAAAA,WAAU,KACT,MAAM6e,EAAM,IAAIC,MAEfD,EAAIK,IADQ,YAATb,EACI,yBAAAld,OAA4Bkd,EAAI,YHtON,0BG0OlCQ,EAAIE,OAAS,KACZmqB,EAAmB/oC,QAAU0e,IAE5B,KAGH7e,EAAAA,EAAAA,WAAU,KACLkyB,GAAgB,GAAK5M,IACxBC,GAAe,GACfN,GAAY,GACZD,EAAgBtnB,KAEf,CAACw0B,EAAc5M,EAAa5nB,EAAQunB,EAAaD,KAGpDhlB,EAAAA,EAAAA,WAAU,KACT,MAAMyqC,EAAkB1oC,IACT,UAAVA,EAAEolB,KAA6B,eAAVplB,EAAEolB,IAC1B4hB,EAAgB5oC,SAAU,EACN,SAAV4B,EAAEolB,KAA4B,cAAVplB,EAAEolB,IAChC2hB,EAAe3oC,SAAU,EACL,MAAV4B,EAAEolB,KAAe7B,IAAgBkjB,GAC3CzmC,EAAE2d,iBACFoqB,KACoB,MAAV/nC,EAAEolB,KAAe7B,GAAekjB,GAC1CzmC,EAAE2d,iBACFkS,EAAc7wB,IAASA,IACH,MAAVgB,EAAEolB,KAAyB,MAAVplB,EAAEolB,KACzB7B,GAAekjB,GAClB5W,EAAc7wB,IAASA,IAKpB2pC,EAAgB3oC,IACP,UAAVA,EAAEolB,KAA6B,eAAVplB,EAAEolB,IAC1B4hB,EAAgB5oC,SAAU,EACN,SAAV4B,EAAEolB,KAA4B,cAAVplB,EAAEolB,MAChC2hB,EAAe3oC,SAAU,IAO3B,OAHAG,SAASC,iBAAiB,UAAWkqC,GACrCnqC,SAASC,iBAAiB,QAASmqC,GAE5B,KACNpqC,SAASE,oBAAoB,UAAWiqC,GACxCnqC,SAASE,oBAAoB,QAASkqC,KAErC,CAACplB,EAAakjB,EAAcsB,KAG/B9pC,EAAAA,EAAAA,WAAU,KACT,MAAMsnB,EAAS9B,EAAUrlB,QACzB,IAAKmnB,IAAWjC,IAAWC,EAAa,OAExC,MAAMqlB,EAAoB5oC,IACzB,GAAKujB,IAAeqM,GAEhB5vB,EAAE6oC,QAAQx/B,OAAS,EAAG,CACzBrJ,EAAE2d,iBACF,MAAMmrB,EAAQ9oC,EAAE6oC,QAAQ,GAClBE,EAAOxjB,EAAOyjB,wBACdC,EAASH,EAAMI,QAAUH,EAAKt1B,KAC9B01B,EAAcr/B,KAAKD,IACxB,EACAC,KAAKF,IAAIm/B,EAAKjuC,MAAQusC,EAAUjpC,QAAQtD,MAAOmuC,IAEhD5B,EAAUjpC,QAAQhD,EAAI+tC,EAAc1qB,OAAO2qB,iBACtC3C,IACJW,EAAQhpC,QAAQhD,EAAIisC,EAAUjpC,QAAQhD,EAAIisC,EAAUjpC,QAAQtD,MAAQ,EAEtE,GAGKuuC,EAAqBrpC,IACtB4vB,IACC6W,IACJzmC,EAAE2d,iBACFoqB,KAEG/nC,EAAE6oC,QAAQx/B,OAAS,IACtB49B,EAAY7oC,QAAU4B,EAAE6oC,QAAQ,GAAGK,WAI/BI,EAAkBA,KACvBrC,EAAY7oC,QAAU,MAOvB,OAJAmnB,EAAO/mB,iBAAiB,YAAaoqC,EAAkB,CAAEW,SAAS,IAClEhkB,EAAO/mB,iBAAiB,aAAc6qC,EAAmB,CAAEE,SAAS,IACpEhkB,EAAO/mB,iBAAiB,WAAY8qC,GAE7B,KACN/jB,EAAO9mB,oBAAoB,YAAamqC,GACxCrjB,EAAO9mB,oBAAoB,aAAc4qC,GACzC9jB,EAAO9mB,oBAAoB,WAAY6qC,KAEtC,CAAChmB,EAAQC,EAAaqM,EAAY6W,EAAcsB,KAGnD9pC,EAAAA,EAAAA,WAAU,KACT,MAAMsnB,EAAS9B,EAAUrlB,QACzB,IAAKmnB,IAAWhC,EAAa,OAC7B,MAAMnO,EAAMmQ,EAAOC,WAAW,MAC9B,IAAKpQ,EAAK,OAEV,IAAI8e,EAAWnrB,YAAYC,MAE3B,MAAMo1B,EAAOA,KACZ,MAAMp1B,EAAMD,YAAYC,MAClBwgC,GAAaxgC,EAAMkrB,GAAY,IAGrC,GAFAA,EAAWlrB,EAEP4mB,GAAcG,EACjB9U,EAAiB7c,QAAU0d,sBAAsBsiB,OADlD,CAgCA,GA5BAhpB,EAAIK,UAAU,EAAG,EAAGmuB,GAAcC,IAG9BsD,EAAmB/oC,SAEtBgX,EAAIyC,UACHsvB,EAAmB/oC,QACnB,EACA,EACAwlC,GACAC,IAGDzuB,EAAIa,UAAY,qBAChBb,EAAIyB,SAAS,EAAG,EAAG+sB,GAAcC,MAGjCzuB,EAAIa,UAAY,UAChBb,EAAIyB,SAAS,EAAG,EAAG+sB,GAAcC,KCndX4F,EACzBr0B,EACA8vB,KAEAA,EAAOl2B,QAAQwiB,IACdA,EAAOxiB,QAAQm3B,IACd,GAAIA,EAAMZ,OAAS,EAAG,CACrBnwB,EAAIc,YACJ,MAAMkwB,EAAS,EACfhxB,EAAIe,OAAOgwB,EAAM/qC,EAAIgrC,EAAQD,EAAM9qC,GACnC+Z,EAAIgB,OAAO+vB,EAAM/qC,EAAI+qC,EAAMrrC,MAAQsrC,EAAQD,EAAM9qC,GACjD+Z,EAAIs0B,iBACHvD,EAAM/qC,EAAI+qC,EAAMrrC,MAChBqrC,EAAM9qC,EACN8qC,EAAM/qC,EAAI+qC,EAAMrrC,MAChBqrC,EAAM9qC,EAAI+qC,GAEXhxB,EAAIgB,OAAO+vB,EAAM/qC,EAAI+qC,EAAMrrC,MAAOqrC,EAAM9qC,EAAI8qC,EAAMprC,OAASqrC,GAC3DhxB,EAAIs0B,iBACHvD,EAAM/qC,EAAI+qC,EAAMrrC,MAChBqrC,EAAM9qC,EAAI8qC,EAAMprC,OAChBorC,EAAM/qC,EAAI+qC,EAAMrrC,MAAQsrC,EACxBD,EAAM9qC,EAAI8qC,EAAMprC,QAEjBqa,EAAIgB,OAAO+vB,EAAM/qC,EAAIgrC,EAAQD,EAAM9qC,EAAI8qC,EAAMprC,QAC7Cqa,EAAIs0B,iBACHvD,EAAM/qC,EACN+qC,EAAM9qC,EAAI8qC,EAAMprC,OAChBorC,EAAM/qC,EACN+qC,EAAM9qC,EAAI8qC,EAAMprC,OAASqrC,GAE1BhxB,EAAIgB,OAAO+vB,EAAM/qC,EAAG+qC,EAAM9qC,EAAI+qC,GAC9BhxB,EAAIs0B,iBAAiBvD,EAAM/qC,EAAG+qC,EAAM9qC,EAAG8qC,EAAM/qC,EAAIgrC,EAAQD,EAAM9qC,GAG/D,MAAMqI,EAAUyiC,EAAMZ,OAASY,EAAMlC,YACrC7uB,EAAIa,UAAYkwB,EAAMvkC,MACtBwT,EAAImD,YAAc,GAAgB,GAAV7U,EACxB0R,EAAIpa,OACJoa,EAAImD,YAAc,EAGd4tB,EAAMZ,OAASY,EAAMlC,cACxB7uB,EAAI8E,YAAc,kBAClB9E,EAAI+E,UAAY,EAChB/E,EAAI5Z,UAID2qC,EAAMd,YAAcc,EAAMb,cAC7BlwB,EAAIa,UAAY,wBAChBb,EAAI6E,KAAO,aACX7E,EAAIoL,UAAY,SAChBpL,EAAIu0B,aAAe,SACnBv0B,EAAImF,SACH,SACA4rB,EAAM/qC,EAAI+qC,EAAMrrC,MAAQ,EACxBqrC,EAAM9qC,EAAI8qC,EAAMprC,OAAS,IAI3Bqa,EAAIiB,WACL,ODyZAozB,CAAWr0B,EAAKkyB,EAAUlpC,SCvfHwrC,EAACx0B,EAA+BwwB,KACzDxwB,EAAIc,YAEJd,EAAIe,OAAOyvB,EAAOxqC,EADH,EACewqC,EAAOvqC,GACrC+Z,EAAIgB,OAAOwvB,EAAOxqC,EAAIwqC,EAAO9qC,MAFd,EAE8B8qC,EAAOvqC,GACpD+Z,EAAIs0B,iBACH9D,EAAOxqC,EAAIwqC,EAAO9qC,MAClB8qC,EAAOvqC,EACPuqC,EAAOxqC,EAAIwqC,EAAO9qC,MAClB8qC,EAAOvqC,EAPO,GASf+Z,EAAIgB,OAAOwvB,EAAOxqC,EAAIwqC,EAAO9qC,MAAO8qC,EAAOvqC,EAAIuqC,EAAO7qC,OATvC,GAUfqa,EAAIs0B,iBACH9D,EAAOxqC,EAAIwqC,EAAO9qC,MAClB8qC,EAAOvqC,EAAIuqC,EAAO7qC,OAClB6qC,EAAOxqC,EAAIwqC,EAAO9qC,MAbJ,EAcd8qC,EAAOvqC,EAAIuqC,EAAO7qC,QAEnBqa,EAAIgB,OAAOwvB,EAAOxqC,EAhBH,EAgBewqC,EAAOvqC,EAAIuqC,EAAO7qC,QAChDqa,EAAIs0B,iBACH9D,EAAOxqC,EACPwqC,EAAOvqC,EAAIuqC,EAAO7qC,OAClB6qC,EAAOxqC,EACPwqC,EAAOvqC,EAAIuqC,EAAO7qC,OArBJ,GAuBfqa,EAAIgB,OAAOwvB,EAAOxqC,EAAGwqC,EAAOvqC,EAvBb,GAwBf+Z,EAAIs0B,iBAAiB9D,EAAOxqC,EAAGwqC,EAAOvqC,EAAGuqC,EAAOxqC,EAxBjC,EAwB6CwqC,EAAOvqC,GACnE+Z,EAAIa,UAAY2vB,EAAOhkC,MACvBwT,EAAIpa,OACJoa,EAAIiB,aD2dFuzB,CAAWx0B,EAAKiyB,EAAUjpC,SCtgBLyrC,EAACz0B,EAA+BuwB,KACvDvwB,EAAIc,YACJd,EAAI4E,IAAI2rB,EAAKvqC,EAAGuqC,EAAKtqC,EAAGsqC,EAAKS,OAAQ,EAAa,EAAVt8B,KAAKuB,IAC7C+J,EAAIa,UAAY0vB,EAAK/jC,MAErBwT,EAAImjB,WAAa,GACjBnjB,EAAIkjB,YAAcqN,EAAK/jC,MACvBwT,EAAIpa,OACJoa,EAAIiB,YAEJjB,EAAImjB,WAAa,EACjBnjB,EAAIkjB,YAAc,eD4fhBuR,CAASz0B,EAAKgyB,EAAQhpC,SCtZK0rC,EAC7B10B,EACA20B,KAEAA,EAAW/6B,QAAQ22B,IAClBvwB,EAAIc,YACJd,EAAI4E,IAAI2rB,EAAKvqC,EAAGuqC,EAAKtqC,EAAGsqC,EAAKS,OAAQ,EAAa,EAAVt8B,KAAKuB,IAC7C+J,EAAIa,UAAY0vB,EAAK/jC,MACrBwT,EAAImjB,WAAa,GACjBnjB,EAAIkjB,YAAcqN,EAAK/jC,MACvBwT,EAAIpa,OACJoa,EAAIiB,YACJjB,EAAImjB,WAAa,EACjBnjB,EAAIkjB,YAAc,iBD0YjBwR,CAAe10B,EAAKoyB,EAAcppC,SCtYT4rC,EAC3B50B,EACA60B,KAEAA,EAASj7B,QAAQw5B,IAEhBpzB,EAAIc,YACJd,EAAI4E,IACHwuB,EAAQptC,EAAIotC,EAAQ1tC,MAAQ,EAC5B0tC,EAAQntC,EAAImtC,EAAQztC,OAAS,EAC7BytC,EAAQ1tC,MAAQ,EAChB,EACU,EAAVgP,KAAKuB,IAEN+J,EAAIa,UAAYuyB,EAAQ5mC,MACxBwT,EAAImjB,WAAa,GACjBnjB,EAAIkjB,YAAckQ,EAAQ5mC,MAC1BwT,EAAIpa,OACJoa,EAAIiB,YAGJjB,EAAIa,UAAY,QAChBb,EAAI6E,KAAO,aACX7E,EAAIoL,UAAY,SAChBpL,EAAIu0B,aAAe,SAGnB,MAAMhoC,EAAO0iC,GAAgBmE,EAAQ3nC,MAAMyjC,MAAM4F,MAAM,KAAK,GAC5D90B,EAAImF,SACH5Y,EACA6mC,EAAQptC,EAAIotC,EAAQ1tC,MAAQ,EAC5B0tC,EAAQntC,EAAImtC,EAAQztC,OAAS,GAI9Bqa,EAAImjB,WAAa,EACjBnjB,EAAIkjB,YAAc,iBDmWjB0R,CAAa50B,EAAKmyB,EAAYnpC,SAE1BqoC,EAAc,CAGhBO,EAAgB5oC,SAChBipC,EAAUjpC,QAAQhD,EAAIwoC,GAAeyD,EAAUjpC,QAAQtD,MAEvDusC,EAAUjpC,QAAQhD,GAAKisC,EAAUjpC,QAAQ+T,MAAQq3B,EAAY,GACnDzC,EAAe3oC,SAAWipC,EAAUjpC,QAAQhD,EAAI,IAC1DisC,EAAUjpC,QAAQhD,GAAKisC,EAAUjpC,QAAQ+T,MAAQq3B,EAAY,IAI9DjB,KAGA,MAAM,YACLzC,EAAW,SACXC,EACAF,aAAcsE,GACXzE,GACH0B,EAAQhpC,QACRkpC,EAAUlpC,QACVipC,EAAUjpC,QACVylC,GACAD,IA+CD,GA5CIuG,GACHtE,GAAasE,EAAe/uC,EAAG+uC,EAAe9uC,EAAG8uC,EAAetpC,MAI7DilC,EAAc,GACjBrD,GAAcU,iBAIfqE,EAAcppC,QAAUopC,EAAcppC,QAAQ2T,OAAO4zB,IACpD,MAAM/5B,EAAS85B,GACdC,EACA2B,EAAUlpC,QACVipC,EAAUjpC,QACVylC,GACAD,IAoBD,OAjBIh4B,EAAOk6B,YAAc,GACxB9hB,EAAUhlB,GAAQA,EAAO4M,EAAOk6B,aAG7Bl6B,EAAOi6B,cACVA,GACCj6B,EAAOi6B,aAAazqC,EACpBwQ,EAAOi6B,aAAaxqC,EACpBuQ,EAAOi6B,aAAahlC,MAKtB8kC,EAAKvqC,GAAKuqC,EAAKvyB,GAAKo2B,EAAY,GAChC7D,EAAKtqC,GAAKsqC,EAAKO,GAAKsD,EAAY,IAGxB59B,EAAOm6B,WAGZD,EAAc,GACjB9hB,EAAUhlB,GAAQA,EAAO8mC,GAItBC,EAAU,CAEb,KAAIyB,EAAcppC,QAAQiL,OAAS,GAYlC,OAJAy+B,IACAN,EAAcppC,QAAU,GACxBmpC,EAAYnpC,QAAU,QACtBqpC,EAAkBrpC,QAAU,IAXS,CAErC,MAAMgsC,EAAc5C,EAAcppC,QAAQi5B,MAC1C+P,EAAQhpC,QAAQhD,EAAIgvC,EAAYhvC,EAChCgsC,EAAQhpC,QAAQ/C,EAAI+uC,EAAY/uC,EAChC+rC,EAAQhpC,QAAQgV,GAAKg3B,EAAYh3B,GACjCg0B,EAAQhpC,QAAQ8nC,GAAKkE,EAAYlE,EAClC,CAOD,CAEA,GAAoBoB,EAAUlpC,QFjenB8rB,MAAMsH,GAAUA,EAAOtH,MAAMic,GAA0B,IAAjBA,EAAMZ,SEsetD,OAJAsC,IACAL,EAAcppC,QAAU,GACxBmpC,EAAYnpC,QAAU,QACtBqpC,EAAkBrpC,QAAU,IAK7BgpC,EAAQhpC,QAAQhD,GAAKgsC,EAAQhpC,QAAQgV,GAAKo2B,EAAY,GACtDpC,EAAQhpC,QAAQ/C,GAAK+rC,EAAQhpC,QAAQ8nC,GAAKsD,EAAY,EACvD,MAECpC,EAAQhpC,QAAQhD,EAAIisC,EAAUjpC,QAAQhD,EAAIisC,EAAUjpC,QAAQtD,MAAQ,EACpEssC,EAAQhpC,QAAQ/C,EAAIgsC,EAAUjpC,QAAQ/C,EHtmBf,GG0mBtB2rC,EAAgB5oC,SAChBipC,EAAUjpC,QAAQhD,EAAIwoC,GAAeyD,EAAUjpC,QAAQtD,MAEvDusC,EAAUjpC,QAAQhD,GAAKisC,EAAUjpC,QAAQ+T,MAAQq3B,EAAY,GACnDzC,EAAe3oC,SAAWipC,EAAUjpC,QAAQhD,EAAI,IAC1DisC,EAAUjpC,QAAQhD,GAAKisC,EAAUjpC,QAAQ+T,MAAQq3B,EAAY,IAI/DvuB,EAAiB7c,QAAU0d,sBAAsBsiB,EAjJjD,GAsJD,OAFAA,IAEO,KACFnjB,EAAiB7c,SACpB4d,qBAAqBf,EAAiB7c,WAGtC,CACFmlB,EACAqM,EACAG,EACA0W,EACAlkC,EACAulC,EACAD,EACAU,GACA1C,KAKD,MAAMniB,GAAYA,KACjBkjB,EAAoB,GACpBvW,EH5gB2B,GG6gB3BrM,EAAU,GACVoM,EAAgBoI,GAChB8O,EAAUlpC,QAAU6mC,GH/gBO,GGghB3ByC,IACAH,EAAYnpC,QAAU,GACtBopC,EAAcppC,QAAU,GACxBqpC,EAAkBrpC,QAAU,GAC5ByxB,GAAc,GACdG,GAAY,GACZxM,GAAe,GACfkjB,GAAgB,IAoBjB,OACC9rC,EAAAA,EAAAA,MAAA,OACCuB,UAAU,iBACVgG,MAAO,CAAED,gBAAiBM,GAAavH,SAAA,EAGvCC,EAAAA,EAAAA,KAACuvB,EAAU,CACVloB,MAAOA,EACPmoB,MAAOyF,EACP7tB,MAAO3G,EACPgvB,QACCpH,GAAekjB,IAAiB1W,EAC7B,IAAMF,GAAeD,QACrBpsB,EAEJonB,SAAUgF,EACVptB,WAAYA,EACZ5F,SAAU0mB,EACVwH,OAAQA,KACPkF,GAAY,GACZE,EAAiBN,GACjBC,GAAc,IAEf9E,eAAgBxH,EAChByH,WAAY+E,KAIb70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAagG,MAAO,CAAEs5B,YAAa,KAAMxgC,UACvDL,EAAAA,EAAAA,MAAA,OACCuB,UAAU,mBACVgG,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUD,eAAgB,SAAUQ,QAAS,OAAQ/lB,gBAAiBM,GAAavH,SAAA,EAEzHC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAE0Q,SAAU,WAAY2vB,IAAK,EAAG/uB,KAAM,EAAGC,MAAO,EAAG3Y,OAAQ,OAAQktB,QAAS,gBAAiBhtB,SAEvGsoB,GAAesjB,EAAoBx9B,OAAS,IAC5CzO,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUF,IAAK,UAAWvsB,SAAA,EACpEC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,QAASqf,WAAY,KAAMhmB,SAAC,eAGvE4rC,EAAoBrqB,IAAI,CAACgsB,EAAS54B,KAClC,MAAMyC,EAASgyB,GAAgBmE,EAAQ3nC,MACjCwpC,EAAYvgC,KAAKwgC,MACrB9B,EAAQJ,QAAUniB,KAAKjd,OAAS,KAElC,OACCpO,EAAAA,EAAAA,MAAA,OAECuB,UAAU,uBACVgG,MAAO,CAAE8sB,YAAa5c,EAAOzQ,OAAQ3G,SAAA,EAErCC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,YAAarlB,SACpCoX,EAAOiyB,MAAM4F,MAAM,KAAK,MAE1BtvC,EAAAA,EAAAA,MAAA,QAAMuH,MAAO,CAAEme,SAAU,UAAWW,WAAY,OAAQrf,MAAO,SAAU3G,SAAA,CACvEovC,EAAU,SARPz6B,WAkBX1U,EAAAA,EAAAA,KAAComB,EAAU,CACV/gB,IAAKkjB,EACL3oB,MAAO8oC,GACP7oC,OAAQ8oC,GACR1nC,UAAU,wBACVgG,MAAO,CACNooC,OACChnB,IAAgBqM,GAAc6W,EAAe,OAAS,cAKvDljB,IACDroB,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAOiiB,EACP3gB,WAAYA,EACZC,SACsB,IAArBkkC,EACG,IAAMC,EAAoB,GACL,IAArBD,EACC,IAAMC,EAAoB,GAC1BljB,GAELhhB,WACsB,IAArBikC,EACG,mBACqB,IAArBA,EACC,mBACA,qBAEL/jC,kBAAkB,EAClBD,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,YAAWlB,SAAA,CACxBmoB,IACAxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,qBAAoBlB,SAAC,UACrCC,EAAAA,EAAAA,KAAA,OACCiiB,IAAKiG,EACL3D,IAAI,aACJtjB,UAAU,iCAIS,IAArBwqC,GACA/rC,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EAECL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,iEAAgElB,SAAA,EAC9EL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,0BAAyBlB,SAAA,EACvCC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oCACfjB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,UAASlB,SAAC,eAE3BL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,0BAAyBlB,SAAA,EACvCC,EAAAA,EAAAA,KAAA,OACCiH,MAAO,CAAED,gBAAiB6hC,IAC1B5nC,UAAU,0BAEXjB,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,UAASlB,SAAC,eAE3BL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,0BAAyBlB,SAAA,CACtC+oC,GAAY1I,MAAM,EAAG,GAAG9e,IAAI3b,IAC5B3F,EAAAA,EAAAA,KAAA,OAECiH,MAAO,CAAED,gBAAiBrB,EAAKe,OAC/BzF,UAAU,sBAFL0E,EAAKe,SAKZ1G,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,UAASlB,SAAC,mBAI5BC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oCAAmClB,SAChDqoB,GACA1oB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qCACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,sCAGJL,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4CAKNC,EAAAA,EAAAA,KAAA,UACCkB,QAASsnB,GACTvnB,UAAU,mDAAkDlB,SAC5D,cAIsB,IAArB0rC,GACH/rC,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kCAAiClB,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mDACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,0CACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oDAGJC,EAAAA,EAAAA,KAAA,UACCkB,QAASA,IAAMwqC,EAAoB,GACnCzqC,UAAU,mDAAkDlB,SAC5D,wBAKFL,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,kCAAiClB,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,yBAAwBlB,SAAC,mCAGtCL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,eACC,KACHC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,iBAAgBlB,SAAC,kBAAqB,IAAI,0BAG3DL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,WACAC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,gBAAelB,SAAC,eAAiB,2BAGpDL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,WACAC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,kBAAiBlB,SAAC,eAAkB,IAAI,yBAG3DL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,iBACCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,eAAclB,SAAC,eAAiB,iBAGpDC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,6BAA4BlB,SAAC,yDAG1CC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,iBAAgBlB,SAAC,mDAK/BC,EAAAA,EAAAA,KAAA,UACCkB,QAASA,IAAMwqC,EAAoB,GACnCzqC,UAAU,mDAAkDlB,SAC5D,4BAWN20B,IAAeG,IACf70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,QACLwB,QAAQ,wCACRG,WAAYA,EACZC,SAAUA,IAAMotB,GAAc,GAC9BntB,WAAW,2BAKZqtB,IACA70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+CzD,EAAM,wCAC5D6G,WAAYA,EACZG,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UACCkB,QA/PU82B,KAClBlD,GAAY,GACZH,EAAcI,IA8PN9zB,UAAU,qCAAoClB,SAC9C,2BAGDC,EAAAA,EAAAA,KAAA,UACCkB,QAhQiB+2B,KACzBlQ,EAAgBtnB,GAChBunB,GAAY,GACZM,GAAe,GACfkjB,GAAgB,GACZzrB,EAAiB7c,SACpB4d,qBAAqBf,EAAiB7c,UA2P/BjC,UAAU,sCAAqClB,SAC/C,iCAWNqoB,GAAUC,IACVroB,EAAAA,EAAAA,KAACwmB,EAAY,CACZC,UAAWyF,EACXtF,OAAO,aACPtf,WAAYA,QEv7BXgoC,IAAsBC,EAAAA,EAAAA,MAAK,IAAM,uDAEjCC,GAAkBA,KACvBxvC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAclB,UAC5BC,EAAAA,EAAAA,KAAA,OAAAD,SAAK,kBAoOP,GAhO4Da,IAQrD,IARsD,MAC5D4uB,EAAQ,EAAC,YACTxH,EAAW,gBACXD,EAAe,WACfzgB,EAAa,UAAS,KACtB8Z,EAAI,UACJ6G,EAAY,UAAS,UACrBC,GACAtnB,EACA,MAAM48B,GAAe36B,EAAAA,EAAAA,QAAuB,OAGrCuE,EAAOi3B,IAAYn8B,EAAAA,EAAAA,UAAS,IAC5B4M,EAAO2gC,IAAYvtC,EAAAA,EAAAA,UAAS,IAC5Bs8B,EAAeC,IAAoBv8B,EAAAA,EAAAA,WAAS,IAC5Cw8B,EAAYC,IAAiBz8B,EAAAA,EAAAA,WAAS,IACtC2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClCwtC,EAAYC,IAAiBztC,EAAAA,EAAAA,UAI1B,MAEJm9B,EAAiB39B,IAEjB8mB,GAAY/kB,EAAAA,EAAAA,aAAY,KACxB+6B,IACJC,GAAiB,GACjBE,GAAc,GACdN,EAAS,GACToR,EAAS,GACT3a,GAAY,GACZ6a,EAAc,QAEb,CAACnR,IAaEoB,GAAoBn8B,EAAAA,EAAAA,aAAao8B,IACtCxB,EAASwB,IACP,IAEG+P,GAAsBnsC,EAAAA,EAAAA,aAC3B,CAACosC,EAAkBC,KAClBL,EAASI,EAAW,IAErB,IAGKE,GAA2BtsC,EAAAA,EAAAA,aAChC,CAACusC,EAAoB/Q,KACpBN,GAAc,GACdgR,EAAc,CACbM,MAAOD,EACP5oC,MAAO63B,EACPiR,IAAKF,GAAcphC,KAAKwgC,KAAK5f,EAAQ,MAGvC,CAACA,IAQF,OACC9vB,EAAAA,EAAAA,MAAA,OACCuB,UAAU,iBACVgG,MAAO,CAAED,gBAAiBM,EAAYmmB,SAAU,QAASb,OAAQ,UACjEvnB,IAAKm4B,EAAaz9B,SAAA,EAGlBC,EAAAA,EAAAA,KAACuvB,EAAU,CACVnoB,MAAOA,EACPooB,MAAOA,EAAQ1gB,EAAQ,EACvBxH,WAAYA,EACZ5F,SAAU29B,EACVzP,OAAQA,IAAMkF,GAAY,GAC1BjF,eAAgB2O,IAAkBE,EAClC5O,WAAY+E,KAIb70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UAC1BL,EAAAA,EAAAA,MAAA,OACCuB,UAAU,mBACVgG,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUD,eAAgB,SAAUgU,YAAa,UAAW4P,UAAW,QAASpwC,SAAA,EAGpHy+B,IAAkBE,IACnB1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUihB,EACVhhB,WAAW,eACXE,kBAAkB,EAClBD,eACC/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEqe,UAAW,UAAWvlB,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIiH,MAAO,CAAEme,SAAU,OAAQW,WAAY,OAAQrf,MAAO,WAAY3G,SACpEkoB,IAEDC,IACAxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,QAAMiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAC,UACtDC,EAAAA,EAAAA,KAAA,OACCiiB,IAAKiG,EACL3D,IAAI,aACJtd,MAAO,CAAE2lB,OAAQ,SAAUhtB,MAAO,QAASC,OAAQ,OAAQ8sB,aAAc,cAI5EjtB,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEP,MAAO,UAAW0e,SAAU,YAAarlB,SAAA,EACtDL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,eAAQyvB,EAAM,iCACjBxvB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iEACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,2DACHL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,sBAAU6O,KAAKwgC,KAAK5f,EAAQ,GAAG,4BAEnCxvB,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,UAAWyf,UAAW,WAAYpmB,UAC3EC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,uDAQPy+B,IAAkBE,IAClB1+B,EAAAA,EAAAA,KAACowC,EAAAA,SAAQ,CAACC,UAAUrwC,EAAAA,EAAAA,KAACwvC,GAAe,IAAIzvC,UACvCC,EAAAA,EAAAA,KAACsvC,GAAmB,CACnBvV,cAAe6F,EACf0Q,gBAAiBV,EACjB5V,WAAY+V,EACZzoC,WAAYA,EACZipC,YAAa/gB,EACbpO,KAAMA,MAMRsd,GAAcgR,IACd1vC,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SApFiBipC,KACtBzoB,EAAgB3gB,GAChB4gB,GAAY,IAmFPxgB,WAAW,YACXC,eACC/H,EAAAA,EAAAA,MAAA,OAAKuH,MAAO,CAAEqe,UAAW,UAAWvlB,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MACCiH,MAAO,CACNme,SAAU,SACVW,WAAY,OACZrf,MAAOgpC,EAAWQ,IAAM,UAAY,WACnCnwC,SAED2vC,EAAWQ,IAAM,gBAAe,aAElClwC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAEmlB,QAAS,OAAQG,eAAgB,SAAUD,IAAK,SAAUM,OAAQ,UAAW7sB,SACzFsvB,MAAM+D,KAAK,CAAEjlB,OAAQqhB,IAASlO,IAAI,CAAC+U,EAAG5f,KACtCzW,EAAAA,EAAAA,KAAA,QAECiH,MAAO,CAAEme,SAAU,SAAU5c,QAASiO,EAAIi5B,EAAWO,MAAQ,EAAI,IAAMlwC,SACvE,UAFK0W,OAOR/W,EAAAA,EAAAA,MAAA,KAAGuH,MAAO,CAAEme,SAAU,UAAW1e,MAAO,SAAU3G,SAAA,CAChD2vC,EAAWO,MAAM,OAAKzgB,EAAM,aAE9B9vB,EAAAA,EAAAA,MAAA,KAAGuH,MAAO,CAAEme,SAAU,SAAUW,WAAY,OAAQrf,MAAO,WAAY3G,SAAA,CACrE2vC,EAAWtoC,MAAM,aAElBsoC,EAAWO,QAAUzgB,IACrBxvB,EAAAA,EAAAA,KAAA,KAAGiH,MAAO,CAAEme,SAAU,WAAY1e,MAAO,WAAY3G,SAAC,kDAU1D80B,IACA70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+CkD,EAAK,iCAC3DE,WAAYA,EACZG,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UACCkB,QAvKU82B,KAClBlD,GAAY,IAuKJ7zB,UAAU,qCAAoClB,SAC9C,2BAGDC,EAAAA,EAAAA,KAAA,UACCkB,QAzKiB+2B,KACzBlQ,EAAgB3gB,GAChB4gB,GAAY,GACZyW,GAAiB,GACjBE,GAAc,IAsKN19B,UAAU,sCAAqClB,SAC/C,+B,0BCzNV,MAAM0wC,IAAiBlB,EAAAA,EAAAA,MAAK,IAAM,uDAE5BC,GAAkBA,KACvBxvC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,eAAclB,UAC5BC,EAAAA,EAAAA,KAAA,OAAAD,SAAK,kBAwbP,GApbkDa,IAS3C,IAT4C,MAClD4uB,EAAQ,EAAC,MACTnoB,EAAQ,EAAC,YACT2gB,EAAW,gBACXD,EAAe,WACfzgB,EAAa,UAAS,KACtB8Z,EAAI,UACJ6G,EAAY,cAAa,UACzBC,GACAtnB,EACA,MAAM48B,GAAe36B,EAAAA,EAAAA,QAAuB,OACrC6tC,EAASC,IAAczuC,EAAAA,EAAAA,UAAS,IAGhC0hC,EAAcgN,IAAmB1uC,EAAAA,EAAAA,UACvC0M,KAAKF,IAAIE,KAAKD,IAAItH,EAAO,GAAIwpC,GAAAA,GAAO1iC,UAE9B8wB,EAAYC,IAAiBh9B,EAAAA,EAAAA,UAAS,GAGvC4uC,EAAcD,GAAAA,GAAOjN,EAAe,IAGnCx8B,EAAOi3B,IAAYn8B,EAAAA,EAAAA,UAAS,IAC5B6uC,EAAOC,IAAY9uC,EAAAA,EAAAA,UAAS4uC,EAAYC,QACxCE,EAAgBC,IAAqBhvC,EAAAA,EAAAA,UAASstB,IAC9CgP,EAAeC,IAAoBv8B,EAAAA,EAAAA,WAAS,IAC5CivC,EAAiBC,IAAsBlvC,EAAAA,EAAAA,WAAS,IAChDmvC,EAAUC,IAAepvC,EAAAA,EAAAA,WAAS,IAClCw8B,EAAYC,IAAiBz8B,EAAAA,EAAAA,WAAS,IACtC2yB,EAAUC,IAAe5yB,EAAAA,EAAAA,WAAS,IAClCqvC,EAAmBC,IAAwBtvC,EAAAA,EAAAA,WAAS,GAGrDuvC,GAAW5uC,EAAAA,EAAAA,QAAOuE,GAClBsqC,GAAgB7uC,EAAAA,EAAAA,QAAOo8B,GACvB0S,GAAkB9uC,EAAAA,EAAAA,QAAO+gC,GACzBgO,GAAoB/uC,EAAAA,EAAAA,QAAOouC,IAGjCluC,EAAAA,EAAAA,WAAU,IACF,KACN8uC,GAAAA,EAAgB1f,WAEf,KAGHpvB,EAAAA,EAAAA,WAAU,KACT0uC,EAASvuC,QAAUkE,GACjB,CAACA,KACJrE,EAAAA,EAAAA,WAAU,KACT2uC,EAAcxuC,QAAU+7B,GACtB,CAACA,KACJl8B,EAAAA,EAAAA,WAAU,KACT4uC,EAAgBzuC,QAAU0gC,GACxB,CAACA,KACJ7gC,EAAAA,EAAAA,WAAU,KACT6uC,EAAkB1uC,QAAU+tC,GAC1B,CAACA,IAEJ,MAAM5R,EAAiB39B,IAEjB8mB,GAAY/kB,EAAAA,EAAAA,aAAY+mB,UACxBgU,UAEEqT,GAAAA,EAAgBlhB,OAEtB8N,GAAiB,GACjB2S,GAAmB,GACnBE,GAAY,GACZ3S,GAAc,GACdN,EAAS,GACT2S,EAASF,EAAYC,OACrBjc,GAAY,GACZ6b,EAAW7sC,GAAQA,EAAO,KAEzB,CAAC06B,EAAesS,EAAYC,QAEzBe,GAAaruC,EAAAA,EAAAA,aAAY,KAC9B2tC,GAAmB,GACnBE,GAAY,GACZjT,EAAS,GACT2S,EAASF,EAAYC,OACrBJ,EAAW7sC,GAAQA,EAAO,IACxB,CAACgtC,EAAYC,QAMV9Y,GAAoBx0B,EAAAA,EAAAA,aAAY,KAErC,MAAMsuC,EAAaL,EAAcxuC,QAAUuuC,EAASvuC,QACpD6kB,EAAgBgqB,GAChB/pB,GAAY,GACZyW,GAAiB,GACjBE,GAAc,IACZ,CAAC5W,EAAiBC,IAEf4X,GAAoBn8B,EAAAA,EAAAA,aAAao8B,IACtCxB,EAASwB,IACP,IAEGmS,GAAoBvuC,EAAAA,EAAAA,aAAawuC,IACtCjB,EAASiB,IACP,IAEGC,GAAqBzuC,EAAAA,EAAAA,aAC1B,CAACysC,EAAciC,KAId,GAHAb,EAAYpB,GACZkB,GAAmB,GAEflB,EAECyB,EAAgBzuC,SAAW2tC,GAAAA,GAAO1iC,SAErC+wB,EAAcp7B,GAAQA,EAAO2tC,EAASvuC,SACtCsuC,GAAqB,GACrB7S,GAAc,QAGT,CAEN,MAAMgB,EAAWiS,EAAkB1uC,QAAU,EAC7CguC,EAAkBvR,GAEdA,GAAY,GAEfhB,GAAc,EAGhB,GAED,IAGKyT,GAAkB3uC,EAAAA,EAAAA,aAAY,KAEnCy7B,EAAcp7B,GAAQA,EAAOsD,GAG7B,MAAMirC,EAAYzO,EAAe,EAC3B0O,EAAkBzB,GAAAA,GAAOwB,EAAY,GAE3CzB,EAAgByB,GAChBjB,GAAmB,GACnBE,GAAY,GACZjT,EAAS,GACT2S,EAASsB,EAAgBvB,OACzBJ,EAAW7sC,GAAQA,EAAO,IACxB,CAAC8/B,EAAcx8B,IAEZopC,EAAiBA,KACtBzoB,EAAgBkX,EAAa73B,GAC7B4gB,GAAY,IAGb,OACCtoB,EAAAA,EAAAA,MAAA,OACCuB,UAAU,iBACVgG,MAAO,CAAED,gBAAiBM,EAAYmmB,SAAU,QAASb,OAAQ,UACjEvnB,IAAKm4B,EAAaz9B,SAAA,EAGlBC,EAAAA,EAAAA,KAACuvB,EAAU,CACVloB,MAAOu8B,EACPx8B,MAAO63B,EAAa73B,EACpBooB,MAAOyhB,EACP3pC,WAAYA,EACZ5F,SAAU29B,EACVzP,OAAQA,IAAMkF,GAAY,GAC1BjF,eAAgB2O,IAAkB2S,IAAoBzS,EACtD5O,WAAY+E,KAIb70B,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,aAAYlB,UAC1BL,EAAAA,EAAAA,MAAA,OACCuB,UAAU,mBACVgG,MAAO,CAAEmlB,QAAS,OAAQI,WAAY,SAAUD,eAAgB,SAAUgU,YAAa,UAAW4P,UAAW,QAASpwC,SAAA,EAGpHy+B,IAAkBE,IACnB1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUihB,EACVhhB,WAAW,qBACXE,kBAAkB,EAClBD,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qCAAoClB,SAAA,EAClDC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,6DAA4DlB,SACxEkoB,IAEDC,IACAxoB,EAAAA,EAAAA,MAAA4kB,EAAAA,SAAA,CAAAvkB,SAAA,EACCC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,qBAAoBlB,SAAC,UACrCC,EAAAA,EAAAA,KAAA,OACCiiB,IAAKiG,EACL3D,IAAI,aACJtjB,UAAU,kCAIbvB,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,+BAA8BlB,SAAA,CAAC,SACpC6jC,EAAa,OAAKiN,GAAAA,GAAO1iC,WAEjCzO,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,0DAAyDlB,SAAA,EACvEL,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,sBAAU+wC,EAAYyB,YAAY,cACrC7yC,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,6BAAiB+wC,EAAYC,UAChCrxC,EAAAA,EAAAA,MAAA,KAAAK,SAAA,CAAG,uBAAWyvB,MACdxvB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,sDAEJC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,gDAA+ClB,UAC7DC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,6CAQPy+B,IAAkB2S,IAClBnxC,EAAAA,EAAAA,KAACowC,EAAAA,SAAQ,CAACC,UAAUrwC,EAAAA,EAAAA,KAACwvC,GAAe,IAAIzvC,UACvCC,EAAAA,EAAAA,KAACywC,GAAc,CAEd1W,cAAe6F,EACf4S,cAAeR,EACfS,eAAgBP,EAChB5qC,WAAYA,EACZ8Z,KAAMA,EACNoO,MAAOyhB,EACPH,YAAaA,GAPRJ,KAaPS,GAAmBE,IAAaE,IAChCvxC,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAU6qC,EACV5qC,WAAW,+BACXC,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAuBlB,SAAA,EACrCL,EAAAA,EAAAA,MAAA,MAAIuB,UAAU,gDAA+ClB,SAAA,CAAC,aACrD6jC,EAAa,mBAEtB5jC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0BAAyBlB,SAAC,kBACzCC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,qBAAoBlB,SAAC,wBAGlCL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,4DAA2DlB,SAAA,EACzEL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qCAAoClB,SAAA,EAClDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,yBACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOqH,EAAQ2pC,EAAQ2B,GAAAA,GAAQC,gBAE/B5B,EAAQ,IACRrxC,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,sCAAqClB,SAAA,EACnDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,uBACNL,EAAAA,EAAAA,MAAA,QAAAK,SAAA,CACEgxC,EAAM,SAAI2B,GAAAA,GAAQC,WAAW,OAC7B5B,EAAQ2B,GAAAA,GAAQC,kBAIpBjzC,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,+EAA8ElB,SAAA,EAC5FC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,kBACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOqH,WAIT1H,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,wBAAuBlB,SAAA,CAAC,2BACd,KACtBC,EAAAA,EAAAA,KAAA,QAAMiB,UAAU,4BAA2BlB,SACzCk/B,EAAa73B,YASnB+pC,GAAmBE,GAAYE,IAC/BvxC,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUipC,EACVhpC,WAAW,yBACXC,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAuBlB,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,iDAAgDlB,SAAC,yBAG/DC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0BAAyBlB,SAAC,kBACzCL,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,qBAAoBlB,SAAA,CAAC,uBACf8wC,GAAAA,GAAO1iC,OAAO,gBAIjCzO,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,4DAA2DlB,SAAA,EACzEL,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qCAAoClB,SAAA,EAClDL,EAAAA,EAAAA,MAAA,QAAAK,SAAA,CAAM,6BAAwB6jC,EAAa,SAC3C5jC,EAAAA,EAAAA,KAAA,QAAAD,SAAOqH,EAAQ2pC,EAAQ2B,GAAAA,GAAQC,gBAE/B5B,EAAQ,IACRrxC,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,sCAAqClB,SAAA,EACnDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,uBACNL,EAAAA,EAAAA,MAAA,QAAAK,SAAA,CACEgxC,EAAM,SAAI2B,GAAAA,GAAQC,WAAW,OAC7B5B,EAAQ2B,GAAAA,GAAQC,kBAIpBjzC,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,mEAAkElB,SAAA,EAChFL,EAAAA,EAAAA,MAAA,QAAAK,SAAA,CAAM,eAAa6jC,EAAa,QAChC5jC,EAAAA,EAAAA,KAAA,QAAAD,SAAOqH,QAER1H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,qCAAoClB,SAAA,EAClDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,yBACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOk/B,QAERv/B,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,uFAAsFlB,SAAA,EACpGC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,0BACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOk/B,EAAa73B,WAItB1H,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,wBAAuBlB,SAAA,CAAC,oBAClBkxC,UAQtBE,IAAoBE,IAAa3S,IACjC1+B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUuqC,EACVtqC,WAAW,0BACXC,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAuBlB,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,iDAAgDlB,SAAC,eAG/DC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,WAAUlB,SAAC,kBAC1BL,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,qBAAoBlB,SAAA,CAC/BqH,EAAM,MAAI0pC,EAAYyB,YAAY,cAEpCvyC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,iCAAgClB,SAC7CsvB,MAAM+D,KAAK,CAAEjlB,OAAQqhB,IAASlO,IAAI,CAAC+U,EAAG5f,KACtCzW,EAAAA,EAAAA,KAAA,QAECiB,UAAS,YAAAiD,OACRuS,EAAIw6B,EAAiB,cAAgB,cACnClxC,SACH,gBAJK0W,OASR/W,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,wBAAuBlB,SAAA,CAAC,oBAClBkxC,UAQtBvS,IAAe2S,IACfrxC,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACL2B,WAAYA,EACZC,SAAUipC,EACVhpC,WAAW,YACXC,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,wBAAuBlB,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,8CAA6ClB,SAAC,eAG5DC,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,WAAUlB,SAAC,kBAC1BC,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,qBAAoBlB,SAAC,2BAClCL,EAAAA,EAAAA,MAAA,KAAGuB,UAAU,qCAAoClB,SAAA,CAC/CqH,EAAM,kBAQXytB,IACA70B,EAAAA,EAAAA,KAACkH,EAAW,CACXvB,KAAK,SACLK,MAAM,uBACNmB,QAAO,mDAAAjD,OAA+C+6B,EAAa73B,EAAK,iCACxEE,WAAYA,EACZG,eACC/H,EAAAA,EAAAA,MAAA,OAAKuB,UAAU,oBAAmBlB,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UACCkB,QAhUU82B,KAClBlD,GAAY,IAgUJ7zB,UAAU,qCAAoClB,SAC9C,2BAGDC,EAAAA,EAAAA,KAAA,UACCkB,QAAS+2B,EACTh3B,UAAU,sCAAqClB,SAC/C,4BAWPC,EAAAA,EAAAA,KAAA,OAAKiH,MAAO,CAAErH,MAAO,QAASG,UAC7BC,EAAAA,EAAAA,KAAA,OACCiiB,IAAI,2CACJsC,IAAI,gBACJtd,MAAO,CAAErH,MAAO,OAAQC,OAAQ,gBC7bxB6oC,GAAe,IACfC,GAAgB,IAIhBiK,GAAalK,IACbmK,GAAalK,IACbmK,GAAkB,GAIlBC,GAAc,GAadC,GAAkC,CAC9CC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,WAIKC,GAAY,CAAC,IAAK,IAAK,IAAK,KAC5BC,GAAc,CAAC,IAAK,IAAK,IAAK,KAG9BC,GAAe,CAAC,KAAM,KAAM,KAAM,MCjCzCC,GAAa,CAClB,IACA,KACA,IACA,KACA,IACA,IACA,KACA,IACA,KACA,IACA,KACA,KAGM,SAASC,GAAYC,GAE3B,MAAMC,EAAQD,EAAMC,MAAM,yBAC1B,IAAKA,EAAO,OAAO,GAEnB,MAAO,CAAE9hB,EAAM+hB,EAAYC,GAAaF,EAClCG,EAAS1lC,SAASylC,EAAW,IAEnC,IAAIE,EAAYP,GAAWp6B,QAAQyY,GAKnC,MAJmB,MAAf+hB,GAAoBG,IACL,MAAfH,GAAoBG,IAGF,IAAdD,EAAS,GAAUC,CAC5B,CASO,SAASC,GAAeN,EAAeO,GAE7C,OATM,SAAqBC,GAC3B,MAAMJ,EAASllC,KAAKwF,MAAM8/B,EAAO,IAAM,EAEvC,MAAM,GAANhwC,OAAUsvC,GADQU,EAAO,KACMhwC,OAAG4vC,EACnC,CAKQK,CADMV,GAAYC,GACCO,EAC3B,CCmRO,MAAMG,GAAe,IA9T5B,MAAmBtiC,WAAAA,GAAA,KACVuiC,MAA+B,KAAI,KACnCpkB,aAAc,EAAK,KACnBC,OAAQ,EAEhB,KACQokB,UAAuC,KAAI,KAC3CC,WAAqC,KAAI,KACzCC,WAAqC,KAAI,KACzCC,SAA6B,KAAI,KACjCC,UAA8B,KAAI,KAClCC,UAA8B,KAAI,KAClCC,WAAY,CAAK,CAEzB,UAAMjkB,GACL,IAAI5hB,KAAKkhB,YAET,UAEOW,EAAAA,KAGN7hB,KAAKslC,MAAQ,IAAIzjB,EAAAA,GAAeA,EAAAA,GAAY,CAC3CC,WAAY,CACXlrB,KAAM,QAEPmrB,SAAU,CACTC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,MAERE,gBAGHriB,KAAKslC,MAAMljB,OAAOvrB,OAAS,GAG3BmJ,KAAK8lC,YAEL9lC,KAAKkhB,aAAc,CACpB,CAAE,MAAOvF,GACRC,QAAQD,MAAM,8BAA+BA,EAC9C,CACD,CAEQmqB,SAAAA,GAEP9lC,KAAKulC,UAAY,IAAI1jB,EAAAA,GAAmB,CACvCS,WAAY,IACZC,QAAS,EACTT,WAAY,CAAElrB,KAAM,QACpBmrB,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKC,QAAS,IAAMC,QAAS,OAC7DE,gBACHriB,KAAKulC,UAAUnjB,OAAOvrB,OAAS,EAG/BmJ,KAAKwlC,WAAa,IAAI3jB,EAAAA,GAAgB,CACrCE,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKE,QAAS,KAChD4jB,YAAa,IACbC,gBAAiB,GACjBC,UAAW,IACX1jB,QAAS,MACPF,gBACHriB,KAAKwlC,WAAWpjB,OAAOvrB,OAAS,GAGhCmJ,KAAKylC,WAAa,IAAI5jB,EAAAA,GAAgB,CACrCkI,MAAO,CAAEnzB,KAAM,SACfmrB,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKC,QAAS,EAAGC,QAAS,MAC1DE,gBACHriB,KAAKylC,WAAWrjB,OAAOvrB,OAAS,EACjC,CAEAqvC,mBAAAA,CACCC,EACA/+B,GAEQ,IADRg/B,EAAajnC,UAAAC,OAAA,QAAA7F,IAAA4F,UAAA,GAAAA,UAAA,GAAG,EAEZa,KAAK6lC,WAAa7lC,KAAKmhB,QAE3BU,EAAAA,GAAeskB,IAAItvC,MAAQsvC,EAEb,UAAV/+B,EACW,IAAVg/B,GAEHpmC,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAADqjB,EAChCrmC,KAAKmhB,OACK,QAAdklB,EAAArmC,KAAKulC,iBAAS,IAAAc,GAAdA,EAAgB5jB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAADsjB,EACjCtmC,KAAKmhB,OAAsB,QAAfmlB,EAAAtmC,KAAKwlC,kBAAU,IAAAc,GAAfA,EAAiB7jB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,KAGf8G,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAADujB,EAChCvmC,KAAKmhB,OACK,QAAdolB,EAAAvmC,KAAKulC,iBAAS,IAAAgB,GAAdA,EAAgB9jB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK4lC,UAAY,IAAI/jB,EAAAA,GAAUmB,IAAS,IAADwjB,EACjCxmC,KAAKmhB,OAAsB,QAAfqlB,EAAAxmC,KAAKylC,kBAAU,IAAAe,GAAfA,EAAiB/jB,qBAAqB,KAAMO,IAC3D,MAAM9pB,MAAM,MAGf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAADyjB,EACjCzmC,KAAKmhB,OAAsB,QAAfslB,EAAAzmC,KAAKwlC,kBAAU,IAAAiB,GAAfA,EAAiBhkB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,OAEI,YAAVkO,EACI,IAAVg/B,GAEHpmC,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAAD0jB,EAChC1mC,KAAKmhB,OACK,QAAdulB,EAAA1mC,KAAKulC,iBAAS,IAAAmB,GAAdA,EAAgBjkB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK4lC,UAAY,IAAI/jB,EAAAA,GAAUmB,IAAS,IAAD2jB,EACjC3mC,KAAKmhB,OAAsB,QAAfwlB,EAAA3mC,KAAKylC,kBAAU,IAAAkB,GAAfA,EAAiBlkB,qBAAqB,KAAMO,IAC3D,MAAM9pB,MAAM,MAEf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAAD4jB,EACjC5mC,KAAKmhB,OAAsB,QAAfylB,EAAA5mC,KAAKwlC,kBAAU,IAAAoB,GAAfA,EAAiBnkB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,KAGf8G,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAAD6jB,EAChC7mC,KAAKmhB,OACK,QAAd0lB,EAAA7mC,KAAKulC,iBAAS,IAAAsB,GAAdA,EAAgBpkB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK4lC,UAAY,IAAI/jB,EAAAA,GAAUmB,IAAS,IAAD8jB,EACjC9mC,KAAKmhB,OAAsB,QAAf2lB,EAAA9mC,KAAKylC,kBAAU,IAAAqB,GAAfA,EAAiBrkB,qBAAqB,KAAMO,IAC3D,MAAM9pB,MAAM,MAEf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAAD+jB,EACjC/mC,KAAKmhB,OAAsB,QAAf4lB,EAAA/mC,KAAKwlC,kBAAU,IAAAuB,GAAfA,EAAiBtkB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,IAIF,IAAVktC,GAEHpmC,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAADgkB,EAChChnC,KAAKmhB,OACK,QAAd6lB,EAAAhnC,KAAKulC,iBAAS,IAAAyB,GAAdA,EAAgBvkB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK4lC,UAAY,IAAI/jB,EAAAA,GAAUmB,IAAS,IAADikB,EACjCjnC,KAAKmhB,OAAsB,QAAf8lB,EAAAjnC,KAAKylC,kBAAU,IAAAwB,GAAfA,EAAiBxkB,qBAAqB,KAAMO,IAC3D,MAAM9pB,MAAM,MAEf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAADkkB,EACjClnC,KAAKmhB,OAAsB,QAAf+lB,EAAAlnC,KAAKwlC,kBAAU,IAAA0B,GAAfA,EAAiBzkB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,KAGf8G,KAAK0lC,SAAW,IAAI7jB,EAAAA,GAAUmB,IAAS,IAADmkB,EAChCnnC,KAAKmhB,OACK,QAAdgmB,EAAAnnC,KAAKulC,iBAAS,IAAA4B,GAAdA,EAAgB1kB,qBAAqB,KAAM,KAAMO,IAChD,MAAM9pB,MAAM,GAEf8G,KAAK4lC,UAAY,IAAI/jB,EAAAA,GAAUmB,IAAS,IAADokB,EACjCpnC,KAAKmhB,OAAsB,QAAfimB,EAAApnC,KAAKylC,kBAAU,IAAA2B,GAAfA,EAAiB3kB,qBAAqB,KAAMO,IAC3D,MAAM9pB,MAAM,MAEf8G,KAAK2lC,UAAY,IAAI9jB,EAAAA,GAAUmB,IAAS,IAADqkB,EACjCrnC,KAAKmhB,OAAsB,QAAfkmB,EAAArnC,KAAKwlC,kBAAU,IAAA6B,GAAfA,EAAiB5kB,qBAAqB,MAAOO,IAC5D,MAAM9pB,MAAM,IAIjB2oB,EAAAA,GAAe3oB,QACf8G,KAAK6lC,WAAY,EAClB,CAEAyB,kBAAAA,GAA4B,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC1B/lB,EAAAA,GAAe/P,OACF,QAAby1B,EAAAvnC,KAAK0lC,gBAAQ,IAAA6B,GAAbA,EAAez1B,OACD,QAAd01B,EAAAxnC,KAAK2lC,iBAAS,IAAA6B,GAAdA,EAAgB11B,OACF,QAAd21B,EAAAznC,KAAK4lC,iBAAS,IAAA6B,GAAdA,EAAgB31B,OACH,QAAb41B,EAAA1nC,KAAK0lC,gBAAQ,IAAAgC,GAAbA,EAAetkB,UACD,QAAdukB,EAAA3nC,KAAK2lC,iBAAS,IAAAgC,GAAdA,EAAgBvkB,UACF,QAAdwkB,EAAA5nC,KAAK4lC,iBAAS,IAAAgC,GAAdA,EAAgBxkB,UAChBpjB,KAAK0lC,SAAW,KAChB1lC,KAAK2lC,UAAY,KACjB3lC,KAAK4lC,UAAY,KACjB5lC,KAAK6lC,WAAY,CAClB,CAEAgC,mBAAAA,GACK7nC,KAAK6lC,WACRhkB,EAAAA,GAAe1oB,OAEjB,CAEA2uC,oBAAAA,GACK9nC,KAAK6lC,YAAc7lC,KAAKmhB,OAC3BU,EAAAA,GAAe3oB,OAEjB,CAEA6uC,SAAAA,CAAU5B,GACTtkB,EAAAA,GAAeskB,IAAItvC,MAAQsvC,CAC5B,CAEA6B,QAAAA,CAASptC,GACR,IAAKoF,KAAKkhB,cAAgBlhB,KAAKslC,OAAStlC,KAAKmhB,MAAO,OAEpD,MAAMwjB,EAAQH,GAAa5pC,GACvB+pC,GACH3kC,KAAKslC,MAAM7iB,qBAAqBkiB,EAAO,KAEzC,CAEAsD,WAAAA,CAAYrtC,GACX,IAAKoF,KAAKkhB,cAAgBlhB,KAAKslC,OAAStlC,KAAKmhB,MAAO,OAGpD,MAAM+mB,EAAY1D,GAAa5pC,GAC/B,GAAIstC,EAAW,CACdloC,KAAKslC,MAAM7iB,qBAAqBylB,EAAW,MAE3C,MAAMC,EAAYD,EAAUnxB,QAAQ,IAAK,KACzCmJ,WAAW,KACNlgB,KAAKslC,QAAUtlC,KAAKmhB,OACvBnhB,KAAKslC,MAAM7iB,qBAAqB0lB,EAAW,WAAO5uC,EAAW,KAE5D,GACJ,CACD,CAOA6uC,eAAAA,CAAgBzD,GACV3kC,KAAKkhB,aAAgBlhB,KAAKslC,QAAStlC,KAAKmhB,OAC7CnhB,KAAKslC,MAAM7iB,qBAAqBkiB,EAAO,KACxC,CAKA0D,sBAAAA,CAAuB1D,GACtB,IAAK3kC,KAAKkhB,cAAgBlhB,KAAKslC,OAAStlC,KAAKmhB,MAAO,OAGpDnhB,KAAKslC,MAAM7iB,qBAAqBkiB,EAAO,MAGvC,MAAMwD,ED/MD,SAAyBxD,EAAepiB,GAC9C,OAAO0iB,GAAeN,EAAiB,GAAVpiB,EAC9B,CC6MoB+lB,CAAgB3D,EAAO,GACzCzkB,WAAW,KACNlgB,KAAKslC,QAAUtlC,KAAKmhB,OACvBnhB,KAAKslC,MAAM7iB,qBAAqB0lB,EAAW,WAAO5uC,EAAW,KAE5D,GACJ,CAEAgvC,QAAAA,GACMvoC,KAAKkhB,aAAgBlhB,KAAKslC,QAAStlC,KAAKmhB,OAG7CnhB,KAAKslC,MAAM7iB,qBAAqB,CAAC,KAAM,OAAQ,WAAOlpB,EAAW,GAClE,CAEAivC,SAAAA,GACC,IAAKxoC,KAAKkhB,cAAgBlhB,KAAKslC,OAAStlC,KAAKmhB,MAAO,OAGtC,CAAC,KAAM,KAAM,KAAM,MAC3Bpc,QAAQ,CAAC+d,EAAMpb,KACpBwY,WAAW,KACNlgB,KAAKslC,QAAUtlC,KAAKmhB,OACvBnhB,KAAKslC,MAAM7iB,qBAAqBK,EAAM,WAAOvpB,EAAW,KAEnD,GAAJmO,IAEL,CAEAwb,QAAAA,CAAS/B,GACRnhB,KAAKmhB,MAAQA,EACTA,EACHnhB,KAAK6nC,sBACK7nC,KAAK6lC,WACf7lC,KAAK8nC,sBAEP,CAEA3kB,OAAAA,GACC,OAAOnjB,KAAKmhB,KACb,CAEAiC,OAAAA,GACCpjB,KAAKsnC,qBACDtnC,KAAKslC,QACRtlC,KAAKslC,MAAMliB,UACXpjB,KAAKslC,MAAQ,MAEVtlC,KAAKulC,YACRvlC,KAAKulC,UAAUniB,UACfpjB,KAAKulC,UAAY,MAEdvlC,KAAKwlC,aACRxlC,KAAKwlC,WAAWpiB,UAChBpjB,KAAKwlC,WAAa,MAEfxlC,KAAKylC,aACRzlC,KAAKylC,WAAWriB,UAChBpjB,KAAKylC,WAAa,MAEnBzlC,KAAKkhB,aAAc,CACpB,GCtTYunB,GAAoB,CAChCC,SAAU,CACTjqB,GAAI,eACJxnB,MAAO,kBACP0xC,OAAQ,cACRC,WAAY,YACZzC,IAAK,GACL0C,SAAU,IAEX9lB,MAAO,CAEN,CAAE+lB,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAI9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,EAAGnE,MAAO,KAAM/pC,KAAM,GAC9B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAI/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAI/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAK/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAG/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,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M,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAG/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAG/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAG/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAC/B,CAAEkuC,KAAM,GAAInE,MAAO,KAAM/pC,KAAM,GAE/B,CAAEkuC,KAAM,GAAInE,MAA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","sources":["components/icons/BrowserIcons.tsx","components/Content/BrowserWindow/ThemeDropdown.tsx","components/Content/BrowserWindow/BrowserWindow.tsx","components/Content/Games/ui/GameCard.tsx","components/Content/Games/ui/GameOverlay.tsx","components/Content/Games/racing/constants.ts","components/Content/Games/racing/utils/math.ts","components/Content/Games/racing/engine/road.ts","components/Content/Games/racing/engine/physics.ts","components/Content/Games/racing/engine/render.ts","components/Content/Games/racing/engine/gameLoop.ts","utils/functions.ts","components/Content/Games/racing/components/HUD.tsx","components/Content/Games/racing/components/BillboardStats.tsx","components/Content/Games/ui/GameCanvas.tsx","components/Content/Games/ui/GameControls.tsx","components/Content/Games/racing/game.tsx","components/Content/Games/racing/hooks/useCarGame.ts","components/Content/Games/tetris/hooks/useBoard.tsx","components/Content/Games/ui/GameHeader.tsx","components/Content/Games/tetris/utils/audioManager.ts","components/Content/Games/tetris/game.tsx","components/Content/Games/tetris/hooks/usePlayer.ts","components/Content/Games/tetris/hooks/useInterval.ts","components/Content/Games/snake/types.ts","components/Content/Games/snake/utils/audioManager.ts","components/Content/Games/snake/game.tsx","components/Content/Games/snake/index.tsx","components/Content/Games/snake/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/utils/audioManager.ts","components/Content/Games/flappy-bird/hooks/useFlappyAnimation.ts","components/Content/Games/flappy-bird/hooks/useCanvas.ts","components/Content/Games/flappy-bird/game.tsx","components/Content/Games/flappy-bird/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/index.tsx","components/Content/Games/breakout/utils/audioManager.ts","components/Content/Games/breakout/constants.ts","components/Content/Games/breakout/utils/brickHelpers.ts","components/Content/Games/breakout/utils/collisionHelpers.ts","components/Content/Games/breakout/game.tsx","components/Content/Games/breakout/utils/drawingHelpers.ts","components/Content/Games/penalty-shootout/index.tsx","components/Content/Games/candy-crush/index.tsx","components/Content/Games/rhythm-highway/constants.ts","components/Content/Games/rhythm-highway/utils/laneAssigner.ts","components/Content/Games/rhythm-highway/utils/audioManager.ts","components/Content/Games/rhythm-highway/songs/twinkle-star.ts","components/Content/Games/rhythm-highway/songs/mary-had-a-little-lamb.ts","components/Content/Games/rhythm-highway/songs/hot-cross-buns.ts","components/Content/Games/rhythm-highway/songs/jingle-bells.ts","components/Content/Games/rhythm-highway/songs/row-row-row.ts","components/Content/Games/rhythm-highway/songs/ode-to-joy.ts","components/Content/Games/rhythm-highway/songs/when-the-saints.ts","components/Content/Games/rhythm-highway/songs/oh-susanna.ts","components/Content/Games/rhythm-highway/songs/london-bridge.ts","components/Content/Games/rhythm-highway/songs/happy-birthday.ts","components/Content/Games/rhythm-highway/songs/canon-in-d.ts","components/Content/Games/rhythm-highway/songs/entertainer.ts","components/Content/Games/rhythm-highway/songs/minuet-in-g.ts","components/Content/Games/rhythm-highway/songs/turkish-march.ts","components/Content/Games/rhythm-highway/songs/greensleeves.ts","components/Content/Games/rhythm-highway/songs/fur-elise.ts","components/Content/Games/rhythm-highway/songs/moonlight-sonata.ts","components/Content/Games/rhythm-highway/songs/hungarian-dance.ts","components/Content/Games/rhythm-highway/songs/mountain-king.ts","components/Content/Games/rhythm-highway/songs/carmen-habanera.ts","components/Content/Games/rhythm-highway/songs/electronic-beat.ts","components/Content/Games/rhythm-highway/songs/neon-pulse.ts","components/Content/Games/rhythm-highway/songs/digital-storm.ts","components/Content/Games/rhythm-highway/songs/cyber-chase.ts","components/Content/Games/rhythm-highway/songs/synth-wave.ts","components/Content/Games/rhythm-highway/songs/index.ts","components/Content/Games/rhythm-highway/index.tsx","components/Content/Games/game-selector.tsx","components/Content/Content.tsx","components/Content/PageNavigation/PageNavigation.tsx","components/Content/Games/candy-crush/utils/audioManager.ts","components/Content/Games/candy-crush/constants.ts"],"sourcesContent":["import React from 'react';\n\nexport const BackIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M10 3L5 8l5 5V3z\" />\n    <rect x=\"3\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const ForwardIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M6 3l5 5-5 5V3z\" />\n    <rect x=\"5\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC = () => (\n  <svg\n    viewBox=\"0 0 16 16\"\n    width=\"14\"\n    height=\"14\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"1.5\"\n  >\n    <path\n      d=\"M14 8a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 5.5 3.5\"\n      strokeLinecap=\"round\"\n    />\n    <polyline points=\"11 2 14 2 14 5\" />\n  </svg>\n);\n\nexport const StopIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <rect x=\"4\" y=\"4\" width=\"8\" height=\"8\" />\n  </svg>\n);\n\nexport const HomeIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M2 8l6-5 6 5v5a1 1 0 0 1-1 1H9v-4H7v4H3a1 1 0 0 1-1-1V8z\" />\n    <polygon points=\"8,1 1,7 2,8 8,3 14,8 15,7\" />\n  </svg>\n);\n","import React from 'react';\n\ninterface ThemeDropdownProps {\n  currentTheme: string;\n  onSelectTheme: (theme: string) => void;\n  themes: {\n    classic: string;\n    vaporwave: string;\n    terminal: string;\n  };\n  variant?: 'menubar' | 'statusbar';\n}\n\nconst ThemeDropdown: React.FC<ThemeDropdownProps> = ({\n  currentTheme,\n  onSelectTheme,\n  themes,\n  variant = 'menubar',\n}) => {\n  const className = variant === 'statusbar' ? 'status-theme-dropdown' : 'theme-dropdown';\n\n  return (\n    <div className={className}>\n      <button\n        className={currentTheme === 'classic' ? 'active' : ''}\n        onClick={() => onSelectTheme('classic')}\n      >\n        {themes.classic}\n      </button>\n      <button\n        className={currentTheme === 'vaporwave' ? 'active' : ''}\n        onClick={() => onSelectTheme('vaporwave')}\n      >\n        {themes.vaporwave}\n      </button>\n      <button\n        className={currentTheme === 'terminal' ? 'active' : ''}\n        onClick={() => onSelectTheme('terminal')}\n      >\n        {themes.terminal}\n      </button>\n    </div>\n  );\n};\n\nexport default ThemeDropdown;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './BrowserWindow.css';\nimport '../../../styles/themes/index.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\nimport { BackIcon, ForwardIcon, RefreshIcon, StopIcon, HomeIcon } from '../../icons';\nimport ThemeDropdown from './ThemeDropdown';\n\ninterface BrowserWindowProps {\n  currentSection: string;\n  children: React.ReactNode;\n  onNavigate: (action: string) => void;\n  onMinimize?: () => void;\n  onOpen?: () => void;\n  isMobile?: boolean;\n  browserOpen?: boolean;\n  browserMinimized?: boolean;\n  lang: Language;\n}\n\nconst BrowserWindow: React.FC<BrowserWindowProps> = ({\n  currentSection,\n  children,\n  onNavigate,\n  onMinimize,\n  onOpen,\n  isMobile = false,\n  browserOpen = true,\n  browserMinimized = false,\n  lang,\n}) => {\n  const t = getTranslations(lang);\n  const [isMaximized, setIsMaximized] = useState(false);\n  const [showBSOD, setShowBSOD] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState<string>(() => {\n    return localStorage.getItem('browserTheme') || 'classic';\n  });\n  const [menubarThemeOpen, setMenubarThemeOpen] = useState(false);\n  const [statusbarThemeOpen, setStatusbarThemeOpen] = useState(false);\n  const menubarRef = useRef<HTMLDivElement>(null);\n  const statusbarRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menubarRef.current && !menubarRef.current.contains(event.target as Node)) {\n        setMenubarThemeOpen(false);\n      }\n      if (statusbarRef.current && !statusbarRef.current.contains(event.target as Node)) {\n        setStatusbarThemeOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Sync isMaximized with browserOpen on mobile\n  useEffect(() => {\n    if (isMobile && browserOpen) {\n      setIsMaximized(true);\n    }\n  }, [isMobile, browserOpen]);\n\n  const setTheme = useCallback((theme: string, source: 'menubar' | 'statusbar') => {\n    setCurrentTheme(theme);\n    localStorage.setItem('browserTheme', theme);\n    if (source === 'menubar') {\n      setMenubarThemeOpen(false);\n    } else {\n      setStatusbarThemeOpen(false);\n    }\n  }, []);\n\n  const toggleMenubarTheme = useCallback(() => {\n    setMenubarThemeOpen(prev => !prev);\n  }, []);\n\n  const toggleStatusbarTheme = useCallback(() => {\n    setStatusbarThemeOpen(prev => !prev);\n  }, []);\n\n  const handleMenubarThemeSelect = useCallback((theme: string) => setTheme(theme, 'menubar'), [setTheme]);\n  const handleStatusbarThemeSelect = useCallback((theme: string) => setTheme(theme, 'statusbar'), [setTheme]);\n\n  const getSectionUrl = (section: string): string => {\n    const urls: { [key: string]: string } = {\n      '': 'http://maw.dev/index.html',\n      'goTo-about': 'http://maw.dev/about-me.htm',\n      'goTo-work': 'http://maw.dev/work/tech-stack.html',\n      'goTo-portfolio': 'http://maw.dev/portfolio/gallery.cgi',\n      'goTo-contact': 'http://maw.dev/contact/guestbook.php',\n    };\n    return urls[section] || 'http://maw.dev/';\n  };\n\n  const getSectionTitle = (section: string): string => {\n    const titles: { [key: string]: string } = {\n      '': t.browser.titles.home,\n      'goTo-about': t.browser.titles.about,\n      'goTo-work': t.browser.titles.work,\n      'goTo-portfolio': t.browser.titles.portfolio,\n      'goTo-contact': t.browser.titles.contact,\n      'goTo-games': t.browser.titles.games,\n    };\n    return titles[section] || t.browser.titles.home;\n  };\n\n  const handleBack = () => {\n    onNavigate('');\n  };\n\n  const handleHome = () => {\n    onNavigate('');\n  };\n\n  // Handle click on browser when mobile and hidden - opens it\n  const handleBrowserClick = () => {\n    if (isMobile && !browserOpen) {\n      onOpen?.();\n      setIsMaximized(true);\n    }\n  };\n\n  return (\n    <div\n      className={`browser-window ${isMaximized ? 'maximized' : ''} ${browserMinimized ? 'minimized' : ''}`}\n      onClick={handleBrowserClick}\n    >\n      {/* Title Bar */}\n      <div\n        className=\"browser-titlebar\"\n        onDoubleClick={() => {\n          if (!isMobile) {\n            setIsMaximized(!isMaximized);\n          }\n        }}\n      >\n        <div className=\"browser-titlebar-text\">\n          <span className=\"browser-icon\"></span>\n          {getSectionTitle(currentSection)}\n        </div>\n        <div className=\"browser-titlebar-controls\">\n          <button\n            className=\"titlebar-button minimize\"\n            aria-label=\"Minimize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile: only works when maximized, returns to hidden state\n                if (isMaximized) {\n                  setIsMaximized(false);\n                  onMinimize?.();\n                }\n              } else {\n                // Desktop: hide browser completely\n                onMinimize?.();\n              }\n            }}\n          >\n            _\n          </button>\n          <button\n            className=\"titlebar-button maximize\"\n            aria-label=\"Maximize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile when maximized: do nothing\n                if (isMaximized) return;\n                // Mobile when hidden: maximize\n                setIsMaximized(true);\n                onOpen?.();\n              } else {\n                // Desktop: toggle maximize\n                setIsMaximized(!isMaximized);\n              }\n            }}\n          >\n            \n          </button>\n          <button\n            className=\"titlebar-button close\"\n            aria-label=\"Close\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile && !isMaximized) {\n                // Mobile hidden state: do nothing\n                return;\n              }\n              // Desktop or mobile maximized: trigger BSOD\n              setShowBSOD(true);\n            }}\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      {/* Menu Bar */}\n      <div className=\"browser-menubar\">\n        <span className=\"menu-item\">{t.browser.menus.file}</span>\n        <span className=\"menu-item\">{t.browser.menus.edit}</span>\n        <span className=\"menu-item\">{t.browser.menus.view}</span>\n        <span className=\"menu-item\">{t.browser.menus.favorites}</span>\n        <div className=\"menu-item-wrapper\" ref={menubarRef}>\n          <span className=\"menu-item\" onClick={toggleMenubarTheme}>\n            {t.browser.menus.themes}\n          </span>\n          {menubarThemeOpen && (\n            <ThemeDropdown\n              currentTheme={currentTheme}\n              onSelectTheme={handleMenubarThemeSelect}\n              themes={t.browser.themes}\n              variant=\"menubar\"\n            />\n          )}\n        </div>\n        <span className=\"menu-item\">{t.browser.menus.help}</span>\n      </div>\n\n      {/* Navigation Bar */}\n      <div className=\"browser-navbar\">\n        <div className=\"nav-buttons\">\n          <button\n            className=\"nav-button back\"\n            onClick={handleBack}\n            disabled={currentSection === ''}\n            aria-label=\"Back\"\n          >\n            <BackIcon />\n          </button>\n          <button className=\"nav-button forward\" disabled aria-label=\"Forward\">\n            <ForwardIcon />\n          </button>\n          <button className=\"nav-button refresh\" aria-label=\"Refresh\">\n            <RefreshIcon />\n          </button>\n          <button className=\"nav-button stop\" aria-label=\"Stop\">\n            <StopIcon />\n          </button>\n          <button className=\"nav-button home\" onClick={handleHome} aria-label=\"Home\">\n            <HomeIcon />\n          </button>\n        </div>\n        <div className=\"nav-addressbar\">\n          <input\n            type=\"text\"\n            value={getSectionUrl(currentSection)}\n            readOnly\n            className=\"addressbar-input\"\n          />\n        </div>\n        <button className=\"nav-button go\">Go</button>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"browser-content\">\n        <div className={`browser-viewport theme-${currentTheme}`}>{children}</div>\n      </div>\n\n      {/* BSOD Easter Egg */}\n      {showBSOD && (\n        <div className=\"bsod-overlay\" onClick={() => setShowBSOD(false)}>\n          <div className=\"bsod-content\">\n            <h1>{t.browser.bsod.title}</h1>\n            <p className=\"bsod-main-text\">{t.browser.bsod.mainText}</p>\n            <p>{t.browser.bsod.collectingError}</p>\n            <p className=\"bsod-error\">{t.browser.bsod.errorCode}</p>\n            <p className=\"bsod-code\">{t.browser.bsod.stopCode}</p>\n            <p className=\"bsod-hint\">{t.browser.bsod.clickToRestart}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Status Bar */}\n      <div className=\"browser-statusbar\">\n        <div className=\"status-text\">{t.browser.statusDone}</div>\n        <div className=\"status-icons\">\n          <div className=\"status-theme-selector\" ref={statusbarRef}>\n            <button\n              className=\"status-theme-button\"\n              onClick={toggleStatusbarTheme}\n              aria-label={t.browser.menus.themes}\n            >\n               {t.browser.themes[currentTheme as keyof typeof t.browser.themes] || currentTheme}\n            </button>\n            {statusbarThemeOpen && (\n              <ThemeDropdown\n                currentTheme={currentTheme}\n                onSelectTheme={handleStatusbarThemeSelect}\n                themes={t.browser.themes}\n                variant=\"statusbar\"\n              />\n            )}\n          </div>\n          <span className=\"status-icon\"></span>\n          <span className=\"status-zone\">{t.browser.statusZone}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BrowserWindow;\n","import React from 'react'\n\ninterface GameCardProps {\n\ttitle: string\n\ticon?: string\n\tcolor?: string\n\tgradientFrom?: string\n\tgradientTo?: string\n\tonClick: () => void\n\tdescription?: string\n\tdisabled?: boolean\n}\n\nexport const GameCard: React.FC<GameCardProps> = ({\n\ttitle,\n\ticon,\n\tcolor,\n\tgradientFrom,\n\tgradientTo,\n\tonClick,\n\tdescription,\n\tdisabled = false,\n}) => {\n\tconst bgStyle =\n\t\tgradientFrom && gradientTo\n\t\t\t? {\n\t\t\t\t\tbackground: `linear-gradient(135deg, ${gradientFrom} 0%, ${gradientTo} 100%)`,\n\t\t\t\t}\n\t\t\t: { backgroundColor: color || '#4b5563' }\n\n\treturn (\n\t\t<button\n\t\t\tonClick={onClick}\n\t\t\tdisabled={disabled}\n\t\t\tclassName=\"game-card\"\n\t\t\tstyle={bgStyle}\n\t\t>\n\t\t\t{/* Hover Overlay */}\n\t\t\t<div className=\"game-card-overlay\" />\n\n\t\t\t{/* Content */}\n\t\t\t<div className=\"game-card-content\">\n\t\t\t\t{/* Icon */}\n\t\t\t\t{icon && <div className=\"game-card-icon\">{icon}</div>}\n\n\t\t\t\t{/* Title */}\n\t\t\t\t<h3 className=\"game-card-title\">{title}</h3>\n\n\t\t\t\t{/* Description */}\n\t\t\t\t{description && (\n\t\t\t\t\t<p className=\"game-card-description\">{description}</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Corner Accent */}\n\t\t\t<div className=\"game-card-accent-top\">\n\t\t\t\t<div className=\"game-card-accent-triangle\" />\n\t\t\t</div>\n\n\t\t\t{/* Bottom Accent */}\n\t\t\t<div className=\"game-card-accent-bottom\" />\n\t\t</button>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\n\ninterface GameOverlayProps {\n\ttype: 'start' | 'pause' | 'gameOver' | 'levelComplete' | 'custom'\n\ttitle?: string\n\tmessage?: string\n\tscore?: number\n\tlevel?: number\n\tbrandColor?: string\n\tonAction?: () => void\n\tactionText?: string\n\tcustomContent?: React.ReactNode\n\tshowPressToStart?: boolean\n\tlang?: string\n}\n\nexport const GameOverlay: React.FC<GameOverlayProps> = ({\n\ttype,\n\ttitle,\n\tmessage,\n\tscore,\n\tlevel,\n\tbrandColor = '#00d26a',\n\tonAction,\n\tactionText,\n\tcustomContent,\n\tshowPressToStart = true,\n}) => {\n\tconst [showBlink, setShowBlink] = useState(true)\n\n\tuseEffect(() => {\n\t\tif (showPressToStart && type === 'start') {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetShowBlink(prev => !prev)\n\t\t\t}, 500)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [showPressToStart, type])\n\n\tconst defaultTitles = {\n\t\tstart: ' LISTO PARA JUGAR',\n\t\tpause: ' PAUSA',\n\t\tgameOver: ' GAME OVER',\n\t\tlevelComplete: ' NIVEL COMPLETADO!',\n\t\tcustom: '',\n\t}\n\n\tconst displayTitle = title || defaultTitles[type]\n\n\treturn (\n\t\t<div className=\"game-overlay\">\n\t\t\t{/* Background Overlay */}\n\t\t\t<div className=\"game-overlay-bg\" />\n\n\t\t\t{/* Content Card */}\n\t\t\t<div className=\"game-overlay-card\">\n\t\t\t\t{/* Decorative Border Glow */}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-overlay-glow\"\n\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"game-overlay-content\">\n\t\t\t\t\t{/* Title */}\n\t\t\t\t\t{displayTitle && (\n\t\t\t\t\t\t<h2 className=\"game-overlay-title\">{displayTitle}</h2>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Score Display */}\n\t\t\t\t\t{score !== undefined && (\n\t\t\t\t\t\t<div className=\"game-overlay-score\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-label\">Puntuacin Final</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-value\">\n\t\t\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Display */}\n\t\t\t\t\t{level !== undefined && type === 'levelComplete' && (\n\t\t\t\t\t\t<div className=\"game-overlay-level\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-label\">Nivel</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-value\">{level}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Message */}\n\t\t\t\t\t{message && (\n\t\t\t\t\t\t<p className=\"game-overlay-message\">{message}</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Content */}\n\t\t\t\t\t{customContent}\n\n\t\t\t\t\t{/* Action Button or Press to Start */}\n\t\t\t\t\t{type === 'start' && showPressToStart && !onAction ? (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"game-overlay-blink\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: brandColor,\n\t\t\t\t\t\t\t\topacity: showBlink ? 1 : 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPRESIONA ESPACIO PARA COMENZAR\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : onAction && actionText ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t\tclassName=\"game-overlay-button\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: brandColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{actionText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","/**\n * Key codes for input handling\n */\nexport const KEY = {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  A: 65,\n  D: 68,\n  S: 83,\n  W: 87,\n  SPACE: 32,\n};\n\n/**\n * Road configuration constants\n */\nexport const ROAD = {\n  LENGTH: {\n    NONE: 0,\n    SHORT: 25,\n    MEDIUM: 50,\n    LONG: 100,\n  },\n  HILL: {\n    NONE: 0,\n    LOW: 20,\n    MEDIUM: 40,\n    HIGH: 60,\n  },\n  CURVE: {\n    NONE: 0,\n    EASY: 2,\n    MEDIUM: 4,\n    HARD: 6,\n  },\n};\n\n/**\n * Game colors\n */\nexport const COLORS = {\n  SKY: '#72D7EE',\n  TREE: '#005108',\n  FOG: '#005108',\n  LIGHT: {\n    road: '#6B6B6B',\n    grass: '#10AA10',\n    rumble: '#555555',\n    lane: '#CCCCCC',\n  },\n  DARK: {\n    road: '#696969',\n    grass: '#009A00',\n    rumble: '#BBBBBB',\n  },\n  START: {\n    road: 'white',\n    grass: 'white',\n    rumble: 'white',\n  },\n  FINISH: {\n    road: 'black',\n    grass: 'black',\n    rumble: 'black',\n  },\n};\n\n/**\n * Background layer configuration\n */\nexport const BACKGROUND = {\n  HILLS: { x: 5, y: 5, w: 1280, h: 480 },\n  SKY: { x: 5, y: 495, w: 1280, h: 480 },\n  TREES: { x: 5, y: 985, w: 1280, h: 480 },\n};\n\n/**\n * Sprite definitions\n */\nconst SPRITES_DEF = {\n  PALM_TREE: { x: 5, y: 5, w: 215, h: 540 },\n  BILLBOARD08: { x: 230, y: 5, w: 385, h: 265 },\n  TREE1: { x: 625, y: 5, w: 360, h: 360 },\n  DEAD_TREE1: { x: 5, y: 555, w: 135, h: 332 },\n  BILLBOARD09: { x: 150, y: 555, w: 328, h: 282 },\n  BOULDER3: { x: 230, y: 280, w: 320, h: 220 },\n  COLUMN: { x: 995, y: 5, w: 200, h: 315 },\n  BILLBOARD01: { x: 625, y: 375, w: 300, h: 170 },\n  BILLBOARD06: { x: 488, y: 555, w: 298, h: 190 },\n  BILLBOARD05: { x: 5, y: 897, w: 298, h: 190 },\n  BILLBOARD07: { x: 313, y: 897, w: 298, h: 190 },\n  BOULDER2: { x: 621, y: 897, w: 298, h: 140 },\n  TREE2: { x: 1205, y: 5, w: 282, h: 295 },\n  BILLBOARD04: { x: 1205, y: 310, w: 268, h: 170 },\n  DEAD_TREE2: { x: 1205, y: 490, w: 150, h: 260 },\n  BOULDER1: { x: 1205, y: 760, w: 168, h: 248 },\n  BUSH1: { x: 5, y: 1097, w: 240, h: 155 },\n  CACTUS: { x: 929, y: 897, w: 235, h: 118 },\n  BUSH2: { x: 255, y: 1097, w: 232, h: 152 },\n  BILLBOARD03: { x: 5, y: 1262, w: 230, h: 220 },\n  BILLBOARD02: { x: 245, y: 1262, w: 215, h: 220 },\n  STUMP: { x: 995, y: 330, w: 195, h: 140 },\n  SEMI: { x: 1365, y: 490, w: 122, h: 144 },\n  TRUCK: { x: 1365, y: 644, w: 100, h: 78 },\n  CAR03: { x: 1383, y: 760, w: 88, h: 55 },\n  CAR02: { x: 1383, y: 825, w: 80, h: 59 },\n  CAR04: { x: 1383, y: 894, w: 80, h: 57 },\n  CAR01: { x: 1205, y: 1018, w: 80, h: 56 },\n  PLAYER_UPHILL_LEFT: { x: 1383, y: 961, w: 80, h: 45 },\n  PLAYER_UPHILL_STRAIGHT: { x: 1295, y: 1018, w: 80, h: 45 },\n  PLAYER_UPHILL_RIGHT: { x: 1385, y: 1018, w: 80, h: 45 },\n  PLAYER_RIGHT: { x: 995, y: 480, w: 80, h: 41 },\n  PLAYER_STRAIGHT: { x: 1085, y: 480, w: 80, h: 41 },\n  PLAYER_LEFT: { x: 995, y: 531, w: 80, h: 41 },\n  COIN: { x: 1395, y: 1092, w: 60, h: 60 },\n};\n\n// Add computed properties\nconst SPRITES_COMPUTED = {\n  ...SPRITES_DEF,\n  SCALE: 0.3 * (1 / SPRITES_DEF.PLAYER_STRAIGHT.w),\n  BILLBOARDS: [\n    SPRITES_DEF.BILLBOARD01,\n    SPRITES_DEF.BILLBOARD02,\n    SPRITES_DEF.BILLBOARD03,\n    SPRITES_DEF.BILLBOARD04,\n    SPRITES_DEF.BILLBOARD05,\n    SPRITES_DEF.BILLBOARD06,\n    SPRITES_DEF.BILLBOARD07,\n    SPRITES_DEF.BILLBOARD08,\n    SPRITES_DEF.BILLBOARD09,\n  ],\n  PLANTS: [\n    SPRITES_DEF.TREE1,\n    SPRITES_DEF.TREE2,\n    SPRITES_DEF.DEAD_TREE1,\n    SPRITES_DEF.DEAD_TREE2,\n    SPRITES_DEF.PALM_TREE,\n    SPRITES_DEF.BUSH1,\n    SPRITES_DEF.BUSH2,\n    SPRITES_DEF.CACTUS,\n    SPRITES_DEF.STUMP,\n    SPRITES_DEF.BOULDER1,\n    SPRITES_DEF.BOULDER2,\n    SPRITES_DEF.BOULDER3,\n  ],\n  CARS: [\n    SPRITES_DEF.CAR01,\n    SPRITES_DEF.CAR02,\n    SPRITES_DEF.CAR03,\n    SPRITES_DEF.CAR04,\n    SPRITES_DEF.SEMI,\n    SPRITES_DEF.TRUCK,\n  ],\n} as const;\n\nexport const SPRITES = SPRITES_COMPUTED;\n\n/**\n * Default game configuration\n */\nexport const DEFAULT_CONFIG = {\n  fps: 60,\n  width: 720,\n  height: 960,\n  roadWidth: 2000,\n  segmentLength: 200,\n  rumbleLength: 3,\n  lanes: 3,\n  fieldOfView: 100,\n  cameraHeight: 1000,\n  drawDistance: 300,\n  fogDensity: 5,\n  centrifugal: 0.3,\n  skySpeed: 0.001,\n  hillSpeed: 0.002,\n  treeSpeed: 0.003,\n  totalCars: 200,\n};\n","/**\n * Math utilities for 3D car racing game\n * Optimized for performance in game loop\n */\n\nexport class MathUtils {\n  /**\n   * Get current timestamp\n   */\n  static timestamp(): number {\n    return performance.now();\n  }\n\n  /**\n   * Convert to integer with default value\n   */\n  static toInt(obj: string | number | null | undefined, def: number = 0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseInt(String(obj), 10);\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Convert to float with default value\n   */\n  static toFloat(obj: string | number | null | undefined, def: number = 0.0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseFloat(String(obj));\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Clamp value between min and max\n   */\n  static limit(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(value, max));\n  }\n\n  /**\n   * Get random integer between min and max (inclusive)\n   */\n  static randomInt(min: number, max: number): number {\n    return Math.round(this.interpolate(min, max, Math.random()));\n  }\n\n  /**\n   * Get random choice from array\n   */\n  static randomChoice<T>(options: T[]): T {\n    return options[this.randomInt(0, options.length - 1)];\n  }\n\n  /**\n   * Calculate percent remaining\n   */\n  static percentRemaining(n: number, total: number): number {\n    return (n % total) / total;\n  }\n\n  /**\n   * Accelerate value\n   */\n  static accelerate(v: number, accel: number, dt: number): number {\n    return v + accel * dt;\n  }\n\n  /**\n   * Linear interpolation\n   */\n  static interpolate(a: number, b: number, percent: number): number {\n    return a + (b - a) * percent;\n  }\n\n  /**\n   * Ease in interpolation\n   */\n  static easeIn(a: number, b: number, percent: number): number {\n    return a + (b - a) * Math.pow(percent, 2);\n  }\n\n  /**\n   * Ease out interpolation\n   */\n  static easeOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (1 - Math.pow(1 - percent, 2));\n  }\n\n  /**\n   * Ease in-out interpolation\n   */\n  static easeInOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (-Math.cos(percent * Math.PI) / 2 + 0.5);\n  }\n\n  /**\n   * Exponential fog calculation\n   */\n  static exponentialFog(distance: number, density: number): number {\n    return 1 / Math.pow(Math.E, distance * distance * density);\n  }\n\n  /**\n   * Increase value with wrapping\n   */\n  static increase(start: number, increment: number, max: number): number {\n    let result = start + increment;\n    while (result >= max) result -= max;\n    while (result < 0) result += max;\n    return result;\n  }\n\n  /**\n   * Check overlap between two objects\n   * Optimized version with early exit\n   */\n  static overlap(x1: number, w1: number, x2: number, w2: number, percent: number = 1): boolean {\n    const half1 = percent * 0.5;\n    const half2 = percent * 0.5;\n    const min1 = x1 - w1 * half1;\n    const max1 = x1 + w1 * half1;\n    const min2 = x2 - w2 * half2;\n    const max2 = x2 + w2 * half2;\n    return !(max1 < min2 || min1 > max2);\n  }\n\n  /**\n   * Project 3D point to 2D screen\n   * Optimized for performance\n   */\n  static project(\n    p: {\n      world: { x?: number; y?: number; z?: number };\n      camera: { x?: number; y?: number; z?: number };\n      screen: { x?: number; y?: number; w?: number; scale?: number };\n    },\n    cameraX: number,\n    cameraY: number,\n    cameraZ: number,\n    cameraDepth: number,\n    width: number,\n    height: number,\n    roadWidth: number\n  ): void {\n    p.camera.x = (p.world.x || 0) - cameraX;\n    p.camera.y = (p.world.y || 0) - cameraY;\n    p.camera.z = (p.world.z || 0) - cameraZ;\n    p.screen.scale = cameraDepth / p.camera.z;\n    p.screen.x = Math.round(width / 2 + (p.screen.scale * p.camera.x * width) / 2);\n    p.screen.y = Math.round(height / 2 - (p.screen.scale * p.camera.y * height) / 2);\n    p.screen.w = Math.round((p.screen.scale * roadWidth * width) / 2);\n  }\n}\n\n// Pre-calculated values for performance\nexport const DEG_TO_RAD = Math.PI / 180;\nexport const RAD_TO_DEG = 180 / Math.PI;\n\n/**\n * Fast sine approximation for non-critical calculations\n */\nexport function fastSin(x: number): number {\n  x = x % (2 * Math.PI);\n  if (x < 0) x += 2 * Math.PI;\n\n  if (x < Math.PI) {\n    return (4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  } else {\n    x -= Math.PI;\n    return (-4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  }\n}\n\n/**\n * Fast cosine approximation for non-critical calculations\n */\nexport function fastCos(x: number): number {\n  return fastSin(x + Math.PI / 2);\n}\n","import type { RoadSegment, Car, Sprite } from '../types';\nimport { COLORS, SPRITES, ROAD } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Road generation and management system\n * Optimized for performance and memory usage\n */\nexport class RoadEngine {\n  private segments: RoadSegment[] = [];\n  private segmentLength: number;\n  private rumbleLength: number;\n  private trackLength: number = 0;\n  private billboardPlacements: Map<string, number> = new Map();\n  private billboardImpressions: Map<string, number> = new Map();\n  private billboardInstances: Map<\n    string,\n    { segmentIndex: number; offset: number; seenInLaps: Set<number> }[]\n  > = new Map();\n  private nextBillboardId: number = 0;\n\n  constructor(segmentLength: number = 200, rumbleLength: number = 3) {\n    this.segmentLength = segmentLength;\n    this.rumbleLength = rumbleLength;\n  }\n\n  /**\n   * Get all road segments\n   */\n  getSegments(): RoadSegment[] {\n    return this.segments;\n  }\n\n  /**\n   * Get track length\n   */\n  getTrackLength(): number {\n    return this.trackLength;\n  }\n\n  /**\n   * Get billboard placements count\n   */\n  getBillboardPlacements(): Map<string, number> {\n    return new Map(this.billboardPlacements);\n  }\n\n  /**\n   * Get billboard impressions count\n   */\n  getBillboardImpressions(): Map<string, number> {\n    return new Map(this.billboardImpressions);\n  }\n\n  /**\n   * Record billboard impression for a specific segment and offset in a specific lap\n   */\n  recordBillboardImpression(\n    segmentIndex: number,\n    offset: number,\n    billboardName: string,\n    currentLap: number\n  ): void {\n    const instances = this.billboardInstances.get(billboardName);\n    if (!instances) return;\n\n    // Find the specific billboard instance at this segment and offset\n    const instance = instances.find(\n      (inst) => inst.segmentIndex === segmentIndex && Math.abs(inst.offset - offset) < 0.1 // Small tolerance for floating point comparison\n    );\n\n    if (instance && !instance.seenInLaps.has(currentLap)) {\n      instance.seenInLaps.add(currentLap);\n      const current = this.billboardImpressions.get(billboardName) || 0;\n      this.billboardImpressions.set(billboardName, current + 1);\n    }\n  }\n\n  /**\n   * Get billboard statistics as an object\n   */\n  getBillboardStats(totalLaps: number): {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } {\n    const placements: Record<string, number> = {};\n    const impressions: Record<string, number> = {};\n    const maxPossibleImpressions: Record<string, number> = {};\n\n    this.billboardPlacements.forEach((count, name) => {\n      placements[name] = count;\n      maxPossibleImpressions[name] = count * totalLaps;\n    });\n\n    this.billboardImpressions.forEach((count, name) => {\n      impressions[name] = count;\n    });\n\n    // Calculate a realistic track length in meters\n    // Game units don't correspond to real meters, so we apply a scale factor\n    // Adjusted for actual segment counts (typically 3000-6000 segments)\n    // Target track lengths: 2-4 km for realistic racing circuits\n    const realisticTrackLength = Math.round(this.segments.length * 0.65);\n\n    return {\n      placements,\n      impressions,\n      maxPossibleImpressions,\n      trackLength: realisticTrackLength,\n      totalSegments: this.segments.length,\n      totalLaps,\n    };\n  }\n\n  /**\n   * Find segment by Z position\n   */\n  findSegment(z: number): RoadSegment {\n    return this.segments[Math.floor(z / this.segmentLength) % this.segments.length];\n  }\n\n  /**\n   * Get last Y position\n   */\n  private lastY(): number {\n    return this.segments.length === 0 ? 0 : this.segments[this.segments.length - 1].p2.world.y;\n  }\n\n  /**\n   * Add a road segment\n   */\n  private addSegment(curve: number, y: number): void {\n    const n = this.segments.length;\n    this.segments.push({\n      index: n,\n      p1: {\n        world: { y: this.lastY(), z: n * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      p2: {\n        world: { y: y, z: (n + 1) * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      curve: curve,\n      sprites: [],\n      cars: [],\n      color: Math.floor(n / this.rumbleLength) % 2 ? COLORS.DARK : COLORS.LIGHT,\n    });\n  }\n\n  /**\n   * Add a sprite to a segment\n   */\n  private addSprite(n: number, sprite: Sprite, offset: number): void {\n    if (this.segments[n]) {\n      const spriteInstance = { source: sprite, offset: offset };\n\n      // If it's a billboard, track it with a unique ID\n      const billboardName = this.getBillboardName(sprite);\n      if (billboardName) {\n        const billboardId = `${billboardName}_${this.nextBillboardId++}`;\n        // Store the billboard ID in the sprite instance for later reference\n        (spriteInstance as any).billboardId = billboardId;\n\n        // Track the instance\n        if (!this.billboardInstances.has(billboardName)) {\n          this.billboardInstances.set(billboardName, []);\n        }\n        this.billboardInstances.get(billboardName)!.push({\n          segmentIndex: n,\n          offset: offset,\n          seenInLaps: new Set<number>(),\n        });\n      }\n\n      this.segments[n].sprites.push(spriteInstance);\n    }\n  }\n\n  /**\n   * Add a road section with easing\n   */\n  private addRoad(enter: number, hold: number, leave: number, curve: number, y: number): void {\n    const startY = this.lastY();\n    const endY = startY + MathUtils.toInt(y, 0) * this.segmentLength;\n    const total = enter + hold + leave;\n\n    // Enter phase with easing\n    for (let n = 0; n < enter; n++) {\n      this.addSegment(\n        MathUtils.easeIn(0, curve, n / enter),\n        MathUtils.easeInOut(startY, endY, n / total)\n      );\n    }\n\n    // Hold phase\n    for (let n = 0; n < hold; n++) {\n      this.addSegment(curve, MathUtils.easeInOut(startY, endY, (enter + n) / total));\n    }\n\n    // Leave phase with easing\n    for (let n = 0; n < leave; n++) {\n      this.addSegment(\n        MathUtils.easeInOut(curve, 0, n / leave),\n        MathUtils.easeInOut(startY, endY, (enter + hold + n) / total)\n      );\n    }\n  }\n\n  /**\n   * Add straight road section\n   */\n  private addStraight(num: number = ROAD.LENGTH.MEDIUM): void {\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add hill section\n   */\n  private addHill(num: number = ROAD.LENGTH.MEDIUM, height: number = ROAD.HILL.MEDIUM): void {\n    this.addRoad(num, num, num, 0, height);\n  }\n\n  /**\n   * Add curve section\n   */\n  private addCurve(\n    num: number = ROAD.LENGTH.MEDIUM,\n    curve: number = ROAD.CURVE.MEDIUM,\n    height: number = ROAD.HILL.NONE\n  ): void {\n    this.addRoad(num, num, num, curve, height);\n  }\n\n  /**\n   * Add rolling hills section\n   */\n  private addLowRollingHills(\n    num: number = ROAD.LENGTH.SHORT,\n    height: number = ROAD.HILL.LOW\n  ): void {\n    this.addRoad(num, num, num, 0, height / 2);\n    this.addRoad(num, num, num, 0, -height);\n    this.addRoad(num, num, num, ROAD.CURVE.EASY, height);\n    this.addRoad(num, num, num, 0, 0);\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, height / 2);\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add S-curves section\n   */\n  private addSCurves(): void {\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.NONE\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.MEDIUM,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.EASY,\n      -ROAD.HILL.LOW\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.MEDIUM,\n      -ROAD.HILL.MEDIUM\n    );\n  }\n\n  /**\n   * Add bumps section\n   */\n  private addBumps(): void {\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n    this.addRoad(10, 10, 10, 0, -5);\n    this.addRoad(10, 10, 10, 0, 8);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -7);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n  }\n\n  /**\n   * Add downhill to end section\n   */\n  private addDownhillToEnd(num: number = 200): void {\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, -this.lastY() / this.segmentLength);\n  }\n\n  /**\n   * Reset and rebuild road\n   */\n  reset(track: number = 0, playerZ: number): void {\n    this.segments = [];\n\n    // Build track based on track number\n    switch (track) {\n      case 1: // Speed Circuit - Fast track with long straights\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.LOW);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 2: // Mountain Pass - Challenging hills and curves\n        this.addHill(ROAD.LENGTH.SHORT, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.HIGH);\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.EASY, -ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.SHORT, -ROAD.HILL.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 3: // Technical Circuit - Lots of curves\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addCurve(ROAD.LENGTH.MEDIUM, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.LOW);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addDownhillToEnd();\n        break;\n\n      default: // Track 0 - Original balanced track\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addLowRollingHills();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.LOW);\n        this.addBumps();\n        this.addLowRollingHills();\n        this.addCurve(ROAD.LENGTH.LONG * 2, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addSCurves();\n        this.addDownhillToEnd();\n    }\n\n    this.resetSprites();\n\n    // Mark start and finish lines\n    const playerSegment = this.findSegment(playerZ);\n    this.segments[playerSegment.index + 2].color = COLORS.START;\n    this.segments[playerSegment.index + 3].color = COLORS.START;\n\n    for (let n = 0; n < this.rumbleLength; n++) {\n      this.segments[this.segments.length - 1 - n].color = COLORS.FINISH;\n    }\n\n    this.trackLength = this.segments.length * this.segmentLength;\n  }\n\n  /**\n   * Reset sprites on the track\n   */\n  private resetSprites(): void {\n    // Clear billboard tracking\n    this.billboardPlacements.clear();\n    this.billboardImpressions.clear();\n    this.billboardInstances.clear();\n    this.nextBillboardId = 0;\n\n    // Add billboards and plants randomly\n    for (let n = 20; n < this.segments.length - 50; n += 60) {\n      const billboard = MathUtils.randomChoice([...SPRITES.BILLBOARDS]);\n      const billboardName = this.getBillboardName(billboard);\n\n      // Track billboard placement\n      if (billboardName) {\n        const current = this.billboardPlacements.get(billboardName) || 0;\n        this.billboardPlacements.set(billboardName, current + 1);\n      }\n\n      this.addSprite(\n        n + MathUtils.randomInt(0, 50),\n        billboard,\n        MathUtils.randomChoice([1, -1, 1.1, -1.1, 1.2, -1.2])\n      );\n\n      for (let i = 0; i < 20; i++) {\n        this.addSprite(\n          n + MathUtils.randomInt(0, 50),\n          MathUtils.randomChoice([...SPRITES.PLANTS]),\n          MathUtils.randomChoice([1.1, -1.1]) * (1 + Math.random())\n        );\n      }\n    }\n\n    // Add plants along the track\n    for (let n = 10; n < this.segments.length; n += 3 + Math.floor(n / 100)) {\n      this.addSprite(\n        n,\n        MathUtils.randomChoice([...SPRITES.PLANTS]),\n        MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5)\n      );\n    }\n\n    // Add columns randomly\n    for (let n = 120; n < this.segments.length; n += 30 + Math.floor(n / 20)) {\n      this.addSprite(n, SPRITES.COLUMN, MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5));\n    }\n\n    // Add coins in lanes\n    const LANE_POSITIONS = [-0.5, 0, 0.5];\n    for (let n = 0; n < this.segments.length; n += 30) {\n      this.addSprite(n, SPRITES.COIN, MathUtils.randomChoice(LANE_POSITIONS));\n    }\n  }\n\n  /**\n   * Remove all coins from the track\n   */\n  removeAllCoins(): void {\n    for (const segment of this.segments) {\n      segment.sprites = segment.sprites.filter((sprite) => sprite.source !== SPRITES.COIN);\n    }\n  }\n\n  /**\n   * Reset cars on the track\n   */\n  resetCars(totalCars: number, maxSpeed: number): Car[] {\n    // Clear existing cars from segments\n    for (const segment of this.segments) {\n      segment.cars = [];\n    }\n\n    const cars: Car[] = [];\n\n    for (let n = 0; n < totalCars; n++) {\n      const offset = Math.random() * MathUtils.randomChoice([-0.8, 0.8]);\n      const z = Math.floor(Math.random() * this.segments.length) * this.segmentLength;\n      const sprite = MathUtils.randomChoice([...SPRITES.CARS]);\n      const speed = maxSpeed / 4 + (Math.random() * maxSpeed) / (sprite === SPRITES.SEMI ? 4 : 2);\n\n      const car: Car = {\n        offset,\n        z,\n        sprite,\n        speed,\n        percent: MathUtils.percentRemaining(z, this.segmentLength),\n      };\n      const segment = this.findSegment(car.z);\n      segment.cars.push(car);\n      cars.push(car);\n    }\n\n    return cars;\n  }\n\n  /**\n   * Get billboard name from sprite object\n   */\n  getBillboardName(sprite: Sprite): string | null {\n    // Check each billboard sprite to find which one matches\n    if (sprite === SPRITES.BILLBOARD01) return 'BILLBOARD01';\n    if (sprite === SPRITES.BILLBOARD02) return 'BILLBOARD02';\n    if (sprite === SPRITES.BILLBOARD03) return 'BILLBOARD03';\n    if (sprite === SPRITES.BILLBOARD04) return 'BILLBOARD04';\n    if (sprite === SPRITES.BILLBOARD05) return 'BILLBOARD05';\n    if (sprite === SPRITES.BILLBOARD06) return 'BILLBOARD06';\n    if (sprite === SPRITES.BILLBOARD07) return 'BILLBOARD07';\n    if (sprite === SPRITES.BILLBOARD08) return 'BILLBOARD08';\n    if (sprite === SPRITES.BILLBOARD09) return 'BILLBOARD09';\n    return null;\n  }\n}\n","import type { Car, RoadSegment, InputState } from '../types';\nimport { SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Physics and collision engine for 3D car racing game\n * Optimized for performance with spatial optimizations\n */\nexport class PhysicsEngine {\n  private maxSpeed: number;\n  private accel: number;\n  private breaking: number;\n  private decel: number;\n  private offRoadDecel: number;\n  private offRoadLimit: number;\n  private centrifugal: number;\n  private trackLength: number;\n\n  constructor(config: {\n    maxSpeed: number;\n    accel: number;\n    breaking: number;\n    decel: number;\n    offRoadDecel: number;\n    offRoadLimit: number;\n    centrifugal: number;\n    trackLength: number;\n  }) {\n    this.maxSpeed = config.maxSpeed;\n    this.accel = config.accel;\n    this.breaking = config.breaking;\n    this.decel = config.decel;\n    this.offRoadDecel = config.offRoadDecel;\n    this.offRoadLimit = config.offRoadLimit;\n    this.centrifugal = config.centrifugal;\n    this.trackLength = config.trackLength;\n  }\n\n  /**\n   * Update track length\n   */\n  updateTrackLength(trackLength: number): void {\n    this.trackLength = trackLength;\n  }\n\n  /**\n   * Update player physics\n   */\n  updatePlayer(\n    playerX: number,\n    speed: number,\n    position: number,\n    inputState: InputState,\n    playerSegment: RoadSegment,\n    dt: number,\n    _findSegment: (z: number) => RoadSegment,\n    //roadWidth: number = 2000,\n    canvasWidth: number = 720,\n    canvasHeight: number = 960\n  ): {\n    playerX: number;\n    speed: number;\n    position: number;\n    pointsEarned: number;\n    crashed: boolean;\n    coinCollected?: { x: number; y: number };\n    crashPosition?: { x: number; y: number };\n  } {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n    const speedPercent = speed / this.maxSpeed;\n    const dx = dt * 2 * speedPercent;\n    let pointsEarned = 0;\n    let crashed = false;\n\n    // Handle movement\n    if (inputState.left) {\n      playerX = playerX - dx;\n    } else if (inputState.right) {\n      playerX = playerX + dx;\n    }\n\n    // Apply centrifugal force\n    playerX = playerX - dx * speedPercent * playerSegment.curve * this.centrifugal;\n\n    // Handle acceleration/deceleration\n    if (inputState.faster) {\n      speed = MathUtils.accelerate(speed, this.accel, dt);\n    } else if (inputState.slower) {\n      speed = MathUtils.accelerate(speed, this.breaking, dt);\n    } else {\n      speed = MathUtils.accelerate(speed, this.decel, dt);\n    }\n\n    // Handle off-road physics and sprite collisions\n    if (playerX < -1 || playerX > 1) {\n      if (speed > this.offRoadLimit) {\n        speed = MathUtils.accelerate(speed, this.offRoadDecel, dt);\n      }\n\n      // Check sprite collisions\n      for (const sprite of playerSegment.sprites) {\n        const spriteW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (spriteW / 2) * (sprite.offset > 0 ? 1 : -1),\n            spriteW\n          )\n        ) {\n          speed = this.maxSpeed / 5;\n          position = MathUtils.increase(playerSegment.p1.world.z, -playerW, this.trackLength);\n          break;\n        }\n      }\n    }\n\n    // Handle coin collection\n    let coinCollected: { x: number; y: number } | undefined;\n    for (let i = playerSegment.sprites.length - 1; i >= 0; i--) {\n      const sprite = playerSegment.sprites[i];\n      if (sprite.source === SPRITES.COIN) {\n        const coinW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (coinW / 10) * (sprite.offset > 0 ? 1 : -1),\n            coinW\n          )\n        ) {\n          // Store coin position for animation\n          // Since we're in the physics update, screen coordinates might not be available\n          // We'll use a simple approximation based on player position\n          coinCollected = {\n            x: canvasWidth / 2 + sprite.offset * canvasWidth * 0.3, // Approximate screen position\n            y: canvasHeight / 2 - 100, // Slightly above center\n          };\n          // Remove coin\n          playerSegment.sprites.splice(i, 1);\n          // Award points based on speed\n          pointsEarned = Math.round(speed / 1000);\n        }\n      }\n    }\n\n    // Handle car collisions\n    let crashPosition: { x: number; y: number } | undefined;\n    for (const car of playerSegment.cars) {\n      const carW = car.sprite.w * SPRITES.SCALE;\n      if (speed > car.speed) {\n        if (MathUtils.overlap(playerX, playerW, car.offset, carW, 0.6)) {\n          speed = car.speed * (car.speed / speed);\n          position = MathUtils.increase(car.z, -playerW, this.trackLength);\n          pointsEarned = -3; // Crash penalty\n          crashed = true;\n          // Store crash position for animation\n          crashPosition = {\n            x: canvasWidth / 2 + car.offset * canvasWidth * 0.3, // Approximate position of collision\n            y: canvasHeight / 2 - 50, // Slightly above center\n          };\n          break;\n        }\n      }\n    }\n\n    // Clamp values\n    playerX = MathUtils.limit(playerX, -3, 3);\n    speed = MathUtils.limit(speed, 0, this.maxSpeed);\n\n    return {\n      playerX,\n      speed,\n      position,\n      pointsEarned,\n      crashed,\n      coinCollected,\n      crashPosition,\n    };\n  }\n\n  /**\n   * Update all cars with optimized AI\n   */\n  updateCars(\n    cars: Car[],\n    dt: number,\n    playerSegment: RoadSegment,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    findSegment: (z: number) => RoadSegment,\n    segments: RoadSegment[]\n  ): void {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n\n    for (const car of cars) {\n      const oldSegment = findSegment(car.z);\n\n      // Update car position\n      car.z = MathUtils.increase(car.z, dt * car.speed, this.trackLength);\n      car.percent = MathUtils.percentRemaining(car.z, 200); // segmentLength\n\n      // Update car offset (AI steering)\n      car.offset += this.updateCarOffset(\n        car,\n        oldSegment,\n        playerSegment,\n        playerW,\n        playerX,\n        playerSpeed,\n        drawDistance,\n        segments\n      );\n\n      // Move car to new segment if needed\n      const newSegment = findSegment(car.z);\n      if (oldSegment !== newSegment) {\n        const index = oldSegment.cars.indexOf(car);\n        if (index !== -1) {\n          oldSegment.cars.splice(index, 1);\n          newSegment.cars.push(car);\n        }\n      }\n    }\n  }\n\n  /**\n   * Calculate car AI steering offset\n   */\n  private updateCarOffset(\n    car: Car,\n    carSegment: RoadSegment,\n    playerSegment: RoadSegment,\n    playerW: number,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    segments: RoadSegment[]\n  ): number {\n    const lookahead = 20;\n    const carW = car.sprite.w * SPRITES.SCALE;\n\n    // Optimization: don't calculate AI for cars far from player\n    if (carSegment.index - playerSegment.index > drawDistance) {\n      return 0;\n    }\n\n    // Look ahead for obstacles\n    for (let i = 1; i < lookahead; i++) {\n      const segment = segments[(carSegment.index + i) % segments.length];\n\n      // Avoid player\n      if (\n        segment === playerSegment &&\n        car.speed > playerSpeed &&\n        MathUtils.overlap(playerX, playerW, car.offset, carW, 1.2)\n      ) {\n        const dir = this.calculateAvoidanceDirection(playerX, car.offset);\n        return (((dir * 1) / i) * (car.speed - playerSpeed)) / this.maxSpeed;\n      }\n\n      // Avoid other cars\n      for (const otherCar of segment.cars) {\n        const otherCarW = otherCar.sprite.w * SPRITES.SCALE;\n        if (\n          car.speed > otherCar.speed &&\n          MathUtils.overlap(car.offset, carW, otherCar.offset, otherCarW, 1.2)\n        ) {\n          const dir = this.calculateAvoidanceDirection(otherCar.offset, car.offset);\n          return (((dir * 1) / i) * (car.speed - otherCar.speed)) / this.maxSpeed;\n        }\n      }\n    }\n\n    // Return to road if off-road\n    if (car.offset < -0.9) return 0.1;\n    else if (car.offset > 0.9) return -0.1;\n    else return 0;\n  }\n\n  /**\n   * Calculate direction to avoid obstacle\n   */\n  private calculateAvoidanceDirection(obstacleX: number, carX: number): number {\n    if (obstacleX > 0.5) return -1;\n    else if (obstacleX < -0.5) return 1;\n    else return carX > obstacleX ? 1 : -1;\n  }\n\n  /**\n   * Update background scroll offsets\n   */\n  updateScrollOffsets(\n    skyOffset: number,\n    hillOffset: number,\n    treeOffset: number,\n    playerSegment: RoadSegment,\n    startPosition: number,\n    position: number,\n    segmentLength: number,\n    skySpeed: number,\n    hillSpeed: number,\n    treeSpeed: number\n  ): { skyOffset: number; hillOffset: number; treeOffset: number } {\n    const deltaPosition = position - startPosition;\n\n    skyOffset = MathUtils.increase(\n      skyOffset,\n      (skySpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    hillOffset = MathUtils.increase(\n      hillOffset,\n      (hillSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    treeOffset = MathUtils.increase(\n      treeOffset,\n      (treeSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n\n    return { skyOffset, hillOffset, treeOffset };\n  }\n}\n","import type { Sprite, BackgroundLayer, RoadSegment, CoinAnimation, CrashAnimation } from '../types';\nimport { COLORS, SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Optimized rendering engine for 3D car racing game\n */\nexport class RenderEngine {\n  private ctx: CanvasRenderingContext2D;\n  private width: number;\n  private height: number;\n  public resolution: number;\n  private cameraDepth: number = 0.84; // Default camera depth\n\n  constructor(ctx: CanvasRenderingContext2D, width: number, height: number) {\n    this.ctx = ctx;\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Set camera depth for visibility calculations\n   */\n  setCameraDepth(depth: number): void {\n    this.cameraDepth = depth;\n  }\n\n  /**\n   * Update canvas dimensions\n   */\n  updateDimensions(width: number, height: number): void {\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Clear the canvas\n   */\n  clear(): void {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  /**\n   * Draw a polygon\n   * Optimized to reduce canvas state changes\n   */\n  private polygon(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    x3: number,\n    y3: number,\n    x4: number,\n    y4: number,\n    color: string\n  ): void {\n    this.ctx.fillStyle = color;\n    this.ctx.beginPath();\n    this.ctx.moveTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.lineTo(x3, y3);\n    this.ctx.lineTo(x4, y4);\n    this.ctx.closePath();\n    this.ctx.fill();\n  }\n\n  /**\n   * Draw a road segment\n   */\n  segment(\n    lanes: number,\n    x1: number,\n    y1: number,\n    w1: number,\n    x2: number,\n    y2: number,\n    w2: number,\n    fog: number,\n    color: { grass: string; rumble: string; road: string; lane?: string }\n  ): void {\n    const r1 = this.rumbleWidth(w1, lanes);\n    const r2 = this.rumbleWidth(w2, lanes);\n    const l1 = this.laneMarkerWidth(w1, lanes);\n    const l2 = this.laneMarkerWidth(w2, lanes);\n\n    // Grass\n    this.ctx.fillStyle = color.grass;\n    this.ctx.fillRect(0, y2, this.width, y1 - y2);\n\n    // Rumble strips\n    this.polygon(x1 - w1 - r1, y1, x1 - w1, y1, x2 - w2, y2, x2 - w2 - r2, y2, color.rumble);\n    this.polygon(x1 + w1 + r1, y1, x1 + w1, y1, x2 + w2, y2, x2 + w2 + r2, y2, color.rumble);\n\n    // Road\n    this.polygon(x1 - w1, y1, x1 + w1, y1, x2 + w2, y2, x2 - w2, y2, color.road);\n\n    // Lane markers\n    if (color.lane) {\n      const lanew1 = (w1 * 2) / lanes;\n      const lanew2 = (w2 * 2) / lanes;\n      let lanex1 = x1 - w1 + lanew1;\n      let lanex2 = x2 - w2 + lanew2;\n\n      for (let lane = 1; lane < lanes; lane++) {\n        this.polygon(\n          lanex1 - l1 / 2,\n          y1,\n          lanex1 + l1 / 2,\n          y1,\n          lanex2 + l2 / 2,\n          y2,\n          lanex2 - l2 / 2,\n          y2,\n          color.lane\n        );\n        lanex1 += lanew1;\n        lanex2 += lanew2;\n      }\n    }\n\n    // Fog\n    this.fog(0, y1, this.width, y2 - y1, fog);\n  }\n\n  /**\n   * Draw background layer\n   * Optimized for seamless scrolling\n   */\n  background(\n    background: HTMLImageElement,\n    layer: BackgroundLayer,\n    rotation: number,\n    offset: number\n  ): void {\n    rotation = rotation || 0;\n    offset = offset || 0;\n\n    const imageW = layer.w / 2;\n    const imageH = layer.h;\n\n    const sourceX = layer.x + (Math.floor(layer.w * rotation) % layer.w);\n    const sourceY = layer.y;\n    const sourceW = Math.min(imageW, layer.w - (sourceX - layer.x));\n    const sourceH = imageH;\n\n    const destX = 0;\n    const destY = Math.floor(offset);\n    const destW = Math.floor(this.width * (sourceW / imageW));\n    const destH = this.height;\n\n    // Draw main portion\n    this.ctx.drawImage(background, sourceX, sourceY, sourceW, sourceH, destX, destY, destW, destH);\n\n    // Draw wrapped portion for seamless scrolling\n    if (sourceW < imageW) {\n      this.ctx.drawImage(\n        background,\n        layer.x,\n        sourceY,\n        imageW - sourceW,\n        sourceH,\n        destW - 1,\n        destY,\n        this.width - destW,\n        destH\n      );\n    }\n  }\n\n  /**\n   * Draw a sprite\n   * Optimized with clipping support\n   */\n  sprite(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    sprite: Sprite,\n    scale: number,\n    destX: number,\n    destY: number,\n    offsetX: number = 0,\n    offsetY: number = 0,\n    clipY?: number\n  ): void {\n    const destW = ((sprite.w * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n    const destH = ((sprite.h * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n\n    destX = destX + destW * offsetX;\n    destY = destY + destH * offsetY;\n\n    const clipH = clipY ? Math.max(0, destY + destH - clipY) : 0;\n\n    if (clipH < destH) {\n      this.ctx.drawImage(\n        sprites,\n        sprite.x,\n        sprite.y,\n        sprite.w,\n        sprite.h - (sprite.h * clipH) / destH,\n        destX,\n        destY,\n        destW,\n        destH - clipH\n      );\n    }\n  }\n\n  /**\n   * Draw the player car\n   * Includes bounce effect based on speed\n   */\n  player(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    speedPercent: number,\n    scale: number,\n    destX: number,\n    destY: number,\n    steer: number,\n    updown: number\n  ): void {\n    const bounce =\n      1.5 * Math.random() * speedPercent * this.resolution * MathUtils.randomChoice([-1, 1]);\n\n    let sprite: Sprite;\n    if (steer < 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_LEFT : SPRITES.PLAYER_LEFT;\n    } else if (steer > 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_RIGHT : SPRITES.PLAYER_RIGHT;\n    } else {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_STRAIGHT : SPRITES.PLAYER_STRAIGHT;\n    }\n\n    this.sprite(roadWidth, sprites, sprite, scale, destX, destY + bounce, -0.5, -1);\n  }\n\n  /**\n   * Draw fog effect\n   * Optimized to skip when fog is minimal\n   */\n  private fog(x: number, y: number, width: number, height: number, fog: number): void {\n    if (fog < 1 && fog > 0.01) {\n      this.ctx.globalAlpha = 1 - fog;\n      this.ctx.fillStyle = COLORS.FOG;\n      this.ctx.fillRect(x, y, width, height);\n      this.ctx.globalAlpha = 1;\n    }\n  }\n\n  /**\n   * Calculate rumble width\n   */\n  private rumbleWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(6, 2 * lanes);\n  }\n\n  /**\n   * Calculate lane marker width\n   */\n  private laneMarkerWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(32, 8 * lanes);\n  }\n\n  /**\n   * Batch render cars for performance\n   */\n  renderCars(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Batch render sprites for performance\n   */\n  renderSprites(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render all objects (sprites and cars) in correct z-order\n   */\n  renderObjects(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    onBillboardRender?: (sprite: Sprite, segmentIndex: number, offset: number) => void\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      // Render sprites first (they are at the segment start position)\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        // Check if sprite is visible (not clipped and within screen bounds)\n        if (segment.clip && segment.p1.camera.z > this.cameraDepth && spriteY < segment.clip) {\n          // Notify about billboard render if callback provided\n          if (onBillboardRender) {\n            onBillboardRender(sprite.source, segment.index, sprite.offset);\n          }\n        }\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n\n      // Then render cars (they can be anywhere within the segment)\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render coin collection animations\n   */\n  renderCoinAnimations(animations: CoinAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Particle burst effect\n      const particleCount = 6;\n      const particleRadius = 3;\n      const burstRadius = 50 * progress;\n\n      ctx.globalAlpha = alpha * 0.8;\n      ctx.fillStyle = '#FFD700'; // Gold color\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius;\n        const y = anim.y + Math.sin(angle) * burstRadius;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"+X puntos\" text\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 24px Arial';\n      ctx.fillStyle = '#FFD700';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 3;\n\n      const text = `+${anim.points} puntos`;\n      const textY = anim.y - 30 * progress; // Float upward\n\n      ctx.strokeText(text, anim.x - 40, textY);\n      ctx.fillText(text, anim.x - 40, textY);\n    }\n\n    ctx.restore();\n  }\n\n  /**\n   * Render crash/collision animations\n   */\n  renderCrashAnimations(animations: CrashAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Shake effect\n      const shakeX = (Math.random() - 0.5) * 10 * (1 - progress);\n      const shakeY = (Math.random() - 0.5) * 10 * (1 - progress);\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Red explosion particles\n      const particleCount = 8;\n      const particleRadius = 4;\n      const burstRadius = 60 * progress;\n\n      ctx.globalAlpha = alpha * 0.9;\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius + shakeX;\n        const y = anim.y + Math.sin(angle) * burstRadius + shakeY;\n\n        // Red to orange gradient\n        const color = i % 2 === 0 ? '#FF0000' : '#FF6600';\n        ctx.fillStyle = color;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius * (1 - progress * 0.5), 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"-3 puntos\" text with shake\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 28px Arial';\n      ctx.fillStyle = '#FF0000';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 4;\n\n      const text = '-3 puntos';\n      const textX = anim.x - 50 + shakeX;\n      const textY = anim.y - 20 * progress + shakeY; // Float upward\n\n      ctx.strokeText(text, textX, textY);\n      ctx.fillText(text, textX, textY);\n\n      // Impact flash effect\n      if (progress < 0.1) {\n        ctx.globalAlpha = (1 - progress * 10) * 0.5;\n        ctx.fillStyle = '#FFFFFF';\n        ctx.beginPath();\n        ctx.arc(anim.x, anim.y, 50, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    }\n\n    ctx.restore();\n  }\n}\n","import { MathUtils } from '../utils/math';\n\n/**\n * Optimized game loop with fixed timestep and frame rate management\n */\nexport class GameLoop {\n  private isRunning = false;\n  private animationFrameId: number | null = null;\n  private lastTimestamp = 0;\n  private accumulator = 0;\n  private readonly targetFps: number;\n  private readonly fixedTimeStep: number;\n  private readonly maxFrameTime: number;\n\n  // Performance monitoring\n  private frameCount = 0;\n  private lastFpsUpdate = 0;\n  private currentFps = 0;\n\n  constructor(\n    private update: (dt: number) => void,\n    private render: (interpolation: number) => void,\n    fps: number = 60\n  ) {\n    this.targetFps = fps;\n    this.fixedTimeStep = 1 / fps;\n    this.maxFrameTime = this.fixedTimeStep * 5; // Prevent spiral of death\n  }\n\n  /**\n   * Start the game loop\n   */\n  start(): void {\n    if (this.isRunning) return;\n\n    this.isRunning = true;\n    this.lastTimestamp = MathUtils.timestamp();\n    this.accumulator = 0;\n    this.loop();\n  }\n\n  /**\n   * Stop the game loop\n   */\n  stop(): void {\n    this.isRunning = false;\n    if (this.animationFrameId !== null) {\n      cancelAnimationFrame(this.animationFrameId);\n      this.animationFrameId = null;\n    }\n  }\n\n  /**\n   * Get current FPS\n   */\n  getFps(): number {\n    return this.currentFps;\n  }\n\n  /**\n   * Main game loop with fixed timestep\n   */\n  private loop = (): void => {\n    if (!this.isRunning) return;\n\n    const currentTime = MathUtils.timestamp();\n    let frameTime = (currentTime - this.lastTimestamp) / 1000;\n\n    // Prevent spiral of death by capping frame time\n    frameTime = Math.min(frameTime, this.maxFrameTime);\n    this.lastTimestamp = currentTime;\n    this.accumulator += frameTime;\n\n    // Fixed timestep updates\n    while (this.accumulator >= this.fixedTimeStep) {\n      this.update(this.fixedTimeStep);\n      this.accumulator -= this.fixedTimeStep;\n    }\n\n    // Calculate interpolation for smooth rendering\n    const interpolation = this.accumulator / this.fixedTimeStep;\n\n    // Render with interpolation\n    this.render(interpolation);\n\n    // Update FPS counter\n    this.updateFpsCounter();\n\n    // Schedule next frame\n    this.animationFrameId = requestAnimationFrame(this.loop);\n  };\n\n  /**\n   * Update FPS counter\n   */\n  private updateFpsCounter(): void {\n    this.frameCount++;\n    const now = MathUtils.timestamp();\n\n    if (now - this.lastFpsUpdate >= 1000) {\n      this.currentFps = Math.round((this.frameCount * 1000) / (now - this.lastFpsUpdate));\n      this.frameCount = 0;\n      this.lastFpsUpdate = now;\n    }\n  }\n}\n\n/**\n * Image loader utility for game assets\n */\nexport class ImageLoader {\n  /**\n   * Load multiple images and return them when all are loaded\n   */\n  static async loadImages(\n    names: string[],\n    basePath: string,\n    skin: string = 'default'\n  ): Promise<HTMLImageElement[]> {\n    const promises = names.map((name) => this.loadSingleImage(name, basePath, skin));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Load a single image\n   */\n  private static loadSingleImage(\n    name: string,\n    basePath: string,\n    skin: string\n  ): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = () => reject(new Error(`Failed to load image: ${name}`));\n\n      if (skin === 'default') {\n        img.src = `${basePath}/${name}.webp`;\n      } else {\n        img.src = `${basePath}/skins/${skin}/${name}.webp`;\n      }\n    });\n  }\n}\n\n/**\n * Input manager for keyboard and touch events\n */\nexport class InputManager {\n  private keys: { [key: number]: boolean } = {};\n  private keyHandlers: Array<{\n    keys: number[];\n    mode: 'up' | 'down';\n    action: () => void;\n  }> = [];\n\n  constructor() {\n    this.setupKeyboardListeners();\n  }\n\n  /**\n   * Setup keyboard event listeners\n   */\n  private setupKeyboardListeners(): void {\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Cleanup event listeners\n   */\n  destroy(): void {\n    document.removeEventListener('keydown', this.handleKeyDown);\n    document.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Register key handlers\n   */\n  setKeyHandlers(\n    handlers: Array<{\n      keys: number[];\n      mode: 'up' | 'down';\n      action: () => void;\n    }>\n  ): void {\n    this.keyHandlers = handlers;\n  }\n\n  /**\n   * Check if key is pressed\n   */\n  isKeyPressed(keyCode: number): boolean {\n    return this.keys[keyCode] || false;\n  }\n\n  /**\n   * Handle key down events\n   */\n  private handleKeyDown = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = true;\n    this.triggerKeyHandlers(event.keyCode, 'down');\n\n    // Prevent default for game keys\n    const gameKeys = [37, 38, 39, 40]; // Arrow keys\n    if (gameKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * Handle key up events\n   */\n  private handleKeyUp = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = false;\n    this.triggerKeyHandlers(event.keyCode, 'up');\n  };\n\n  /**\n   * Trigger registered key handlers\n   */\n  private triggerKeyHandlers(keyCode: number, mode: 'up' | 'down'): void {\n    for (const handler of this.keyHandlers) {\n      if (handler.mode === mode && handler.keys.includes(keyCode)) {\n        handler.action();\n      }\n    }\n  }\n\n  /**\n   * Setup touch controls for mobile\n   */\n  setupTouchControls(_isMobile: boolean): void {\n    // Touch controls are now handled directly through the game component\n    // This method is kept for compatibility but doesn't need to do anything\n  }\n\n  /**\n   * Get key code for touch direction\n   */\n  private getKeyCodeForDirection(direction: string): number {\n    switch (direction) {\n      case 'left':\n        return 37;\n      case 'up':\n        return 38;\n      case 'right':\n        return 39;\n      case 'down':\n        return 40;\n      default:\n        return 0;\n    }\n  }\n}\n","//Funcion para determinar si el usuario esta en un dispositivo movil\nexport const isMobile = () => {\n  if (typeof window !== 'undefined') {\n    const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n    const isMobileWidth = window.matchMedia('only screen and (max-width: 768px)').matches;\n    const moreThanOneTouchPoint = navigator.maxTouchPoints > 1; //cuantos puntos de contacto tiene el dispositivo\n    return isMobileWidth && isMobileUserAgent && moreThanOneTouchPoint;\n  }\n  return false;\n};\n","import React from 'react';\nimport type { HudState } from '../types';\n\ninterface HUDProps {\n  currentLap: number;\n  availableLaps: number;\n  points: number;\n  hud: HudState;\n  gameState: 'playing' | 'paused' | 'gameover' | 'loading' | 'ready';\n}\n\nexport const HUD: React.FC<HUDProps> = ({ currentLap, availableLaps, points, hud, gameState }) => {\n  /**\n   * Calculate speedometer rotation\n   */\n  const getSpeedometerRotation = () => {\n    const speed = parseInt(hud.speed || '0') || 0;\n    // Rotate needle between -90 and 90 degrees based on speed\n    return (speed / 100) * 180 - 90;\n  };\n\n  if (gameState !== 'playing' && gameState !== 'paused' && gameState !== 'loading') {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Top HUD */}\n      <div className=\"hud-top\">\n        {/* Lap Counter */}\n        <span className=\"hud-lap-counter\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/flag-laps.webp\" alt=\"laps\" />\n          <span className=\"hud-lap-text\">\n            {currentLap}/{availableLaps}\n          </span>\n        </span>\n\n        {/* Lap Time */}\n        <span className=\"hud-time\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/cronometer.webp\" alt=\"time\" />\n          <span className=\"hud-lap-text\">{hud.current_lap_time}</span>\n        </span>\n\n        {/* Points */}\n        <span className=\"hud-score\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/coin.webp\" alt=\"points\" />\n          <span className=\"hud-score-value\">{points}</span>\n        </span>\n      </div>\n\n      {/* Bottom HUD - Speedometer */}\n      <div className=\"hud-bottom\">\n        <div className=\"hud-speed\">\n          <svg className=\"hud-speedometer\" viewBox=\"0 0 200 200\">\n            {/* Background circle */}\n            <circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"#444\" strokeWidth=\"2\" />\n            {/* Speedometer arc */}\n            <path d=\"M 30 170 A 85 85 0 0 1 170 170\" fill=\"none\" stroke=\"#888\" strokeWidth=\"8\" />\n            {/* Speed markers */}\n            {[0, 25, 50, 75, 100].map((speed, i) => {\n              const angle = ((i * 180) / 4 - 90) * (Math.PI / 180);\n              const x1 = 100 + 70 * Math.cos(angle);\n              const y1 = 100 + 70 * Math.sin(angle);\n              const x2 = 100 + 80 * Math.cos(angle);\n              const y2 = 100 + 80 * Math.sin(angle);\n              return (\n                <line key={speed} x1={x1} y1={y1} x2={x2} y2={y2} stroke=\"#ccc\" strokeWidth=\"2\" />\n              );\n            })}\n            {/* Speed needle */}\n            <line\n              x1=\"100\"\n              y1=\"100\"\n              x2={100 + 65 * Math.cos((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              y2={100 + 65 * Math.sin((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              stroke=\"#ff4444\"\n              strokeWidth=\"4\"\n              strokeLinecap=\"round\"\n            />\n            {/* Center dot */}\n            <circle cx=\"100\" cy=\"100\" r=\"5\" fill=\"#ff4444\" />\n          </svg>\n          {/* Speed value */}\n          <div className=\"hud-speed-text\">{hud.speed} mph</div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\ninterface BillboardStatsProps {\n  getBillboardStats: () => {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } | null;\n  isVisible?: boolean;\n}\n\nexport const BillboardStats: React.FC<BillboardStatsProps> = ({\n  getBillboardStats,\n  isVisible = false,\n}) => {\n  const [stats, setStats] = useState<ReturnType<typeof getBillboardStats>>(null);\n\n  useEffect(() => {\n    if (isVisible) {\n      const interval = setInterval(() => {\n        const newStats = getBillboardStats();\n        if (newStats) {\n          setStats(newStats);\n        }\n      }, 1000); // Update every second\n\n      return () => clearInterval(interval);\n    }\n  }, [getBillboardStats, isVisible]);\n\n  if (!isVisible || !stats) return null;\n\n  const billboards = Object.keys(stats.placements).sort();\n\n  return (\n    <div className=\"billboard-stats\">\n      <h4 className=\"billboard-title\">Billboard Analytics</h4>\n      <div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Track:</span>\n          <span className=\"billboard-stat-value\">{stats.trackLength}m</span>\n        </div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Laps:</span>\n          <span className=\"billboard-stat-value\">{stats.totalLaps}</span>\n        </div>\n      </div>\n      <table style={{ width: '100%', fontSize: '0.75rem' }}>\n        <thead>\n          <tr style={{ borderBottom: '1px solid #4b5563' }}>\n            <th style={{ textAlign: 'left', paddingBottom: '0.125rem' }}>Billboard</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Placed</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Shown</th>\n            <th style={{ textAlign: 'right', paddingBottom: '0.125rem' }}>%</th>\n          </tr>\n        </thead>\n        <tbody>\n          {billboards.map((billboard) => {\n            const placed = stats.placements[billboard] || 0;\n            const shown = stats.impressions[billboard] || 0;\n            const maxPossible = stats.maxPossibleImpressions[billboard] || 0;\n            const percentage = maxPossible > 0 ? ((shown / maxPossible) * 100).toFixed(0) : '0';\n\n            return (\n              <tr key={billboard} style={{ borderBottom: '1px solid #374151' }}>\n                <td\n                  style={{\n                    paddingTop: '0.125rem',\n                    paddingBottom: '0.125rem',\n                    fontSize: '0.625rem',\n                  }}\n                >\n                  {billboard.replace('BILLBOARD', 'B')}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {placed}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {shown}\n                </td>\n                <td\n                  style={{ textAlign: 'right', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {percentage}%\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n        <tfoot>\n          <tr style={{ fontWeight: 'bold', borderTop: '1px solid #6b7280' }}>\n            <td style={{ paddingTop: '0.25rem', fontSize: '0.75rem' }}>TOTAL</td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.placements).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.impressions).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'right', paddingTop: '0.25rem' }}>\n              {Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0) > 0\n                ? (\n                    (Object.values(stats.impressions).reduce((a, b) => a + b, 0) /\n                      Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0)) *\n                    100\n                  ).toFixed(0)\n                : '0'}\n              %\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div style={{ marginTop: '0.25rem', fontSize: '0.625rem', color: '#9ca3af' }}>\n        <p>% = Shown vs Max Possible ({stats.totalLaps} laps)</p>\n      </div>\n    </div>\n  );\n};\n","import React, { forwardRef } from 'react'\n\ninterface GameCanvasProps {\n\twidth: number\n\theight: number\n\tclassName?: string\n\tonClick?: () => void\n\tstyle?: React.CSSProperties\n}\n\nexport const GameCanvas = forwardRef<HTMLCanvasElement, GameCanvasProps>(\n\t({ width, height, className = '', onClick, style }, ref) => {\n\t\treturn (\n\t\t\t<div className=\"game-canvas-wrapper\">\n\t\t\t\t{/* Decorative corner accents */}\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tr\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-bl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-br\" />\n\n\t\t\t\t{/* Canvas */}\n\t\t\t\t<canvas\n\t\t\t\t\tref={ref}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tclassName={`game-canvas ${className}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageRendering: 'pixelated',\n\t\t\t\t\t\t...style,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n)\n\nGameCanvas.displayName = 'GameCanvas'\n","import React from 'react'\n\ninterface GameControlsProps {\n\tonControl: (\n\t\tdirection: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2'\n\t) => void\n\tonControlEnd?: (\n\t\tdirection: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2'\n\t) => void\n\tbrandColor?: string\n\tshowActionButton?: boolean\n\tactionLabel?: string\n\tlayout?: 'dpad' | 'arrows' | 'horizontal' | 'racing'\n\tactionIcon?: React.ReactNode\n\taction2Label?: string\n\taction2Icon?: React.ReactNode\n}\n\nexport const GameControls: React.FC<GameControlsProps> = ({\n\tonControl,\n\tonControlEnd,\n\tshowActionButton = false,\n\tlayout = 'dpad',\n\tactionLabel = 'A',\n\tactionIcon,\n\taction2Label = 'B',\n\taction2Icon,\n}) => {\n\t// Common styles for preventing text selection\n\tconst preventSelectStyles: React.CSSProperties = {\n\t\tuserSelect: 'none',\n\t\tWebkitUserSelect: 'none',\n\t\tMozUserSelect: 'none',\n\t\tmsUserSelect: 'none',\n\t\ttouchAction: 'none',\n\t\tWebkitTouchCallout: 'none',\n\t}\n\n\tconst handleContextMenu = (e: React.MouseEvent) => {\n\t\te.preventDefault()\n\t\treturn false\n\t}\n\n\t// Horizontal layout for games like Breakout\n\tif (layout === 'horizontal') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-horizontal\">\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t\t{showActionButton && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal game-controls-btn-action\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Racing layout with steering controls on left and action buttons on right\n\tif (layout === 'racing') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-racing\">\n\t\t\t\t{/* Steering controls on the left */}\n\t\t\t\t<div className=\"game-controls-racing-steering\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('left')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('right')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Action buttons on the right */}\n\t\t\t\t<div className=\"game-controls-racing-actions\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-gas\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-brake\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{action2Icon || action2Label}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tif (layout === 'arrows') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-container\">\n\t\t\t\t<div className=\"game-controls-dpad\">\n\t\t\t\t\t{/* Background Circle */}\n\t\t\t\t\t<div className=\"game-controls-dpad-bg\" />\n\n\t\t\t\t\t{/* Center Circle */}\n\t\t\t\t\t<div className=\"game-controls-dpad-center\" />\n\n\t\t\t\t\t{/* Arrow Buttons */}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-up\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('left')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-left\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActionButton && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-action\"\n\t\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('right')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-right\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-down\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// D-Pad layout\n\treturn (\n\t\t<div className=\"game-controls-container\">\n\t\t\t<div className=\"game-controls-dpad\">\n\t\t\t\t{/* D-Pad Background */}\n\t\t\t\t<div className=\"game-controls-dpad-bg\" />\n\n\t\t\t\t{/* Center Circle */}\n\t\t\t\t<div className=\"game-controls-dpad-center\" />\n\n\t\t\t\t{/* D-Pad Buttons */}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t}}\n\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-up\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-right\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t}}\n\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-down\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-left\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t{/* Action Button */}\n\t\t\t\t{showActionButton && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-action\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","'use client';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useCarGame } from './hooks/useCarGame';\nimport { HUD } from './components/HUD';\nimport { BillboardStats } from './components/BillboardStats';\nimport { GameCanvas } from '../ui/GameCanvas';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { isMobile } from '../../../../utils/functions';\nimport { Language } from '../../../../types/i18n';\nimport { getTranslations } from '../../../../i18n';\n\ninterface RacingGameProps {\n  laps: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  /**\n   * Track layout to use:\n   * 0 (default) - Original balanced track with variety\n   * 1 - Speed Circuit: Fast track with long straights\n   * 2 - Mountain Pass: Challenging hills and curves\n   * 3 - Technical Circuit: Lots of curves and turns\n   */\n  track?: number;\n  skin?: string;\n  gameTitle?: string;\n  brandColor?: string;\n  brandLogo?: string;\n  showBillboardStats?: boolean;\n  lang?: Language;\n}\n\nconst RacingGame = ({\n  laps,\n  setPointsEarned,\n  setGameOver,\n  track = 0,\n  skin = 'default',\n  gameTitle = 'JALO Racing',\n  brandColor = '#00d26a',\n  brandLogo,\n  showBillboardStats = false,\n  lang = 'en',\n}: RacingGameProps) => {\n  const t = getTranslations(lang);\n  const mobile = isMobile();\n  const availableLaps = laps || 3;\n  const [gameStarted, setGameStarted] = useState(false);\n\n  // Use the new custom hook for game logic\n  const {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    startGame,\n    togglePause,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  } = useCarGame(availableLaps, track, skin, setPointsEarned, setGameOver);\n\n  // Start game when instructions are dismissed\n  const handleGameStart = async () => {\n    setGameStarted(true);\n    await startGame();\n  };\n\n  // Initialize canvas on mount\n  useEffect(() => {\n    if (canvasRef.current) {\n      // Set initial canvas dimensions\n      canvasRef.current.width = 720;\n      canvasRef.current.height = 960;\n    }\n  }, [canvasRef]);\n\n  // Setup touch controls when game starts on mobile\n  useEffect(() => {\n    if (mobile && gameState === 'playing') {\n      setupTouchControls(true);\n    }\n  }, [mobile, gameState, setupTouchControls]);\n\n  // Handle control input from GameControls\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameState !== 'playing') return;\n\n      // Directly update the input state through the hook\n      handleTouchControl(direction, true);\n    },\n    [gameState, handleTouchControl]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      // Directly update the input state through the hook\n      handleTouchControl(direction, false);\n    },\n    [handleTouchControl]\n  );\n\n  // Handle keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Prevent arrow key scrolling\n      const keys: { [key: number]: number } = { 37: 1, 38: 1, 39: 1, 40: 1 };\n      if (keys[e.keyCode]) {\n        e.preventDefault();\n        return false;\n      }\n\n      // Handle pause (ESC or Space)\n      if (gameStarted && (e.key === 'Escape' || e.key === ' ')) {\n        e.preventDefault();\n        togglePause();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown, false);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown, false);\n    };\n  }, [gameStarted, togglePause]);\n\n  return (\n    <div style={{ width: '100%', position: 'relative' }}>\n      <div\n        style={{\n          width: '100%',\n          position: 'relative',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.25rem',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        {/* Instructions Overlay */}\n        {!gameStarted && (\n          <GameOverlay\n            type=\"custom\"\n            title={gameTitle}\n            brandColor={brandColor}\n            onAction={handleGameStart}\n            actionText={t.games.racing.startRacing}\n            lang={lang}\n            customContent={\n              <div style={{ marginBottom: '1rem' }}>\n                {brandLogo && (\n                  <>\n                    <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                    <img\n                      src={brandLogo}\n                      alt=\"Brand Logo\"\n                      style={{\n                        margin: '0 auto',\n                        width: '12rem',\n                        height: 'auto',\n                        marginBottom: '1rem',\n                      }}\n                    />\n                  </>\n                )}\n                <p style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                  {mobile\n                    ? t.games.racing.useTouchControls\n                    : t.games.racing.useKeyboard}\n                </p>\n\n                <div style={{ marginTop: '0.5rem' }}>\n                  {mobile ? (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#059669',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#dc2626',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          A\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          D\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          W\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          S\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  )}\n                </div>\n\n                <p style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '1rem' }}>\n                  {t.games.racing.collectCoins}\n                </p>\n              </div>\n            }\n          />\n        )}\n\n        {/* Pause Overlay */}\n        {gameState === 'paused' && (\n          <GameOverlay\n            type=\"pause\"\n            title={` ${t.games.pause}`}\n            message={t.games.racing.pressEscContinue}\n            onAction={togglePause}\n            actionText={t.games.continue}\n            brandColor={brandColor}\n            lang={lang}\n          />\n        )}\n\n        {/* Game Area */}\n        <div\n          id=\"racer\"\n          style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%' }}\n        >\n          {gameState === 'gameover' && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} lang={lang} />\n          )}\n\n          {/* Game Canvas Container - always present but hidden during ready state */}\n          <div\n            style={{\n              position: 'relative',\n              padding: 0,\n              margin: 0,\n              width: '100%',\n              maxWidth: '360px',\n              height: '480px',\n              display: gameState === 'gameover' ? 'none' : 'block',\n              visibility: gameState === 'ready' ? 'hidden' : 'visible',\n            }}\n          >\n            {/* HUD Component */}\n            <HUD\n              currentLap={currentLap}\n              availableLaps={availableLaps}\n              points={points}\n              hud={hud}\n              gameState={gameState}\n            />\n\n            {/* Game Canvas */}\n            <GameCanvas\n              ref={canvasRef}\n              width={720}\n              height={960}\n              style={{ backgroundColor: '#35cafa', width: '100%', height: '100%' }}\n            />\n          </div>\n        </div>\n\n        {/* Billboard Statistics (Debug Mode) */}\n        <BillboardStats\n          getBillboardStats={getBillboardStats}\n          isVisible={showBillboardStats && gameState === 'playing' && !mobile}\n        />\n\n        {/* Game Controls */}\n        {mobile && gameState === 'playing' && (\n          <GameControls\n            onControl={handleControl}\n            onControlEnd={handleControlEnd}\n            layout=\"racing\"\n            brandColor={brandColor}\n            actionIcon=\"\"\n            action2Icon=\"\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RacingGame;\n","import { useState, useRef, useCallback, useEffect } from 'react';\nimport type {\n  Car,\n  InputState,\n  HudState,\n  GameConfig,\n  CoinAnimation,\n  CrashAnimation,\n} from '../types';\nimport { RoadEngine } from '../engine/road';\nimport { PhysicsEngine } from '../engine/physics';\nimport { RenderEngine } from '../engine/render';\nimport { GameLoop, ImageLoader, InputManager } from '../engine/gameLoop';\nimport { MathUtils } from '../utils/math';\nimport { DEFAULT_CONFIG, KEY, BACKGROUND } from '../constants';\nimport { isMobile } from '../../../../../utils/functions';\n\n/**\n * Custom hook for managing 3D car game state and logic\n */\nexport function useCarGame(\n  laps: number,\n  track: number,\n  skin: string,\n  setPointsEarned: (points: number) => void,\n  setGameOver: (isOver: boolean) => void\n) {\n  const mobile = isMobile();\n\n  // Game state\n  const [gameState, setGameState] = useState<\n    'loading' | 'ready' | 'playing' | 'paused' | 'gameover'\n  >('loading');\n  const gameStateRef = useRef(gameState);\n  const [currentLap, setCurrentLap] = useState(1);\n  const [points, setPoints] = useState(0);\n  const [hud, setHud] = useState<HudState>({\n    speed: '0',\n    current_lap_time: '00:00:0',\n  });\n  const coinAnimationsRef = useRef<CoinAnimation[]>([]);\n  const crashAnimationsRef = useRef<CrashAnimation[]>([]);\n\n  // Keep gameStateRef in sync\n  useEffect(() => {\n    gameStateRef.current = gameState;\n  }, [gameState]);\n\n  // Refs for game engines and state\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const roadEngineRef = useRef<RoadEngine>(null);\n  const physicsEngineRef = useRef<PhysicsEngine>(null);\n  const renderEngineRef = useRef<RenderEngine>(null);\n  const gameLoopRef = useRef<GameLoop>(null);\n  const inputManagerRef = useRef<InputManager>(null);\n\n  // Game world state\n  const gameWorldRef = useRef({\n    position: 0,\n    speed: 0,\n    playerX: 0,\n    playerZ: 0,\n    currentLapTime: 0,\n    cars: [] as Car[],\n    skyOffset: 0,\n    hillOffset: 0,\n    treeOffset: 0,\n    background: null as HTMLImageElement | null,\n    sprites: null as HTMLImageElement | null,\n    hasRendered: false,\n  });\n\n  // Input state\n  const inputStateRef = useRef<InputState>({\n    left: false,\n    right: false,\n    faster: false,\n    slower: false,\n  });\n\n  // Game configuration\n  const configRef = useRef<GameConfig>({\n    ...DEFAULT_CONFIG,\n    cameraDepth: 1 / Math.tan(((DEFAULT_CONFIG.fieldOfView / 2) * Math.PI) / 180),\n    maxSpeed: DEFAULT_CONFIG.segmentLength / ((1 / DEFAULT_CONFIG.fps) * 1.2),\n    accel: 0, // Will be calculated\n    breaking: 0, // Will be calculated\n    decel: 0, // Will be calculated\n    offRoadDecel: 0, // Will be calculated\n    offRoadLimit: 0, // Will be calculated\n    playerZ: 0, // Will be calculated in useEffect\n  });\n\n  // Calculate derived config values\n  useEffect(() => {\n    const config = configRef.current;\n    config.playerZ = config.cameraHeight * config.cameraDepth;\n    config.maxSpeed = config.segmentLength / ((1 / config.fps) * 1.2);\n    config.accel = config.maxSpeed / 5;\n    config.breaking = -config.maxSpeed;\n    config.decel = -config.maxSpeed / 5;\n    config.offRoadDecel = -config.maxSpeed / 2;\n    config.offRoadLimit = config.maxSpeed / 4;\n  }, []);\n\n  /**\n   * Format time for display\n   */\n  const formatTime = useCallback((dt: number): string => {\n    const minutes = Math.floor(dt / 60);\n    const seconds = Math.floor(dt - minutes * 60);\n    const tenths = Math.floor(10 * (dt - Math.floor(dt)));\n\n    if (minutes > 0 && minutes < 10) {\n      return `0${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    if (minutes > 0 && minutes >= 10) {\n      return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    return `00:${seconds < 10 ? '0' : ''}${seconds}:${tenths < 10 ? '0' : ''}${tenths}`;\n  }, []);\n\n  /**\n   * Update HUD values\n   */\n  const updateHud = useCallback((key: keyof HudState, value: string) => {\n    setHud((prevHud) => {\n      if (prevHud[key] !== value) {\n        return { ...prevHud, [key]: value };\n      }\n      return prevHud;\n    });\n  }, []);\n\n  /**\n   * Initialize game engines\n   */\n  const initializeEngines = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Set canvas dimensions\n    const config = configRef.current;\n    canvas.width = config.width;\n    canvas.height = config.height;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Initialize engines\n    roadEngineRef.current = new RoadEngine(config.segmentLength, config.rumbleLength);\n    physicsEngineRef.current = new PhysicsEngine({\n      maxSpeed: config.maxSpeed,\n      accel: config.accel,\n      breaking: config.breaking,\n      decel: config.decel,\n      offRoadDecel: config.offRoadDecel,\n      offRoadLimit: config.offRoadLimit,\n      centrifugal: config.centrifugal,\n      trackLength: 0, // Will be updated after road generation\n    });\n    renderEngineRef.current = new RenderEngine(ctx, config.width, config.height);\n    renderEngineRef.current.setCameraDepth(config.cameraDepth);\n    inputManagerRef.current = new InputManager();\n\n    // Setup input handlers\n    inputManagerRef.current.setKeyHandlers([\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.left = true;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.right = true;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.faster = true;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.slower = true;\n        },\n      },\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.left = false;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.right = false;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.faster = false;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.slower = false;\n        },\n      },\n    ]);\n\n    return true;\n  }, []);\n\n  /**\n   * Load game assets\n   */\n  const loadAssets = useCallback(async () => {\n    try {\n      const images = await ImageLoader.loadImages(\n        ['background', 'sprites'],\n        '/games/racing/images',\n        skin\n      );\n\n      gameWorldRef.current.background = images[0];\n      gameWorldRef.current.sprites = images[1];\n\n      return true;\n    } catch (error) {\n      console.error('Failed to load game assets:', error);\n      return false;\n    }\n  }, [skin]);\n\n  /**\n   * Reset game world\n   */\n  const resetGame = useCallback(() => {\n    const config = configRef.current;\n    const world = gameWorldRef.current;\n\n    // Reset world state\n    world.position = 0;\n    world.speed = 0;\n    world.playerX = 0;\n    world.currentLapTime = 0;\n    world.skyOffset = 0;\n    world.hillOffset = 0;\n    world.treeOffset = 0;\n\n    // Reset road and cars\n    if (roadEngineRef.current && physicsEngineRef.current) {\n      roadEngineRef.current.reset(track, config.playerZ);\n      const trackLength = roadEngineRef.current.getTrackLength();\n      physicsEngineRef.current.updateTrackLength(trackLength);\n      world.cars = roadEngineRef.current.resetCars(config.totalCars, config.maxSpeed);\n    }\n\n    // Reset UI state\n    setCurrentLap(1);\n    setPoints(0);\n    coinAnimationsRef.current = [];\n    crashAnimationsRef.current = [];\n    updateHud('speed', '0');\n    updateHud('current_lap_time', '00:00:0');\n  }, [track, updateHud]);\n\n  /**\n   * Game update loop\n   */\n  const update = useCallback(\n    (dt: number) => {\n      if (gameStateRef.current !== 'playing') return;\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const physics = physicsEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!physics || !road) return;\n\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const startPosition = world.position;\n\n      // Update player physics\n      const playerUpdate = physics.updatePlayer(\n        world.playerX,\n        world.speed,\n        world.position,\n        inputStateRef.current,\n        playerSegment,\n        dt,\n        (z) => road.findSegment(z),\n        config.width,\n        config.height\n      );\n\n      world.playerX = playerUpdate.playerX;\n      world.speed = playerUpdate.speed;\n      world.position = MathUtils.increase(world.position, dt * world.speed, road.getTrackLength());\n\n      // Handle points and crashes\n      if (playerUpdate.pointsEarned !== 0) {\n        setPoints((prev) => Math.max(prev + playerUpdate.pointsEarned, 0));\n      }\n\n      // Handle coin collection animation\n      if (playerUpdate.coinCollected && playerUpdate.pointsEarned > 0) {\n        coinAnimationsRef.current.push({\n          x: playerUpdate.coinCollected!.x,\n          y: playerUpdate.coinCollected!.y,\n          points: playerUpdate.pointsEarned,\n          startTime: Date.now(),\n        });\n      }\n\n      // Handle crash animation\n      if (playerUpdate.crashPosition && playerUpdate.crashed) {\n        crashAnimationsRef.current.push({\n          x: playerUpdate.crashPosition!.x,\n          y: playerUpdate.crashPosition!.y,\n          startTime: Date.now(),\n        });\n      }\n\n      // Update cars\n      physics.updateCars(\n        world.cars,\n        dt,\n        playerSegment,\n        world.playerX,\n        world.speed,\n        config.drawDistance,\n        (z) => road.findSegment(z),\n        road.getSegments()\n      );\n\n      // Update background scroll\n      const scrollUpdate = physics.updateScrollOffsets(\n        world.skyOffset,\n        world.hillOffset,\n        world.treeOffset,\n        playerSegment,\n        startPosition,\n        world.position,\n        config.segmentLength,\n        config.skySpeed,\n        config.hillSpeed,\n        config.treeSpeed\n      );\n\n      world.skyOffset = scrollUpdate.skyOffset;\n      world.hillOffset = scrollUpdate.hillOffset;\n      world.treeOffset = scrollUpdate.treeOffset;\n\n      // Handle lap completion\n      if (world.position > config.playerZ) {\n        if (world.currentLapTime && startPosition < config.playerZ) {\n          setCurrentLap((prev) => prev + 1);\n          road.removeAllCoins();\n          world.currentLapTime = 0;\n        } else {\n          world.currentLapTime += dt;\n        }\n      }\n\n      // Update HUD\n      updateHud('speed', String(5 * Math.round(world.speed / 500)));\n      updateHud('current_lap_time', formatTime(world.currentLapTime));\n    },\n    [formatTime, updateHud]\n  );\n\n  /**\n   * Game render loop\n   */\n  const render = useCallback(\n    (_interpolation: number) => {\n      if (gameStateRef.current !== 'playing') {\n        return;\n      }\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const renderer = renderEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!renderer || !road || !world.background || !world.sprites) return;\n\n      renderer.clear();\n\n      const baseSegment = road.findSegment(world.position);\n      const basePercent = MathUtils.percentRemaining(world.position, config.segmentLength);\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const playerPercent = MathUtils.percentRemaining(\n        world.position + config.playerZ,\n        config.segmentLength\n      );\n      const playerY = MathUtils.interpolate(\n        playerSegment.p1.world.y,\n        playerSegment.p2.world.y,\n        playerPercent\n      );\n\n      let x = 0;\n      let dx = -(baseSegment.curve * basePercent);\n      let maxy = config.height;\n\n      // Render background layers\n      renderer.background(\n        world.background,\n        BACKGROUND.SKY,\n        world.skyOffset,\n        renderer.resolution * config.skySpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.HILLS,\n        world.hillOffset,\n        renderer.resolution * config.hillSpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.TREES,\n        world.treeOffset,\n        renderer.resolution * config.treeSpeed * playerY\n      );\n\n      // Render road segments\n      const segments = road.getSegments();\n      for (let n = 0; n < config.drawDistance; n++) {\n        const segment = segments[(baseSegment.index + n) % segments.length];\n        segment.looped = segment.index < baseSegment.index;\n        segment.fog = MathUtils.exponentialFog(n / config.drawDistance, config.fogDensity);\n        segment.clip = maxy;\n\n        MathUtils.project(\n          segment.p1,\n          world.playerX * config.roadWidth - x,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n        MathUtils.project(\n          segment.p2,\n          world.playerX * config.roadWidth - x - dx,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n\n        x = x + dx;\n        dx = dx + segment.curve;\n\n        if (\n          segment.p1.camera.z <= config.cameraDepth ||\n          segment.p2.screen.y >= segment.p1.screen.y ||\n          segment.p2.screen.y >= maxy\n        ) {\n          continue;\n        }\n\n        renderer.segment(\n          config.lanes,\n          segment.p1.screen.x,\n          segment.p1.screen.y,\n          segment.p1.screen.w,\n          segment.p2.screen.x,\n          segment.p2.screen.y,\n          segment.p2.screen.w,\n          segment.fog,\n          segment.color\n        );\n\n        maxy = segment.p1.screen.y;\n      }\n\n      // Render all objects in correct z-order\n      renderer.renderObjects(\n        segments,\n        baseSegment.index,\n        config.drawDistance,\n        config.roadWidth,\n        world.sprites,\n        (sprite, segmentIndex, offset) => {\n          // Track billboard impressions\n          if (road.getBillboardName) {\n            const billboardName = road.getBillboardName(sprite);\n            if (billboardName) {\n              road.recordBillboardImpression(segmentIndex, offset, billboardName, currentLap);\n            }\n          }\n        }\n      );\n\n      // Render player\n      renderer.player(\n        config.roadWidth,\n        world.sprites,\n        world.speed / config.maxSpeed,\n        config.cameraDepth / config.playerZ,\n        config.width / 2,\n        config.height / 2 -\n          ((config.cameraDepth / config.playerZ) *\n            MathUtils.interpolate(\n              playerSegment.p1.camera.y,\n              playerSegment.p2.camera.y,\n              playerPercent\n            ) *\n            config.height) /\n            2,\n        world.speed * (inputStateRef.current.left ? -1 : inputStateRef.current.right ? 1 : 0),\n        playerSegment.p2.world.y - playerSegment.p1.world.y\n      );\n\n      // Render coin animations\n      const currentTime = Date.now();\n      renderer.renderCoinAnimations(coinAnimationsRef.current, currentTime);\n      renderer.renderCrashAnimations(crashAnimationsRef.current, currentTime);\n\n      // Clean up expired animations\n      coinAnimationsRef.current = coinAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n      crashAnimationsRef.current = crashAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n    },\n    [currentLap]\n  );\n\n  /**\n   * Start the game\n   */\n  const startGame = useCallback(async () => {\n    setGameState('loading');\n\n    if (!initializeEngines()) {\n      console.error('Failed to initialize game engines');\n      return;\n    }\n\n    const assetsLoaded = await loadAssets();\n    if (!assetsLoaded) {\n      console.error('Failed to load game assets');\n      return;\n    }\n\n    resetGame();\n\n    // Initialize game loop\n    gameLoopRef.current = new GameLoop(update, render, DEFAULT_CONFIG.fps);\n    gameLoopRef.current.start();\n\n    setGameState('playing');\n  }, [initializeEngines, loadAssets, resetGame, update, render]);\n\n  /**\n   * Pause/unpause game\n   */\n  const togglePause = useCallback(() => {\n    if (gameState === 'playing') {\n      setGameState('paused');\n      gameLoopRef.current?.stop();\n    } else if (gameState === 'paused') {\n      setGameState('playing');\n      gameLoopRef.current?.start();\n    }\n  }, [gameState]);\n\n  /**\n   * Stop the game\n   */\n  const stopGame = useCallback(() => {\n    gameLoopRef.current?.stop();\n    inputManagerRef.current?.destroy();\n    setGameState('gameover');\n  }, []);\n\n  // Check for game over condition\n  useEffect(() => {\n    if (currentLap > laps) {\n      setPointsEarned(points);\n      setGameOver(true);\n      stopGame();\n    }\n  }, [currentLap, laps, points, setPointsEarned, setGameOver, stopGame]);\n\n  /**\n   * Setup touch controls for mobile\n   */\n  const setupTouchControls = useCallback((isMobile: boolean) => {\n    if (inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(isMobile);\n    }\n  }, []);\n\n  // Setup touch controls after initialization\n  useEffect(() => {\n    if (gameState === 'playing' && inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(mobile);\n    }\n  }, [gameState, mobile]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      gameLoopRef.current?.stop();\n      inputManagerRef.current?.destroy();\n    };\n  }, []);\n\n  /**\n   * Handle touch control input directly\n   */\n  const handleTouchControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2', isPressed: boolean) => {\n      switch (direction) {\n        case 'left':\n          inputStateRef.current.left = isPressed;\n          break;\n        case 'right':\n          inputStateRef.current.right = isPressed;\n          break;\n        case 'up':\n          inputStateRef.current.faster = isPressed;\n          break;\n        case 'down':\n          inputStateRef.current.slower = isPressed;\n          break;\n      }\n    },\n    []\n  );\n\n  /**\n   * Get billboard statistics\n   */\n  const getBillboardStats = useCallback(() => {\n    if (roadEngineRef.current) {\n      return roadEngineRef.current.getBillboardStats(laps);\n    }\n    return null;\n  }, [laps]);\n\n  return {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    availableLaps: laps,\n    startGame,\n    togglePause,\n    stopGame,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  };\n}\n","import React from 'react'\nimport { createBoard } from '../game'\n// Types\nimport type { Player } from './usePlayer'\n\nexport type BoardCell = [string | number, string]\nexport type Board = BoardCell[][]\n\nexport const useBoard = (player: Player, resetPlayer: () => void) => {\n\tconst [board, setBoard] = React.useState(createBoard())\n\tconst [rowsCleared, setRowsCleared] = React.useState(0)\n\tconst [clearingRows, setClearingRows] = React.useState<number[]>([])\n\n\tReact.useEffect(() => {\n\t\tif (!player.pos) return\n\n\t\tsetRowsCleared(0)\n\n\t\tconst sweepRows = (newBoard: Board): Board => {\n\t\t\tlet rowsCleared = 0\n\t\t\tconst rowsToRemove: number[] = []\n\n\t\t\t// First, identify which rows are full\n\t\t\tnewBoard.forEach((row, index) => {\n\t\t\t\tif (row.every(cell => cell[0] !== 0)) {\n\t\t\t\t\trowsToRemove.push(index)\n\t\t\t\t\trowsCleared += 1\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Set the rows to be cleared for animation\n\t\t\tif (rowsToRemove.length > 0) {\n\t\t\t\tsetClearingRows(rowsToRemove)\n\n\t\t\t\t// Clear the animation after a delay\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetClearingRows([])\n\t\t\t\t}, 300)\n\t\t\t}\n\n\t\t\t// Then remove them\n\t\t\tconst updatedBoard = newBoard.reduce((acc, row, index) => {\n\t\t\t\tif (rowsToRemove.includes(index)) {\n\t\t\t\t\t// Aadir una nueva fila vaca al principio\n\t\t\t\t\tacc.unshift(\n\t\t\t\t\t\tnew Array(newBoard[0].length).fill([0, 'clear']) as BoardCell[]\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\t// Mantener la fila actual si no est llena\n\t\t\t\t\tacc.push(row)\n\t\t\t\t}\n\t\t\t\treturn acc\n\t\t\t}, [] as Board)\n\n\t\t\tsetRowsCleared(rowsCleared)\n\t\t\treturn updatedBoard\n\t\t}\n\n\t\tconst updateBoard = (prevBoard: Board): Board => {\n\t\t\t// First flush the board\n\t\t\t// If it says \"clear\" but don't have a 0 it means that it's the players move and should be cleared\n\t\t\tconst newBoard = prevBoard.map(\n\t\t\t\trow =>\n\t\t\t\t\trow.map(cell =>\n\t\t\t\t\t\tcell[1] === 'clear' ? [0, 'clear'] : cell\n\t\t\t\t\t) as BoardCell[]\n\t\t\t)\n\n\t\t\t// Then draw the tetromino\n\t\t\tplayer.tetromino.forEach((row, y) => {\n\t\t\t\trow.forEach((value, x) => {\n\t\t\t\t\tif (value !== 0) {\n\t\t\t\t\t\tnewBoard[y + player.pos.y][x + player.pos.x] = [\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t`${player.collided ? 'merged' : 'clear'}`,\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif (player.collided) {\n\t\t\t\tresetPlayer()\n\t\t\t\treturn sweepRows(newBoard)\n\t\t\t}\n\n\t\t\treturn newBoard\n\t\t}\n\n\t\tsetBoard(prev => updateBoard(prev))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [player.collided, player.pos?.x, player.pos?.y, player.tetromino])\n\n\treturn { board, setBoard, rowsCleared, clearingRows }\n}\n","import React from 'react'\n\ninterface GameHeaderProps {\n\tlevel?: number\n\tlives?: number\n\tscore: number\n\tonPause?: () => void\n\tisPaused?: boolean\n\tcustomItems?: React.ReactNode\n\tbrandColor?: string\n\tisMobile?: boolean\n\tonQuit?: () => void\n\tshowQuitButton?: boolean\n\tisQuitting?: boolean\n}\n\nexport const GameHeader: React.FC<GameHeaderProps> = ({\n\tlevel,\n\tlives,\n\tscore,\n\tonPause,\n\tisPaused = false,\n\tcustomItems,\n\tbrandColor = '#00d26a',\n\tisMobile,\n\tonQuit,\n\tshowQuitButton = false,\n\tisQuitting = false,\n}) => {\n\t// Show quit button if explicitly enabled\n\tconst shouldShowQuit = showQuitButton && onQuit && !isQuitting\n\n\treturn (\n\t\t<div className=\"game-header\">\n\t\t\t<div className=\"game-header-stats\">\n\t\t\t\t{level !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-label\">Nivel</span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{level}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{lives !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{lives}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t<span className=\"game-header-stat-value\">\n\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t{customItems}\n\t\t\t</div>\n\n\t\t\t{/* Control Buttons */}\n\t\t\t<div className=\"game-header-buttons\">\n\t\t\t\t{/* Pause Button - Hide when quit dialog is shown */}\n\t\t\t\t{onPause && !isQuitting && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onPause}\n\t\t\t\t\t\tclassName=\"game-header-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isPaused\n\t\t\t\t\t\t\t? ` ${isMobile ? '' : 'Continuar'}`\n\t\t\t\t\t\t\t: ` ${isMobile ? '' : 'Pausar'}`}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{/* Quit Button */}\n\t\t\t\t{shouldShowQuit && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onQuit}\n\t\t\t\t\t\tclassName=\"game-header-btn game-header-quit-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isMobile ? '' : ' Salir'}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import * as Tone from 'tone'\n\nexport class TetrisAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastMoveTime = 0\n\tprivate readonly MIN_MOVE_GAP = 0.04\n\n\t// Synthesizers\n\tprivate moveSynth: Tone.Synth | null = null\n\tprivate rotateSynth: Tone.Synth | null = null\n\tprivate lockSynth: Tone.MembraneSynth | null = null\n\tprivate lineSynth: Tone.PolySynth | null = null\n\tprivate tetrisSynth: Tone.PolySynth | null = null\n\tprivate gameOverSynth: Tone.Synth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Move synth - subtle click\n\t\tthis.moveSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.03,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.02,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Rotate synth - whoosh\n\t\tthis.rotateSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Lock synth - thud when piece locks\n\t\tthis.lockSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.02,\n\t\t\toctaves: 2,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Line clear synth - escalating chime\n\t\tthis.lineSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Tetris synth - special 4-line fanfare\n\t\tthis.tetrisSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sawtooth' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending\n\t\tthis.gameOverSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Subtle click when moving piece\n\tplayMove(): void {\n\t\tif (!this.initialized || this.muted || !this.moveSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastMoveTime < this.MIN_MOVE_GAP) return\n\n\t\tthis.lastMoveTime = now\n\t\tthis.moveSynth.triggerAttackRelease('G5', '64n', now)\n\t}\n\n\t// Whoosh when rotating\n\tplayRotate(): void {\n\t\tif (!this.initialized || this.muted || !this.rotateSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.rotateSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.rotateSynth.triggerAttackRelease('E5', '32n', now + 0.02)\n\t}\n\n\t// Thud when piece locks in place\n\tplayLock(): void {\n\t\tif (!this.initialized || this.muted || !this.lockSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.lockSynth.triggerAttackRelease('C3', '8n', now)\n\t}\n\n\t// Escalating chime for line clears (1-3 lines)\n\tplayLineClear(count: number): void {\n\t\tif (!this.initialized || this.muted || !this.lineSynth) return\n\n\t\t// If it's a Tetris (4 lines), use the special sound\n\t\tif (count >= 4) {\n\t\t\tthis.playTetris()\n\t\t\treturn\n\t\t}\n\n\t\tconst now = Tone.now()\n\t\t// Escalating notes based on count\n\t\tconst noteSequences: string[][] = [['C5'], ['C5', 'E5'], ['C5', 'E5', 'G5']]\n\n\t\tconst notes = noteSequences[Math.min(count - 1, 2)]\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.lineSynth!.triggerAttackRelease(note, '8n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Special 4-line Tetris fanfare\n\tplayTetris(): void {\n\t\tif (!this.initialized || this.muted || !this.tetrisSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Triumphant fanfare\n\t\tconst fanfare = [\n\t\t\t{ notes: ['C4', 'E4', 'G4'], time: 0 },\n\t\t\t{ notes: ['E4', 'G4', 'B4'], time: 0.1 },\n\t\t\t{ notes: ['G4', 'B4', 'D5'], time: 0.2 },\n\t\t\t{ notes: ['C5', 'E5', 'G5', 'C6'], time: 0.35 },\n\t\t]\n\n\t\tfanfare.forEach(({ notes, time }) => {\n\t\t\tthis.tetrisSynth!.triggerAttackRelease(notes, '4n', now + time)\n\t\t})\n\t}\n\n\t// Sad descending phrase for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'A3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.moveSynth?.dispose()\n\t\tthis.rotateSynth?.dispose()\n\t\tthis.lockSynth?.dispose()\n\t\tthis.lineSynth?.dispose()\n\t\tthis.tetrisSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.moveSynth = null\n\t\tthis.rotateSynth = null\n\t\tthis.lockSynth = null\n\t\tthis.lineSynth = null\n\t\tthis.tetrisSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const tetrisAudio = new TetrisAudioManager()\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { isMobile } from '../../../../utils/functions';\nimport { type Player } from './hooks/usePlayer';\nimport { useInterval } from './hooks/useInterval';\nimport { usePlayer } from './hooks/usePlayer';\nimport { useBoard } from './hooks/useBoard';\nimport { GameHeader } from '../ui/GameHeader';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { tetrisAudio } from './utils/audioManager';\n\nexport const BOARD_WIDTH = 10;\nexport const BOARD_HEIGHT = 20;\n\nconst TETROMINOS = {\n  0: { shape: [[0]], color: '#000000' },\n  I: {\n    shape: [\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n    ],\n    color: '#50e3e4', // RGB(80,227,230)\n  },\n  J: {\n    shape: [\n      [0, 'J', 0],\n      [0, 'J', 0],\n      ['J', 'J', 0],\n    ],\n    color: '#245fdf', // RGB(36,95,223)\n  },\n  L: {\n    shape: [\n      [0, 'L', 0],\n      [0, 'L', 0],\n      [0, 'L', 'L'],\n    ],\n    color: '#dfad24', // RGB(223,173,36)\n  },\n  O: {\n    shape: [\n      ['O', 'O'],\n      ['O', 'O'],\n    ],\n    color: '#dfd924', // RGB(223,217,36)\n  },\n  S: {\n    shape: [\n      [0, 'S', 'S'],\n      ['S', 'S', 0],\n      [0, 0, 0],\n    ],\n    color: '#30d934', // RGB(48,211,56)\n  },\n  T: {\n    shape: [\n      [0, 0, 0],\n      ['T', 'T', 'T'],\n      [0, 'T', 0],\n    ],\n    color: '#843dc6', // RGB(132,61,198)\n  },\n  Z: {\n    shape: [\n      ['Z', 'Z', 0],\n      [0, 'Z', 'Z'],\n      [0, 0, 0],\n    ],\n    color: '#e34e4e', // RGB(227,78,78)\n  },\n};\n\nexport type BoardCell = [keyof typeof TETROMINOS, string];\nexport type BoardType = BoardCell[][];\n\nexport const createBoard = () => {\n  return Array.from(Array(BOARD_HEIGHT), () => Array(BOARD_WIDTH).fill([0, 'clear']));\n};\n\nexport const randomTetromino = () => {\n  const tetrominos = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'] as (keyof typeof TETROMINOS)[];\n  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];\n  return TETROMINOS[randTetromino];\n};\n\nexport const isColliding = (\n  player: Player,\n  board: BoardType,\n  { x: moveX, y: moveY }: { x: number; y: number }\n) => {\n  // Using for loops to be able to return (and break). Not possible with forEach\n  for (let y = 0; y < player.tetromino.length; y += 1) {\n    for (let x = 0; x < player.tetromino[y].length; x += 1) {\n      // 1. Check that we're on an actual Tetromino cell\n      if (player.tetromino[y][x] !== 0) {\n        if (\n          // 2. Check that our move is inside the game areas height (y)\n          // That we're not moving through the bottom of the grid\n          !board[y + player.pos.y + moveY] ||\n          // 3. Check that our move is inside the game areas width (x)\n          !board[y + player.pos.y + moveY][x + player.pos.x + moveX] ||\n          // 4. Check that the cell we're moving to isn't set to clear\n          board[y + player.pos.y + moveY][x + player.pos.x + moveX][1] !== 'clear'\n        ) {\n          return true;\n        }\n      }\n    }\n  }\n};\n\ntype CellProps = {\n  type: keyof typeof TETROMINOS;\n  isClearing?: boolean;\n};\n\nconst Cell: React.FC<CellProps> = ({ type, isClearing }) => {\n  const color = TETROMINOS[type].color;\n  const isEmpty = type === 0;\n\n  return (\n    <div\n      className={`game-cell ${!isEmpty ? 'game-cell-filled' : ''} ${isClearing ? 'game-cell-clearing' : ''}`}\n      style={{\n        backgroundColor: isEmpty ? 'transparent' : isClearing ? '#ffffff' : color,\n        borderColor: isEmpty ? 'rgba(255, 255, 255, 0.1)' : isClearing ? '#ffffff' : `${color}88`,\n        boxShadow: isEmpty\n          ? 'none'\n          : `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`,\n      }}\n    />\n  );\n};\n\ntype BoardProps = {\n  board: BoardType;\n  clearingRows?: number[];\n};\n\nconst Board: React.FC<BoardProps> = ({ board, clearingRows = [] }) => {\n  return (\n    <div className=\"game-board-tetris\">\n      {board.map((row, y) =>\n        row.map((cell, x) => (\n          <Cell key={`${y}-${x}`} type={cell[0]} isClearing={clearingRows.includes(y)} />\n        ))\n      )}\n    </div>\n  );\n};\n\ntype NextPieceProps = {\n  shape: (string | number)[][];\n  color: string;\n};\n\nconst NextPiece: React.FC<NextPieceProps> = ({ shape, color }) => {\n  return (\n    <div\n      className=\"game-board-tetris\"\n      style={{\n        gridTemplateColumns: `repeat(${shape[0]?.length || 0}, 1fr)`,\n        gridTemplateRows: `repeat(${shape.length}, 1fr)`,\n        padding: '0.5rem',\n        border: '1px solid #4b5563',\n      }}\n    >\n      {shape.map((row, y) =>\n        row.map((cell, x) => (\n          <div\n            key={`${y}-${x}`}\n            className={`game-cell ${cell !== 0 ? 'game-cell-filled' : ''}`}\n            style={{\n              backgroundColor: cell !== 0 ? color : 'transparent',\n              borderColor: cell !== 0 ? `${color}88` : 'rgba(255, 255, 255, 0.1)',\n              boxShadow:\n                cell !== 0\n                  ? `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`\n                  : 'none',\n            }}\n          />\n        ))\n      )}\n    </div>\n  );\n};\n\ninterface TetrisGameProps {\n  lives: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  brandColor?: string;\n  skin?: string;\n  gameTitle?: string;\n  brandLogo?: string;\n}\n\nconst TetrisGame: React.FC<TetrisGameProps> = ({\n  lives,\n  setPointsEarned,\n  setGameOver,\n  brandColor,\n  skin = 'default',\n  gameTitle = 'TETRIS',\n  brandLogo,\n}) => {\n  const mobile = isMobile();\n\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gamePaused, setGamePaused] = useState(false);\n  const [gameOver, setGameOverState] = useState(false);\n  const [quitGame, setQuitGame] = useState(false);\n  const [wasGamePaused, setWasGamePaused] = useState(false);\n\n  const [currentLives, setCurrentLives] = useState(lives);\n  const [points, setPoints] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [, setTotalLinesCleared] = useState(0);\n  const [nextPiece, setNextPiece] = useState(randomTetromino());\n\n  const [dropTime, setDropTime] = useState<null | number>(null);\n  const [intervalSpeed, setIntervalSpeed] = useState<number>(1000);\n\n  const { player, updatePlayerPos, resetPlayer, playerRotate } = usePlayer();\n  const { board, setBoard, rowsCleared, clearingRows } = useBoard(player, () => {\n    resetPlayerWithNextPiece();\n  });\n\n  const touchTimeoutRef = useRef<any>(null);\n\n  const resetPlayerWithNextPiece = useCallback(() => {\n    if (nextPiece) {\n      resetPlayer(nextPiece.shape);\n      setNextPiece(randomTetromino());\n    }\n  }, [nextPiece, resetPlayer]);\n\n  const movePlayer = useCallback(\n    (dir: number) => {\n      if (!isColliding(player, board, { x: dir, y: 0 })) {\n        updatePlayerPos({ x: dir, y: 0, collided: false });\n        tetrisAudio.playMove();\n      }\n    },\n    [player, board, updatePlayerPos]\n  );\n\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameOver || gamePaused) return;\n\n      switch (direction) {\n        case 'up':\n          playerRotate(board);\n          tetrisAudio.playRotate();\n          break;\n        case 'down':\n          // Start fast drop\n          setDropTime(30);\n          break;\n        case 'left':\n          movePlayer(-1);\n          break;\n        case 'right':\n          movePlayer(1);\n          break;\n      }\n    },\n    [gameOver, gamePaused, board, playerRotate, movePlayer]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (direction === 'down') {\n        // Reset to normal drop speed\n        setDropTime(intervalSpeed);\n      }\n    },\n    [intervalSpeed]\n  );\n\n  const keyUp = ({ keyCode }: { keyCode: number }): void => {\n    if (!gameOver) {\n      if (keyCode === 40) {\n        setDropTime(intervalSpeed);\n      }\n    }\n  };\n\n  const move = ({ keyCode, repeat }: { keyCode: number; repeat: boolean }): void => {\n    if (!gamePaused || gameOver) {\n      if (keyCode === 37) {\n        movePlayer(-1);\n      } else if (keyCode === 39) {\n        movePlayer(1);\n      } else if (keyCode === 40) {\n        // just call once\n        if (repeat) return;\n        setDropTime(30);\n      } else if (keyCode === 38) {\n        playerRotate(board);\n        tetrisAudio.playRotate();\n      }\n    }\n  };\n\n  const drop = () => {\n    if (!isColliding(player, board, { x: 0, y: 1 })) {\n      updatePlayerPos({ x: 0, y: 1, collided: false });\n    } else {\n      if (player.pos.y < 1) {\n        setCurrentLives(currentLives - 1);\n        if (currentLives - 1 <= 0) {\n          setGameOverState(true);\n          setGameOver(true);\n          setPointsEarned(points);\n          setDropTime(null);\n          tetrisAudio.playGameOver();\n        } else {\n          setBoard(createBoard());\n        }\n      } else {\n        updatePlayerPos({ x: 0, y: 0, collided: true });\n        tetrisAudio.playLock();\n      }\n    }\n  };\n\n  const startGame = () => {\n    setGameStarted(true);\n    setBoard(createBoard());\n    setDropTime(intervalSpeed); // Use initial speed\n    setNextPiece(randomTetromino());\n    resetPlayerWithNextPiece();\n    setGameOverState(false);\n    setPoints(0);\n    setCurrentLives(lives);\n    setLevel(1);\n    setTotalLinesCleared(0);\n    setQuitGame(false);\n  };\n\n  const cancelQuit = () => {\n    setQuitGame(false);\n    setGamePaused(wasGamePaused);\n  };\n\n  const handleQuitConfirm = () => {\n    setPointsEarned(points);\n    setGameOver(true);\n    setGameStarted(false);\n    setDropTime(null);\n  };\n\n  const preventDefaultForScrollKeys = (e: any) => {\n    const keys: any = { 37: 1, 38: 1, 39: 1, 40: 1 };\n    if (keys[e.keyCode] === 1) {\n      e.preventDefault();\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n    tetrisAudio.init();\n    return () => {\n      tetrisAudio.dispose();\n    };\n  }, []);\n\n  useInterval(() => {\n    if (gameStarted && !gameOver && !gamePaused) {\n      drop();\n    }\n  }, dropTime);\n\n  useEffect(() => {\n    if (rowsCleared > 0) {\n      // Calculate points based on lines cleared\n      let pointsEarned = 0;\n      switch (rowsCleared) {\n        case 1:\n          pointsEarned = 100 * level;\n          break;\n        case 2:\n          pointsEarned = 300 * level;\n          break;\n        case 3:\n          pointsEarned = 500 * level;\n          break;\n        case 4:\n          pointsEarned = 800 * level; // Tetris!\n          break;\n        default:\n          pointsEarned = 100 * level * rowsCleared;\n      }\n\n      // Play line clear sound\n      tetrisAudio.playLineClear(rowsCleared);\n\n      setPoints((prev) => prev + pointsEarned);\n      setTotalLinesCleared((prev) => {\n        const newTotal = prev + rowsCleared;\n        // Level up every 10 lines\n        const newLevel = Math.floor(newTotal / 10) + 1;\n        if (newLevel > level) {\n          setLevel(newLevel);\n        }\n        return newTotal;\n      });\n      setDropTime(intervalSpeed);\n    }\n  }, [rowsCleared, level, intervalSpeed]);\n\n  // Adjust the speed of the game according to the level\n  useEffect(() => {\n    // Speed formula: 1000ms - (level * 50ms), minimum 100ms\n    const newSpeed = Math.max(100, 1000 - (level - 1) * 50);\n    setIntervalSpeed(newSpeed);\n  }, [level]);\n\n  useEffect(() => {\n    setDropTime(intervalSpeed); // Update dropTime when intervalSpeed changes\n  }, [intervalSpeed]);\n\n  // Add the event listeners on mount and remove them on unmount\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => move(e);\n    const handleKeyUp = (e: KeyboardEvent) => keyUp(e);\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gamePaused, gameOver, player, board, intervalSpeed, movePlayer, playerRotate]);\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    const timeoutRef = touchTimeoutRef.current;\n    return () => {\n      if (timeoutRef) {\n        clearTimeout(timeoutRef);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"game-container\" style={{ backgroundColor: brandColor ? brandColor : '#111827' }}>\n      {/* Game Header */}\n      <GameHeader\n        level={level}\n        lives={currentLives}\n        score={points}\n        onPause={() => setGamePaused(!gamePaused)}\n        isPaused={gamePaused}\n        brandColor={brandColor}\n        isMobile={mobile}\n        onQuit={() => {\n          setQuitGame(true);\n          setWasGamePaused(gamePaused);\n          setGamePaused(true);\n        }}\n        showQuitButton={gameStarted}\n        isQuitting={quitGame}\n      />\n      {/* Game Container */}\n      <div className=\"game-board\">\n        <div className=\"game-board-inner\">\n          {/* Game Board */}\n          <div\n            className=\"game-board-content\"\n            onKeyDown={move}\n            onKeyUp={keyUp}\n          >\n            <div style={{ display: 'flex', gap: '1rem' }}>\n              {/* Main Board */}\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <Board board={board} clearingRows={clearingRows} />\n              </div>\n\n              {/* Next Piece Preview */}\n              <div className=\"game-next-piece\">\n                <h3 className=\"game-next-piece-title\">SIGUIENTE</h3>\n                <div className=\"game-next-piece-box\">\n                  <NextPiece shape={nextPiece.shape} color={nextPiece.color} />\n                </div>\n                {skin !== 'default' && (\n                  <div style={{ width: '100%', marginTop: '1.5rem', color: '#9ca3af' }}>\n                    <img\n                      src={`/games/tetris/skins/${skin}/ad.webp`}\n                      alt={`${skin} skin - Ad 200x600`}\n                      style={{ width: '96%', margin: '0 auto', objectFit: 'contain' }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Game Overlays */}\n          {gamePaused && !quitGame && (\n            <GameOverlay\n              type=\"pause\"\n              brandColor={brandColor}\n              onAction={() => setGamePaused(false)}\n            />\n          )}\n\n          {/* Quit Confirmation Overlay */}\n          {quitGame && (\n            <GameOverlay\n              type=\"custom\"\n              title=\"Salir del Juego?\"\n              message={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n              brandColor={brandColor}\n              customContent={\n                <div className=\"game-quit-buttons\">\n                  <button\n                    onClick={cancelQuit}\n                    className=\"game-quit-btn game-quit-btn-cancel\"\n                  >\n                     Cancelar\n                  </button>\n                  <button\n                    onClick={handleQuitConfirm}\n                    className=\"game-quit-btn game-quit-btn-confirm\"\n                  >\n                     Salir Ahora\n                  </button>\n                </div>\n              }\n            />\n          )}\n\n          {gameOver && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} />\n          )}\n\n          {!gameStarted && (\n            <GameOverlay\n              type=\"custom\"\n              brandColor={brandColor}\n              onAction={startGame}\n              actionText=\" JUGAR\"\n              showPressToStart={false}\n              customContent={\n                <div style={{ textAlign: 'center' }}>\n                  <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#a855f7', marginBottom: '0.5rem' }}>\n                    {gameTitle}\n                  </h1>\n                  {brandLogo && (\n                    <>\n                      <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                      <img\n                        src={brandLogo}\n                        alt=\"Brand Logo\"\n                        style={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n                      />\n                    </>\n                  )}\n                  <div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n                    <p> Completa lneas horizontales</p>\n                    <p> Rota las piezas con flecha arriba</p>\n                    <p> Acelera la cada con flecha abajo</p>\n                  </div>\n                  <div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n                    <p>Usa las flechas del teclado o los controles tctiles</p>\n                  </div>\n                </div>\n              }\n            />\n          )}\n        </div>\n      </div>\n      {/* Mobile Controls */}\n      {mobile && gameStarted && (\n        <GameControls\n          onControl={handleControl}\n          onControlEnd={handleControlEnd}\n          layout=\"arrows\"\n          brandColor={brandColor}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TetrisGame;\n","import { useCallback, useState } from 'react'\nimport { BOARD_WIDTH, BoardType, randomTetromino, isColliding } from '../game'\n\nexport type Player = {\n\tpos: {\n\t\tx: number\n\t\ty: number\n\t}\n\ttetromino: (string | number)[][]\n\tcollided: boolean\n}\n\nexport const usePlayer = () => {\n\tconst [player, setPlayer] = useState({} as Player)\n\n\tconst rotate = (matrix: Player['tetromino']) => {\n\t\t// Make the rows to become cols (transpose)\n\t\tconst mtrx = matrix.map((_, i) => matrix.map(column => column[i]))\n\t\t// Reverse each row to get a rotated matrix\n\t\treturn mtrx.map(row => row.reverse())\n\t}\n\n\tconst playerRotate = (stage: BoardType): void => {\n\t\tconst clonedPlayer = JSON.parse(JSON.stringify(player))\n\t\tclonedPlayer.tetromino = rotate(clonedPlayer.tetromino)\n\n\t\t// This one is so the player can't rotate into the walls or other tetrominos that's merged\n\t\tconst posX = clonedPlayer.pos.x\n\t\tlet offset = 1\n\t\twhile (isColliding(clonedPlayer, stage, { x: 0, y: 0 })) {\n\t\t\tclonedPlayer.pos.x += offset\n\t\t\toffset = -(offset + (offset > 0 ? 1 : -1))\n\n\t\t\tif (offset > clonedPlayer.tetromino[0].length) {\n\t\t\t\tclonedPlayer.pos.x = posX\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tsetPlayer(clonedPlayer)\n\t}\n\n\tconst updatePlayerPos = ({\n\t\tx,\n\t\ty,\n\t\tcollided,\n\t}: {\n\t\tx: number\n\t\ty: number\n\t\tcollided: boolean\n\t}): void => {\n\t\tsetPlayer(prev => ({\n\t\t\t...prev,\n\t\t\tpos: { x: prev.pos.x + x, y: prev.pos.y + y },\n\t\t\tcollided,\n\t\t}))\n\t}\n\n\tconst resetPlayer = useCallback(\n\t\t(shape?: (string | number)[][]): void =>\n\t\t\tsetPlayer({\n\t\t\t\tpos: { x: BOARD_WIDTH / 2 - 2, y: 0 },\n\t\t\t\ttetromino: shape || randomTetromino().shape,\n\t\t\t\tcollided: false,\n\t\t\t}),\n\t\t[]\n\t)\n\n\treturn { player, updatePlayerPos, resetPlayer, playerRotate }\n}\n","import { useEffect, useRef } from 'react'\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n\tconst savedCallback = useRef<() => void>(callback)\n\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback\n\t}, [callback])\n\n\tuseEffect(() => {\n\t\tconst tick = () => {\n\t\t\tif (savedCallback.current) {\n\t\t\t\tsavedCallback.current()\n\t\t\t}\n\t\t}\n\n\t\tif (delay !== null) {\n\t\t\tconst id = setInterval(tick, delay)\n\t\t\treturn () => clearInterval(id)\n\t\t}\n\t}, [delay])\n}\n","export interface Position {\n\tx: number\n\ty: number\n}\n\nexport type Direction = 'UP' | 'DOWN' | 'LEFT' | 'RIGHT'\n\nexport interface Food {\n\tposition: Position\n\tpoints: number\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n}\n\nexport interface FoodType {\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n\tpoints: number\n\tspecialEffect?: 'boost' | 'diet'\n\trarity?: number // 0-1, where 1 is most common\n}\n\nexport const FOOD_TYPES: FoodType[] = [\n\t{ type: 'apple', points: 1, rarity: 0.3 },\n\t{ type: 'banana', points: 2, rarity: 0.25 },\n\t{ type: 'cherries', points: 3, rarity: 0.2 },\n\t{ type: 'grapes', points: 5, rarity: 0.15 },\n\t{ type: 'boost', points: 1, specialEffect: 'boost', rarity: 0.05 },\n\t{ type: 'diet', points: 0, specialEffect: 'diet', rarity: 0.05 },\n]\n\nexport interface GameState {\n\tsnake: Position[]\n\tfood: Food\n\tdirection: Direction\n\tnextDirection: Direction\n\tscore: number\n\tlives: number\n\tgameStarted: boolean\n\tgamePaused: boolean\n\tgameOver: boolean\n\tspeed: number\n}\n\nexport interface SnakeGameProps {\n\timages: {\n\t\theadUp: HTMLImageElement\n\t\theadDown: HTMLImageElement\n\t\theadLeft: HTMLImageElement\n\t\theadRight: HTMLImageElement\n\t\ttail: HTMLImageElement\n\t\tapple: HTMLImageElement\n\t\tbanana: HTMLImageElement\n\t\tcherries: HTMLImageElement\n\t\tgrapes: HTMLImageElement\n\t\tboost: HTMLImageElement\n\t\tdiet: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t}\n\tonScoreUpdate: (score: number) => void\n\tonLivesUpdate: (lives: number) => void\n\tonGameOver: () => void\n\tisPaused: boolean\n\tboardSize?: number\n\tcellSize?: number\n}\n","import * as Tone from 'tone'\n\nexport class SnakeAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastSynthTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015\n\n\t// Synthesizers\n\tprivate popSynth: Tone.Synth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Pop synth - for eating food\n\t\tthis.popSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bell synth - sparkly sounds for boost\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Bass synth - for game over thud\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Noise synth - for game over texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Melody synth - for speed up fanfare\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\tprivate getSafeTime(lastTime: number, synthKey: 'synth' | 'noise'): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\tif (synthKey === 'synth') this.lastSynthTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Pop sound when eating regular food\n\tplayEatFood(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', time)\n\t}\n\n\t// Sparkly arpeggio when eating boost item\n\tplayEatBoost(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['E5', 'G5', 'B5', 'E6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.05)\n\t\t})\n\t}\n\n\t// Whoosh down when eating diet item\n\tplayEatDiet(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('G4', '16n', time)\n\t\tthis.popSynth.triggerAttackRelease('D4', '16n', time + 0.05)\n\t\tthis.lastSynthTime = time + 0.05\n\t}\n\n\t// Bass thud + noise for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '4n', bassTime)\n\t\t}\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\t\tif (this.melodySynth) {\n\t\t\t// Sad descending phrase\n\t\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\t\t\tphrase.forEach((note, i) => {\n\t\t\t\tthis.melodySynth!.triggerAttackRelease(\n\t\t\t\t\tnote,\n\t\t\t\t\t'8n',\n\t\t\t\t\tbassTime + 0.2 + i * 0.2\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t}\n\n\t// Ascending tone when speed increases\n\tplaySpeedUp(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['C5', 'E5', 'G5']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '32n', now + i * 0.06)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.popSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.popSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const snakeAudio = new SnakeAudioManager()\n","import React, { useRef, useEffect, useCallback, useState } from 'react'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { Position, Direction, Food, FOOD_TYPES, SnakeGameProps } from './types'\nimport { snakeAudio } from './utils/audioManager'\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\timages,\n\tonScoreUpdate,\n\tonGameOver,\n\tisPaused,\n\tboardSize = 20,\n\tcellSize = 20,\n}) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst [snake, setSnake] = useState<Position[]>([{ x: 10, y: 10 }])\n\tconst [food, setFood] = useState<Food>({\n\t\tposition: { x: 15, y: 15 },\n\t\tpoints: 1,\n\t\ttype: 'apple',\n\t})\n\tconst [direction, setDirection] = useState<Direction>('RIGHT')\n\tconst [nextDirection, setNextDirection] = useState<Direction>('RIGHT')\n\tconst [speed, setSpeed] = useState<number>(200)\n\tconst lastUpdateTime = useRef<number>(0)\n\tconst animationFrameId = useRef<number>(0)\n\tconst currentScore = useRef<number>(0)\n\tconst [boostActive, setBoostActive] = useState<boolean>(false)\n\tconst [boostTimer, setBoostTimer] = useState<number>(0)\n\tconst boostMultiplier = useRef<number>(1)\n\tconst hasCollided = useRef<boolean>(false)\n\n\tconst canvasSize = boardSize * cellSize\n\n\t// Initialize audio and reset collision flag when component mounts\n\tuseEffect(() => {\n\t\thasCollided.current = false\n\t\tsnakeAudio.init()\n\t\treturn () => {\n\t\t\thasCollided.current = false\n\t\t\tsnakeAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Get random position that doesn't overlap with snake\n\tconst getRandomPosition = useCallback((): Position => {\n\t\tconst generatePosition = (): Position => ({\n\t\t\tx: Math.floor(Math.random() * boardSize),\n\t\t\ty: Math.floor(Math.random() * boardSize),\n\t\t})\n\n\t\tlet pos = generatePosition()\n\t\t// eslint-disable-next-line no-loop-func\n\t\twhile (snake.some(segment => segment.x === pos.x && segment.y === pos.y)) {\n\t\t\tpos = generatePosition()\n\t\t}\n\t\treturn pos\n\t}, [boardSize, snake])\n\n\t// Get random food item based on rarity\n\tconst getRandomFood = useCallback((): Food => {\n\t\t// Calculate total rarity weight\n\t\tconst totalWeight = FOOD_TYPES.reduce(\n\t\t\t(sum, food) => sum + (food.rarity || 0),\n\t\t\t0\n\t\t)\n\t\tlet random = Math.random() * totalWeight\n\n\t\t// Select food based on weighted random\n\t\tlet selectedFood = FOOD_TYPES[0]\n\t\tfor (const foodType of FOOD_TYPES) {\n\t\t\trandom -= foodType.rarity || 0\n\t\t\tif (random <= 0) {\n\t\t\t\tselectedFood = foodType\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tposition: getRandomPosition(),\n\t\t\tpoints: selectedFood.points,\n\t\t\ttype: selectedFood.type,\n\t\t}\n\t}, [getRandomPosition])\n\n\t// Handle keyboard input\n\tconst handleKeyDown = useCallback(\n\t\t(event: KeyboardEvent) => {\n\t\t\tif (isPaused) return\n\n\t\t\t// Prevent default for arrow keys\n\t\t\tif (event.key.startsWith('Arrow')) {\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\n\t\t\t// Queue direction changes to prevent immediate reversal\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tif (direction !== 'DOWN') {\n\t\t\t\t\t\tsetNextDirection('UP')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tif (direction !== 'UP') {\n\t\t\t\t\t\tsetNextDirection('DOWN')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tif (direction !== 'RIGHT') {\n\t\t\t\t\t\tsetNextDirection('LEFT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tif (direction !== 'LEFT') {\n\t\t\t\t\t\tsetNextDirection('RIGHT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\t[isPaused, direction]\n\t)\n\n\t// Setup keyboard event listeners\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', handleKeyDown)\n\t\treturn () => window.removeEventListener('keydown', handleKeyDown)\n\t}, [handleKeyDown])\n\n\t// Move snake\n\tconst moveSnake = useCallback(() => {\n\t\tif (isPaused) return\n\n\t\t// Update direction to queued direction\n\t\tsetDirection(nextDirection)\n\n\t\tsetSnake(currentSnake => {\n\t\t\tconst newSnake = [...currentSnake]\n\t\t\tconst head = { ...newSnake[0] }\n\n\t\t\t// Move head based on direction\n\t\t\tswitch (nextDirection) {\n\t\t\t\tcase 'UP':\n\t\t\t\t\thead.y -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'DOWN':\n\t\t\t\t\thead.y += 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'LEFT':\n\t\t\t\t\thead.x -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'RIGHT':\n\t\t\t\t\thead.x += 1\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t// Wrap around board edges\n\t\t\tif (head.x < 0) head.x = boardSize - 1\n\t\t\tif (head.x >= boardSize) head.x = 0\n\t\t\tif (head.y < 0) head.y = boardSize - 1\n\t\t\tif (head.y >= boardSize) head.y = 0\n\n\t\t\t// Check self collision\n\t\t\tif (\n\t\t\t\tnewSnake.some(segment => segment.x === head.x && segment.y === head.y)\n\t\t\t) {\n\t\t\t\t// Collision detected - notify parent only once\n\t\t\t\tif (!hasCollided.current) {\n\t\t\t\t\thasCollided.current = true\n\t\t\t\t\tsnakeAudio.playGameOver()\n\t\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tonGameOver()\n\t\t\t\t\t}, 0)\n\t\t\t\t}\n\t\t\t\treturn currentSnake\n\t\t\t}\n\n\t\t\t// Add new head\n\t\t\tnewSnake.unshift(head)\n\n\t\t\t// Check food collision\n\t\t\tif (head.x === food.position.x && head.y === food.position.y) {\n\t\t\t\t// Handle special effects\n\t\t\t\tconst foodType = FOOD_TYPES.find(f => f.type === food.type)\n\t\t\t\tif (foodType?.specialEffect === 'boost') {\n\t\t\t\t\t// Activate boost\n\t\t\t\t\tsetBoostActive(true)\n\t\t\t\t\tsetBoostTimer(10000) // 10 seconds\n\t\t\t\t\tboostMultiplier.current = 2\n\t\t\t\t\tsnakeAudio.playEatBoost()\n\t\t\t\t} else if (foodType?.specialEffect === 'diet' && newSnake.length > 1) {\n\t\t\t\t\t// Reduce snake size by 3 segments (minimum 1 segment)\n\t\t\t\t\tconst segmentsToRemove = Math.min(3, newSnake.length - 1)\n\t\t\t\t\tfor (let i = 0; i < segmentsToRemove; i++) {\n\t\t\t\t\t\tnewSnake.pop()\n\t\t\t\t\t}\n\t\t\t\t\tsnakeAudio.playEatDiet()\n\t\t\t\t} else {\n\t\t\t\t\tsnakeAudio.playEatFood()\n\t\t\t\t}\n\n\t\t\t\t// Eat food and calculate score with boost multiplier\n\t\t\t\tconst baseScore = food.points\n\t\t\t\tconst actualScore = baseScore * boostMultiplier.current\n\t\t\t\tcurrentScore.current += actualScore\n\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonScoreUpdate(actualScore)\n\t\t\t\t}, 0)\n\t\t\t\tsetFood(getRandomFood())\n\n\t\t\t\t// Increase speed every 25 points with more progressive increments\n\t\t\t\tif (currentScore.current % 25 === 0) {\n\t\t\t\t\tsetSpeed(prev => Math.max(40, prev - 10))\n\t\t\t\t\tsnakeAudio.playSpeedUp()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Remove tail if no food eaten\n\t\t\t\tnewSnake.pop()\n\t\t\t}\n\n\t\t\treturn newSnake\n\t\t})\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isPaused, nextDirection, boardSize, food, getRandomFood, onGameOver])\n\n\t// Update boost timer\n\tuseEffect(() => {\n\t\tif (boostActive && boostTimer > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetBoostTimer(prev => {\n\t\t\t\t\tif (prev <= 100) {\n\t\t\t\t\t\tsetBoostActive(false)\n\t\t\t\t\t\tboostMultiplier.current = 1\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t\treturn prev - 100\n\t\t\t\t})\n\t\t\t}, 100)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [boostActive, boostTimer])\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst gameLoop = (timestamp: number) => {\n\t\t\tif (timestamp - lastUpdateTime.current >= speed) {\n\t\t\t\tmoveSnake()\n\t\t\t\tlastUpdateTime.current = timestamp\n\t\t\t}\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [moveSnake, speed])\n\n\t// Drawing\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\t// Clear canvas\n\t\tctx.clearRect(0, 0, canvasSize, canvasSize)\n\n\t\t// Draw background\n\t\tctx.drawImage(images.background, 0, 0, canvasSize, canvasSize)\n\n\t\t// Draw grid overlay (subtle)\n\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.1)'\n\t\tctx.lineWidth = 0.5\n\t\tfor (let i = 0; i <= boardSize; i++) {\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(i * cellSize, 0)\n\t\t\tctx.lineTo(i * cellSize, canvasSize)\n\t\t\tctx.moveTo(0, i * cellSize)\n\t\t\tctx.lineTo(canvasSize, i * cellSize)\n\t\t\tctx.stroke()\n\t\t}\n\n\t\t// Draw snake\n\t\tsnake.forEach((segment, index) => {\n\t\t\tif (index === 0) {\n\t\t\t\t// Draw head based on direction\n\t\t\t\tlet headImage: HTMLImageElement\n\t\t\t\tswitch (direction) {\n\t\t\t\t\tcase 'UP':\n\t\t\t\t\t\theadImage = images.headUp\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'DOWN':\n\t\t\t\t\t\theadImage = images.headDown\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'LEFT':\n\t\t\t\t\t\theadImage = images.headLeft\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'RIGHT':\n\t\t\t\t\t\theadImage = images.headRight\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tctx.drawImage(\n\t\t\t\t\theadImage,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\t// Draw tail for body segments\n\t\t\t\tctx.drawImage(\n\t\t\t\t\timages.tail,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\n\t\t// Draw food\n\t\tlet foodImage: HTMLImageElement\n\t\tswitch (food.type) {\n\t\t\tcase 'apple':\n\t\t\t\tfoodImage = images.apple\n\t\t\t\tbreak\n\t\t\tcase 'banana':\n\t\t\t\tfoodImage = images.banana\n\t\t\t\tbreak\n\t\t\tcase 'cherries':\n\t\t\t\tfoodImage = images.cherries\n\t\t\t\tbreak\n\t\t\tcase 'grapes':\n\t\t\t\tfoodImage = images.grapes\n\t\t\t\tbreak\n\t\t\tcase 'boost':\n\t\t\t\tfoodImage = images.boost\n\t\t\t\tbreak\n\t\t\tcase 'diet':\n\t\t\t\tfoodImage = images.diet\n\t\t\t\tbreak\n\t\t}\n\t\tctx.drawImage(\n\t\t\tfoodImage,\n\t\t\tfood.position.x * cellSize,\n\t\t\tfood.position.y * cellSize,\n\t\t\tcellSize,\n\t\t\tcellSize\n\t\t)\n\n\t\t// Draw boost indicator\n\t\tif (boostActive) {\n\t\t\t// Golden border effect\n\t\t\tctx.strokeStyle = '#FFD700'\n\t\t\tctx.lineWidth = 4\n\t\t\tctx.strokeRect(2, 2, canvasSize - 4, canvasSize - 4)\n\n\t\t\t// Boost timer text\n\t\t\tctx.fillStyle = '#FFD700'\n\t\t\tctx.font = 'bold 16px Arial'\n\t\t\tctx.shadowColor = 'black'\n\t\t\tctx.shadowBlur = 2\n\t\t\tctx.fillText(`Boost: ${(boostTimer / 1000).toFixed(1)}s`, 10, 25)\n\t\t\tctx.shadowBlur = 0\n\t\t}\n\t}, [\n\t\tsnake,\n\t\tfood,\n\t\tdirection,\n\t\timages,\n\t\tboardSize,\n\t\tcellSize,\n\t\tcanvasSize,\n\t\tboostActive,\n\t\tboostTimer,\n\t])\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={canvasSize}\n\t\t\theight={canvasSize}\n\t\t\tclassName=\"border-4 border-green-500/50 rounded-lg shadow-2xl\"\n\t\t\tstyle={{\n\t\t\t\timageRendering: 'auto',\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport default SnakeGame\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport SnakeGameCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { useImageLoader } from './hooks/useImageLoader'\n\ninterface SnakeGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#10b981',\n\tskin,\n\tgameTitle = 'SNAKE',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [images, imagesLoading, imagesError] = useImageLoader(skin)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\tconst [showSpeedBoost, setShowSpeedBoost] = useState(false)\n\tconst [speedBoostText, setSpeedBoostText] = useState('')\n\tconst [totalScore, setTotalScore] = useState(0)\n\tconst [collisionCount, setCollisionCount] = useState(0)\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input for pause\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted && images) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetTotalScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, images, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(totalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(() => {\n\t\tif (!isGameOver) {\n\t\t\tconst newLives = lives - 1\n\t\t\tsetLives(newLives)\n\n\t\t\tif (newLives <= 0) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(totalScore)\n\t\t\t} else {\n\t\t\t\t// Continue with remaining lives\n\t\t\t\t// Force remount the game component\n\t\t\t\tsetCollisionCount(prev => prev + 1)\n\t\t\t}\n\t\t}\n\t}, [isGameOver, lives, totalScore, setGameOver, setPointsEarned])\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(points: number) => {\n\t\t\tconst newScore = totalScore + points\n\t\t\tsetTotalScore(newScore)\n\t\t\tsetScore(newScore)\n\n\t\t\tif (maxPoints && newScore >= maxPoints) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(newScore)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Show speed boost notification at certain score thresholds\n\t\t\tconst speedThresholds = [50, 100, 200, 300, 500]\n\t\t\tconst oldThreshold = speedThresholds.filter(t => totalScore >= t).length\n\t\t\tconst newThreshold = speedThresholds.filter(t => newScore >= t).length\n\n\t\t\tif (newThreshold > oldThreshold) {\n\t\t\t\tsetSpeedBoostText('Velocidad Aumentada!')\n\t\t\t\tsetShowSpeedBoost(true)\n\t\t\t\tsetTimeout(() => setShowSpeedBoost(false), 1500)\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[totalScore, maxPoints, setGameOver, setPointsEarned]\n\t)\n\n\tconst handleVirtualControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (isGameStarted && !isPaused && !isGameOver) {\n\t\t\t\t// Create synthetic keyboard event\n\t\t\t\tconst event = new KeyboardEvent('keydown', {\n\t\t\t\t\tkey: `Arrow${direction.charAt(0).toUpperCase() + direction.slice(1)}`,\n\t\t\t\t\tbubbles: true,\n\t\t\t\t})\n\t\t\t\twindow.dispatchEvent(event)\n\t\t\t}\n\t\t},\n\t\t[isGameStarted, isPaused, isGameOver]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst boardSize = 20\n\t\tconst cellSize = 20\n\t\tconst canvasSize = boardSize * cellSize // 400x400\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\tconst scaleX = containerWidth / canvasSize\n\t\tconst scaleY = containerHeight / canvasSize\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 1.2)\n\t\t\treturn Math.max(scale, 0.5)\n\t\t} else {\n\t\t\treturn Math.min(scale, 1.0) // Never scale above 1 on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Loading State */}\n\t\t\t\t\t{imagesLoading && (\n\t\t\t\t\t\t<div className=\"game-loading\">\n\t\t\t\t\t\t\t<div>Cargando...</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Error State */}\n\t\t\t\t\t{imagesError && (\n\t\t\t\t\t\t<div className=\"game-error\">\n\t\t\t\t\t\t\t<div>Error al cargar imgenes: {imagesError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game */}\n\t\t\t\t\t{images && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SnakeGameCore\n\t\t\t\t\t\t\t\tkey={collisionCount}\n\t\t\t\t\t\t\t\timages={images}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Speed Boost Notification */}\n\t\t\t\t\t{showSpeedBoost && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\">\n\t\t\t\t\t\t\t<div className=\"game-notification-content\">\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{speedBoostText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && images && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Mueve la serpiente con las flechas</p>\n\t\t\t\t\t\t\t\t\t\t<p> Recolecta los items para crecer</p>\n\t\t\t\t\t\t\t\t\t\t<p> La velocidad aumenta con los puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> No choques contigo mismo</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa las flechas del teclado o los controles tctiles</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{isMobileDevice && isGameStarted && !isGameOver && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleVirtualControl}\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\tlayout=\"arrows\"\n\t\t\t\t\tshowActionButton={false}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default SnakeGame\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\theadUp: HTMLImageElement\n\theadDown: HTMLImageElement\n\theadLeft: HTMLImageElement\n\theadRight: HTMLImageElement\n\ttail: HTMLImageElement\n\tapple: HTMLImageElement\n\tbanana: HTMLImageElement\n\tcherries: HTMLImageElement\n\tgrapes: HTMLImageElement\n\tboost: HTMLImageElement\n\tdiet: HTMLImageElement\n\tbackground: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/space-snake/img/`\n\t\t\t\tconst imagePath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-up.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-down.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-left.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-right.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}tail.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}banana.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}cherries.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}boost.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`)\n\t\t\t\t\t), // Fallback to grapes if boost image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}diet.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`)\n\t\t\t\t\t), // Fallback to apple if diet image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}bg.webp`), // Background from skin folder if skin is provided\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","import * as Tone from 'tone'\n\nexport class FlappyBirdAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastFlapTime = 0\n\tprivate readonly MIN_FLAP_GAP = 0.08\n\n\t// Synthesizers\n\tprivate flapSynth: Tone.Synth | null = null\n\tprivate scoreSynth: Tone.PolySynth | null = null\n\tprivate collisionSynth: Tone.MembraneSynth | null = null\n\tprivate gameOverSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Flap synth - quick sine sweep up\n\t\tthis.flapSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Score synth - bell chime\n\t\tthis.scoreSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Collision synth - impact thud\n\t\tthis.collisionSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.03,\n\t\t\toctaves: 3,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending melody\n\t\tthis.gameOverSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.25,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Quick upward sweep for flap\n\tplayFlap(): void {\n\t\tif (!this.initialized || this.muted || !this.flapSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastFlapTime < this.MIN_FLAP_GAP) return\n\n\t\tthis.lastFlapTime = now\n\t\t// Quick ascending notes for wing flap feel\n\t\tthis.flapSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.flapSynth.triggerAttackRelease('E5', '32n', now + 0.03)\n\t}\n\n\t// Bell chime for scoring\n\tplayScore(): void {\n\t\tif (!this.initialized || this.muted || !this.scoreSynth) return\n\t\tconst now = Tone.now()\n\t\t// Pleasant ding\n\t\tthis.scoreSynth.triggerAttackRelease(['E5', 'G5'], '8n', now)\n\t}\n\n\t// Impact thud for collision\n\tplayCollision(): void {\n\t\tif (!this.initialized || this.muted || !this.collisionSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.collisionSynth.triggerAttackRelease('C2', '8n', now)\n\t}\n\n\t// Descending melody for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Sad descending melody\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.18)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.flapSynth?.dispose()\n\t\tthis.scoreSynth?.dispose()\n\t\tthis.collisionSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.flapSynth = null\n\t\tthis.scoreSynth = null\n\t\tthis.collisionSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const flappyBirdAudio = new FlappyBirdAudioManager()\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { flappyBirdAudio } from '../utils/audioManager'\n\ninterface IConfig {\n\tassets: {\n\t\tbird: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t\tforeground: HTMLImageElement\n\t\tpipeNorth: HTMLImageElement\n\t\tpipeSouth: HTMLImageElement\n\t\tcoin: HTMLImageElement\n\t\theart: HTMLImageElement\n\t}\n\toptions: {\n\t\tdelayFrameCount: number\n\t\tbirdX: number\n\t\tgap: number\n\t\tupMovement: number\n\t\tgravity: number\n\t\tpointsPerObstacle: number\n\t\tlives: number\n\t\tgameTitle: string\n\t\thideOverlays?: boolean\n\t\tisPaused?: boolean\n\t\tmaxPoints?: number\n\t}\n\tfunctions: {\n\t\tsetGameOver: (isOver: boolean) => void\n\t\tsetPointsEarned: (points: number) => void\n\t\tonScoreUpdate?: (score: number) => void\n\t\tonLivesUpdate?: (lives: number) => void\n\t}\n}\n\ninterface Pipe {\n\tx: number\n\ty: number\n\tpassed: boolean\n}\n\nconst PIPE_WIDTH = 52\nconst PIPE_GAP_REDUCTION_RATE = 20\nconst MIN_GAP = 350\nconst BIRD_WIDTH = 34\nconst BIRD_HEIGHT = 24\nconst COLLISION_PADDING = 8\nconst FPS = 60\nconst FRAME_TIME = 1000 / FPS\n\nconst useFlappyAnimation = (config: IConfig | null) => {\n\tconst [score, setScore] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(config?.options.lives || 3)\n\tconst [countCollisions, setCountCollisions] = useState(0)\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [currentGap, setCurrentGap] = useState(config?.options.gap || 500)\n\n\tconst isOnTheFloor = useRef(false)\n\tconst delay = useRef(0)\n\tconst birdY = useRef(150)\n\tconst birdVelocity = useRef(0)\n\tconst pipesArray = useRef<Pipe[]>([{ x: 288, y: 0, passed: false }])\n\tconst lastFrameTime = useRef(0)\n\tconst birdRotation = useRef(0)\n\n\t// Initialize audio on mount\n\tuseEffect(() => {\n\t\tflappyBirdAudio.init()\n\t\treturn () => {\n\t\t\tflappyBirdAudio.dispose()\n\t\t}\n\t}, [])\n\n\tconst tap = useCallback(() => {\n\t\tif (!config) return\n\n\t\tif (!gameStarted) {\n\t\t\tstart()\n\t\t} else if (gameStarted && !isGameOver) {\n\t\t\tmoveUp()\n\t\t} else if (\n\t\t\tdelay.current > config.options.delayFrameCount &&\n\t\t\tisOnTheFloor.current\n\t\t) {\n\t\t\treset()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [config, gameStarted, isGameOver])\n\n\tconst moveUp = useCallback(() => {\n\t\tif (!config) return\n\t\tbirdVelocity.current = -config.options.upMovement / 2.8\n\t\tflappyBirdAudio.playFlap()\n\t}, [config])\n\n\tconst start = useCallback(() => {\n\t\tsetGameStarted(true)\n\t\tsetIsGameOver(false)\n\t\tsetScore(0)\n\t\tsetCurrentLives(config?.options.lives || 3)\n\t\tsetCountCollisions(0)\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tsetCurrentGap(config?.options.gap || 500)\n\t\tdelay.current = 0\n\t}, [config])\n\n\tconst reset = useCallback(() => {\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tdelay.current = 0\n\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tstart()\n\t\t} else {\n\t\t\tsetGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t}\n\t}, [currentLives, countCollisions, config, start])\n\n\tconst collision = useCallback(() => {\n\t\tconst newCollisions = countCollisions + 1\n\t\tconst newLives = currentLives - 1\n\n\t\tsetCountCollisions(newCollisions)\n\t\tsetCurrentLives(newLives)\n\t\tconfig?.functions.onLivesUpdate?.(newLives)\n\t\tflappyBirdAudio.playCollision()\n\n\t\tif (newLives <= 0 || newCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t\tflappyBirdAudio.playGameOver()\n\t\t} else {\n\t\t\treset()\n\t\t}\n\t}, [countCollisions, currentLives, config, score, reset])\n\n\tconst draw = useCallback(\n\t\t(context: CanvasRenderingContext2D) => {\n\t\t\tif (!config) return\n\n\t\t\tconst currentTime = performance.now()\n\t\t\tconst deltaTime = currentTime - lastFrameTime.current\n\n\t\t\tif (deltaTime < FRAME_TIME) return\n\n\t\t\tlastFrameTime.current = currentTime\n\n\t\t\tconst canvas = context.canvas\n\t\t\tconst {\n\t\t\t\tbird,\n\t\t\t\tforeground,\n\t\t\t\tbackground,\n\t\t\t\tpipeNorth,\n\t\t\t\tpipeSouth,\n\t\t\t\tcoin,\n\t\t\t\theart,\n\t\t\t} = config.assets\n\t\t\tconst { gravity } = config.options\n\n\t\t\t// Calculate pipe movement speed based on level\n\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\tconst pipeMovement = isGameOver ? 0 : 2 + (currentLevel - 1) * 0.2\n\t\t\tconst pipes = pipesArray.current\n\n\t\t\tcontext.clearRect(0, 0, canvas.width, canvas.height)\n\t\t\tcontext.drawImage(background, 0, 0)\n\n\t\t\tif (gameStarted && !isGameOver && !config.options.isPaused) {\n\t\t\t\tbirdVelocity.current += gravity / 6\n\t\t\t\tbirdVelocity.current = Math.min(birdVelocity.current, 8)\n\t\t\t\tbirdY.current += birdVelocity.current\n\n\t\t\t\tbirdRotation.current = Math.min(\n\t\t\t\t\tMath.max(birdVelocity.current * 3, -25),\n\t\t\t\t\t90\n\t\t\t\t)\n\n\t\t\t\tfor (let i = pipes.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (pipes[i].x < -PIPE_WIDTH) {\n\t\t\t\t\t\tpipes.splice(i, 1)\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.drawImage(pipeNorth, pipes[i].x, pipes[i].y)\n\t\t\t\t\tcontext.drawImage(pipeSouth, pipes[i].x, pipes[i].y + currentGap)\n\n\t\t\t\t\tpipes[i].x -= pipeMovement\n\n\t\t\t\t\t// Generate new pipe when the last pipe reaches a certain position\n\t\t\t\t\tif (\n\t\t\t\t\t\ti === pipes.length - 1 &&\n\t\t\t\t\t\tpipes[i].x <= canvas.width - 140 &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Increase variation based on score - more variety as game progresses\n\t\t\t\t\t\tconst difficultyFactor = Math.min(score / 100, 1.5)\n\t\t\t\t\t\tconst minY = -pipeNorth.height + 80\n\t\t\t\t\t\tconst maxY = canvas.height - foreground.height - currentGap - 80\n\n\t\t\t\t\t\t// Add more dramatic position changes between consecutive pipes\n\t\t\t\t\t\tconst lastPipeY = pipes[i].y\n\t\t\t\t\t\tconst baseY = Math.floor(Math.random() * (maxY - minY)) + minY\n\n\t\t\t\t\t\t// Ensure some minimum difference from last pipe for variety\n\t\t\t\t\t\tlet newY = baseY\n\t\t\t\t\t\tif (Math.abs(baseY - lastPipeY) < 50) {\n\t\t\t\t\t\t\t// Force a bigger change if pipes are too similar\n\t\t\t\t\t\t\tnewY = baseY + (Math.random() > 0.5 ? 60 : -60) * difficultyFactor\n\t\t\t\t\t\t\t// Clamp to valid range\n\t\t\t\t\t\t\tnewY = Math.max(minY, Math.min(maxY, newY))\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add random spacing between pipes - less spacing as difficulty increases\n\t\t\t\t\t\tconst baseSpacing = 180 - Math.floor(score / 100) * 5\n\t\t\t\t\t\tconst spacing =\n\t\t\t\t\t\t\tMath.floor(Math.random() * 30) + Math.max(150, baseSpacing)\n\n\t\t\t\t\t\tpipes.push({\n\t\t\t\t\t\t\tx: pipes[i].x + spacing,\n\t\t\t\t\t\t\ty: newY,\n\t\t\t\t\t\t\tpassed: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!pipes[i].passed &&\n\t\t\t\t\t\tpipes[i].x + PIPE_WIDTH < config.options.birdX &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\tpipes[i].passed = true\n\t\t\t\t\t\t// Calculate points based on level\n\t\t\t\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\t\t\t\tconst pointsEarned =\n\t\t\t\t\t\t\tconfig.options.pointsPerObstacle + (currentLevel - 1) * 5\n\t\t\t\t\t\tconst newScore = score + pointsEarned\n\t\t\t\t\t\tflappyBirdAudio.playScore()\n\n\t\t\t\t\t\t// Check if maxPoints is reached\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tconfig.options.maxPoints &&\n\t\t\t\t\t\t\tconfig.options.maxPoints > 0 &&\n\t\t\t\t\t\t\tnewScore >= config.options.maxPoints\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Set score to exactly maxPoints\n\t\t\t\t\t\t\tsetScore(config.options.maxPoints)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(config.options.maxPoints)\n\t\t\t\t\t\t\t// Trigger game over since max points reached\n\t\t\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setPointsEarned(config.options.maxPoints)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetScore(newScore)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(newScore)\n\n\t\t\t\t\t\t\t// Gradual gap reduction for smoother difficulty curve\n\t\t\t\t\t\t\tconst gapReduction =\n\t\t\t\t\t\t\t\tMath.floor(newScore / PIPE_GAP_REDUCTION_RATE) * 6\n\t\t\t\t\t\t\tconst newGap = Math.max(\n\t\t\t\t\t\t\t\tconfig.options.gap - gapReduction,\n\t\t\t\t\t\t\t\tMIN_GAP\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tsetCurrentGap(newGap)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst hasHitFloor =\n\t\t\t\t\t\tbirdY.current + BIRD_HEIGHT >=\n\t\t\t\t\t\tcanvas.height - foreground.height + 20\n\t\t\t\t\tconst hasHitCeiling = birdY.current <= 0\n\n\t\t\t\t\t// More precise collision boxes\n\t\t\t\t\tconst birdLeft = config.options.birdX + COLLISION_PADDING\n\t\t\t\t\tconst birdRight =\n\t\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH - COLLISION_PADDING\n\t\t\t\t\tconst birdTop = birdY.current + COLLISION_PADDING\n\t\t\t\t\tconst birdBottom = birdY.current + BIRD_HEIGHT - COLLISION_PADDING\n\n\t\t\t\t\t// Pipe collision box with slight padding for fairness\n\t\t\t\t\tconst pipeLeft = pipes[i].x + 2\n\t\t\t\t\tconst pipeRight = pipes[i].x + PIPE_WIDTH - 2\n\t\t\t\t\tconst pipeTopBottom = pipes[i].y + pipeNorth.height - 5\n\t\t\t\t\tconst pipeBottomTop = pipes[i].y + currentGap + 5\n\n\t\t\t\t\t// Only check collision if bird is actually overlapping with pipe\n\t\t\t\t\tconst hasHitPipe =\n\t\t\t\t\t\tbirdRight > pipeLeft &&\n\t\t\t\t\t\tbirdLeft < pipeRight &&\n\t\t\t\t\t\t(birdTop < pipeTopBottom || birdBottom > pipeBottomTop)\n\n\t\t\t\t\tisOnTheFloor.current = hasHitFloor\n\n\t\t\t\t\tif (hasHitPipe || hasHitFloor || hasHitCeiling) {\n\t\t\t\t\t\tcollision()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.save()\n\t\t\t\tcontext.translate(\n\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH / 2,\n\t\t\t\t\tbirdY.current + BIRD_HEIGHT / 2\n\t\t\t\t)\n\t\t\t\tcontext.rotate((birdRotation.current * Math.PI) / 180)\n\t\t\t\tcontext.drawImage(bird, -BIRD_WIDTH / 2, -BIRD_HEIGHT / 2)\n\t\t\t\tcontext.restore()\n\t\t\t}\n\n\t\t\tcontext.drawImage(foreground, 0, canvas.height - foreground.height + 20)\n\n\t\t\tif (isGameOver && !config.options.hideOverlays) {\n\t\t\t\tdelay.current++\n\n\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.5)'\n\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\tcontext.font = \"48px 'Tahoma'\"\n\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\tcontext.lineWidth = 4\n\t\t\t\tcontext.strokeText('Game Over', 24, 260)\n\t\t\t\tcontext.fillText('Game Over', 24, 260)\n\n\t\t\t\tif (isOnTheFloor.current) {\n\t\t\t\t\tcontext.font = \"bold 16px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 54, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 54, 460)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!gameStarted) {\n\t\t\t\t\tdelay.current++\n\n\t\t\t\t\tif (!config.options.hideOverlays) {\n\t\t\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\t\t\tcontext.font = \"42px 'Tahoma'\"\n\t\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 4\n\t\t\t\t\t\tconst titleWidth = context.measureText(\n\t\t\t\t\t\t\tconfig.options.gameTitle\n\t\t\t\t\t\t).width\n\t\t\t\t\t\tconst titleX = (canvas.width - titleWidth) / 2\n\t\t\t\t\t\tcontext.strokeText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t\tcontext.fillText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Always show click to start message, with pulsing effect\n\t\t\t\t\tconst alpha = Math.abs(Math.sin(delay.current * 0.03))\n\t\t\t\t\tcontext.font = \"bold 18px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.globalAlpha = alpha\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.globalAlpha = 1\n\t\t\t\t}\n\n\t\t\t\tif (gameStarted && !config.options.hideOverlays) {\n\t\t\t\t\tcontext.drawImage(coin, 20, 20, 32, 32)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.font = \"bold 32px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeText(`${score}`, 70, 50)\n\t\t\t\t\tcontext.fillText(`${score}`, 70, 50)\n\n\t\t\t\t\tcontext.drawImage(heart, 200, 20, 32, 32)\n\t\t\t\t\tcontext.strokeText(`${currentLives}`, 250, 50)\n\t\t\t\t\tcontext.fillText(`${currentLives}`, 250, 50)\n\n\t\t\t\t\t// Show difficulty level\n\t\t\t\t\tconst difficultyLevel = Math.floor(score / 200) + 1\n\t\t\t\t\tif (difficultyLevel > 1) {\n\t\t\t\t\t\tcontext.font = \"bold 14px 'Tahoma'\"\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 2\n\t\t\t\t\t\tcontext.fillStyle = '#ff0'\n\t\t\t\t\t\tconst levelText = `Nivel ${difficultyLevel}`\n\t\t\t\t\t\tcontext.strokeText(levelText, 20, 80)\n\t\t\t\t\t\tcontext.fillText(levelText, 20, 80)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tconfig,\n\t\t\tgameStarted,\n\t\t\tisGameOver,\n\t\t\tscore,\n\t\t\tcurrentLives,\n\t\t\tcurrentGap,\n\t\t\tcollision,\n\t\t]\n\t)\n\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t}\n\t}, [countCollisions, currentLives, config, score])\n\n\treturn [tap, draw] as const\n}\n\nexport default useFlappyAnimation\n","import { useRef, useEffect } from 'react'\n\ntype DrawFunction =\n\t| ((context: CanvasRenderingContext2D, frameCount: number) => void)\n\t| null\n\nconst useCanvas = (draw: DrawFunction) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst frameCount = useRef(0)\n\tconst frameId = useRef(0)\n\n\tuseEffect(() => {\n\t\tif (!draw) return\n\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst context = canvas.getContext('2d', { alpha: false })\n\t\tif (!context) return\n\n\t\tcontext.imageSmoothingEnabled = false\n\n\t\tconst render = () => {\n\t\t\tframeCount.current++\n\t\t\tdraw(context, frameCount.current)\n\t\t\tframeId.current = window.requestAnimationFrame(render)\n\t\t}\n\n\t\trender()\n\n\t\treturn () => {\n\t\t\tif (frameId.current) {\n\t\t\t\twindow.cancelAnimationFrame(frameId.current)\n\t\t\t}\n\t\t}\n\t}, [draw])\n\n\treturn canvasRef\n}\n\nexport default useCanvas\n","import React from 'react'\nimport useFlappyAnimation from './hooks/useFlappyAnimation'\nimport useCanvas from './hooks/useCanvas'\nimport { useImageLoader } from './hooks/useImageLoader'\nimport { GameCanvas } from '../ui/GameCanvas'\n\ninterface FlappyProps {\n\tlives: number\n\tsetPointsEarned: (points: number) => void\n\tsetGameOver: (isOver: boolean) => void\n\tskin?: string\n\tgameTitle?: string\n\thideOverlays?: boolean\n\tonScoreUpdate?: (score: number) => void\n\tonLivesUpdate?: (lives: number) => void\n\tisPaused?: boolean\n\tmaxPoints?: number\n}\n\nconst Flappy = ({\n\tlives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tskin,\n\tgameTitle = 'FLAPPY CAT',\n\thideOverlays = false,\n\tonScoreUpdate,\n\tonLivesUpdate,\n\tisPaused = false,\n\tmaxPoints,\n}: FlappyProps) => {\n\tconst [images, loading, error] = useImageLoader(skin)\n\n\tconst config = React.useMemo(() => {\n\t\tif (!images) return null\n\n\t\treturn {\n\t\t\tassets: images,\n\t\t\toptions: {\n\t\t\t\tgameTitle: gameTitle,\n\t\t\t\tdelayFrameCount: 5,\n\t\t\t\tbirdX: 50,\n\t\t\t\tgap: 480,\n\t\t\t\tupMovement: 18,\n\t\t\t\tgravity: 2.5,\n\t\t\t\tpointsPerObstacle: 10,\n\t\t\t\tlives: lives,\n\t\t\t\thideOverlays: hideOverlays,\n\t\t\t\tisPaused: isPaused,\n\t\t\t\tmaxPoints: maxPoints,\n\t\t\t},\n\t\t\tfunctions: {\n\t\t\t\tsetGameOver,\n\t\t\t\tsetPointsEarned,\n\t\t\t\tonScoreUpdate,\n\t\t\t\tonLivesUpdate,\n\t\t\t},\n\t\t}\n\t}, [\n\t\timages,\n\t\tgameTitle,\n\t\tlives,\n\t\tsetGameOver,\n\t\tsetPointsEarned,\n\t\thideOverlays,\n\t\tonScoreUpdate,\n\t\tonLivesUpdate,\n\t\tisPaused,\n\t\tmaxPoints,\n\t])\n\n\tconst [tap, draw] = useFlappyAnimation(config)\n\tconst canvasRef = useCanvas(draw)\n\n\tconst handleClick = () => {\n\t\tif (!config) return\n\n\t\tconst canvas = canvasRef.current\n\t\tconst ctx = canvas?.getContext('2d')\n\n\t\tif (ctx) {\n\t\t\ttap()\n\t\t}\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-slate-800 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center\">\n\t\t\t\t\t<div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>\n\t\t\t\t\t<p>Cargando juego...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-red-900 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center p-4\">\n\t\t\t\t\t<p className=\"font-bold mb-2\">Error al cargar el juego</p>\n\t\t\t\t\t<p className=\"text-sm\">{error}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={288}\n\t\t\theight={512}\n\t\t\tonClick={handleClick}\n\t\t\tclassName=\"cursor-pointer rounded-lg shadow-xl\"\n\t\t/>\n\t)\n}\n\nexport default Flappy\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\tbird: HTMLImageElement\n\tbackground: HTMLImageElement\n\tforeground: HTMLImageElement\n\tpipeNorth: HTMLImageElement\n\tpipeSouth: HTMLImageElement\n\tcoin: HTMLImageElement\n\theart: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/flappy-bird/`\n\t\t\t\tconst skinPath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bird.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}fg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeNorth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeSouth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}coin.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}heart.webp`),\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport FlappyBirdCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\n\ninterface FlappyBirdGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst FlappyBirdGame: React.FC<FlappyBirdGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#00bfff',\n\tskin,\n\tgameTitle = 'FLAPPY BIRD',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst gameContainerRef = useRef<HTMLDivElement>(null)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpText, setLevelUpText] = useState('')\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [coreGameOver, setCoreGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetCoreGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t\tsetCoreGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(\n\t\t(finalGameOver: boolean) => {\n\t\t\tif (finalGameOver && !isGameOver) {\n\t\t\t\tsetCoreGameOver(true)\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t}\n\t\t},\n\t\t[isGameOver, setGameOver]\n\t)\n\n\tconst handlePointsEarned = useCallback(\n\t\t(points: number) => {\n\t\t\tsetScore(points)\n\t\t\tsetPointsEarned(points)\n\t\t},\n\t\t[setPointsEarned]\n\t)\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(newScore: number) => {\n\t\t\tsetScore(newScore)\n\t\t\t// Update level based on score (every 100 points = new level)\n\t\t\tconst newLevel = Math.floor(newScore / 100) + 1\n\t\t\tif (newLevel > level) {\n\t\t\t\tsetLevel(newLevel)\n\t\t\t\tsetLevelUpText(`Nivel ${newLevel}!`)\n\t\t\t\tsetShowLevelUp(true)\n\t\t\t\t// Hide notification after 1.2 seconds\n\t\t\t\tsetTimeout(() => setShowLevelUp(false), 800)\n\t\t\t}\n\t\t},\n\t\t[level]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst canvasWidth = 288\n\t\tconst canvasHeight = 512\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\t// Target a reasonable max height for the game\n\t\tconst maxHeight = 600\n\t\tconst effectiveHeight = Math.min(containerHeight, maxHeight)\n\n\t\tconst scaleX = containerWidth / canvasWidth\n\t\tconst scaleY = effectiveHeight / canvasHeight\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 0.85)\n\t\t\treturn Math.max(scale, 0.4)\n\t\t} else {\n\t\t\treturn Math.min(scale, 0.9) // Max 90% scale on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '512px' }}\n\t\t\t\t\tref={gameContainerRef}\n\t\t\t\t>\n\t\t\t\t\t{isGameStarted && !coreGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlappyBirdCore\n\t\t\t\t\t\t\t\tlives={initialLives}\n\t\t\t\t\t\t\t\tsetGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tsetPointsEarned={handlePointsEarned}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tgameTitle=\"FLAPPY CAT\"\n\t\t\t\t\t\t\t\thideOverlays={true}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t\tmaxPoints={maxPoints}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Notification */}\n\t\t\t\t\t{showLevelUp && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\" style={{ top: '25%' }}>\n\t\t\t\t\t\t\t<div className=\"game-notification-content\" style={{ backgroundColor: '#eab308', color: 'black' }}>\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{levelUpText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#38bdf8', marginBottom: '0.5rem' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Toca para volar</p>\n\t\t\t\t\t\t\t\t\t\t<p> Evita los obstculos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Gana puntos al pasar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa la barra espaciadora o toca la pantalla</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FlappyBirdGame\n","import * as Tone from 'tone'\n\nexport class BreakoutAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastBounceTime = 0\n\tprivate readonly MIN_BOUNCE_GAP = 0.03\n\n\t// Synthesizers\n\tprivate bounceSynth: Tone.Synth | null = null\n\tprivate brickSynth: Tone.PolySynth | null = null\n\tprivate powerUpSynth: Tone.PolySynth | null = null\n\tprivate loseSynth: Tone.Synth | null = null\n\tprivate levelSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Bounce synth - for paddle and wall hits\n\t\tthis.bounceSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Brick synth - satisfying crunch for brick break\n\t\tthis.brickSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Power-up synth - chime\n\t\tthis.powerUpSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Lose life synth - sad tone\n\t\tthis.loseSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Level up synth - fanfare\n\t\tthis.levelSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Paddle hit - low bounce blip\n\tplayPaddleHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('G4', '32n', now)\n\t}\n\n\t// Wall hit - higher bounce\n\tplayWallHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('C5', '32n', now)\n\t}\n\n\t// Brick break - satisfying crunch\n\tplayBrickBreak(): void {\n\t\tif (!this.initialized || this.muted || !this.brickSynth) return\n\t\tconst now = Tone.now()\n\t\t// Quick two-note crunch\n\t\tthis.brickSynth.triggerAttackRelease('E5', '32n', now)\n\t\tthis.brickSynth.triggerAttackRelease('G4', '32n', now + 0.02)\n\t}\n\n\t// Power-up collection chime\n\tplayPowerUpCollect(): void {\n\t\tif (!this.initialized || this.muted || !this.powerUpSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending chime\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.powerUpSynth!.triggerAttackRelease(note, '16n', now + i * 0.06)\n\t\t})\n\t}\n\n\t// Lose life - sad descending tone\n\tplayLoseLife(): void {\n\t\tif (!this.initialized || this.muted || !this.loseSynth) return\n\t\tconst now = Tone.now()\n\t\t// Descending sad phrase\n\t\tconst notes = ['E4', 'D4', 'C4']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.loseSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\t// Level up - triumphant fanfare\n\tplayLevelUp(): void {\n\t\tif (!this.initialized || this.muted || !this.levelSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending fanfare with final chord\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5']\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.levelSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t\t// Final triumphant chord\n\t\tthis.levelSynth.triggerAttackRelease(['C5', 'E5', 'G5'], '4n', now + 0.4)\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.bounceSynth?.dispose()\n\t\tthis.brickSynth?.dispose()\n\t\tthis.powerUpSynth?.dispose()\n\t\tthis.loseSynth?.dispose()\n\t\tthis.levelSynth?.dispose()\n\n\t\tthis.bounceSynth = null\n\t\tthis.brickSynth = null\n\t\tthis.powerUpSynth = null\n\t\tthis.loseSynth = null\n\t\tthis.levelSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const breakoutAudio = new BreakoutAudioManager()\n","import type { BrickType, LevelTheme } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 800\nexport const CANVAS_HEIGHT = 600\n\n// Paddle configuration\nexport const PADDLE_HEIGHT = 15\nexport const PADDLE_INITIAL_WIDTH = 120\nexport const PADDLE_MIN_WIDTH = 60\nexport const PADDLE_COLOR = 'hsl(240, 5%, 80%)' // Light gray\nexport const PADDLE_SPEED = 10\nexport const PADDLE_WIDTH_REDUCTION_PER_LEVEL = 5 // Pixels\n\n// Ball configuration\nexport const BALL_RADIUS = 10\nexport const BALL_INITIAL_SPEED = 5\nexport const BALL_MAX_SPEED = 20 // Increased max speed\nexport const BALL_SPEED_INCREASE_PER_LEVEL = 1\nexport const BALL_COLOR = 'hsl(181, 100%, 74%)' // Use accent color from theme\n\n// Brick configuration\nexport const BRICK_ROW_COUNT = 5\nexport const BRICK_COLUMN_COUNT = 9\nexport const BRICK_WIDTH = 75\nexport const BRICK_HEIGHT = 20\nexport const BRICK_PADDING = 10\nexport const BRICK_OFFSET_TOP = 50\n\n// Brick types with increasing difficulty\nexport const BRICK_TYPES: BrickType[] = [\n\t{ color: 'hsl(60, 70%, 60%)', points: 10, hitsToBreak: 1 }, // Yellow - weakest\n\t{ color: 'hsl(120, 70%, 60%)', points: 20, hitsToBreak: 1 }, // Green\n\t{ color: 'hsl(180, 70%, 60%)', points: 30, hitsToBreak: 2 }, // Teal - medium\n\t{ color: 'hsl(0, 70%, 60%)', points: 50, hitsToBreak: 2 }, // Red\n\t{ color: 'hsl(300, 70%, 60%)', points: 100, hitsToBreak: 3 }, // Purple - strongest\n\t{ color: 'hsl(30, 90%, 50%)', points: 200, hitsToBreak: 4 }, // Orange - ultra strong (appears in higher levels)\n]\n\n// Level-specific color themes to add variety\nexport const LEVEL_THEMES: LevelTheme[] = [\n\t{\n\t\tname: 'Classic',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 70%, 60%)', // Yellow\n\t\t\t'hsl(120, 70%, 60%)', // Green\n\t\t\t'hsl(180, 70%, 60%)', // Teal\n\t\t\t'hsl(0, 70%, 60%)', // Red\n\t\t\t'hsl(300, 70%, 60%)', // Purple\n\t\t],\n\t},\n\t{\n\t\tname: 'Ocean',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 70%, 70%)', // Light Blue\n\t\t\t'hsl(210, 70%, 60%)', // Blue\n\t\t\t'hsl(190, 70%, 50%)', // Cyan\n\t\t\t'hsl(220, 70%, 40%)', // Dark Blue\n\t\t\t'hsl(180, 70%, 30%)', // Deep Teal\n\t\t],\n\t},\n\t{\n\t\tname: 'Sunset',\n\t\tbrickColors: [\n\t\t\t'hsl(50, 90%, 70%)', // Light Yellow\n\t\t\t'hsl(30, 90%, 60%)', // Orange\n\t\t\t'hsl(15, 90%, 50%)', // Dark Orange\n\t\t\t'hsl(0, 80%, 40%)', // Dark Red\n\t\t\t'hsl(340, 70%, 30%)', // Burgundy\n\t\t],\n\t},\n\t{\n\t\tname: 'Forest',\n\t\tbrickColors: [\n\t\t\t'hsl(100, 60%, 70%)', // Light Green\n\t\t\t'hsl(120, 60%, 50%)', // Green\n\t\t\t'hsl(140, 60%, 40%)', // Forest Green\n\t\t\t'hsl(30, 40%, 40%)', // Brown\n\t\t\t'hsl(160, 50%, 30%)', // Dark Teal Green\n\t\t],\n\t},\n\t{\n\t\tname: 'Galaxy',\n\t\tbrickColors: [\n\t\t\t'hsl(280, 80%, 70%)', // Light Purple\n\t\t\t'hsl(270, 70%, 60%)', // Purple\n\t\t\t'hsl(260, 60%, 50%)', // Deep Purple\n\t\t\t'hsl(240, 50%, 40%)', // Dark Blue Purple\n\t\t\t'hsl(320, 60%, 40%)', // Magenta\n\t\t],\n\t},\n\t{\n\t\tname: 'Fire',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 60%)', // Bright Yellow\n\t\t\t'hsl(40, 100%, 50%)', // Yellow Orange\n\t\t\t'hsl(20, 100%, 50%)', // Orange\n\t\t\t'hsl(0, 100%, 45%)', // Red\n\t\t\t'hsl(0, 80%, 30%)', // Dark Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Arctic',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 30%, 90%)', // Ice White\n\t\t\t'hsl(200, 40%, 80%)', // Light Ice Blue\n\t\t\t'hsl(200, 50%, 70%)', // Ice Blue\n\t\t\t'hsl(210, 60%, 60%)', // Medium Blue\n\t\t\t'hsl(220, 70%, 50%)', // Deep Blue\n\t\t],\n\t},\n\t{\n\t\tname: 'Neon',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 50%)', // Neon Yellow\n\t\t\t'hsl(120, 100%, 50%)', // Neon Green\n\t\t\t'hsl(180, 100%, 50%)', // Neon Cyan\n\t\t\t'hsl(300, 100%, 50%)', // Neon Magenta\n\t\t\t'hsl(0, 100%, 50%)', // Neon Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Desert',\n\t\tbrickColors: [\n\t\t\t'hsl(40, 50%, 80%)', // Sand\n\t\t\t'hsl(30, 60%, 70%)', // Light Orange\n\t\t\t'hsl(20, 70%, 60%)', // Terracotta\n\t\t\t'hsl(10, 60%, 50%)', // Rust\n\t\t\t'hsl(0, 50%, 40%)', // Deep Red Brown\n\t\t],\n\t},\n\t{\n\t\tname: 'Pastel',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 50%, 80%)', // Pastel Yellow\n\t\t\t'hsl(120, 50%, 80%)', // Pastel Green\n\t\t\t'hsl(180, 50%, 80%)', // Pastel Teal\n\t\t\t'hsl(300, 50%, 80%)', // Pastel Purple\n\t\t\t'hsl(0, 50%, 80%)', // Pastel Red\n\t\t],\n\t},\n]\n\n// Game configuration\nexport const INITIAL_LEVEL = 1\nexport const BACKGROUND_IMAGE_SRC = '/games/breakout/bg.webp' // Placeholder background\n\n// Power-up configuration\nexport const POWER_UP_SIZE = 20\nexport const POWER_UP_SPEED = 3\nexport const POWER_UP_DURATION = 10000 // 10 seconds\nexport const POWER_UP_DROP_CHANCE = 0.15 // 15% chance\n\nexport const POWER_UP_CONFIG = {\n\t'paddle-grow': {\n\t\tcolor: 'hsl(120, 70%, 50%)', // Green\n\t\tlabel: ' Agrandar Paleta',\n\t\tdescription: 'Aumenta el tamao de la paleta',\n\t},\n\t'paddle-shrink': {\n\t\tcolor: 'hsl(0, 70%, 50%)', // Red\n\t\tlabel: ' Reducir Paleta',\n\t\tdescription: 'Reduce el tamao de la paleta (malo)',\n\t},\n\t'ball-speed': {\n\t\tcolor: 'hsl(200, 70%, 50%)', // Blue\n\t\tlabel: ' Pelota Lenta',\n\t\tdescription: 'Reduce la velocidad de la pelota',\n\t},\n\t'multi-ball': {\n\t\tcolor: 'hsl(40, 70%, 50%)', // Orange\n\t\tlabel: ' Multi-Pelota',\n\t\tdescription: 'Crea mltiples pelotas',\n\t},\n\t'extra-life': {\n\t\tcolor: 'hsl(300, 70%, 50%)', // Purple\n\t\tlabel: ' Vida Extra',\n\t\tdescription: 'Gana una vida adicional!',\n\t},\n}\n","import type { Brick, BrickType, PowerUpType } from '../types'\nimport {\n\tBRICK_COLUMN_COUNT,\n\tBRICK_HEIGHT,\n\tBRICK_OFFSET_TOP,\n\tBRICK_PADDING,\n\tBRICK_ROW_COUNT,\n\tBRICK_TYPES,\n\tBRICK_WIDTH,\n\tCANVAS_WIDTH,\n\tLEVEL_THEMES,\n\tPOWER_UP_DROP_CHANCE,\n\tPADDLE_MIN_WIDTH,\n\tPADDLE_INITIAL_WIDTH,\n\tPADDLE_WIDTH_REDUCTION_PER_LEVEL,\n\tBALL_MAX_SPEED,\n\tBALL_INITIAL_SPEED,\n\tBALL_SPEED_INCREASE_PER_LEVEL,\n} from '../constants'\n\n// Helper to determine brick type based on level and position\nconst getBrickTypeForPosition = (\n\trow: number,\n\tlevel: number\n): { type: BrickType; colorOverride?: string } => {\n\tconst theme = LEVEL_THEMES[(level - 1) % LEVEL_THEMES.length]\n\n\t// Create patterns based on level\n\tif (level % 3 === 0) {\n\t\t// Checkerboard pattern\n\t\tconst useStronger = (row % 2 === 0) !== (level % 2 === 0)\n\t\tconst typeIndex = useStronger\n\t\t\t? Math.min(2 + Math.floor(level / 5), BRICK_TYPES.length - 1)\n\t\t\t: Math.min(1 + Math.floor(level / 8), BRICK_TYPES.length - 2)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else if (level % 5 === 0) {\n\t\t// Diamond pattern (stronger in middle)\n\t\tconst distanceFromCenter = Math.abs(row - Math.floor(BRICK_ROW_COUNT / 2))\n\t\tconst typeIndex = Math.max(\n\t\t\t0,\n\t\t\tMath.min(\n\t\t\t\tBRICK_TYPES.length - 1,\n\t\t\t\tBRICK_TYPES.length - 1 - distanceFromCenter\n\t\t\t)\n\t\t)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else {\n\t\t// Gradient pattern (stronger at top)\n\t\tconst strengthIndex = Math.floor((row / BRICK_ROW_COUNT) * 3)\n\t\tconst baseTypeIndex = Math.min(strengthIndex + Math.floor(level / 4), 3)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[Math.min(baseTypeIndex, BRICK_TYPES.length - 1)],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t}\n}\n\n// Determine which power-up type to spawn\nconst getRandomPowerUpType = (): PowerUpType => {\n\tconst types: PowerUpType[] = [\n\t\t'paddle-grow',\n\t\t'paddle-shrink', // Include negative power-ups for challenge\n\t\t'ball-speed',\n\t\t'multi-ball',\n\t\t'extra-life',\n\t]\n\n\t// Weight the power-ups (positive ones more likely)\n\tconst weights = [30, 10, 25, 25, 10] // paddle-grow: 30%, shrink: 10%, etc.\n\tconst totalWeight = weights.reduce((a, b) => a + b, 0)\n\tlet random = Math.random() * totalWeight\n\n\tfor (let i = 0; i < types.length; i++) {\n\t\trandom -= weights[i]\n\t\tif (random <= 0) {\n\t\t\treturn types[i]\n\t\t}\n\t}\n\n\treturn types[0] // Fallback\n}\n\nexport const createBricks = (level: number): Brick[][] => {\n\tconst bricks: Brick[][] = []\n\tconst brickOffsetLeft =\n\t\t(CANVAS_WIDTH -\n\t\t\t(BRICK_COLUMN_COUNT * BRICK_WIDTH +\n\t\t\t\t(BRICK_COLUMN_COUNT - 1) * BRICK_PADDING)) /\n\t\t2\n\n\t// Increase power-up chance slightly with level\n\tconst powerUpChance = Math.min(POWER_UP_DROP_CHANCE + level * 0.01, 0.3) // Max 30%\n\n\t// Initialize columns\n\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\tbricks[c] = []\n\t}\n\n\tfor (let r = 0; r < BRICK_ROW_COUNT; r++) {\n\t\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\t\tconst { type, colorOverride } = getBrickTypeForPosition(r, level)\n\n\t\t\t// Determine if this brick should have a power-up\n\t\t\tconst hasPowerUp = Math.random() < powerUpChance\n\t\t\tconst powerUpType = hasPowerUp ? getRandomPowerUpType() : undefined\n\n\t\t\tconst x = c * (BRICK_WIDTH + BRICK_PADDING) + brickOffsetLeft\n\t\t\tconst y = r * (BRICK_HEIGHT + BRICK_PADDING) + BRICK_OFFSET_TOP\n\n\t\t\tbricks[c][r] = {\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\twidth: BRICK_WIDTH,\n\t\t\t\theight: BRICK_HEIGHT,\n\t\t\t\tcolor: colorOverride || type.color,\n\t\t\t\tpoints: type.points,\n\t\t\t\tstatus: type.hitsToBreak,\n\t\t\t\thitsToBreak: type.hitsToBreak,\n\t\t\t\thasPowerUp,\n\t\t\t\tpowerUpType,\n\t\t\t}\n\t\t}\n\t}\n\n\treturn bricks\n}\n\nexport const allBricksBroken = (bricks: Brick[][]): boolean => {\n\treturn bricks.every(column => column.every(brick => brick.status === 0))\n}\n\nexport const calculatePaddleWidth = (level: number): number => {\n\treturn Math.max(\n\t\tPADDLE_MIN_WIDTH,\n\t\tPADDLE_INITIAL_WIDTH - (level - 1) * PADDLE_WIDTH_REDUCTION_PER_LEVEL\n\t)\n}\n\nexport const calculateBallSpeed = (level: number): number => {\n\treturn Math.min(\n\t\tBALL_MAX_SPEED,\n\t\tBALL_INITIAL_SPEED + (level - 1) * BALL_SPEED_INCREASE_PER_LEVEL\n\t)\n}\n","import type {\n\tBall,\n\tBrick,\n\tPaddle,\n\tPowerUpType,\n\tCollisionResult,\n} from '../types'\n\nexport function collisionDetection(\n\tball: Ball,\n\tbricks: Brick[][],\n\tpaddle: Paddle,\n\tcanvasHeight: number,\n\tcanvasWidth: number\n): CollisionResult {\n\tlet pointsToAdd = 0\n\tlet lifeLost = false\n\tlet spawnPowerUp: { x: number; y: number; type: PowerUpType } | undefined\n\tconst nextBallX = ball.x + ball.dx\n\tconst nextBallY = ball.y + ball.dy\n\n\t// Brick collision\n\tfor (let c = 0; c < bricks.length; c++) {\n\t\tfor (let r = 0; r < bricks[c].length; r++) {\n\t\t\tconst brick = bricks[c][r]\n\t\t\tif (brick.status > 0) {\n\t\t\t\tif (\n\t\t\t\t\tnextBallX + ball.radius > brick.x &&\n\t\t\t\t\tnextBallX - ball.radius < brick.x + brick.width &&\n\t\t\t\t\tnextBallY + ball.radius > brick.y &&\n\t\t\t\t\tnextBallY - ball.radius < brick.y + brick.height\n\t\t\t\t) {\n\t\t\t\t\tbrick.status -= 1\n\n\t\t\t\t\t// Award points only when brick is fully broken\n\t\t\t\t\tif (brick.status === 0) {\n\t\t\t\t\t\tpointsToAdd += brick.points\n\t\t\t\t\t\t// Spawn power-up if this brick had one\n\t\t\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\t\t\tspawnPowerUp = {\n\t\t\t\t\t\t\t\tx: brick.x + brick.width / 2,\n\t\t\t\t\t\t\t\ty: brick.y + brick.height / 2,\n\t\t\t\t\t\t\t\ttype: brick.powerUpType,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Simplified bounce logic: prioritize vertical bounce if mostly vertical collision\n\t\t\t\t\tconst overlapX = Math.min(\n\t\t\t\t\t\tball.x + ball.radius - brick.x,\n\t\t\t\t\t\tbrick.x + brick.width - (ball.x - ball.radius)\n\t\t\t\t\t)\n\t\t\t\t\tconst overlapY = Math.min(\n\t\t\t\t\t\tball.y + ball.radius - brick.y,\n\t\t\t\t\t\tbrick.y + brick.height - (ball.y - ball.radius)\n\t\t\t\t\t)\n\n\t\t\t\t\tif (overlapY <= overlapX) {\n\t\t\t\t\t\t// More horizontal overlap or equal -> Vertical bounce\n\t\t\t\t\t\tball.dy = -ball.dy\n\t\t\t\t\t\t// Correct position slightly to prevent sticking\n\t\t\t\t\t\tball.y += ball.dy > 0 ? -overlapY : overlapY\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// More vertical overlap -> Horizontal bounce\n\t\t\t\t\t\tball.dx = -ball.dx\n\t\t\t\t\t\t// Correct position slightly\n\t\t\t\t\t\tball.x += ball.dx > 0 ? -overlapX : overlapX\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { pointsToAdd, lifeLost, spawnPowerUp } // Return after first hit\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Paddle collision\n\tif (\n\t\tnextBallY + ball.radius > paddle.y && // Ball bottom below paddle top\n\t\tball.y - ball.radius < paddle.y + paddle.height && // Ball top above paddle bottom (prevents hitting from below)\n\t\tnextBallX + ball.radius > paddle.x && // Ball right edge right of paddle left\n\t\tnextBallX - ball.radius < paddle.x + paddle.width // Ball left edge left of paddle right\n\t) {\n\t\t// Only trigger if ball is moving downwards\n\t\tif (ball.dy > 0) {\n\t\t\tlet collidePoint =\n\t\t\t\t(ball.x - (paddle.x + paddle.width / 2)) / (paddle.width / 2)\n\t\t\tcollidePoint = Math.max(-0.95, Math.min(0.95, collidePoint)) // Clamp value\n\t\t\tconst angleRad = collidePoint * (Math.PI / 3) // Max angle 60 degrees\n\t\t\tball.dx = ball.speed * Math.sin(angleRad)\n\t\t\tball.dy = -Math.abs(ball.speed * Math.cos(angleRad)) // Ensure always upwards\n\t\t\tball.y = paddle.y - ball.radius - 0.1 // Move ball slightly above paddle\n\t\t}\n\t}\n\n\t// Wall collision (left/right)\n\tif (nextBallX > canvasWidth - ball.radius || nextBallX < ball.radius) {\n\t\tball.dx = -ball.dx\n\t\t// Correct position\n\t\tif (nextBallX > canvasWidth - ball.radius) {\n\t\t\tball.x = canvasWidth - ball.radius\n\t\t} else {\n\t\t\tball.x = ball.radius\n\t\t}\n\t}\n\n\t// Top wall collision\n\tif (nextBallY < ball.radius) {\n\t\tball.dy = -ball.dy\n\t\tball.y = ball.radius\n\t}\n\n\t// Bottom wall (life lost)\n\tif (ball.y > canvasHeight + ball.radius) {\n\t\tlifeLost = true\n\t}\n\n\treturn { pointsToAdd, lifeLost, spawnPowerUp }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { breakoutAudio } from './utils/audioManager'\n\n// Import types\nimport type {\n\tPowerUpType,\n\tPowerUp,\n\tActivePowerUp,\n\tBrick,\n\tBall,\n\tPaddle,\n\tBreakoutGameProps,\n} from './types'\n\n// Import constants\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tPADDLE_HEIGHT,\n\tPADDLE_COLOR,\n\tPADDLE_SPEED,\n\tBALL_RADIUS,\n\tBALL_COLOR,\n\tINITIAL_LEVEL,\n\tBRICK_TYPES,\n\tPOWER_UP_SIZE,\n\tPOWER_UP_SPEED,\n\tPOWER_UP_DURATION,\n\tPOWER_UP_CONFIG,\n\tBACKGROUND_IMAGE_SRC,\n} from './constants'\n\n// Import utility functions\nimport {\n\tcreateBricks,\n\tallBricksBroken,\n\tcalculatePaddleWidth,\n\tcalculateBallSpeed,\n} from './utils/brickHelpers'\nimport {\n\tdrawBall,\n\tdrawPaddle,\n\tdrawBricks,\n\tdrawExtraBalls,\n\tdrawPowerUps,\n} from './utils/drawingHelpers'\nimport { collisionDetection } from './utils/collisionHelpers'\n\nconst BreakoutGame: React.FC<BreakoutGameProps> = ({\n\tlives: initialLives,\n\tsetPointsEarned,\n\tsetGameOver,\n\tbrandColor = 'hsl(142, 71%, 45%)',\n\tskin = 'default',\n\tgameTitle = ' ROMPE BLOQUES',\n\tbrandLogo,\n}) => {\n\t// --- Mobile Detection ---\n\tconst mobile = isMobile()\n\n\t// --- Game State ---\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [ballLaunched, setBallLaunched] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// --- Score and Progress ---\n\tconst [level, setLevel] = useState(INITIAL_LEVEL)\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\n\t// Active power-ups for UI display\n\tconst [activePowerUpsState, setActivePowerUpsState] = useState<\n\t\tActivePowerUp[]\n\t>([])\n\n\t// --- Refs ---\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\tconst leftPressedRef = useRef(false)\n\tconst rightPressedRef = useRef(false)\n\n\t// Handle control input from GameControls\n\tconst handleControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (!gamePaused) {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tleftPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tleftPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\trightPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\trightPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[gamePaused]\n\t)\n\tconst touchStartX = useRef<number | null>(null)\n\tconst originalPaddleWidth = useRef<number>(\n\t\tcalculatePaddleWidth(INITIAL_LEVEL)\n\t)\n\tconst backgroundImageRef = useRef<HTMLImageElement | null>(null)\n\n\t// Ball ref\n\tconst ballRef = useRef<Ball>({\n\t\tx: CANVAS_WIDTH / 2,\n\t\ty: CANVAS_HEIGHT - 30,\n\t\tdx: 0,\n\t\tdy: 0,\n\t\tradius: BALL_RADIUS,\n\t\tspeed: calculateBallSpeed(INITIAL_LEVEL),\n\t\tcolor: BALL_COLOR,\n\t})\n\n\t// Paddle ref\n\tconst paddleRef = useRef<Paddle>({\n\t\tx: (CANVAS_WIDTH - calculatePaddleWidth(INITIAL_LEVEL)) / 2,\n\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\twidth: calculatePaddleWidth(INITIAL_LEVEL),\n\t\theight: PADDLE_HEIGHT,\n\t\tspeed: PADDLE_SPEED,\n\t\tcolor: PADDLE_COLOR,\n\t})\n\n\t// Bricks ref\n\tconst bricksRef = useRef<Brick[][]>(createBricks(INITIAL_LEVEL))\n\n\t// Power-ups refs\n\tconst powerUpsRef = useRef<PowerUp[]>([])\n\tconst extraBallsRef = useRef<Ball[]>([])\n\tconst activePowerUpsRef = useRef<ActivePowerUp[]>([])\n\n\t// --- Helper Functions ---\n\n\tconst resetBallAndPaddle = useCallback(() => {\n\t\tconst paddleWidth = calculatePaddleWidth(level)\n\t\tconst ballSpeed = calculateBallSpeed(level)\n\n\t\tpaddleRef.current = {\n\t\t\tx: (CANVAS_WIDTH - paddleWidth) / 2,\n\t\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\t\twidth: paddleWidth,\n\t\t\theight: PADDLE_HEIGHT,\n\t\t\tspeed: PADDLE_SPEED,\n\t\t\tcolor: PADDLE_COLOR,\n\t\t}\n\n\t\tballRef.current = {\n\t\t\tx: CANVAS_WIDTH / 2,\n\t\t\ty: CANVAS_HEIGHT - 30,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tradius: BALL_RADIUS,\n\t\t\tspeed: ballSpeed,\n\t\t\tcolor: BALL_COLOR,\n\t\t}\n\n\t\tsetBallLaunched(false)\n\t}, [level])\n\n\tconst levelUp = useCallback(() => {\n\t\tconst newLevel = level + 1\n\t\tsetLevel(newLevel)\n\t\tbricksRef.current = createBricks(newLevel)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLevelUp()\n\t}, [level, resetBallAndPaddle])\n\n\tconst loseLife = useCallback(() => {\n\t\tsetCurrentLives(prev => prev - 1)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLoseLife()\n\t}, [resetBallAndPaddle])\n\n\tconst launchBall = useCallback(() => {\n\t\tif (!ballLaunched && gameStarted && !gamePaused) {\n\t\t\tconst launchAngle = (Math.random() * Math.PI) / 3 - Math.PI / 6 // -30 to +30 degrees\n\t\t\tballRef.current.dx = ballRef.current.speed * Math.sin(launchAngle)\n\t\t\tballRef.current.dy = -ballRef.current.speed * Math.cos(launchAngle)\n\t\t\tsetBallLaunched(true)\n\t\t}\n\t}, [ballLaunched, gameStarted, gamePaused])\n\n\t// Power-up handling\n\tconst spawnPowerUp = useCallback(\n\t\t(x: number, y: number, type: PowerUpType) => {\n\t\t\tconst config = POWER_UP_CONFIG[type]\n\t\t\tpowerUpsRef.current.push({\n\t\t\t\tx: x - POWER_UP_SIZE / 2,\n\t\t\t\ty: y - POWER_UP_SIZE / 2,\n\t\t\t\twidth: POWER_UP_SIZE,\n\t\t\t\theight: POWER_UP_SIZE,\n\t\t\t\ttype,\n\t\t\t\tspeed: POWER_UP_SPEED,\n\t\t\t\tcolor: config.color,\n\t\t\t\tactive: true,\n\t\t\t})\n\t\t},\n\t\t[]\n\t)\n\n\tconst activatePowerUp = useCallback((type: PowerUpType) => {\n\t\tconst now = Date.now()\n\n\t\tswitch (type) {\n\t\t\tcase 'paddle-grow': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.min(\n\t\t\t\t\tpaddleRef.current.width * 1.5,\n\t\t\t\t\tCANVAS_WIDTH * 0.3\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'paddle-shrink': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.max(\n\t\t\t\t\tpaddleRef.current.width * 0.7,\n\t\t\t\t\t60 // PADDLE_MIN_WIDTH\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'ball-speed': {\n\t\t\t\tballRef.current.speed = ballRef.current.speed * 0.7 // Slow down for easier gameplay\n\t\t\t\t// Update velocity to match new speed\n\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t)\n\t\t\t\tballRef.current.dx =\n\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\tballRef.current.dy =\n\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'multi-ball': {\n\t\t\t\t// Create 2 extra balls\n\t\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\t\tconst angle = (Math.random() * Math.PI) / 2 - Math.PI / 4 // -45 to +45 degrees\n\t\t\t\t\textraBallsRef.current.push({\n\t\t\t\t\t\tx: ballRef.current.x,\n\t\t\t\t\t\ty: ballRef.current.y,\n\t\t\t\t\t\tdx: ballRef.current.speed * Math.sin(angle),\n\t\t\t\t\t\tdy: -Math.abs(ballRef.current.speed * Math.cos(angle)),\n\t\t\t\t\t\tradius: BALL_RADIUS,\n\t\t\t\t\t\tspeed: ballRef.current.speed,\n\t\t\t\t\t\tcolor: BALL_COLOR,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'extra-life': {\n\t\t\t\tsetCurrentLives(prev => prev + 1)\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}, [])\n\n\tconst updatePowerUps = useCallback(() => {\n\t\tconst now = Date.now()\n\n\t\t// Update falling power-ups\n\t\tpowerUpsRef.current = powerUpsRef.current.filter(powerUp => {\n\t\t\tif (!powerUp.active) return false\n\n\t\t\tpowerUp.y += powerUp.speed\n\n\t\t\t// Check paddle collision\n\t\t\tif (\n\t\t\t\tpowerUp.y + powerUp.height > paddleRef.current.y &&\n\t\t\t\tpowerUp.x < paddleRef.current.x + paddleRef.current.width &&\n\t\t\t\tpowerUp.x + powerUp.width > paddleRef.current.x\n\t\t\t) {\n\t\t\t\tactivatePowerUp(powerUp.type)\n\t\t\t\tbreakoutAudio.playPowerUpCollect()\n\t\t\t\treturn false // Remove collected power-up\n\t\t\t}\n\n\t\t\t// Remove if fell off screen\n\t\t\treturn powerUp.y < CANVAS_HEIGHT\n\t\t})\n\n\t\t// Check and remove expired power-ups\n\t\tactivePowerUpsRef.current = activePowerUpsRef.current.filter(\n\t\t\tactivePowerUp => {\n\t\t\t\tif (now > activePowerUp.endTime) {\n\t\t\t\t\t// Revert power-up effects\n\t\t\t\t\tswitch (activePowerUp.type) {\n\t\t\t\t\t\tcase 'paddle-grow':\n\t\t\t\t\t\tcase 'paddle-shrink': {\n\t\t\t\t\t\t\tpaddleRef.current.width = calculatePaddleWidth(level)\n\t\t\t\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\t\tCANVAS_WIDTH - paddleRef.current.width,\n\t\t\t\t\t\t\t\t\tpaddleRef.current.x\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'ball-speed': {\n\t\t\t\t\t\t\tballRef.current.speed = calculateBallSpeed(level)\n\t\t\t\t\t\t\t// Update velocity to match new speed\n\t\t\t\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tballRef.current.dx =\n\t\t\t\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tballRef.current.dy =\n\t\t\t\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}\n\t\t)\n\n\t\t// Update state for UI display\n\t\tsetActivePowerUpsState([...activePowerUpsRef.current])\n\t}, [activatePowerUp, level])\n\n\t// --- Effects ---\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tbreakoutAudio.init()\n\t\treturn () => {\n\t\t\tbreakoutAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Load background image\n\tuseEffect(() => {\n\t\tconst img = new Image()\n\t\tif (skin !== 'default') {\n\t\t\timg.src = `/games/breakout/skins/${skin}/bg.webp`\n\t\t} else {\n\t\t\timg.src = BACKGROUND_IMAGE_SRC\n\t\t}\n\t\timg.onload = () => {\n\t\t\tbackgroundImageRef.current = img\n\t\t}\n\t}, [])\n\n\t// Handle game over when lives reach 0\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Keyboard event listeners\n\tuseEffect(() => {\n\t\tconst keyDownHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = true\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = true\n\t\t\t} else if (e.key === ' ' && gameStarted && !ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t} else if (e.key === ' ' && gameStarted && ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t} else if (e.key === 'p' || e.key === 'P') {\n\t\t\t\tif (gameStarted && ballLaunched) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst keyUpHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = false\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = false\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', keyDownHandler)\n\t\tdocument.addEventListener('keyup', keyUpHandler)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', keyDownHandler)\n\t\t\tdocument.removeEventListener('keyup', keyUpHandler)\n\t\t}\n\t}, [gameStarted, ballLaunched, launchBall])\n\n\t// Touch event listeners\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !mobile || !gameStarted) return\n\n\t\tconst touchMoveHandler = (e: TouchEvent) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\te.preventDefault()\n\t\t\t\tconst touch = e.touches[0]\n\t\t\t\tconst rect = canvas.getBoundingClientRect()\n\t\t\t\tconst touchX = touch.clientX - rect.left\n\t\t\t\tconst nextPaddleX = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(rect.width - paddleRef.current.width, touchX)\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = nextPaddleX * window.devicePixelRatio\n\t\t\t\tif (!ballLaunched) {\n\t\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst touchStartHandler = (e: TouchEvent) => {\n\t\t\tif (gamePaused) return\n\t\t\tif (!ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t}\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\ttouchStartX.current = e.touches[0].clientX\n\t\t\t}\n\t\t}\n\n\t\tconst touchEndHandler = () => {\n\t\t\ttouchStartX.current = null\n\t\t}\n\n\t\tcanvas.addEventListener('touchmove', touchMoveHandler, { passive: false })\n\t\tcanvas.addEventListener('touchstart', touchStartHandler, { passive: false })\n\t\tcanvas.addEventListener('touchend', touchEndHandler)\n\n\t\treturn () => {\n\t\t\tcanvas.removeEventListener('touchmove', touchMoveHandler)\n\t\t\tcanvas.removeEventListener('touchstart', touchStartHandler)\n\t\t\tcanvas.removeEventListener('touchend', touchEndHandler)\n\t\t}\n\t}, [mobile, gameStarted, gamePaused, ballLaunched, launchBall])\n\n\t// Game Loop Effect\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst draw = () => {\n\t\t\tconst now = performance.now()\n\t\t\tconst deltaTime = (now - lastTime) / 1000\n\t\t\tlastTime = now\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw background\n\t\t\tif (backgroundImageRef.current) {\n\t\t\t\t// Draw background image if loaded\n\t\t\t\tctx.drawImage(\n\t\t\t\t\tbackgroundImageRef.current,\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\tCANVAS_WIDTH,\n\t\t\t\t\tCANVAS_HEIGHT\n\t\t\t\t)\n\t\t\t\t// Add a semi-transparent overlay for better visibility\n\t\t\t\tctx.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t} else {\n\t\t\t\t// Fallback: Draw a dark background if image hasn't loaded\n\t\t\t\tctx.fillStyle = '#1a1a1a'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t}\n\n\t\t\t// Draw elements\n\t\t\tdrawBricks(ctx, bricksRef.current)\n\t\t\tdrawPaddle(ctx, paddleRef.current)\n\t\t\tdrawBall(ctx, ballRef.current)\n\t\t\tdrawExtraBalls(ctx, extraBallsRef.current)\n\t\t\tdrawPowerUps(ctx, powerUpsRef.current)\n\n\t\t\tif (ballLaunched) {\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\n\t\t\t\t// Update power-ups\n\t\t\t\tupdatePowerUps()\n\n\t\t\t\t// Collision detection for main ball\n\t\t\t\tconst {\n\t\t\t\t\tpointsToAdd,\n\t\t\t\t\tlifeLost,\n\t\t\t\t\tspawnPowerUp: powerUpToSpawn,\n\t\t\t\t} = collisionDetection(\n\t\t\t\t\tballRef.current,\n\t\t\t\t\tbricksRef.current,\n\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t)\n\n\t\t\t\tif (powerUpToSpawn) {\n\t\t\t\t\tspawnPowerUp(powerUpToSpawn.x, powerUpToSpawn.y, powerUpToSpawn.type)\n\t\t\t\t}\n\n\t\t\t\t// Play brick break sound when points are earned\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tbreakoutAudio.playBrickBreak()\n\t\t\t\t}\n\n\t\t\t\t// Handle extra balls\n\t\t\t\textraBallsRef.current = extraBallsRef.current.filter(ball => {\n\t\t\t\t\tconst result = collisionDetection(\n\t\t\t\t\t\tball,\n\t\t\t\t\t\tbricksRef.current,\n\t\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t\t)\n\n\t\t\t\t\tif (result.pointsToAdd > 0) {\n\t\t\t\t\t\tsetPoints(prev => prev + result.pointsToAdd)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (result.spawnPowerUp) {\n\t\t\t\t\t\tspawnPowerUp(\n\t\t\t\t\t\t\tresult.spawnPowerUp.x,\n\t\t\t\t\t\t\tresult.spawnPowerUp.y,\n\t\t\t\t\t\t\tresult.spawnPowerUp.type\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move extra ball\n\t\t\t\t\tball.x += ball.dx * deltaTime * 60\n\t\t\t\t\tball.y += ball.dy * deltaTime * 60\n\n\t\t\t\t\t// Keep extra ball if not lost\n\t\t\t\t\treturn !result.lifeLost\n\t\t\t\t})\n\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tsetPoints(prev => prev + pointsToAdd)\n\t\t\t\t}\n\n\t\t\t\t// Only lose life if main ball is lost\n\t\t\t\tif (lifeLost) {\n\t\t\t\t\t// Check if there are extra balls\n\t\t\t\t\tif (extraBallsRef.current.length > 0) {\n\t\t\t\t\t\t// Move an extra ball to become the main ball\n\t\t\t\t\t\tconst newMainBall = extraBallsRef.current.pop()!\n\t\t\t\t\t\tballRef.current.x = newMainBall.x\n\t\t\t\t\t\tballRef.current.y = newMainBall.y\n\t\t\t\t\t\tballRef.current.dx = newMainBall.dx\n\t\t\t\t\t\tballRef.current.dy = newMainBall.dy\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloseLife()\n\t\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (allBricksBroken(bricksRef.current)) {\n\t\t\t\t\tlevelUp()\n\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Move ball\n\t\t\t\tballRef.current.x += ballRef.current.dx * deltaTime * 60\n\t\t\t\tballRef.current.y += ballRef.current.dy * deltaTime * 60\n\t\t\t} else {\n\t\t\t\t// Keep ball centered on paddle before launch\n\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\tballRef.current.y = paddleRef.current.y - BALL_RADIUS\n\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t}\n\n\t\tdraw()\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tballLaunched,\n\t\tlevel,\n\t\tloseLife,\n\t\tlevelUp,\n\t\tupdatePowerUps,\n\t\tspawnPowerUp,\n\t])\n\n\t// --- Game Start/Control Functions ---\n\n\tconst startGame = () => {\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(INITIAL_LEVEL)\n\t\tsetPoints(0)\n\t\tsetCurrentLives(initialLives)\n\t\tbricksRef.current = createBricks(INITIAL_LEVEL)\n\t\tresetBallAndPaddle()\n\t\tpowerUpsRef.current = []\n\t\textraBallsRef.current = []\n\t\tactivePowerUpsRef.current = []\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetGameStarted(true)\n\t\tsetBallLaunched(false)\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tsetBallLaunched(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\t// --- Component Render ---\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && ballLaunched && !quitGame\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t<div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3rem', padding: '0.25rem 1rem' }}>\n\t\t\t\t\t\t{/* Active Power-ups Display */}\n\t\t\t\t\t\t{gameStarted && activePowerUpsState.length > 0 && (\n\t\t\t\t\t\t\t<div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.875rem', color: 'white', fontWeight: 600 }}>\n\t\t\t\t\t\t\t\t\tPower-ups:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{activePowerUpsState.map((powerUp, index) => {\n\t\t\t\t\t\t\t\t\tconst config = POWER_UP_CONFIG[powerUp.type]\n\t\t\t\t\t\t\t\t\tconst remaining = Math.ceil(\n\t\t\t\t\t\t\t\t\t\t(powerUp.endTime - Date.now()) / 1000\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"game-header-stat-box\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderColor: config.color }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '1.125rem' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{config.label.split(' ')[0]}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', fontWeight: 'bold', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{remaining}s\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcursor:\n\t\t\t\t\t\t\t\tgameStarted && !gamePaused && ballLaunched ? 'none' : 'default',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={gameTitle}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(2)\n\t\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? 'Siguiente '\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? 'Power-ups '\n\t\t\t\t\t\t\t\t\t\t: ' JUGAR'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{/* Visual elements */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-6 h-2 bg-gray-300 rounded-sm\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Paleta</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: BALL_COLOR }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-2 h-2 rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Pelota</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{BRICK_TYPES.slice(0, 2).map(type => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={type.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: type.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-2 rounded-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Bloques</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Controls */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Desliza para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca para lanzar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Flechas para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO para lanzar/pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Skip button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : instructionsStep === 1 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Destruye bloques para ganar puntos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Completa niveles limpiando todos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> No dejes caer la pelota</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> La paleta se achica cada nivel</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-bold text-sm mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t Power-ups disponibles:\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-green-400\">Paleta Grande</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- Aumenta tamao\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-blue-400\">Bola Lenta</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\tFacilita el juego\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-yellow-400\">Multi-Bola</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- 3 bolas a la vez\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-red-400\">Vida Extra</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\t+1 vida\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs mt-2 text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNivel 4+:  Paleta pequea (cuidado!)\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLos bloques con  contienen power-ups\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(1)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage=\"Juego pausado. Listo para seguir?\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{mobile && gameStarted && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleControl}\n\t\t\t\t\tlayout=\"horizontal\"\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default BreakoutGame\n","import type { Ball, Brick, Paddle, PowerUp } from '../types'\nimport { POWER_UP_CONFIG } from '../constants'\n\nexport const drawBall = (ctx: CanvasRenderingContext2D, ball: Ball) => {\n\tctx.beginPath()\n\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\tctx.fillStyle = ball.color\n\t// Add glow\n\tctx.shadowBlur = 15\n\tctx.shadowColor = ball.color\n\tctx.fill()\n\tctx.closePath()\n\t// Reset shadow\n\tctx.shadowBlur = 0\n\tctx.shadowColor = 'transparent'\n}\n\nexport const drawPaddle = (ctx: CanvasRenderingContext2D, paddle: Paddle) => {\n\tctx.beginPath()\n\tconst radius = 5 // Rounded corners\n\tctx.moveTo(paddle.x + radius, paddle.y)\n\tctx.lineTo(paddle.x + paddle.width - radius, paddle.y)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y,\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + radius\n\t)\n\tctx.lineTo(paddle.x + paddle.width, paddle.y + paddle.height - radius)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x + paddle.width - radius,\n\t\tpaddle.y + paddle.height\n\t)\n\tctx.lineTo(paddle.x + radius, paddle.y + paddle.height)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height - radius\n\t)\n\tctx.lineTo(paddle.x, paddle.y + radius)\n\tctx.quadraticCurveTo(paddle.x, paddle.y, paddle.x + radius, paddle.y)\n\tctx.fillStyle = paddle.color\n\tctx.fill()\n\tctx.closePath()\n}\n\nexport const drawBricks = (\n\tctx: CanvasRenderingContext2D,\n\tbricks: Brick[][]\n) => {\n\tbricks.forEach(column => {\n\t\tcolumn.forEach(brick => {\n\t\t\tif (brick.status > 0) {\n\t\t\t\tctx.beginPath()\n\t\t\t\tconst radius = 3 // Subtle rounded corners\n\t\t\t\tctx.moveTo(brick.x + radius, brick.y)\n\t\t\t\tctx.lineTo(brick.x + brick.width - radius, brick.y)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y,\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + brick.width, brick.y + brick.height - radius)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x + brick.width - radius,\n\t\t\t\t\tbrick.y + brick.height\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + radius, brick.y + brick.height)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height - radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x, brick.y + radius)\n\t\t\t\tctx.quadraticCurveTo(brick.x, brick.y, brick.x + radius, brick.y)\n\n\t\t\t\t// Adjust opacity based on hits remaining\n\t\t\t\tconst opacity = brick.status / brick.hitsToBreak\n\t\t\t\tctx.fillStyle = brick.color\n\t\t\t\tctx.globalAlpha = 0.5 + opacity * 0.5 // Min 50% opacity\n\t\t\t\tctx.fill()\n\t\t\t\tctx.globalAlpha = 1.0\n\n\t\t\t\t// Draw cracks for damaged bricks\n\t\t\t\tif (brick.status < brick.hitsToBreak) {\n\t\t\t\t\tctx.strokeStyle = 'rgba(0,0,0,0.3)'\n\t\t\t\t\tctx.lineWidth = 2\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\n\t\t\t\t// Draw power-up indicator\n\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\tctx.fillStyle = 'rgba(255,255,255,0.8)'\n\t\t\t\t\tctx.font = '12px Arial'\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\t\tctx.fillText(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tbrick.x + brick.width / 2,\n\t\t\t\t\t\tbrick.y + brick.height / 2\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tctx.closePath()\n\t\t\t}\n\t\t})\n\t})\n}\n\nexport const drawExtraBalls = (\n\tctx: CanvasRenderingContext2D,\n\textraBalls: Ball[]\n) => {\n\textraBalls.forEach(ball => {\n\t\tctx.beginPath()\n\t\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\t\tctx.fillStyle = ball.color\n\t\tctx.shadowBlur = 10\n\t\tctx.shadowColor = ball.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n\nexport const drawPowerUps = (\n\tctx: CanvasRenderingContext2D,\n\tpowerUps: PowerUp[]\n) => {\n\tpowerUps.forEach(powerUp => {\n\t\t// Draw power-up background\n\t\tctx.beginPath()\n\t\tctx.arc(\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2,\n\t\t\tpowerUp.width / 2,\n\t\t\t0,\n\t\t\tMath.PI * 2\n\t\t)\n\t\tctx.fillStyle = powerUp.color\n\t\tctx.shadowBlur = 20\n\t\tctx.shadowColor = powerUp.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\n\t\t// Draw power-up icon\n\t\tctx.fillStyle = 'white'\n\t\tctx.font = '14px Arial'\n\t\tctx.textAlign = 'center'\n\t\tctx.textBaseline = 'middle'\n\n\t\t// Get the icon from POWER_UP_CONFIG\n\t\tconst icon = POWER_UP_CONFIG[powerUp.type].label.split(' ')[0] // Extract emoji icon\n\t\tctx.fillText(\n\t\t\ticon,\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2\n\t\t)\n\n\t\t// Reset shadow\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n","'use client'\n\nimport React, { useState, useCallback, useRef, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { PenaltyShootoutProps, ShotResult } from './types'\n\n// Lazy import for Phaser game\nconst PenaltyShootoutCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst PenaltyShootoutGame: React.FC<PenaltyShootoutProps> = ({\n\tlives = 5,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#1a472a',\n\tskin,\n\tgameTitle = 'PENALES',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\n\t// Game state\n\tconst [score, setScore] = useState(0)\n\tconst [round, setRound] = useState(1)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [gameResult, setGameResult] = useState<{\n\t\tgoals: number\n\t\tscore: number\n\t\twon: boolean\n\t} | null>(null)\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetRound(1)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameResult(null)\n\t\t}\n\t}, [isGameStarted])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleRoundComplete = useCallback(\n\t\t(roundNum: number, _result: ShotResult) => {\n\t\t\tsetRound(roundNum + 1)\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleGameOverFromPhaser = useCallback(\n\t\t(finalGoals: number, totalScore: number) => {\n\t\t\tsetIsGameOver(true)\n\t\t\tsetGameResult({\n\t\t\t\tgoals: finalGoals,\n\t\t\t\tscore: totalScore,\n\t\t\t\twon: finalGoals >= Math.ceil(lives / 2),\n\t\t\t})\n\t\t},\n\t\t[lives]\n\t)\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Lives (shots remaining), and Quit */}\n\t\t\t<GameHeader\n\t\t\t\tscore={score}\n\t\t\t\tlives={lives - round + 1}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Tira {lives} penales contra el portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza desde el baln hacia la portera</p>\n\t\t\t\t\t\t\t\t\t\t<p> Curva tu tiro para engaar al portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Anota {Math.ceil(lives / 2)}+ goles para ganar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Tiros curvos = +25 pts | Esquinas = +50 pts</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<PenaltyShootoutCore\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonRoundComplete={handleRoundComplete}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOverFromPhaser}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\ttotalRounds={lives}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over Screen */}\n\t\t\t\t\t{isGameOver && gameResult && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\t\t\tcolor: gameResult.won ? '#4ade80' : '#f87171'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{gameResult.won ? 'VICTORIA!' : 'DERROTA'}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '0.5rem', margin: '1rem 0' }}>\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1.5rem', opacity: i < gameResult.goals ? 1 : 0.3 }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.25rem', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.goals} de {lives} goles\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#facc15' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{gameResult.goals === lives && (\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.125rem', color: '#fde047' }}>\n\t\t\t\t\t\t\t\t\t\t\tPuntuacin perfecta! \n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default PenaltyShootoutGame\n","'use client'\n\nimport React, { useState, useCallback, useRef, useEffect, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { CandyCrushProps } from './types'\nimport { LEVELS, SCORING } from './constants'\nimport { candyCrushAudio } from './utils/audioManager'\n\n// Lazy import for Phaser game\nconst CandyCrushCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst CandyCrushGame: React.FC<CandyCrushProps> = ({\n\tlives = 3,\n\tlevel = 1,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#e91e63',\n\tskin,\n\tgameTitle = 'CANDY CRUSH',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [gameKey, setGameKey] = useState(0) // Used to reset game instance\n\n\t// Level progression state\n\tconst [currentLevel, setCurrentLevel] = useState(\n\t\tMath.min(Math.max(level, 1), LEVELS.length)\n\t)\n\tconst [totalScore, setTotalScore] = useState(0) // Accumulated score across all levels\n\n\t// Get level configuration for current level\n\tconst levelConfig = LEVELS[currentLevel - 1]\n\n\t// Game state\n\tconst [score, setScore] = useState(0) // Score for current level\n\tconst [moves, setMoves] = useState(levelConfig.moves)\n\tconst [livesRemaining, setLivesRemaining] = useState(lives)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isRoundComplete, setIsRoundComplete] = useState(false)\n\tconst [roundWon, setRoundWon] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [allLevelsComplete, setAllLevelsComplete] = useState(false)\n\n\t// Refs to access current values in callbacks without causing re-renders\n\tconst scoreRef = useRef(score)\n\tconst totalScoreRef = useRef(totalScore)\n\tconst currentLevelRef = useRef(currentLevel)\n\tconst livesRemainingRef = useRef(livesRemaining)\n\n\t// Cleanup audio on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tcandyCrushAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Keep refs in sync with state\n\tuseEffect(() => {\n\t\tscoreRef.current = score\n\t}, [score])\n\tuseEffect(() => {\n\t\ttotalScoreRef.current = totalScore\n\t}, [totalScore])\n\tuseEffect(() => {\n\t\tcurrentLevelRef.current = currentLevel\n\t}, [currentLevel])\n\tuseEffect(() => {\n\t\tlivesRemainingRef.current = livesRemaining\n\t}, [livesRemaining])\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(async () => {\n\t\tif (!isGameStarted) {\n\t\t\t// Initialize audio on user gesture (required for browser audio context)\n\t\t\tawait candyCrushAudio.init()\n\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsRoundComplete(false)\n\t\t\tsetRoundWon(false)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetMoves(levelConfig.moves)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameKey(prev => prev + 1)\n\t\t}\n\t}, [isGameStarted, levelConfig.moves])\n\n\tconst retryRound = useCallback(() => {\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(levelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [levelConfig.moves])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = useCallback(() => {\n\t\t// Use refs to ensure we get the latest values\n\t\tconst finalScore = totalScoreRef.current + scoreRef.current\n\t\tsetPointsEarned(finalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}, [setPointsEarned, setGameOver])\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleMovesUpdate = useCallback((newMoves: number) => {\n\t\tsetMoves(newMoves)\n\t}, [])\n\n\tconst handleGameComplete = useCallback(\n\t\t(won: boolean, _finalScore: number) => {\n\t\t\tsetRoundWon(won)\n\t\t\tsetIsRoundComplete(true)\n\n\t\t\tif (won) {\n\t\t\t\t// Check if this was the last level\n\t\t\t\tif (currentLevelRef.current >= LEVELS.length) {\n\t\t\t\t\t// Completed all levels! Add final score to total\n\t\t\t\t\tsetTotalScore(prev => prev + scoreRef.current)\n\t\t\t\t\tsetAllLevelsComplete(true)\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can continue to next level (score added when they click Next)\n\t\t\t} else {\n\t\t\t\t// Player failed - lose a life\n\t\t\t\tconst newLives = livesRemainingRef.current - 1\n\t\t\t\tsetLivesRemaining(newLives)\n\n\t\t\t\tif (newLives <= 0) {\n\t\t\t\t\t// No more lives - game over\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can retry\n\t\t\t}\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleNextLevel = useCallback(() => {\n\t\t// Add current level score to total before advancing\n\t\tsetTotalScore(prev => prev + score)\n\n\t\t// Advance to next level\n\t\tconst nextLevel = currentLevel + 1\n\t\tconst nextLevelConfig = LEVELS[nextLevel - 1]\n\n\t\tsetCurrentLevel(nextLevel)\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(nextLevelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [currentLevel, score])\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(totalScore + score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Moves, Lives, Level */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={currentLevel}\n\t\t\t\tscore={totalScore + score}\n\t\t\t\tlives={livesRemaining}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isRoundComplete && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-2 md:space-y-3\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-3xl md:text-5xl font-bold text-pink-400 animate-pulse\">\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-bold text-white\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} de {LEVELS.length}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-1 md:space-y-2 text-gray-300 text-sm md:text-md\">\n\t\t\t\t\t\t\t\t\t\t<p> Meta: {levelConfig.targetScore} puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Movimientos: {levelConfig.moves}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Vidas: {lives}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza para intercambiar dulces</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-xs md:text-sm text-gray-400 mt-2 md:mt-3\">\n\t\t\t\t\t\t\t\t\t\t<p>Combina 3+ dulces del mismo color</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isRoundComplete && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<CandyCrushCore\n\t\t\t\t\t\t\t\tkey={gameKey}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonMovesUpdate={handleMovesUpdate}\n\t\t\t\t\t\t\t\tonGameComplete={handleGameComplete}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tlives={livesRemaining}\n\t\t\t\t\t\t\t\tlevelConfig={levelConfig}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Success (not last level) */}\n\t\t\t\t\t{isRoundComplete && roundWon && !allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleNextLevel}\n\t\t\t\t\t\t\tactionText=\"Siguiente Nivel \"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-green-400\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} Completado!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Alcanzaste la meta</p>\n\n\t\t\t\t\t\t\t\t\t{/* Score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-md text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tPuntuacin acumulada:{' '}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t{totalScore + score}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* All Levels Complete */}\n\t\t\t\t\t{isRoundComplete && roundWon && allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\" Finalizar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\tVICTORIA TOTAL!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\tCompletaste los {LEVELS.length} niveles!\n\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t{/* Final level score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base (nivel {currentLevel}):</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel {currentLevel}:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Niveles anteriores:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin final:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore + score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Failed but has lives */}\n\t\t\t\t\t{isRoundComplete && !roundWon && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={retryRound}\n\t\t\t\t\t\t\tactionText=\" Reintentar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\tCasi!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\t{score} / {levelConfig.targetScore} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center gap-2 my-4\">\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`text-2xl ${\n\t\t\t\t\t\t\t\t\t\t\t\t\ti < livesRemaining ? 'opacity-100' : 'opacity-30'\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over - No more lives */}\n\t\t\t\t\t{isGameOver && !roundWon && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-red-400\">\n\t\t\t\t\t\t\t\t\t\tGAME OVER\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Se acabaron las vidas</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t{score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore + score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Ad Space */}\n\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t<img\n\t\t\t\t\tsrc=\"/games/candy-crush/sprites/ad-bottom.png\"\n\t\t\t\t\talt=\"Advertisement\"\n\t\t\t\t\tstyle={{ width: '100%', height: 'auto' }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CandyCrushGame\n","import type { LaneColors } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 400\nexport const CANVAS_HEIGHT = 600\n\n// Lane configuration\nexport const LANE_COUNT = 4\nexport const LANE_WIDTH = CANVAS_WIDTH / LANE_COUNT\nexport const HIT_ZONE_Y = CANVAS_HEIGHT - 80\nexport const HIT_ZONE_HEIGHT = 20\n\n// Note configuration\nexport const NOTE_WIDTH = LANE_WIDTH - 20\nexport const NOTE_HEIGHT = 30\nexport const NOTE_RADIUS = 8\n\n// Timing windows (in milliseconds)\nexport const PERFECT_WINDOW = 50\nexport const GOOD_WINDOW = 100\n\n// Scoring (reduced for longer levels)\nexport const PERFECT_POINTS = 50\nexport const GOOD_POINTS = 25\nexport const MAX_COMBO_MULTIPLIER = 8\n\n// Default neon colors\nexport const DEFAULT_LANE_COLORS: LaneColors = {\n\tlane0: '#00ffff', // Cyan\n\tlane1: '#ff00ff', // Magenta\n\tlane2: '#ffff00', // Yellow\n\tlane3: '#00ff00', // Lime\n}\n\n// Key bindings\nexport const LANE_KEYS = ['d', 'f', 'j', 'k']\nexport const LANE_LABELS = ['D', 'F', 'J', 'K']\n\n// Lane pitches for Tone.js (C major chord with extension)\nexport const LANE_PITCHES = ['C4', 'E4', 'G4', 'B4']\n\n// Visual effects\nexport const HIT_EFFECT_DURATION = 300 // ms\nexport const TRAIL_LENGTH = 3\n","// Lane Assignment Algorithms for Melodic Song System\n// Converts raw melody notes to playable 4-lane patterns\n\nimport type { MelodicNote, LaneAssignmentOptions } from '../songs/songTypes'\n\n// MIDI note number to pitch name conversion\nconst NOTE_NAMES = [\n\t'C',\n\t'C#',\n\t'D',\n\t'D#',\n\t'E',\n\t'F',\n\t'F#',\n\t'G',\n\t'G#',\n\t'A',\n\t'A#',\n\t'B',\n]\n\nexport function pitchToMidi(pitch: string): number {\n\t// Parse pitch like \"C4\", \"F#5\", \"Bb3\"\n\tconst match = pitch.match(/^([A-G])([#b]?)(\\d+)$/)\n\tif (!match) return 60 // Default to middle C\n\n\tconst [, note, accidental, octaveStr] = match\n\tconst octave = parseInt(octaveStr, 10)\n\n\tlet noteIndex = NOTE_NAMES.indexOf(note)\n\tif (accidental === '#') noteIndex++\n\tif (accidental === 'b') noteIndex--\n\n\t// MIDI note number: C4 = 60\n\treturn (octave + 1) * 12 + noteIndex\n}\n\nexport function midiToPitch(midi: number): string {\n\tconst octave = Math.floor(midi / 12) - 1\n\tconst noteIndex = midi % 12\n\treturn `${NOTE_NAMES[noteIndex]}${octave}`\n}\n\n// Transpose a pitch by a number of semitones\nexport function transposePitch(pitch: string, semitones: number): string {\n\tconst midi = pitchToMidi(pitch)\n\treturn midiToPitch(midi + semitones)\n}\n\n// Transpose a pitch by octaves\nexport function transposeOctave(pitch: string, octaves: number): string {\n\treturn transposePitch(pitch, octaves * 12)\n}\n\ninterface PitchRange {\n\tmin: number\n\tmax: number\n\trange: number\n}\n\nfunction analyzePitchRange(notes: MelodicNote[]): PitchRange {\n\tconst midiValues = notes.map(n => pitchToMidi(n.pitch))\n\tconst min = Math.min(...midiValues)\n\tconst max = Math.max(...midiValues)\n\treturn { min, max, range: max - min }\n}\n\n/**\n * Pitch-Range Mapping Strategy\n * Divides the song's pitch range into 4 zones and assigns each to a lane.\n * Adjacent pitches map to adjacent lanes, creating natural hand movement.\n */\nfunction assignByPitchRange(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\tconst { min, range } = analyzePitchRange(notes)\n\n\t// Handle songs with very small range (all same pitch or close)\n\tconst effectiveRange = Math.max(range, 4)\n\tconst zoneSize = effectiveRange / 4\n\n\treturn notes.map(note => {\n\t\tconst midi = pitchToMidi(note.pitch)\n\t\tconst relativePosition = midi - min\n\n\t\t// Map to lane 0-3 based on position in range\n\t\tconst rawLane = Math.floor(relativePosition / zoneSize)\n\t\tconst lane = Math.max(0, Math.min(3, rawLane)) as 0 | 1 | 2 | 3\n\n\t\treturn { ...note, lane }\n\t})\n}\n\n/**\n * Complexity-Aware Mapping Strategy\n * Optimizes for playability by avoiding impossible patterns and\n * ensuring reasonable travel distance between consecutive notes.\n */\nfunction assignByComplexity(\n\tnotes: MelodicNote[],\n\tmaxSimultaneous: number = 2\n): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\t// First pass: assign by pitch range\n\tlet assignedNotes = assignByPitchRange(notes)\n\n\t// Second pass: resolve simultaneous note conflicts\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of assignedNotes) {\n\t\tconst beatKey = Math.round(note.beat * 1000) // Round to avoid floating point issues\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\t// Resolve conflicts where too many notes share the same beat\n\tconst resolvedNotes: MelodicNote[] = []\n\tfor (const [, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length <= maxSimultaneous) {\n\t\t\t// Ensure unique lanes for simultaneous notes\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of beatNotes) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t} else {\n\t\t\t// Too many simultaneous notes - keep only the most important ones\n\t\t\t// (highest and lowest pitches tend to be most melodically significant)\n\t\t\tconst sorted = [...beatNotes].sort(\n\t\t\t\t(a, b) => pitchToMidi(a.pitch) - pitchToMidi(b.pitch)\n\t\t\t)\n\t\t\tconst kept = [sorted[0], sorted[sorted.length - 1]]\n\t\t\tif (maxSimultaneous > 2 && sorted.length > 2) {\n\t\t\t\tkept.push(sorted[Math.floor(sorted.length / 2)])\n\t\t\t}\n\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of kept.slice(0, maxSimultaneous)) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort by beat\n\treturn resolvedNotes.sort((a, b) => a.beat - b.beat)\n}\n\n/**\n * Main lane assignment function\n * Takes raw notes (potentially without lane assignments) and returns\n * notes with optimized lane assignments for playability.\n */\nexport function assignLanes(\n\tnotes: MelodicNote[],\n\toptions: LaneAssignmentOptions = { strategy: 'pitch-range' }\n): MelodicNote[] {\n\tconst { strategy, maxSimultaneous = 2 } = options\n\n\tswitch (strategy) {\n\t\tcase 'pitch-range':\n\t\t\treturn assignByPitchRange(notes)\n\t\tcase 'complexity-aware':\n\t\t\treturn assignByComplexity(notes, maxSimultaneous)\n\t\tdefault:\n\t\t\treturn assignByPitchRange(notes)\n\t}\n}\n\n/**\n * Validate that a song's lane assignments are playable\n * Returns issues found, or empty array if valid\n */\nexport function validateLaneAssignments(notes: MelodicNote[]): string[] {\n\tconst issues: string[] = []\n\n\t// Check for too many simultaneous notes\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of notes) {\n\t\tconst beatKey = Math.round(note.beat * 1000)\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\tfor (const [beat, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length > 2) {\n\t\t\tissues.push(\n\t\t\t\t`Beat ${beat / 1000}: ${beatNotes.length} simultaneous notes (max recommended: 2)`\n\t\t\t)\n\t\t}\n\n\t\t// Check for duplicate lanes at same beat\n\t\tconst lanes = beatNotes.map(n => n.lane)\n\t\tconst uniqueLanes = new Set(lanes)\n\t\tif (lanes.length !== uniqueLanes.size) {\n\t\t\tissues.push(`Beat ${beat / 1000}: Multiple notes in same lane`)\n\t\t}\n\t}\n\n\t// Check for invalid lane values\n\tfor (const note of notes) {\n\t\tif (note.lane < 0 || note.lane > 3) {\n\t\t\tissues.push(`Beat ${note.beat}: Invalid lane ${note.lane}`)\n\t\t}\n\t}\n\n\treturn issues\n}\n\n/**\n * Balance lane distribution\n * Slightly adjusts assignments to ensure all lanes are used reasonably evenly\n */\nexport function balanceLaneDistribution(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length < 8) return notes // Too few notes to balance\n\n\t// Count current distribution\n\tconst laneCounts = [0, 0, 0, 0]\n\tfor (const note of notes) {\n\t\tlaneCounts[note.lane]++\n\t}\n\n\tconst avgCount = notes.length / 4\n\tconst threshold = avgCount * 0.5 // Allow 50% deviation\n\n\t// Find underused and overused lanes\n\tconst underused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count < avgCount - threshold)\n\t\t.map(l => l.lane)\n\n\tconst overused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count > avgCount + threshold)\n\t\t.map(l => l.lane)\n\n\tif (underused.length === 0 || overused.length === 0) return notes\n\n\t// Redistribute some notes from overused to underused lanes\n\tconst result = [...notes]\n\tfor (let i = 0; i < result.length && underused.length > 0; i++) {\n\t\tconst note = result[i]\n\t\tif (overused.includes(note.lane)) {\n\t\t\t// Don't move if it would create same-lane conflict at same beat\n\t\t\tconst sameBeatNotes = result.filter(\n\t\t\t\tn => Math.abs(n.beat - note.beat) < 0.01 && n !== note\n\t\t\t)\n\t\t\tconst sameBeatLanes = new Set(sameBeatNotes.map(n => n.lane))\n\n\t\t\tconst targetLane = underused.find(l => !sameBeatLanes.has(l)) as\n\t\t\t\t| (0 | 1 | 2 | 3)\n\t\t\t\t| undefined\n\t\t\tif (targetLane !== undefined) {\n\t\t\t\tresult[i] = { ...note, lane: targetLane }\n\t\t\t\tlaneCounts[note.lane]--\n\t\t\t\tlaneCounts[targetLane]++\n\n\t\t\t\t// Update underused/overused lists\n\t\t\t\tif (laneCounts[targetLane] >= avgCount - threshold) {\n\t\t\t\t\tunderused.splice(underused.indexOf(targetLane), 1)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result\n}\n","import * as Tone from 'tone'\nimport { LANE_PITCHES } from '../constants'\nimport { transposeOctave } from './laneAssigner'\n\nclass AudioManager {\n\tprivate synth: Tone.PolySynth | null = null\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Background beat synths\n\tprivate drumSynth: Tone.MembraneSynth | null = null\n\tprivate hiHatSynth: Tone.MetalSynth | null = null\n\tprivate snareSynth: Tone.NoiseSynth | null = null\n\tprivate bassLoop: Tone.Loop | null = null\n\tprivate hiHatLoop: Tone.Loop | null = null\n\tprivate snareLoop: Tone.Loop | null = null\n\tprivate isPlaying = false\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\ttry {\n\t\t\t// Start Tone.js audio context\n\t\t\tawait Tone.start()\n\n\t\t\t// Create a polyphonic synth with nice settings\n\t\t\tthis.synth = new Tone.PolySynth(Tone.Synth, {\n\t\t\t\toscillator: {\n\t\t\t\t\ttype: 'sine',\n\t\t\t\t},\n\t\t\t\tenvelope: {\n\t\t\t\t\tattack: 0.01,\n\t\t\t\t\tdecay: 0.2,\n\t\t\t\t\tsustain: 0.3,\n\t\t\t\t\trelease: 0.5,\n\t\t\t\t},\n\t\t\t}).toDestination()\n\n\t\t\t// Set volume\n\t\t\tthis.synth.volume.value = -10\n\n\t\t\t// Initialize drum synths for background beat\n\t\t\tthis.initDrums()\n\n\t\t\tthis.initialized = true\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to initialize audio:', error)\n\t\t}\n\t}\n\n\tprivate initDrums(): void {\n\t\t// Kick drum\n\t\tthis.drumSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.4, sustain: 0.01, release: 1.4 },\n\t\t}).toDestination()\n\t\tthis.drumSynth.volume.value = -8\n\n\t\t// Hi-hat\n\t\tthis.hiHatSynth = new Tone.MetalSynth({\n\t\t\tenvelope: { attack: 0.001, decay: 0.1, release: 0.01 },\n\t\t\tharmonicity: 5.1,\n\t\t\tmodulationIndex: 32,\n\t\t\tresonance: 4000,\n\t\t\toctaves: 1.5,\n\t\t}).toDestination()\n\t\tthis.hiHatSynth.volume.value = -20\n\n\t\t// Snare drum (noise-based)\n\t\tthis.snareSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'white' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.2, sustain: 0, release: 0.1 },\n\t\t}).toDestination()\n\t\tthis.snareSynth.volume.value = -12\n\t}\n\n\tstartBackgroundBeat(\n\t\tbpm: number,\n\t\ttrack: 'chill' | 'default' | 'upbeat',\n\t\tcycle: number = 0\n\t): void {\n\t\tif (this.isPlaying || this.muted) return\n\n\t\tTone.Transport.bpm.value = bpm\n\n\t\tif (track === 'chill') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Minimal pattern - kick on every beat, hi-hat sparse\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '2n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Lo-fi/Hip-hop - kick on 1, snare on 3, offbeat hi-hat\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '1n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '1n').start('2n')\n\n\t\t\t\t// Offbeat hi-hat (on the \"and\" of each beat)\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start('8n')\n\t\t\t}\n\t\t} else if (track === 'default') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Standard rock beat - kick 1&3, snare 2&4, hi-hat quarter notes\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Four-on-the-floor (disco/house) - kick every beat, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t} else {\n\t\t\t// Upbeat\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Driving rock - kick 1&3, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Double-time punk - kick every beat, snare every offbeat, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '4n').start('8n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t}\n\n\t\tTone.Transport.start()\n\t\tthis.isPlaying = true\n\t}\n\n\tstopBackgroundBeat(): void {\n\t\tTone.Transport.stop()\n\t\tthis.bassLoop?.stop()\n\t\tthis.hiHatLoop?.stop()\n\t\tthis.snareLoop?.stop()\n\t\tthis.bassLoop?.dispose()\n\t\tthis.hiHatLoop?.dispose()\n\t\tthis.snareLoop?.dispose()\n\t\tthis.bassLoop = null\n\t\tthis.hiHatLoop = null\n\t\tthis.snareLoop = null\n\t\tthis.isPlaying = false\n\t}\n\n\tpauseBackgroundBeat(): void {\n\t\tif (this.isPlaying) {\n\t\t\tTone.Transport.pause()\n\t\t}\n\t}\n\n\tresumeBackgroundBeat(): void {\n\t\tif (this.isPlaying && !this.muted) {\n\t\t\tTone.Transport.start()\n\t\t}\n\t}\n\n\tupdateBpm(bpm: number): void {\n\t\tTone.Transport.bpm.value = bpm\n\t}\n\n\tplayNote(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\tconst pitch = LANE_PITCHES[lane]\n\t\tif (pitch) {\n\t\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t\t}\n\t}\n\n\tplayPerfect(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the note with a sparkle effect (higher octave accent)\n\t\tconst basePitch = LANE_PITCHES[lane]\n\t\tif (basePitch) {\n\t\t\tthis.synth.triggerAttackRelease(basePitch, '8n')\n\t\t\t// Add sparkle with higher octave\n\t\t\tconst highPitch = basePitch.replace('4', '6')\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t\t}\n\t\t\t}, 50)\n\t\t}\n\t}\n\n\t// New melodic note methods for the Song System\n\n\t/**\n\t * Play a specific pitch for a melodic note hit\n\t */\n\tplayMelodicNote(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t}\n\n\t/**\n\t * Play a melodic note with sparkle effect for perfect hits\n\t */\n\tplayMelodicNotePerfect(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the base note\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\n\t\t// Add sparkle with higher octave\n\t\tconst highPitch = transposeOctave(pitch, 2)\n\t\tsetTimeout(() => {\n\t\t\tif (this.synth && !this.muted) {\n\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t}\n\t\t}, 50)\n\t}\n\n\tplayMiss(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play a dissonant sound for miss\n\t\tthis.synth.triggerAttackRelease(['C3', 'Db3'], '16n', undefined, 0.3)\n\t}\n\n\tplayCombo(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play ascending arpeggio for combo milestone\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(note, '16n', undefined, 0.4)\n\t\t\t\t}\n\t\t\t}, i * 50)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t\tif (muted) {\n\t\t\tthis.pauseBackgroundBeat()\n\t\t} else if (this.isPlaying) {\n\t\t\tthis.resumeBackgroundBeat()\n\t\t}\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tthis.stopBackgroundBeat()\n\t\tif (this.synth) {\n\t\t\tthis.synth.dispose()\n\t\t\tthis.synth = null\n\t\t}\n\t\tif (this.drumSynth) {\n\t\t\tthis.drumSynth.dispose()\n\t\t\tthis.drumSynth = null\n\t\t}\n\t\tif (this.hiHatSynth) {\n\t\t\tthis.hiHatSynth.dispose()\n\t\t\tthis.hiHatSynth = null\n\t\t}\n\t\tif (this.snareSynth) {\n\t\t\tthis.snareSynth.dispose()\n\t\t\tthis.snareSynth = null\n\t\t}\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance\nexport const audioManager = new AudioManager()\n","// Twinkle Twinkle Little Star - Easy difficulty song\n// A recognizable classic melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\n// The melody: C C G G A A G | F F E E D D C\n// With lane assignments optimized for playability\n\nexport const twinkleStar: Song = {\n\tmetadata: {\n\t\tid: 'twinkle-star',\n\t\ttitle: 'Twinkle Twinkle',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 90,\n\t\tduration: 32, // seconds\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 3 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\t\t// Rest on beat 7\n\n\t\t// Phrase 2: \"little star\" - F F E E D D C\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t// Rest on beat 15\n\n\t\t// Phrase 3: \"How I wonder\" - G G F F E E D\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 23\n\n\t\t// Phrase 4: \"what you are\" - G G F F E E D\n\t\t{ beat: 24, pitch: 'G4', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 27, pitch: 'F4', lane: 1 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 31\n\n\t\t// Verse 2 (repeat of verse 1 for longer gameplay)\n\t\t// Phrase 5: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t\t{ beat: 33, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 3 },\n\t\t{ beat: 37, pitch: 'A4', lane: 3 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 6: \"little star\" - F F E E D D C\n\t\t{ beat: 40, pitch: 'F4', lane: 1 },\n\t\t{ beat: 41, pitch: 'F4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2, // Play twice\n\t},\n}\n","// Mary Had a Little Lamb - Very Easy difficulty\n// A simple nursery rhyme perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const maryHadALittleLamb: Song = {\n\tmetadata: {\n\t\tid: 'mary-had-a-little-lamb',\n\t\ttitle: 'Mary Had a Little Lamb',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 85,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 2: \"little lamb, little lamb\" - D D D, E G G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 3: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'D4', lane: 0 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 4: \"fleece was white as snow\" - D D E D C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat for length\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 35, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'D4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Hot Cross Buns - Very Easy difficulty\n// One of the simplest melodies, great for absolute beginners\n\nimport type { Song } from './songTypes'\n\nexport const hotCrossBuns: Song = {\n\tmetadata: {\n\t\tid: 'hot-cross-buns',\n\t\ttitle: 'Hot Cross Buns',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 80,\n\t\tduration: 28,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Hot cross buns\" - E D C\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 2: \"Hot cross buns\" - E D C\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 3: \"One a penny\" - C C C C\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 4: \"Two a penny\" - D D D D\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 5: \"Hot cross buns\" - E D C\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'C4', lane: 0 },\n\t\t{ beat: 50, pitch: 'C4', lane: 0 },\n\t\t{ beat: 51, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'D4', lane: 0 },\n\t\t{ beat: 54, pitch: 'D4', lane: 0 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 56, pitch: 'E4', lane: 1 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Jingle Bells (Simple Version) - Very Easy difficulty\n// The famous chorus melody simplified for beginners\n\nimport type { Song } from './songTypes'\n\nexport const jingleBells: Song = {\n\tmetadata: {\n\t\tid: 'jingle-bells',\n\t\ttitle: 'Jingle Bells',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 95,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"Jingle bells, jingle bells\" - E E E, E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// \"Jingle all the way\" - E G C D E\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\n\t\t// \"Oh what fun it is to ride\" - F F F F F E E\n\t\t{ beat: 16, pitch: 'F4', lane: 2 },\n\t\t{ beat: 17, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 2 },\n\t\t{ beat: 20, pitch: 'F4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// \"In a one horse open sleigh\" - E D D E D G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'G4', lane: 2 },\n\n\t\t// Repeat chorus\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 48, pitch: 'F4', lane: 2 },\n\t\t{ beat: 49, pitch: 'F4', lane: 2 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 2 },\n\t\t{ beat: 52, pitch: 'F4', lane: 2 },\n\t\t{ beat: 53, pitch: 'E4', lane: 1 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 56, pitch: 'G4', lane: 2 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\t\t{ beat: 58, pitch: 'F4', lane: 2 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Row Row Row Your Boat - Very Easy difficulty\n// A simple round melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const rowRowRow: Song = {\n\tmetadata: {\n\t\tid: 'row-row-row',\n\t\ttitle: 'Row Row Row Your Boat',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 88,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Row, row, row your boat\" - C C C D E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\n\t\t// \"Gently down the stream\" - E D E F G\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'G4', lane: 2 },\n\n\t\t// \"Merrily merrily merrily merrily\" - C C C G G G E E E C C C\n\t\t{ beat: 12, pitch: 'C5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\n\t\t// \"Life is but a dream\" - G F E D C\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'C4', lane: 0 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'D4', lane: 0 },\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41.5, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 42, pitch: 'G4', lane: 2 },\n\t\t{ beat: 43, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Ode to Joy by Ludwig van Beethoven - Medium difficulty\n// A recognizable classical melody with moderate complexity\n\nimport type { Song } from './songTypes'\n\n// Main theme: E E F G | G F E D | C C D E | E D D\n// Second phrase: E E F G | G F E D | C C D E | D C C\n\nexport const odeToJoy: Song = {\n\tmetadata: {\n\t\tid: 'ode-to-joy',\n\t\ttitle: 'Ode to Joy',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'easy',\n\t\tbpm: 110,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// Phrase 1: E E F G | G F E D\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 3 },\n\t\t{ beat: 5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 2: C C D E | E D D\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 3: E E F G | G F E D (repeat)\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'G4', lane: 3 },\n\t\t{ beat: 20, pitch: 'G4', lane: 3 },\n\t\t{ beat: 21, pitch: 'F4', lane: 2 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 4: C C D E | D C C (ending variation)\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'C4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\n\t\t// Bridge section (B section) - D D E C | D E F E C | D E F E D | C D G\n\t\t{ beat: 32, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'C4', lane: 0 },\n\t\t{ beat: 36, pitch: 'D4', lane: 0 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G3', lane: 0 },\n\n\t\t// Return to main theme\n\t\t// Phrase 5: E E F G | G F E D\n\t\t{ beat: 48, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'G4', lane: 3 },\n\t\t{ beat: 52, pitch: 'G4', lane: 3 },\n\t\t{ beat: 53, pitch: 'F4', lane: 2 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase: C C D E | D C C (with flourish)\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t\t{ beat: 57, pitch: 'C4', lane: 0 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 62, pitch: 'C4', lane: 0 },\n\t\t// Final sustained note\n\t\t{ beat: 63, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1, // Play once (already long enough)\n\t},\n}\n","// When the Saints Go Marching In - Easy difficulty\n// A classic gospel song with a steady marching rhythm\n\nimport type { Song } from './songTypes'\n\nexport const whenTheSaints: Song = {\n\tmetadata: {\n\t\tid: 'when-the-saints',\n\t\ttitle: 'When the Saints',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"Oh when the saints\" - C E F G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\n\t\t// \"go marching in\" - C E F G\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\n\t\t// \"Oh when the saints go marching in\" - C E F G E C E D\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\n\t\t// \"Lord I want to be in that number\" - E E D C C E G G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C4', lane: 0 },\n\t\t{ beat: 29, pitch: 'C4', lane: 0 },\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'G4', lane: 2 },\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\n\t\t// \"When the saints go marching in\" - G F E F G E C D C\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t// Second verse\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 1 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 54, pitch: 'C4', lane: 0 },\n\t\t{ beat: 55, pitch: 'E4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F4', lane: 1 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t\t{ beat: 61, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'F4', lane: 1 },\n\t\t{ beat: 63, pitch: 'G4', lane: 2 },\n\t\t{ beat: 65, pitch: 'E4', lane: 1 },\n\t\t{ beat: 66, pitch: 'C4', lane: 0 },\n\t\t{ beat: 67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 68, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 72, pitch: 'E4', lane: 1 },\n\t\t{ beat: 73, pitch: 'E4', lane: 1 },\n\t\t{ beat: 74, pitch: 'D4', lane: 0 },\n\t\t{ beat: 75, pitch: 'C4', lane: 0 },\n\t\t{ beat: 77, pitch: 'C4', lane: 0 },\n\t\t{ beat: 78, pitch: 'E4', lane: 1 },\n\t\t{ beat: 79, pitch: 'G4', lane: 2 },\n\t\t{ beat: 80, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 84,\n\t\tcount: 1,\n\t},\n}\n","// Oh! Susanna - Easy difficulty\n// A classic American folk song by Stephen Foster\n\nimport type { Song } from './songTypes'\n\nexport const ohSusanna: Song = {\n\tmetadata: {\n\t\tid: 'oh-susanna',\n\t\ttitle: 'Oh! Susanna',\n\t\tartist: 'Stephen Foster',\n\t\tdifficulty: 'easy',\n\t\tbpm: 105,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D C D\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\n\t\t// \"I'm going to Louisiana\" - C D E G G A G E\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\n\t\t// \"my true love for to see\" - C D E E D D C\n\t\t{ beat: 20, pitch: 'C4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\n\t\t// Chorus: \"Oh Susanna\" - A A C C D E E\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\n\t\t// \"don't you cry for me\" - E D C A G\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'A4', lane: 2 },\n\t\t{ beat: 40, pitch: 'G4', lane: 1 },\n\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D D C\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 48.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'E4', lane: 1 },\n\t\t{ beat: 51, pitch: 'D4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// London Bridge Is Falling Down - Easy difficulty\n// A classic English nursery rhyme\n\nimport type { Song } from './songTypes'\n\nexport const londonBridge: Song = {\n\tmetadata: {\n\t\tid: 'london-bridge',\n\t\ttitle: 'London Bridge',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 0, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'F4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\n\t\t// \"Falling down, falling down\" - D E F, E F G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'F4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'F4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'F4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 2 },\n\n\t\t// \"My fair lady\" - D G E C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G4', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F4', lane: 1 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49, pitch: 'A4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 1 },\n\t\t{ beat: 52, pitch: 'E4', lane: 1 },\n\t\t{ beat: 53, pitch: 'F4', lane: 1 },\n\t\t{ beat: 54, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 56, pitch: 'D4', lane: 0 },\n\t\t{ beat: 58, pitch: 'G4', lane: 2 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Happy Birthday - Easy difficulty\n// The most recognized song in the world\n\nimport type { Song } from './songTypes'\n\nexport const happyBirthday: Song = {\n\tmetadata: {\n\t\tid: 'happy-birthday',\n\t\ttitle: 'Happy Birthday',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 95,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Happy birthday to you\" - G G A G C B\n\t\t{ beat: 0, pitch: 'G4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 3, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'B4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - G G A G D C\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\n\t\t// \"Happy birthday dear [name]\" - G G G E C B A\n\t\t{ beat: 12, pitch: 'G4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - F F E C D C\n\t\t{ beat: 18, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Repeat\n\t\t{ beat: 26, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'G4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39, pitch: 'G5', lane: 3 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'C5', lane: 2 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 2 },\n\n\t\t{ beat: 44, pitch: 'F5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 45, pitch: 'E5', lane: 3 },\n\t\t{ beat: 46, pitch: 'C5', lane: 2 },\n\t\t{ beat: 47, pitch: 'D5', lane: 3 },\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 52,\n\t\tcount: 1,\n\t},\n}\n","// Canon in D (Simplified) by Johann Pachelbel - Medium difficulty\n// A gentle, flowing melody to bridge between Ode to Joy and Fr Elise\n\nimport type { Song } from './songTypes'\n\n// Simplified version of the famous Canon melody\n\nexport const canonInD: Song = {\n\tmetadata: {\n\t\tid: 'canon-in-d',\n\t\ttitle: 'Canon in D',\n\t\tartist: 'Pachelbel',\n\t\tdifficulty: 'medium',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Main melodic phrase 1\n\t\t{ beat: 0, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 1, pitch: 'E5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 4, pitch: 'B4', lane: 1 },\n\t\t{ beat: 5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 6, pitch: 'B4', lane: 1 },\n\t\t{ beat: 7, pitch: 'C#5', lane: 1 },\n\n\t\t// Main melodic phrase 2\n\t\t{ beat: 8, pitch: 'D5', lane: 2 },\n\t\t{ beat: 9, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 10, pitch: 'B4', lane: 1 },\n\t\t{ beat: 11, pitch: 'A4', lane: 0 },\n\t\t{ beat: 12, pitch: 'G4', lane: 0 },\n\t\t{ beat: 13, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 14, pitch: 'G4', lane: 0 },\n\t\t{ beat: 15, pitch: 'A4', lane: 0 },\n\n\t\t// Variation with eighth notes\n\t\t{ beat: 16, pitch: 'B4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 17, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 19, pitch: 'G4', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 0 },\n\n\t\t{ beat: 20, pitch: 'E4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 21, pitch: 'G4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 22, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 22.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 23, pitch: 'A4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 1 },\n\n\t\t// Rising phrase\n\t\t{ beat: 24, pitch: 'G4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 25, pitch: 'B4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 0 },\n\t\t{ beat: 26.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 27, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 28, pitch: 'B4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 29, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 2 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'E5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'F#5', lane: 3 },\n\n\t\t// Climax phrase\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\t\t{ beat: 33, pitch: 'E5', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 35, pitch: 'G5', lane: 3 },\n\t\t{ beat: 36, pitch: 'E5', lane: 2 },\n\t\t{ beat: 37, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 38, pitch: 'G5', lane: 3 },\n\t\t{ beat: 39, pitch: 'A5', lane: 3 },\n\n\t\t// Gentle descent\n\t\t{ beat: 40, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 41, pitch: 'E5', lane: 2 },\n\t\t{ beat: 42, pitch: 'D5', lane: 2 },\n\t\t{ beat: 43, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 44, pitch: 'B4', lane: 1 },\n\t\t{ beat: 45, pitch: 'A4', lane: 0 },\n\t\t{ beat: 46, pitch: 'B4', lane: 1 },\n\t\t{ beat: 47, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 50,\n\t\tcount: 1,\n\t},\n}\n","// The Entertainer by Scott Joplin - Medium difficulty\n// A classic ragtime piece with syncopated rhythms\n\nimport type { Song } from './songTypes'\n\n// Famous ragtime melody with characteristic syncopation\n\nexport const entertainer: Song = {\n\tmetadata: {\n\t\tid: 'entertainer',\n\t\ttitle: 'The Entertainer',\n\t\tartist: 'Scott Joplin',\n\t\tdifficulty: 'medium',\n\t\tbpm: 105,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro - the famous opening riff\n\t\t{ beat: 0, pitch: 'D4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme A - syncopated melody\n\t\t{ beat: 8, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\n\t\t// Theme A continued\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 2 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B - contrasting section\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B continued\n\t\t{ beat: 32, pitch: 'A4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 33, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 34, pitch: 'C5', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 1 },\n\n\t\t// Syncopated run\n\t\t{ beat: 38, pitch: 'D4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'D5', lane: 2 },\n\t\t{ beat: 42, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D5', lane: 2 },\n\t\t{ beat: 45, pitch: 'C5', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 49.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 51.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 52.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 53.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 54, pitch: 'E5', lane: 3 },\n\n\t\t// Final phrase\n\t\t{ beat: 56, pitch: 'C5', lane: 2 },\n\t\t{ beat: 56.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 57, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 57.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 58.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 59.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 60.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 61, pitch: 'D5', lane: 2 },\n\t\t{ beat: 62, pitch: 'C5', lane: 2 },\n\n\t\t// Ending flourish\n\t\t{ beat: 64, pitch: 'G4', lane: 0 },\n\t\t{ beat: 64.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 65, pitch: 'B4', lane: 1 },\n\t\t{ beat: 65.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 66, pitch: 'D5', lane: 2 },\n\t\t{ beat: 66.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 67, pitch: 'F5', lane: 3 },\n\t\t{ beat: 68, pitch: 'E5', lane: 3 },\n\t\t{ beat: 69, pitch: 'D5', lane: 2 },\n\t\t{ beat: 70, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 70,\n\t\tcount: 1,\n\t},\n}\n","// Minuet in G Major by J.S. Bach - Medium difficulty\n// A graceful dance piece with elegant phrasing\n\nimport type { Song } from './songTypes'\n\nexport const minuetInG: Song = {\n\tmetadata: {\n\t\tid: 'minuet-in-g',\n\t\ttitle: 'Minuet in G',\n\t\tartist: 'J.S. Bach',\n\t\tdifficulty: 'medium',\n\t\tbpm: 108,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// First phrase\n\t\t{ beat: 0, pitch: 'D5', lane: 2 },\n\t\t{ beat: 1, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'B4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G4', lane: 1 },\n\n\t\t// Second phrase\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'C5', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 8, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 9, pitch: 'G5', lane: 3 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G4', lane: 1 },\n\n\t\t// Third phrase\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 1 },\n\n\t\t// Fourth phrase\n\t\t{ beat: 18, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 20, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 21, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Second half - repeat with variation\n\t\t{ beat: 24, pitch: 'D5', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'G5', lane: 3 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'D5', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'B4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'A4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'G4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 44, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Turkish March (Rondo Alla Turca) by Mozart - Medium difficulty\n// A lively and recognizable classical piece\n\nimport type { Song } from './songTypes'\n\nexport const turkishMarch: Song = {\n\tmetadata: {\n\t\tid: 'turkish-march',\n\t\ttitle: 'Turkish March',\n\t\tartist: 'Mozart',\n\t\tdifficulty: 'medium',\n\t\tbpm: 115,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme A\n\t\t{ beat: 0, pitch: 'B4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\n\t\t// Theme continuation\n\t\t{ beat: 8, pitch: 'F5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\n\t\t// Theme repeat\n\t\t{ beat: 14, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18, pitch: 'B5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - more rhythmic\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 28, pitch: 'D5', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 30, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\n\t\t// Return to A\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 39.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 42, pitch: 'F5', lane: 3 },\n\t\t{ beat: 42.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 43, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 43.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 44, pitch: 'B5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 45, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 45.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 46, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Greensleeves - Medium difficulty\n// A traditional English folk song with a beautiful flowing melody\n\nimport type { Song } from './songTypes'\n\nexport const greensleeves: Song = {\n\tmetadata: {\n\t\tid: 'greensleeves',\n\t\ttitle: 'Greensleeves',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'medium',\n\t\tbpm: 95,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// First phrase: \"Alas my love you do me wrong\"\n\t\t{ beat: 0, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'C5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3, pitch: 'F5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"To cast me off discourteously\"\n\t\t{ beat: 8, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 0 },\n\t\t{ beat: 14, pitch: 'A4', lane: 1 },\n\n\t\t// \"For I have loved you\"\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"oh so long\"\n\t\t{ beat: 24, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 1 },\n\n\t\t// Chorus: \"Greensleeves was all my joy\"\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 34, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'G4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 37, pitch: 'B4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"Greensleeves was my delight\"\n\t\t{ beat: 38, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 40, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 0 },\n\t\t{ beat: 44, pitch: 'G5', lane: 3 },\n\n\t\t// \"Greensleeves was my heart of gold\"\n\t\t{ beat: 46, pitch: 'G5', lane: 3 },\n\t\t{ beat: 46.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 47, pitch: 'E5', lane: 3 },\n\t\t{ beat: 47.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'B4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 1 },\n\t\t{ beat: 50.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"And who but my Lady Greensleeves\"\n\t\t{ beat: 52, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 53, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 53.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 58,\n\t\tcount: 1,\n\t},\n}\n","// Fr Elise (Opening Theme) by Ludwig van Beethoven - Medium difficulty\n// The iconic opening melody, serves as a bridge to harder songs\n\nimport type { Song } from './songTypes'\n\n// Famous opening: E D# E D# E B D C A (repeated with variations)\n\nexport const furElise: Song = {\n\tmetadata: {\n\t\tid: 'fur-elise',\n\t\ttitle: 'Fr Elise',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 100,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme - first statement\n\t\t{ beat: 0, pitch: 'E5', lane: 3 },\n\t\t{ beat: 0.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 1, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'E5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 3, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution phrase\n\t\t{ beat: 5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'A4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme - second statement\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13, pitch: 'B4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution with ending\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - contrasting melody\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 24, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 27.5, pitch: 'F4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 1 },\n\n\t\t// Return to main theme\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 36, pitch: 'D5', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'A4', lane: 1 },\n\n\t\t// Final resolution\n\t\t{ beat: 38, pitch: 'C4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 40.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Moonlight Sonata (1st Movement Theme) by Beethoven - Hard difficulty\n// The haunting opening theme with flowing triplet patterns\n\nimport type { Song } from './songTypes'\n\nexport const moonlightSonata: Song = {\n\tmetadata: {\n\t\tid: 'moonlight-sonata',\n\t\ttitle: 'Moonlight Sonata',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 60,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening triplet arpeggios with melody\n\t\t{ beat: 0, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 0.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 0.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 1.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 1.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 2.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 2.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 4, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 4.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 4.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 5.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 5.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 6.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 8.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A3', lane: 0 },\n\t\t{ beat: 9.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 9.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A3', lane: 0 },\n\t\t{ beat: 10.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 10.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'F#4', lane: 2 },\n\n\t\t{ beat: 12, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 12.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 12.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 13.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 13.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'D#4', lane: 1 },\n\n\t\t// Rising melodic line\n\t\t{ beat: 16, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 16.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 16.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19, pitch: 'B4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'A3', lane: 0 },\n\t\t{ beat: 20.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 20.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'B4', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 3 },\n\n\t\t// Descending line\n\t\t{ beat: 24, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 24.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 24.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'B3', lane: 0 },\n\n\t\t// Repeat with variation\n\t\t{ beat: 28, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 28.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 28.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 29.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 29.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 31, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'A3', lane: 0 },\n\t\t{ beat: 32.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 32.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D#4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 36, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 36.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 36.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 37.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 37.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C#4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'none',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 40,\n\t\tcount: 1,\n\t},\n}\n","// Hungarian Dance No. 5 by Brahms - Hard difficulty\n// A fiery and passionate dance with dramatic tempo changes\n\nimport type { Song } from './songTypes'\n\nexport const hungarianDance: Song = {\n\tmetadata: {\n\t\tid: 'hungarian-dance',\n\t\ttitle: 'Hungarian Dance No. 5',\n\t\tartist: 'Brahms',\n\t\tdifficulty: 'hard',\n\t\tbpm: 120,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - dramatic\n\t\t{ beat: 0, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 4, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'D4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 12, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Fast running passage\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 16.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 17, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 18.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F#4', lane: 1 },\n\n\t\t// Repeat with accents\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23, pitch: 'C#5', lane: 2 },\n\n\t\t// B section - lyrical\n\t\t{ beat: 24, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 28, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31, pitch: 'A4', lane: 2 },\n\n\t\t// Climax passage\n\t\t{ beat: 32, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 36, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 37, pitch: 'A4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'D4', lane: 0 },\n\n\t\t// Final cadence - fast\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 40.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 41, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 41.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// In the Hall of the Mountain King by Grieg - Hard difficulty\n// Starts slow and builds to a frantic climax\n\nimport type { Song } from './songTypes'\n\nexport const mountainKing: Song = {\n\tmetadata: {\n\t\tid: 'mountain-king',\n\t\ttitle: 'Hall of Mountain King',\n\t\tartist: 'Grieg',\n\t\tdifficulty: 'hard',\n\t\tbpm: 110,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - creeping\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\n\t\t// Theme repeat\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 15, pitch: 'A3', lane: 0 },\n\n\t\t// Building section - faster feel\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E5', lane: 3 },\n\n\t\t// More intensity\n\t\t{ beat: 24, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.67, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.67, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.33, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 26.67, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 27, pitch: 'F5', lane: 3 },\n\t\t{ beat: 27.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.67, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\n\t\t// Climax - fastest\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.75, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 34, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37.25, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 37.75, pitch: 'C#5', lane: 2 },\n\n\t\t// Final rush\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 38.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 39, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.75, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40, pitch: 'C4', lane: 0 },\n\t\t{ beat: 40.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 41, pitch: 'A3', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Habanera from Carmen by Bizet - Hard difficulty\n// A seductive and rhythmically complex aria\n\nimport type { Song } from './songTypes'\n\nexport const carmenHabanera: Song = {\n\tmetadata: {\n\t\tid: 'carmen-habanera',\n\t\ttitle: 'Habanera (Carmen)',\n\t\tartist: 'Bizet',\n\t\tdifficulty: 'hard',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening descending chromatic line\n\t\t{ beat: 0, pitch: 'D5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\n\t\t// Main theme with habanera rhythm\n\t\t{ beat: 16, pitch: 'D4', lane: 0 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 18, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E4', lane: 1 },\n\n\t\t// Theme continuation\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 29.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase - higher\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 38, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\n\t\t// Descending again\n\t\t{ beat: 40, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 43, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 44, pitch: 'A4', lane: 2 },\n\t\t{ beat: 44.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 45, pitch: 'A4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 46, pitch: 'A4', lane: 2 },\n\n\t\t// Return to chromatic descent\n\t\t{ beat: 48, pitch: 'D5', lane: 3 },\n\t\t{ beat: 49, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 50, pitch: 'C5', lane: 2 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 53, pitch: 'A4', lane: 2 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'G4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 57, pitch: 'F4', lane: 1 },\n\t\t{ beat: 58, pitch: 'E4', lane: 1 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase with ornamentation\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 61, pitch: 'F4', lane: 1 },\n\t\t{ beat: 61.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'D4', lane: 0 },\n\t\t{ beat: 62.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 63, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 66,\n\t\tcount: 1,\n\t},\n}\n","// Electronic Beat - Hard difficulty\n// An original synth melody with faster patterns and wider pitch range\n\nimport type { Song } from './songTypes'\n\n// A modern electronic melody with syncopation and faster note sequences\n\nexport const electronicBeat: Song = {\n\tmetadata: {\n\t\tid: 'electronic-beat',\n\t\ttitle: 'Neon Rush',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 128,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Intro riff - ascending synth line\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\n\t\t// Drop pattern - syncopated\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 7, pitch: 'G4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\n\t\t// Build-up section - rapid notes\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\n\t\t// Peak - chord hits\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 3 },\n\n\t\t// Verse section - bouncy melody\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 23, pitch: 'G4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'E4', lane: 1 },\n\n\t\t// Bridge - wider intervals\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'C5', lane: 3 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'B4', lane: 3 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31, pitch: 'F4', lane: 1 },\n\n\t\t// Climax - fast descending runs\n\t\t{ beat: 32, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 33.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33.75, pitch: 'C4', lane: 0 },\n\n\t\t// Ascending response\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'C5', lane: 3 },\n\n\t\t// Final drop hits\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'C5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 40, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat main hook for gameplay length\n\t\t// Second verse\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 46, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 47, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 50, pitch: 'C5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'E4', lane: 1 },\n\n\t\t// Final flourish\n\t\t{ beat: 52, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 52.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 52.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 53, pitch: 'E5', lane: 3 },\n\t\t{ beat: 54, pitch: 'C5', lane: 3 },\n\t\t{ beat: 55, pitch: 'G4', lane: 2 },\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 16,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// Neon Pulse - Very Hard difficulty\n// An intense electronic track with rapid synth patterns\n\nimport type { Song } from './songTypes'\n\nexport const neonPulse: Song = {\n\tmetadata: {\n\t\tid: 'neon-pulse',\n\t\ttitle: 'Neon Pulse',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 135,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro pulse\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'G4', lane: 2 },\n\n\t\t// Build\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'C5', lane: 3 },\n\n\t\t// Drop - fast arpeggios\n\t\t{ beat: 8, pitch: 'E4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 8.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'E4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'C5', lane: 2 },\n\n\t\t// Synth stabs\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 15, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'B4', lane: 2 },\n\n\t\t// Melody section\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'E5', lane: 3 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'E4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'C6', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.75, pitch: 'C5', lane: 2 },\n\n\t\t// Final climb\n\t\t{ beat: 28, pitch: 'E4', lane: 0 },\n\t\t{ beat: 28.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 28.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C6', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'A5', lane: 3 },\n\n\t\t// Outro hits\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E4', lane: 0 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 36,\n\t\tcount: 1,\n\t},\n}\n","// Digital Storm - Very Hard difficulty\n// A chaotic electronic track with unpredictable patterns\n\nimport type { Song } from './songTypes'\n\nexport const digitalStorm: Song = {\n\tmetadata: {\n\t\tid: 'digital-storm',\n\t\ttitle: 'Digital Storm',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 140,\n\t\tduration: 42,\n\t},\n\tnotes: [\n\t\t// Glitchy intro\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'G5', lane: 3 },\n\n\t\t// Storm building\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 6.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'F4', lane: 1 },\n\t\t{ beat: 7.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'F5', lane: 3 },\n\n\t\t// Full storm - chaos\n\t\t{ beat: 8, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Descending chaos\n\t\t{ beat: 12, pitch: 'C6', lane: 3 },\n\t\t{ beat: 12.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 12.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 13, pitch: 'F5', lane: 3 },\n\t\t{ beat: 13.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 15.75, pitch: 'D4', lane: 0 },\n\n\t\t// Ascending storm\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 18, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'C6', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'B5', lane: 3 },\n\n\t\t// Stutter section\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 22, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'A5', lane: 3 },\n\n\t\t// Final wave\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 25.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27.75, pitch: 'A4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\t\t{ beat: 31, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Cyber Chase - Very Hard difficulty\n// A high-speed electronic pursuit theme\n\nimport type { Song } from './songTypes'\n\nexport const cyberChase: Song = {\n\tmetadata: {\n\t\tid: 'cyber-chase',\n\t\ttitle: 'Cyber Chase',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 145,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Urgent opening\n\t\t{ beat: 0, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 3.75, pitch: 'C5', lane: 3 },\n\n\t\t// Chase begins\n\t\t{ beat: 4, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A3', lane: 0 },\n\t\t{ beat: 5.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'F#4', lane: 1 },\n\n\t\t// Intensity increase\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Escape sequence\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13, pitch: 'B4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'E4', lane: 1 },\n\n\t\t// Counter attack\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 19, pitch: 'B4', lane: 2 },\n\t\t{ beat: 19.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 1 },\n\n\t\t{ beat: 20, pitch: 'C5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.75, pitch: 'B4', lane: 2 },\n\n\t\t// Final pursuit\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.75, pitch: 'E5', lane: 3 },\n\n\t\t// Climax\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'F#4', lane: 1 },\n\n\t\t// End hit\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 4,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Synth Wave - Very Hard difficulty\n// A retro-futuristic synthwave track with complex patterns\n\nimport type { Song } from './songTypes'\n\nexport const synthWave: Song = {\n\tmetadata: {\n\t\tid: 'synth-wave',\n\t\ttitle: 'Synth Wave',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 130,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Retro intro arpeggio\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'C5', lane: 3 },\n\t\t{ beat: 1.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'C4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G3', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'B3', lane: 0 },\n\n\t\t// Bass with melody\n\t\t{ beat: 4, pitch: 'F3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'A3', lane: 0 },\n\t\t{ beat: 6, pitch: 'E3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'G#3', lane: 0 },\n\n\t\t// Main synth lead\n\t\t{ beat: 8, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.75, pitch: 'G4', lane: 2 },\n\n\t\t// Dual arpeggio section\n\t\t{ beat: 16, pitch: 'A3', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'G3', lane: 0 },\n\t\t{ beat: 17.25, pitch: 'D4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'F3', lane: 0 },\n\t\t{ beat: 18.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E3', lane: 0 },\n\t\t{ beat: 19.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19.75, pitch: 'B4', lane: 2 },\n\n\t\t// High energy section\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 23.75, pitch: 'A4', lane: 2 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'C5', lane: 3 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'C4', lane: 0 },\n\n\t\t// Build up\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'G4', lane: 2 },\n\n\t\t// Final chorus\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.75, pitch: 'D4', lane: 1 },\n\n\t\t// Ending\n\t\t{ beat: 36, pitch: 'A4', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'A5', lane: 3 },\n\t\t{ beat: 38, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 38,\n\t\tcount: 1,\n\t},\n}\n","// Song Registry - Manages song loading and progression\n\nimport type { Song } from './songTypes'\n\n// Very Easy Songs\nimport { twinkleStar } from './twinkle-star'\nimport { maryHadALittleLamb } from './mary-had-a-little-lamb'\nimport { hotCrossBuns } from './hot-cross-buns'\nimport { jingleBells } from './jingle-bells'\nimport { rowRowRow } from './row-row-row'\n\n// Easy Songs\nimport { odeToJoy } from './ode-to-joy'\nimport { whenTheSaints } from './when-the-saints'\nimport { ohSusanna } from './oh-susanna'\nimport { londonBridge } from './london-bridge'\nimport { happyBirthday } from './happy-birthday'\n\n// Medium Songs\nimport { canonInD } from './canon-in-d'\nimport { entertainer } from './entertainer'\nimport { minuetInG } from './minuet-in-g'\nimport { turkishMarch } from './turkish-march'\nimport { greensleeves } from './greensleeves'\n\n// Hard Songs\nimport { furElise } from './fur-elise'\nimport { moonlightSonata } from './moonlight-sonata'\nimport { hungarianDance } from './hungarian-dance'\nimport { mountainKing } from './mountain-king'\nimport { carmenHabanera } from './carmen-habanera'\n\n// Very Hard Songs\nimport { electronicBeat } from './electronic-beat'\nimport { neonPulse } from './neon-pulse'\nimport { digitalStorm } from './digital-storm'\nimport { cyberChase } from './cyber-chase'\nimport { synthWave } from './synth-wave'\n\n// 5-tier difficulty system\nexport type Difficulty = 'very-easy' | 'easy' | 'medium' | 'hard' | 'very-hard'\n\n// Ordered difficulty levels for progression\nconst DIFFICULTIES: Difficulty[] = [\n\t'very-easy',\n\t'easy',\n\t'medium',\n\t'hard',\n\t'very-hard',\n]\n\n// All available songs (25 total - 5 per difficulty)\nexport const songLibrary: Song[] = [\n\t// Very Easy (5)\n\ttwinkleStar,\n\tmaryHadALittleLamb,\n\thotCrossBuns,\n\tjingleBells,\n\trowRowRow,\n\t// Easy (5)\n\todeToJoy,\n\twhenTheSaints,\n\tohSusanna,\n\tlondonBridge,\n\thappyBirthday,\n\t// Medium (5)\n\tcanonInD,\n\tentertainer,\n\tminuetInG,\n\tturkishMarch,\n\tgreensleeves,\n\t// Hard (5)\n\tfurElise,\n\tmoonlightSonata,\n\thungarianDance,\n\tmountainKing,\n\tcarmenHabanera,\n\t// Very Hard (5)\n\telectronicBeat,\n\tneonPulse,\n\tdigitalStorm,\n\tcyberChase,\n\tsynthWave,\n]\n\n// Songs organized by 5-tier difficulty (5 songs each)\nexport const songsByDifficulty: Record<Difficulty, Song[]> = {\n\t'very-easy': [\n\t\ttwinkleStar,\n\t\tmaryHadALittleLamb,\n\t\thotCrossBuns,\n\t\tjingleBells,\n\t\trowRowRow,\n\t],\n\teasy: [odeToJoy, whenTheSaints, ohSusanna, londonBridge, happyBirthday],\n\tmedium: [canonInD, entertainer, minuetInG, turkishMarch, greensleeves],\n\thard: [\n\t\tfurElise,\n\t\tmoonlightSonata,\n\t\thungarianDance,\n\t\tmountainKing,\n\t\tcarmenHabanera,\n\t],\n\t'very-hard': [electronicBeat, neonPulse, digitalStorm, cyberChase, synthWave],\n}\n\n// Get song for a specific level (auto-progression with random selection)\n// Level 1 = very-easy, Level 2 = easy, Level 3 = medium, Level 4 = hard, Level 5 = very-hard\n// Level 6+ = cycle repeats with speed increase\nexport function getSongForLevel(level: number): {\n\tsong: Song\n\tcycle: number\n\tspeedMultiplier: number\n\tdifficulty: Difficulty\n} {\n\t// Calculate which cycle we're on (5 levels per cycle)\n\tconst cycle = Math.floor((level - 1) / 5)\n\n\t// Calculate difficulty index (0-4) within current cycle\n\tconst difficultyIndex = (level - 1) % 5\n\tconst difficulty = DIFFICULTIES[difficultyIndex]\n\n\t// Get songs for this difficulty and pick one randomly\n\tconst songsInTier = songsByDifficulty[difficulty]\n\tconst randomIndex = Math.floor(Math.random() * songsInTier.length)\n\tconst song = songsInTier[randomIndex]\n\n\t// Speed multiplier increases each cycle\n\t// Cycle 0: 1.0x, Cycle 1: 1.1x, Cycle 2: 1.2x, etc.\n\tconst speedMultiplier = 1.0 + cycle * 0.1\n\n\treturn {\n\t\tsong,\n\t\tcycle,\n\t\tspeedMultiplier,\n\t\tdifficulty,\n\t}\n}\n\n// Get song by ID\nexport function getSongById(id: string): Song | undefined {\n\treturn songLibrary.find(s => s.metadata.id === id)\n}\n\n// Get all songs\nexport function getAllSongs(): Song[] {\n\treturn songLibrary\n}\n\n// Get song metadata list (for UI display)\nexport function getSongList(): Array<{\n\tid: string\n\ttitle: string\n\tartist: string\n\tdifficulty: Difficulty\n}> {\n\treturn songLibrary.map(s => ({\n\t\tid: s.metadata.id,\n\t\ttitle: s.metadata.title,\n\t\tartist: s.metadata.artist,\n\t\tdifficulty: s.metadata.difficulty,\n\t}))\n}\n\n// Re-export types\nexport type { Song, MelodicNote, SongMetadata } from './songTypes'\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport type { RhythmHighwayProps, Note, HitEffect } from './types'\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tLANE_COUNT,\n\tLANE_WIDTH,\n\tHIT_ZONE_Y,\n\tHIT_ZONE_HEIGHT,\n\tNOTE_HEIGHT,\n\tNOTE_RADIUS,\n\tPERFECT_WINDOW,\n\tGOOD_WINDOW,\n\tPERFECT_POINTS,\n\tGOOD_POINTS,\n\tMAX_COMBO_MULTIPLIER,\n\tDEFAULT_LANE_COLORS,\n\tLANE_KEYS,\n\tLANE_LABELS,\n\tHIT_EFFECT_DURATION,\n} from './constants'\nimport { audioManager } from './utils/audioManager'\nimport { getSongForLevel, type Song, type Difficulty } from './songs'\nimport type { DrumPattern } from './songs/songTypes'\n\n// Use a web-safe font that looks similar to Orbitron\nconst GAME_FONT_FAMILY = \"'Orbitron', 'Segoe UI', 'Arial Black', sans-serif\"\n\n// Speed by difficulty (pixels per frame at 60fps)\nconst SPEED_BY_DIFFICULTY: Record<string, number> = {\n\t'very-easy': 2,\n\teasy: 3,\n\tmedium: 5,\n\thard: 7,\n\t'very-hard': 9,\n}\n\n// Difficulty display names in Spanish\nconst DIFFICULTY_NAMES: Record<string, string> = {\n\t'very-easy': 'Muy Fcil',\n\teasy: 'Fcil',\n\tmedium: 'Medio',\n\thard: 'Difcil',\n\t'very-hard': 'Muy Difcil',\n}\n\nconst RhythmHighway: React.FC<RhythmHighwayProps> = ({\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#8b5cf6',\n\tinitialLives = 3,\n\tgameTitle = 'RHYTHM HIGHWAY',\n\tbrandLogo,\n}) => {\n\tconst mobile = isMobile()\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\n\t// Game state\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// Level progression\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpTimeout, setLevelUpTimeout] = useState<NodeJS.Timeout | null>(\n\t\tnull\n\t)\n\n\t// Score and progress\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\tconst [combo, setCombo] = useState(0)\n\tconst [maxCombo, setMaxCombo] = useState(0)\n\n\t// Audio state\n\tconst [audioInitialized, setAudioInitialized] = useState(false)\n\tconst [audioMuted, setAudioMuted] = useState(false)\n\n\t// Game refs (to avoid closure issues in animation loop)\n\tconst notesRef = useRef<Note[]>([])\n\tconst hitEffectsRef = useRef<HitEffect[]>([])\n\tconst pointsRef = useRef(0)\n\tconst comboRef = useRef(0)\n\tconst livesRef = useRef(initialLives)\n\tconst lastBeatRef = useRef(-1)\n\tconst gameTimeRef = useRef(0)\n\tconst noteIdCounterRef = useRef(0)\n\tconst levelRef = useRef(1)\n\tconst currentSongRef = useRef<Song | null>(null)\n\tconst songNoteIndexRef = useRef(0) // Track which song note to spawn next\n\tconst songLoopCountRef = useRef(0) // Track song loops for level progression\n\tconst currentConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache current level config to prevent random song changes per frame\n\tconst nextLevelConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache next level config for level-up overlay to ensure announced song matches played song\n\n\t// Get current level config with song data\n\tconst getLevelConfig = useCallback((lvl: number) => {\n\t\tconst { song, cycle, speedMultiplier } = getSongForLevel(lvl)\n\t\tconst difficulty = song.metadata.difficulty\n\t\tconst difficultyName = DIFFICULTY_NAMES[difficulty] || difficulty\n\n\t\treturn {\n\t\t\tsong,\n\t\t\tdifficulty,\n\t\t\ttrack: song.background.drumPattern,\n\t\t\tspeedMultiplier,\n\t\t\tcycle,\n\t\t\tdisplayName:\n\t\t\t\tcycle > 0\n\t\t\t\t\t? `${song.metadata.title} (${difficultyName}) x${cycle + 1}`\n\t\t\t\t\t: `${song.metadata.title} (${difficultyName})`,\n\t\t}\n\t}, [])\n\n\t// Current level configuration (for UI display)\n\tconst currentConfig = getLevelConfig(level)\n\n\t// Lane colors\n\tconst laneColors = DEFAULT_LANE_COLORS\n\n\t// Sync refs with state\n\tuseEffect(() => {\n\t\tpointsRef.current = points\n\t}, [points])\n\n\tuseEffect(() => {\n\t\tcomboRef.current = combo\n\t}, [combo])\n\n\tuseEffect(() => {\n\t\tlivesRef.current = currentLives\n\t}, [currentLives])\n\n\tuseEffect(() => {\n\t\tlevelRef.current = level\n\t}, [level])\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tconst initAudio = async () => {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\t\tinitAudio()\n\n\t\treturn () => {\n\t\t\taudioManager.dispose()\n\t\t}\n\t}, [])\n\n\t// Handle game over\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Handle pause/resume background beat\n\tuseEffect(() => {\n\t\tif (!gameStarted) return\n\t\tif (gamePaused || quitGame) {\n\t\t\taudioManager.pauseBackgroundBeat()\n\t\t} else {\n\t\t\taudioManager.resumeBackgroundBeat()\n\t\t}\n\t}, [gamePaused, quitGame, gameStarted])\n\n\t// Cleanup level up timeout\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (levelUpTimeout) {\n\t\t\t\tclearTimeout(levelUpTimeout)\n\t\t\t}\n\t\t}\n\t}, [levelUpTimeout])\n\n\t// Handle level up\n\tconst triggerLevelUp = useCallback(() => {\n\t\t// Pre-cache the next level config so overlay and actual transition use the same song\n\t\tconst nextConfig = getLevelConfig(levelRef.current + 1)\n\t\tnextLevelConfigRef.current = nextConfig\n\n\t\tsetShowLevelUp(true)\n\t\tsetGamePaused(true)\n\n\t\t// Play level up sound\n\t\tif (audioInitialized) {\n\t\t\taudioManager.playCombo()\n\t\t}\n\n\t\t// Auto-continue after showing level up message\n\t\tconst timeout = setTimeout(() => {\n\t\t\tconst newLevel = levelRef.current + 1\n\t\t\tsetLevel(newLevel)\n\t\t\tsetShowLevelUp(false)\n\t\t\tsetGamePaused(false)\n\t\t\tsongLoopCountRef.current = 0\n\t\t\tsongNoteIndexRef.current = 0\n\n\t\t\t// Clear notes for clean transition\n\t\t\tnotesRef.current = []\n\t\t\tlastBeatRef.current = -1\n\t\t\tgameTimeRef.current = 0\n\n\t\t\t// Use the pre-cached config instead of calling getLevelConfig again\n\t\t\t// This ensures the song announced in the overlay matches the song that plays\n\t\t\tconst newConfig = nextLevelConfigRef.current!\n\t\t\tcurrentConfigRef.current = newConfig\n\t\t\tconst newSong = newConfig.song\n\t\t\tcurrentSongRef.current = newSong\n\t\t\tconst newBpm = newSong.metadata.bpm\n\n\t\t\t// Clear the next level config cache\n\t\t\tnextLevelConfigRef.current = null\n\n\t\t\t// Restart beat with new song's BPM and drum pattern\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tif (newSong.background.drumPattern !== 'none') {\n\t\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\t\tnewBpm,\n\t\t\t\t\tnewSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\t\tnewConfig.cycle\n\t\t\t\t)\n\t\t\t}\n\t\t}, 2000)\n\n\t\tsetLevelUpTimeout(timeout)\n\t}, [audioInitialized, getLevelConfig])\n\n\t// Check for hit\n\tconst checkHit = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tconst notes = notesRef.current\n\t\t\tconst hitZoneCenter = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t// Find the closest unhit note in this lane\n\t\t\tlet closestNote: Note | null = null\n\t\t\tlet closestDistance = Infinity\n\n\t\t\tfor (const note of notes) {\n\t\t\t\tif (note.lane === lane && !note.hit && !note.missed) {\n\t\t\t\t\tconst noteCenter = note.y + NOTE_HEIGHT / 2\n\t\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\t\t\t\t\tif (distance < closestDistance) {\n\t\t\t\t\t\tclosestDistance = distance\n\t\t\t\t\t\tclosestNote = note\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (closestNote) {\n\t\t\t\tconst noteCenter = closestNote.y + NOTE_HEIGHT / 2\n\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\n\t\t\t\t// Convert pixel distance to time based on note speed\n\t\t\t\tconst currentSpeed =\n\t\t\t\t\tSPEED_BY_DIFFICULTY[getLevelConfig(levelRef.current).difficulty] *\n\t\t\t\t\tgetLevelConfig(levelRef.current).speedMultiplier\n\t\t\t\tconst timeDistance = (distance / currentSpeed) * (1000 / 60)\n\n\t\t\t\tif (timeDistance <= GOOD_WINDOW) {\n\t\t\t\t\tclosestNote.hit = true\n\t\t\t\t\tclosestNote.hitTime = Date.now()\n\n\t\t\t\t\tif (timeDistance <= PERFECT_WINDOW) {\n\t\t\t\t\t\t// Perfect hit\n\t\t\t\t\t\tclosestNote.hitType = 'perfect'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = PERFECT_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\tif (newCombo % 10 === 0 && audioInitialized) {\n\t\t\t\t\t\t\t\taudioManager.playCombo()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'perfect',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNotePerfect(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playPerfect(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Good hit\n\t\t\t\t\t\tclosestNote.hitType = 'good'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = GOOD_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'good',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNote(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playNote(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// No note to hit - miss effect (but no penalty for pressing when no note)\n\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\tid: Date.now(),\n\t\t\t\t\tlane,\n\t\t\t\t\ttype: 'miss',\n\t\t\t\t\ttime: Date.now(),\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t[gameStarted, gamePaused, audioInitialized, getLevelConfig]\n\t)\n\n\t// Keyboard controls\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tconst key = e.key.toLowerCase()\n\t\t\tconst laneIndex = LANE_KEYS.indexOf(key)\n\n\t\t\t// Prevent ALL default behaviors for game keys to avoid scrolling/jumping\n\t\t\tif (laneIndex !== -1 || key === 'p' || key === ' ' || key === 'escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\te.stopPropagation()\n\t\t\t}\n\n\t\t\tif (!gameStarted) return\n\n\t\t\tif (laneIndex !== -1) {\n\t\t\t\tcheckHit(laneIndex)\n\t\t\t} else if (key === 'p' || key === ' ') {\n\t\t\t\tif (!quitGame && !showLevelUp) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDown, { passive: false })\n\t\treturn () => document.removeEventListener('keydown', handleKeyDown)\n\t}, [gameStarted, checkHit, quitGame, showLevelUp])\n\n\t// Touch controls\n\tconst handleLaneTouch = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\t\t\tcheckHit(lane)\n\t\t},\n\t\t[gameStarted, gamePaused, checkHit]\n\t)\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst gameLoop = (currentTime: number) => {\n\t\t\tconst deltaTime = currentTime - lastTime\n\t\t\tlastTime = currentTime\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Use cached config to avoid random song selection every frame\n\t\t\t// If no config cached yet (shouldn't happen), initialize it\n\t\t\tif (!currentConfigRef.current) {\n\t\t\t\tcurrentConfigRef.current = getLevelConfig(levelRef.current)\n\t\t\t}\n\t\t\tconst config = currentConfigRef.current\n\t\t\tconst song = config.song\n\t\t\tconst currentBpm = song.metadata.bpm\n\t\t\tconst currentBeatDuration = 60000 / currentBpm\n\t\t\tconst currentNoteSpeed =\n\t\t\t\tSPEED_BY_DIFFICULTY[config.difficulty] * config.speedMultiplier\n\n\t\t\t// Update game time\n\t\t\tgameTimeRef.current += deltaTime\n\n\t\t\t// Calculate current beat position\n\t\t\tconst currentBeat = gameTimeRef.current / currentBeatDuration\n\t\t\tconst lastBeat = lastBeatRef.current\n\n\t\t\t// Determine loop boundaries from song\n\t\t\tconst loopStart = song.loop?.startBeat ?? 0\n\t\t\tconst loopEnd =\n\t\t\t\tsong.loop?.endBeat ?? Math.max(...song.notes.map(n => n.beat)) + 4\n\n\t\t\t// Check if we've passed the loop end point (for level progression)\n\t\t\tlet spawnBeat = currentBeat // Use this for note spawning (may be reset on loop)\n\n\t\t\tif (lastBeat > 0 && currentBeat >= loopEnd && lastBeat < loopEnd) {\n\t\t\t\tsongLoopCountRef.current++\n\t\t\t\tconst loopsNeeded = song.loop?.count || 1\n\n\t\t\t\tif (songLoopCountRef.current >= loopsNeeded) {\n\t\t\t\t\t// Trigger level up\n\t\t\t\t\tsetTimeout(() => triggerLevelUp(), 100)\n\t\t\t\t} else {\n\t\t\t\t\t// Loop the song - reset to loop start\n\t\t\t\t\tgameTimeRef.current = loopStart * currentBeatDuration\n\t\t\t\t\tsongNoteIndexRef.current = song.notes.findIndex(\n\t\t\t\t\t\tn => n.beat >= loopStart\n\t\t\t\t\t)\n\t\t\t\t\tif (songNoteIndexRef.current === -1) songNoteIndexRef.current = 0\n\t\t\t\t\t// Reset spawnBeat so we don't spawn all notes at once\n\t\t\t\t\tspawnBeat = loopStart\n\t\t\t\t\tlastBeatRef.current = loopStart - 0.1 // Prevent re-triggering\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Spawn notes from song in order\n\t\t\twhile (songNoteIndexRef.current < song.notes.length) {\n\t\t\t\tconst noteData = song.notes[songNoteIndexRef.current]\n\n\t\t\t\t// Check if this note should spawn now\n\t\t\t\tif (noteData.beat <= spawnBeat) {\n\t\t\t\t\tnotesRef.current.push({\n\t\t\t\t\t\tid: noteIdCounterRef.current++,\n\t\t\t\t\t\tlane: noteData.lane,\n\t\t\t\t\t\ty: -NOTE_HEIGHT,\n\t\t\t\t\t\tspeed: currentNoteSpeed,\n\t\t\t\t\t\thit: false,\n\t\t\t\t\t\tmissed: false,\n\t\t\t\t\t\tpitch: noteData.pitch, // Store the pitch for melodic playback\n\t\t\t\t\t})\n\t\t\t\t\tsongNoteIndexRef.current++\n\t\t\t\t} else {\n\t\t\t\t\tbreak // Wait for the right beat\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastBeatRef.current = currentBeat\n\n\t\t\t// Update notes\n\t\t\tconst now = Date.now()\n\t\t\tnotesRef.current = notesRef.current.filter(note => {\n\t\t\t\tif (note.hit) {\n\t\t\t\t\treturn now - (note.hitTime || 0) < 200\n\t\t\t\t}\n\n\t\t\t\t// Move note down with its own speed (important for level transitions)\n\t\t\t\tnote.y += note.speed * (deltaTime / 16.67)\n\n\t\t\t\t// Check if note passed the hit zone without being hit\n\t\t\t\tif (\n\t\t\t\t\tnote.y > HIT_ZONE_Y + HIT_ZONE_HEIGHT + NOTE_HEIGHT &&\n\t\t\t\t\t!note.missed\n\t\t\t\t) {\n\t\t\t\t\tnote.missed = true\n\t\t\t\t\tsetCombo(0)\n\t\t\t\t\tsetCurrentLives(prev => Math.max(0, prev - 1))\n\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\taudioManager.playMiss()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn note.y < CANVAS_HEIGHT + NOTE_HEIGHT\n\t\t\t})\n\n\t\t\t// Update hit effects\n\t\t\thitEffectsRef.current = hitEffectsRef.current.filter(\n\t\t\t\teffect => now - effect.time < HIT_EFFECT_DURATION\n\t\t\t)\n\n\t\t\t// Draw\n\t\t\tdraw(ctx, config, gameTimeRef.current, currentNoteSpeed, currentBpm)\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tconst draw = (\n\t\t\tctx: CanvasRenderingContext2D,\n\t\t\tconfig: ReturnType<typeof getLevelConfig>,\n\t\t\telapsedTime: number,\n\t\t\tnoteSpeed: number,\n\t\t\tbpm: number\n\t\t) => {\n\t\t\t// Clear canvas\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Perspective transformation helpers\n\t\t\tconst vanishY = -100 // Vanishing point Y (above canvas)\n\t\t\tconst vanishX = CANVAS_WIDTH / 2 // Center X\n\t\t\tconst bottomY = CANVAS_HEIGHT\n\n\t\t\t// Returns X position adjusted for perspective based on Y\n\t\t\tconst getPerspectiveX = (baseX: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn vanishX + (baseX - vanishX) * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Get width at a given Y (for notes)\n\t\t\tconst getPerspectiveWidth = (baseWidth: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn baseWidth * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Draw background gradient - changes based on track\n\t\t\tconst bgGradient = ctx.createLinearGradient(0, 0, 0, CANVAS_HEIGHT)\n\t\t\tif (config.track === 'chill') {\n\t\t\t\tbgGradient.addColorStop(0, '#0a1a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#0a2e2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a1a1a')\n\t\t\t} else if (config.track === 'upbeat') {\n\t\t\t\tbgGradient.addColorStop(0, '#1a0a0a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#2e0a1a')\n\t\t\t\tbgGradient.addColorStop(1, '#1a0a0a')\n\t\t\t} else {\n\t\t\t\tbgGradient.addColorStop(0, '#0a0a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#1a0a2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a0a1a')\n\t\t\t}\n\t\t\tctx.fillStyle = bgGradient\n\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw road edges with glow for depth\n\t\t\tctx.save()\n\t\t\tctx.strokeStyle = brandColor || '#8b5cf6'\n\t\t\tctx.lineWidth = 3\n\t\t\tctx.shadowColor = brandColor || '#8b5cf6'\n\t\t\tctx.shadowBlur = 10\n\n\t\t\t// Left edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(0, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(0, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\n\t\t\t// Right edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(CANVAS_WIDTH, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\t\t\tctx.restore()\n\n\t\t\t// Draw beat markers with perspective-correct spacing\n\t\t\t// Work in depth space (0 = vanishing point, 1 = bottom of screen)\n\t\t\tconst beatInterval = 60000 / bpm\n\t\t\tconst pixelsPerBeat = (noteSpeed * beatInterval) / 16.67 // How far a beat travels in pixels\n\t\t\tconst depthPerBeat = pixelsPerBeat / (bottomY - vanishY) // Convert to depth space\n\t\t\tconst depthSpeed = noteSpeed / (bottomY - vanishY) // Convert pixel speed to depth speed\n\t\t\tconst depthOffset = ((elapsedTime * depthSpeed) / 16.67) % depthPerBeat\n\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.12)'\n\t\t\tctx.lineWidth = 1\n\n\t\t\t// Iterate through beats in depth space\n\t\t\tfor (let depth = depthOffset; depth <= 1.0; depth += depthPerBeat) {\n\t\t\t\t// Convert depth to screen Y\n\t\t\t\tconst y = vanishY + depth * (bottomY - vanishY)\n\n\t\t\t\t// Skip if above canvas\n\t\t\t\tif (y < 0) continue\n\n\t\t\t\t// Calculate perspective factor for dash scaling\n\t\t\t\tconst perspectiveFactor = depth // depth IS the perspective factor (0 to 1)\n\t\t\t\tconst dashSize = Math.max(2, 10 * perspectiveFactor)\n\t\t\t\tctx.setLineDash([dashSize, dashSize])\n\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(0, y), y)\n\t\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, y), y)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\tctx.setLineDash([]) // Reset dash\n\n\t\t\t// Draw lane separators with perspective\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.15)'\n\t\t\tctx.lineWidth = 1\n\t\t\tfor (let i = 0; i <= LANE_COUNT; i++) {\n\t\t\t\tconst baseX = i * LANE_WIDTH\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(baseX, 0), 0)\n\t\t\t\tctx.lineTo(getPerspectiveX(baseX, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\t// Draw hit zone\n\t\t\tconst hitZoneGradient = ctx.createLinearGradient(\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y,\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y + HIT_ZONE_HEIGHT\n\t\t\t)\n\t\t\thitZoneGradient.addColorStop(0, 'rgba(255, 255, 255, 0.1)')\n\t\t\thitZoneGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.3)')\n\t\t\thitZoneGradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)')\n\t\t\tctx.fillStyle = hitZoneGradient\n\t\t\tctx.fillRect(0, HIT_ZONE_Y, CANVAS_WIDTH, HIT_ZONE_HEIGHT)\n\n\t\t\t// Draw hit zone line\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.8)'\n\t\t\tctx.lineWidth = 2\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(0, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.lineTo(CANVAS_WIDTH, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.stroke()\n\n\t\t\t// Draw lane buttons at bottom\n\t\t\tconst buttonY = CANVAS_HEIGHT - 60\n\t\t\tconst buttonHeight = 50\n\t\t\tfor (let i = 0; i < LANE_COUNT; i++) {\n\t\t\t\tconst x = i * LANE_WIDTH\n\t\t\t\tconst color = Object.values(laneColors)[i]\n\n\t\t\t\tctx.fillStyle = `${color}33`\n\t\t\t\tctx.fillRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.strokeStyle = color\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.strokeRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.fillStyle = color\n\t\t\t\tctx.font = `bold 20px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'center'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText(\n\t\t\t\t\tLANE_LABELS[i],\n\t\t\t\t\tx + LANE_WIDTH / 2,\n\t\t\t\t\tbuttonY + buttonHeight / 2\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// Draw notes with perspective\n\t\t\tconst now = Date.now()\n\t\t\tfor (const note of notesRef.current) {\n\t\t\t\tconst color = Object.values(laneColors)[note.lane]\n\n\t\t\t\t// Calculate perspective-adjusted position and size\n\t\t\t\tconst laneBaseX = note.lane * LANE_WIDTH\n\t\t\t\tconst perspXStart = getPerspectiveX(laneBaseX + 10, note.y)\n\t\t\t\tconst perspXEnd = getPerspectiveX(laneBaseX + LANE_WIDTH - 10, note.y)\n\t\t\t\tconst noteWidth = perspXEnd - perspXStart\n\t\t\t\tconst noteHeight = getPerspectiveWidth(NOTE_HEIGHT, note.y)\n\t\t\t\tconst perspRadius = Math.max(\n\t\t\t\t\t2,\n\t\t\t\t\tgetPerspectiveWidth(NOTE_RADIUS, note.y)\n\t\t\t\t)\n\n\t\t\t\tif (note.hit) {\n\t\t\t\t\tconst elapsed = now - (note.hitTime || 0)\n\t\t\t\t\tconst progress = elapsed / 200\n\t\t\t\t\tconst alpha = 1 - progress\n\t\t\t\t\tconst scale = 1 + progress * 0.5\n\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.globalAlpha = alpha\n\t\t\t\t\tctx.translate(perspXStart + noteWidth / 2, note.y + noteHeight / 2)\n\t\t\t\t\tctx.scale(scale, scale)\n\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, noteHeight)\n\t\t\t\t\tgradient.addColorStop(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tnote.hitType === 'perfect' ? '#ffd700' : '#c0c0c0'\n\t\t\t\t\t)\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.fillRect(-noteWidth / 2, -noteHeight / 2, noteWidth, noteHeight)\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t} else {\n\t\t\t\t\tctx.save()\n\n\t\t\t\t\tctx.shadowColor = color\n\t\t\t\t\tctx.shadowBlur = 15\n\n\t\t\t\t\tctx.fillStyle = color\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(perspXStart, note.y, noteWidth, noteHeight, perspRadius)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tconst innerGradient = ctx.createLinearGradient(\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y,\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y + noteHeight\n\t\t\t\t\t)\n\t\t\t\t\tinnerGradient.addColorStop(0, 'rgba(255, 255, 255, 0.4)')\n\t\t\t\t\tinnerGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.1)')\n\t\t\t\t\tinnerGradient.addColorStop(1, 'rgba(0, 0, 0, 0.2)')\n\t\t\t\t\tctx.fillStyle = innerGradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(\n\t\t\t\t\t\tperspXStart + 2,\n\t\t\t\t\t\tnote.y + 2,\n\t\t\t\t\t\tnoteWidth - 4,\n\t\t\t\t\t\tnoteHeight - 4,\n\t\t\t\t\t\tMath.max(1, perspRadius - 2)\n\t\t\t\t\t)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Draw hit effects\n\t\t\tfor (const effect of hitEffectsRef.current) {\n\t\t\t\tconst elapsed = now - effect.time\n\t\t\t\tconst progress = elapsed / HIT_EFFECT_DURATION\n\t\t\t\tconst alpha = 1 - progress\n\n\t\t\t\tconst x = effect.lane * LANE_WIDTH + LANE_WIDTH / 2\n\t\t\t\tconst y = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t\tctx.save()\n\t\t\t\tctx.globalAlpha = alpha\n\n\t\t\t\tif (effect.type === 'perfect') {\n\t\t\t\t\tconst sparkleSize = 30 + progress * 20\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#ffd700')\n\t\t\t\t\tgradient.addColorStop(0.5, '#ffaa00')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#ffd700'\n\t\t\t\t\tctx.font = `bold 16px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('PERFECTO!', x, y - 30 - progress * 20)\n\t\t\t\t} else if (effect.type === 'good') {\n\t\t\t\t\tconst sparkleSize = 20 + progress * 15\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#c0c0c0')\n\t\t\t\t\tgradient.addColorStop(0.5, '#888888')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#c0c0c0'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('BIEN', x, y - 25 - progress * 15)\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillStyle = '#ff4444'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('FALLO', x, y - 20 - progress * 10)\n\t\t\t\t}\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\n\t\t\t// Draw combo counter in canvas (top-right)\n\t\t\tif (comboRef.current > 1) {\n\t\t\t\tctx.save()\n\n\t\t\t\t// Position in top-right corner\n\t\t\t\tconst comboX = CANVAS_WIDTH - 15\n\t\t\t\tconst comboY = 35\n\n\t\t\t\t// Background pill (wider to fit \"COMBO\")\n\t\t\t\tctx.fillStyle = 'rgba(202, 138, 4, 0.6)' // yellow-600 with transparency\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.roundRect(comboX - 95, comboY - 22, 105, 44, 8)\n\t\t\t\tctx.fill()\n\n\t\t\t\t// Border\n\t\t\t\tctx.strokeStyle = '#eab308' // yellow-500\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.stroke()\n\n\t\t\t\t// \"COMBO\" label\n\t\t\t\tctx.fillStyle = '#fbbf24' // yellow-400\n\t\t\t\tctx.font = `bold 10px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'right'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText('COMBO', comboX - 8, comboY - 8)\n\n\t\t\t\t// Multiplier number\n\t\t\t\tctx.fillStyle = '#fde047' // yellow-300\n\t\t\t\tctx.font = `bold 18px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.fillText(`x${comboRef.current}`, comboX - 8, comboY + 10)\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tlaneColors,\n\t\taudioInitialized,\n\t\tgetLevelConfig,\n\t\ttriggerLevelUp,\n\t])\n\n\t// Start game\n\tconst startGame = async () => {\n\t\tif (!audioInitialized) {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(1)\n\t\tsetPoints(0)\n\t\tsetCombo(0)\n\t\tsetMaxCombo(0)\n\t\tsetCurrentLives(initialLives)\n\t\tnotesRef.current = []\n\t\thitEffectsRef.current = []\n\t\tgameTimeRef.current = 0\n\t\tlastBeatRef.current = -1\n\t\tnoteIdCounterRef.current = 0\n\t\tsongLoopCountRef.current = 0\n\t\tsongNoteIndexRef.current = 0\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetShowLevelUp(false)\n\t\tsetGameStarted(true)\n\n\t\t// Get initial song and start background beat\n\t\tconst initialConfig = getLevelConfig(1)\n\t\tcurrentConfigRef.current = initialConfig // Cache the config to prevent random song changes\n\t\tconst initialSong = initialConfig.song\n\t\tcurrentSongRef.current = initialSong\n\t\tconst initialBpm = initialSong.metadata.bpm\n\n\t\t// Start background beat with song's BPM and drum pattern\n\t\tif (initialSong.background.drumPattern !== 'none') {\n\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\tinitialBpm,\n\t\t\t\tinitialSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\tinitialConfig.cycle\n\t\t\t)\n\t\t}\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\taudioManager.stopBackgroundBeat()\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\tconst toggleMute = () => {\n\t\tconst newMuted = !audioMuted\n\t\tsetAudioMuted(newMuted)\n\t\taudioManager.setMuted(newMuted)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && !quitGame && !showLevelUp\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'column', width: '100%', minHeight: '600px', maxWidth: '32rem', margin: '0 auto', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Touch controls overlay */}\n\t\t\t\t\t{mobile && gameStarted && !gamePaused && !quitGame && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, display: 'flex', pointerEvents: 'auto' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{[0, 1, 2, 3].map(lane => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={lane}\n\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, height: '100%', opacity: 0 }}\n\t\t\t\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\thandleLaneTouch(lane)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={` ${gameTitle}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={instructionsStep === 0 ? 'Siguiente ' : ' JUGAR'}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(DEFAULT_LANE_COLORS).map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t([key, color], i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex flex-col items-center gap-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-8 h-6 rounded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{LANE_LABELS[i]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300 mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca los carriles cuando las notas</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>lleguen a la lnea blanca</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Usa D, F, J, K para los 4 carriles</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO o P para pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-400 mt-3 p-2 bg-white/10 rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t Golpea las notas en el momento exacto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCada cancin tiene su meloda!\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tConforme avanzas se volver ms dificil\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> PERFECTO = 50 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> BIEN = 25 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> FALLO = pierdes una vida</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Mantn el combo para ms puntos!</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Overlay */}\n\t\t\t\t\t{showLevelUp && nextLevelConfigRef.current && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\" NIVEL COMPLETADO!\"\n\t\t\t\t\t\t\tmessage={`Pasaste al Nivel ${level + 1}!`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg text-yellow-400 font-bold mb-2\">\n\t\t\t\t\t\t\t\t\t\t {nextLevelConfigRef.current.song.metadata.title}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300 mb-1\">\n\t\t\t\t\t\t\t\t\t\tpor {nextLevelConfigRef.current.song.metadata.artist}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t{nextLevelConfigRef.current.cycle > 0\n\t\t\t\t\t\t\t\t\t\t\t? `Velocidad x${nextLevelConfigRef.current.cycle + 1}!`\n\t\t\t\t\t\t\t\t\t\t\t: `Nueva meloda: ${DIFFICULTY_NAMES[nextLevelConfigRef.current.difficulty]}`}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && !showLevelUp && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}: ${currentConfig.displayName}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={toggleMute}\n\t\t\t\t\t\t\t\t\tclassName=\"mt-4 px-4 py-2 bg-gray-700 text-white rounded text-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{audioMuted ? ' Sonido desactivado' : ' Sonido activado'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}  ${points} puntos`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Stats bar when playing - always render container for consistent layout */}\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', padding: '0.5rem', backgroundColor: 'rgba(0,0,0,0.5)', color: 'white', fontSize: '0.75rem', minHeight: '32px' }}>\n\t\t\t\t{gameStarted && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{currentConfigRef.current?.displayName ||\n\t\t\t\t\t\t\t\tcurrentConfig.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>|</span>\n\t\t\t\t\t\t<span>Combo mximo: {maxCombo}</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RhythmHighway\n","'use client';\nimport { useRef, useState } from 'react';\nimport { GameCard } from './ui/GameCard';\nimport { GameOverlay } from './ui/GameOverlay';\nimport RacingGame from './racing/game';\nimport TetrisGame from './tetris/game';\nimport SnakeGame from './snake/index';\nimport FlappyBirdGame from './flappy-bird/index';\nimport BreakoutGame from './breakout/game';\nimport PenaltyShootoutGame from './penalty-shootout/index';\nimport CandyCrushGame from './candy-crush/index';\nimport RhythmHighway from './rhythm-highway/index';\nimport PageNavigation from '../PageNavigation/PageNavigation';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations, interpolate } from '../../../i18n';\n\ninterface GameSelectorProps {\n  visitor: string;\n  setDialogText: (text: string) => void;\n  setCurrentAction: (action: string) => void;\n  lang: Language;\n}\n\nexport default function GameSelector({ visitor, setDialogText, setCurrentAction, lang }: GameSelectorProps) {\n  const t = getTranslations(lang);\n  const [selectedGame, setSelectedGame] = useState('');\n  const [pointsEarned, setPointsEarned] = useState<number>(0);\n  const [gameOver, setGameOver] = useState<boolean>(false);\n\n  const gameRef = useRef<any>(null);\n\n  if (gameOver) {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content\">\n          <GameOverlay\n            type=\"custom\"\n            title={pointsEarned > 0 ? ` ${t.games.congratulations}` : ` ${t.games.sorry}`}\n            message={pointsEarned > 0 ? interpolate(t.games.wonPoints, { points: pointsEarned }) : t.games.tryAgain}\n            brandColor=\"#00d26a\"\n            onAction={() => {\n              setGameOver(false);\n              setPointsEarned(0);\n              setSelectedGame('');\n            }}\n            actionText={t.games.backToMenu}\n            lang={lang}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (selectedGame !== '') {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content game-page-content\">\n          <div className=\"game-wrapper\" ref={gameRef}>\n            {selectedGame === 'races' && (\n              <RacingGame\n                laps={1}\n                track={1}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                showBillboardStats={false}\n                brandColor=\"#ef4444\"\n                gameTitle=\"MAW Racing\"\n                lang={lang}\n              />\n            )}\n            {selectedGame === 'tetris' && (\n              <TetrisGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#8b5cf6\"\n                gameTitle={t.games.tetris.title}\n              />\n            )}\n            {selectedGame === 'snake' && (\n              <SnakeGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#10b981\"\n                gameTitle={t.games.snake.title}\n              />\n            )}\n            {selectedGame === 'flappy-bird' && (\n              <FlappyBirdGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#00bfff\"\n                gameTitle={t.games.flappyBird.title}\n              />\n            )}\n            {selectedGame === 'breakout' && (\n              <BreakoutGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#f59e0b\"\n                gameTitle={t.games.breakout.title}\n              />\n            )}\n            {selectedGame === 'penalty-shootout' && (\n              <PenaltyShootoutGame\n                lives={5}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#1a472a\"\n                gameTitle={t.games.penaltyShootout.title}\n              />\n            )}\n            {selectedGame === 'candy-crush' && (\n              <CandyCrushGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#e91e63\"\n                gameTitle={t.games.candyCrush.title}\n              />\n            )}\n            {selectedGame === 'rhythm-highway' && (\n              <RhythmHighway\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#6366f1\"\n                gameTitle={t.games.rhythmHighway.title}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"retro-page\">\n      <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n      <div className=\"page-content\">\n        <h1>{t.games.title}</h1>\n\n        <div className=\"retro-box\" style={{ textAlign: 'center', marginBottom: '20px' }}>\n          {t.games.subtitle}\n        </div>\n\n        <div className=\"game-selector-container\">\n          <div className=\"game-selector-grid\">\n            <GameCard\n              title={t.games.racing.title}\n              icon=\"\"\n              gradientFrom=\"#3b82f6\"\n              gradientTo=\"#2563eb\"\n              onClick={() => setSelectedGame('races')}\n              description={t.games.racing.description}\n            />\n            <GameCard\n              title={t.games.tetris.title}\n              icon=\"\"\n              gradientFrom=\"#8b5cf6\"\n              gradientTo=\"#7c3aed\"\n              onClick={() => setSelectedGame('tetris')}\n              description={t.games.tetris.description}\n            />\n            <GameCard\n              title={t.games.snake.title}\n              icon=\"\"\n              gradientFrom=\"#10b981\"\n              gradientTo=\"#059669\"\n              onClick={() => setSelectedGame('snake')}\n              description={t.games.snake.description}\n            />\n            <GameCard\n              title={t.games.flappyBird.title}\n              icon=\"\"\n              gradientFrom=\"#00bfff\"\n              gradientTo=\"#0099cc\"\n              onClick={() => setSelectedGame('flappy-bird')}\n              description={t.games.flappyBird.description}\n            />\n            <GameCard\n              title={t.games.breakout.title}\n              icon=\"\"\n              gradientFrom=\"#f59e0b\"\n              gradientTo=\"#d97706\"\n              onClick={() => setSelectedGame('breakout')}\n              description={t.games.breakout.description}\n            />\n            <GameCard\n              title={t.games.penaltyShootout.title}\n              icon=\"\"\n              gradientFrom=\"#1a472a\"\n              gradientTo=\"#0f2d1a\"\n              onClick={() => setSelectedGame('penalty-shootout')}\n              description={t.games.penaltyShootout.description}\n            />\n            <GameCard\n              title={t.games.candyCrush.title}\n              icon=\"\"\n              gradientFrom=\"#e91e63\"\n              gradientTo=\"#c2185b\"\n              onClick={() => setSelectedGame('candy-crush')}\n              description={t.games.candyCrush.description}\n            />\n            <GameCard\n              title={t.games.rhythmHighway.title}\n              icon=\"\"\n              gradientFrom=\"#6366f1\"\n              gradientTo=\"#4f46e5\"\n              onClick={() => setSelectedGame('rhythm-highway')}\n              description={t.games.rhythmHighway.description}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, lazy, Suspense, useEffect, useCallback, useMemo } from 'react';\nimport { ContentProps } from '../../types';\nimport BrowserWindow from './BrowserWindow/BrowserWindow';\nimport { getTranslations, interpolate } from '../../i18n';\nimport { useIsMobile, useAudio } from '../../hooks';\nimport { DELAYS, AUDIO_VOLUMES } from '../../constants';\n\nimport './Content.css';\nimport './Games/Games.css';\nimport GameSelector from './Games/game-selector';\nimport maduroImg from '../../images/maduro.webp';\n\nconst Avatar = lazy(() => import('./Avatar/Avatar'));\nconst Home = lazy(() => import('./Home/Home'));\nconst AboutMe = lazy(() => import('./AboutMe/AboutMe'));\nconst Work = lazy(() => import('./Work/Work'));\nconst Portfolio = lazy(() => import('./Portfolio/Portfolio'));\nconst Contact = lazy(() => import('./Contact/Contact'));\n\nconst Content: React.FC<ContentProps> = ({ name, lang }) => {\n  const t = getTranslations(lang);\n  const greetings = name !== ''\n    ? interpolate(t.avatar.dialogues.greetingWithName, { name })\n    : t.avatar.dialogues.greeting;\n  const [dialogText, setDialogText] = useState<string>(greetings);\n  const [currentAction, setCurrentAction] = useState<string>('');\n  const [browserOpen, setBrowserOpen] = useState<boolean>(false);\n  const [browserMinimized, setBrowserMinimized] = useState<boolean>(false);\n  const isMobile = useIsMobile();\n  const [pendingBrowserOpen, setPendingBrowserOpen] = useState<boolean>(false);\n  const { setVolume } = useAudio();\n\n  const handleNavigate = useCallback((action: string) => {\n    setCurrentAction(action);\n\n    // Only these actions should open the browser\n    const browserActions = [\n      'goTo-about',\n      'goTo-work',\n      'goTo-contact',\n      'goTo-portfolio',\n      'goTo-games',\n    ];\n\n    if (isMobile && browserActions.includes(action)) {\n      // For navigation actions on mobile, wait for dialog to complete\n      setPendingBrowserOpen(true);\n    } else if (!isMobile && browserActions.includes(action)) {\n      // On desktop, unminimize the browser immediately\n      setBrowserMinimized(false);\n    }\n    // Other actions (say-hi, say-meow, chatter, etc.) don't open the browser\n  }, [isMobile]);\n\n  const handleDialogComplete = useCallback(() => {\n    // Open browser after dialog completes on mobile\n    if (pendingBrowserOpen) {\n      setTimeout(() => {\n        setBrowserOpen(true);\n        setPendingBrowserOpen(false);\n      }, DELAYS.BROWSER_OPEN);\n    }\n  }, [pendingBrowserOpen]);\n\n  const renderRightSideComponent = () => {\n    const loader = (\n      <div id=\"loader\">\n        <i className=\"spinner icon\"></i>\n      </div>\n    );\n    switch (currentAction) {\n      case 'goTo-about':\n        return (\n          <Suspense fallback={loader}>\n            <AboutMe setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-work':\n        return (\n          <Suspense fallback={loader}>\n            <Work setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-portfolio':\n        return (\n          <Suspense fallback={loader}>\n            <Portfolio setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-contact':\n        return (\n          <Suspense fallback={loader}>\n            <Contact\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      case 'goTo-games':\n        return (\n          <Suspense fallback={loader}>\n            <GameSelector\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      default:\n        return (\n          <Suspense fallback={loader}>\n            <Home setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n    }\n  };\n\n  useEffect(() => {\n    setVolume('bgMusic', AUDIO_VOLUMES.BACKGROUND_MUSIC);\n  }, [setVolume]);\n\n  return (\n    <Suspense\n      fallback={\n        <div id=\"loader\">\n          <i className=\"spinner icon\"></i>\n        </div>\n      }\n    >\n      <div className=\"ui container main\">\n        <div className=\"ui stackable grid\">\n          <div className=\"seven wide column\">\n            <div className=\"left-side-wrapper\">\n              <Avatar\n                visitor={name}\n                dialogText={dialogText}\n                setDialogText={setDialogText}\n                currentAction={currentAction}\n                setCurrentAction={handleNavigate}\n                onDialogComplete={handleDialogComplete}\n                onOpenBrowser={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(true);\n                  } else {\n                    setBrowserMinimized(false);\n                  }\n                }, [isMobile])}\n                lang={lang}\n              />\n            </div>\n          </div>\n          <div className={`nine wide column ${browserOpen ? 'browser-open' : ''}`}>\n            <div className=\"right-side-wrapper\">\n              {!isMobile && browserMinimized && (\n                <div className=\"easter-egg-container\">\n                  <img src={maduroImg} alt=\"\" className=\"easter-egg-image\" />\n                </div>\n              )}\n              <BrowserWindow\n                currentSection={currentAction}\n                onNavigate={handleNavigate}\n                onMinimize={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(false);\n                  } else {\n                    setBrowserMinimized(true);\n                  }\n                }, [isMobile])}\n                onOpen={() => setBrowserOpen(true)}\n                isMobile={isMobile}\n                browserOpen={browserOpen}\n                browserMinimized={browserMinimized}\n                lang={lang}\n              >\n                {renderRightSideComponent()}\n              </BrowserWindow>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default Content;\n","import React from 'react';\nimport './PageNavigation.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\n\ninterface PageNavigationProps {\n  currentSection: string;\n  onNavigate: (action: string) => void;\n  lang?: Language;\n}\n\nconst PageNavigation: React.FC<PageNavigationProps> = ({ currentSection, onNavigate, lang = 'en' }) => {\n  const t = getTranslations(lang);\n  const navItems = [\n    { id: '', label: t.navigation.home, icon: '' },\n    { id: 'goTo-about', label: t.navigation.about, icon: '' },\n    { id: 'goTo-work', label: t.navigation.work, icon: '' },\n    { id: 'goTo-portfolio', label: t.navigation.portfolio, icon: '' },\n    { id: 'goTo-contact', label: t.navigation.contact, icon: '' },\n    { id: 'goTo-games', label: t.navigation.games, icon: '' },\n  ];\n\n  const getActiveClass = (itemId: string) => {\n    return currentSection === itemId ? 'active' : '';\n  };\n\n  return (\n    <div className=\"page-navigation\">\n      <div className=\"nav-container\">\n        {navItems.map((item) => (\n          <button\n            key={item.id}\n            className={`nav-item ${getActiveClass(item.id)}`}\n            onClick={() => onNavigate(item.id)}\n            aria-current={currentSection === item.id ? 'page' : undefined}\n          >\n            <span className=\"nav-icon\">{item.icon}</span>\n            <span className=\"nav-label\">{item.label}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PageNavigation;\n","import * as Tone from 'tone'\n\nexport type BombSoundType = 'cross' | 'radius'\n\nexport class CandyCrushAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastBassTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate lastUiTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015 // 15ms minimum between triggers\n\n\t// Synthesizers\n\tprivate uiSynth: Tone.Synth | null = null\n\tprivate popSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\t// Start audio context (requires user gesture)\n\t\tawait Tone.start()\n\n\t\t// UI synth - soft clicks (triangle wave for soft sound)\n\t\tthis.uiSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Pop synth - match clear sounds (sine for clean pops)\n\t\tthis.popSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bass synth - deep booms for match5 and bombs\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Bell synth - chimes for combos and score\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Noise synth - error buzz and explosion texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -20,\n\t\t}).toDestination()\n\n\t\t// Melody synth - win/lose fanfares (triangle for musical quality)\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Helper to get safe trigger time for monophonic synths\n\tprivate getSafeTime(\n\t\tlastTime: number,\n\t\tsynthKey: 'bass' | 'noise' | 'ui'\n\t): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\t// Update the tracked time\n\t\tif (synthKey === 'bass') this.lastBassTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\t\telse if (synthKey === 'ui') this.lastUiTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Soft click when selecting a candy\n\tplaySelect(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tthis.uiSynth.triggerAttackRelease('C6', '32n', time)\n\t}\n\n\t// Quick whoosh when swapping candies\n\tplaySwap(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time1 = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tconst time2 = time1 + 0.05\n\t\tthis.lastUiTime = time2 // Update to the last scheduled time\n\n\t\tthis.uiSynth.triggerAttackRelease('G5', '32n', time1)\n\t\tthis.uiSynth.triggerAttackRelease('E5', '32n', time2)\n\t}\n\n\t// Error buzz for invalid move\n\tplayInvalidMove(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('16n', noiseTime)\n\t\t}\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('E2', '16n', bassTime)\n\t\t}\n\t}\n\n\t// Light pop for match-3\n\tplayMatch3(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tthis.popSynth.triggerAttackRelease('E5', '16n')\n\t}\n\n\t// Fuller pop with sparkle for match-4\n\tplayMatch4(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', now)\n\t\tthis.popSynth.triggerAttackRelease('G5', '32n', now + 0.05)\n\t}\n\n\t// Deep boom with chord for match-5+\n\tplayMatch5(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '8n', bassTime)\n\t\t}\n\t\tif (this.bellSynth) {\n\t\t\tthis.bellSynth.triggerAttackRelease(\n\t\t\t\t['C4', 'E4', 'G4'],\n\t\t\t\t'8n',\n\t\t\t\tbassTime + 0.05\n\t\t\t)\n\t\t}\n\t}\n\n\t// Helper to select appropriate match sound based on length\n\tplayMatchSound(length: number): void {\n\t\tif (length >= 5) {\n\t\t\tthis.playMatch5()\n\t\t} else if (length === 4) {\n\t\t\tthis.playMatch4()\n\t\t} else {\n\t\t\tthis.playMatch3()\n\t\t}\n\t}\n\n\t// Explosive sound for bombs\n\tplayBombExplode(type?: BombSoundType): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\t// Get safe times for each synth to avoid timing conflicts in chain reactions\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\t// Bass impact\n\t\tif (this.bassSynth) {\n\t\t\tconst note = type === 'cross' ? 'C1' : 'E1'\n\t\t\tthis.bassSynth.triggerAttackRelease(note, '4n', bassTime)\n\t\t}\n\n\t\t// Noise burst\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\n\t\t// Sparkle aftermath (bellSynth is polyphonic, no timing issues)\n\t\tif (this.bellSynth) {\n\t\t\tconst sparkleNotes =\n\t\t\t\ttype === 'cross' ? ['G5', 'B5', 'D6'] : ['E5', 'G5', 'B5']\n\t\t\tthis.bellSynth.triggerAttackRelease(sparkleNotes, '16n', bassTime + 0.1)\n\t\t}\n\t}\n\n\t// Escalating chimes for combo chains\n\tplayCombo(chainLevel: number): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\n\t\t// Base notes that escalate with chain level\n\t\tconst baseNotes = ['C5', 'E5', 'G5', 'B5', 'D6', 'F6']\n\t\tconst numNotes = Math.min(chainLevel, baseNotes.length)\n\t\tconst notes = baseNotes.slice(0, numNotes)\n\n\t\tconst now = Tone.now()\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Coin ding for score popup\n\tplayScorePopup(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tthis.bellSynth.triggerAttackRelease('G6', '32n')\n\t}\n\n\t// Victory fanfare - ascending arpeggio with final chord\n\tplayWin(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5', 'E5', 'G5']\n\n\t\t// Play ascending arpeggio\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '16n', now + i * 0.1)\n\t\t})\n\n\t\t// Final triumphant chord\n\t\tthis.melodySynth.triggerAttackRelease(\n\t\t\t['C5', 'E5', 'G5', 'C6'],\n\t\t\t'4n',\n\t\t\tnow + 0.7\n\t\t)\n\t}\n\n\t// Sad descending phrase for lose\n\tplayLose(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\n\t\tphrase.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '8n', now + i * 0.25)\n\t\t})\n\t}\n\n\t// Mute control\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\t// Cleanup all synths\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.uiSynth?.dispose()\n\t\tthis.popSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.uiSynth = null\n\t\tthis.popSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance for easy access\nexport const candyCrushAudio = new CandyCrushAudioManager()\n","// Game dimensions\nexport const GAME_WIDTH = 400\nexport const GAME_HEIGHT = 600\n\n// Grid settings\nexport const GRID = {\n\tsize: 8,\n\tcellSize: 44,\n\toffsetX: 20, // Centered: (400 - 359) / 2  20\n\toffsetY: 132, // Below header (98) + progress bar (114) + spacing\n\tgap: 1,\n}\n\n// Calculated grid dimensions\nexport const GRID_PIXEL_SIZE =\n\tGRID.size * GRID.cellSize + (GRID.size - 1) * GRID.gap\n\n// Bomb configuration\nexport interface BombConfig {\n\tspawnChance: number // 0.0-1.0 for random spawn when filling\n\tmatchSpawnChance: number // 0.0-1.0 for 4+ match rewards\n}\n\n// Level configuration\nexport interface LevelConfig {\n\tlevel: number\n\tmoves: number\n\ttargetScore: number\n\tcandyTypes: number\n\tbombConfig?: BombConfig\n}\n\nexport const LEVELS: LevelConfig[] = [\n\t{ level: 1, moves: 30, targetScore: 800, candyTypes: 5 },\n\t{ level: 2, moves: 30, targetScore: 1200, candyTypes: 5 },\n\t{\n\t\tlevel: 3,\n\t\tmoves: 28,\n\t\ttargetScore: 1500,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.02, matchSpawnChance: 0.15 },\n\t},\n\t{\n\t\tlevel: 4,\n\t\tmoves: 25,\n\t\ttargetScore: 1800,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.03, matchSpawnChance: 0.2 },\n\t},\n\t{\n\t\tlevel: 5,\n\t\tmoves: 22,\n\t\ttargetScore: 2000,\n\t\tcandyTypes: 7,\n\t\tbombConfig: { spawnChance: 0.04, matchSpawnChance: 0.25 },\n\t},\n]\n\n// Default gameplay settings (used as fallback)\nexport const GAMEPLAY = {\n\tdefaultCandyTypes: 6,\n\tdefaultMoves: 30,\n\tdefaultTargetScore: 1000,\n}\n\n// Scoring\nexport const SCORING = {\n\tmatch3: 30,\n\tmatch4: 60,\n\tmatch5: 100,\n\tmatchLT: 80,\n\tchainBonus: 10, // Per chain level above 1\n\tmovesBonus: 20, // Points per remaining move on win\n}\n\n// Bomb candy frames in spritesheet\nexport const BOMB_FRAMES = {\n\tcross: 7, // Frame 7 - cross/+ pattern bomb\n\tradius: 8, // Frame 8 - 3x3 radius bomb\n}\n\n// Bomb scoring\nexport const BOMB_SCORING = {\n\tcrossActivation: 150, // Base points for cross bomb activation\n\tradiusActivation: 100, // Base points for radius bomb activation\n\tperCandyCleared: 10, // Bonus per candy cleared by bomb\n}\n\n// Special candy combo points\nexport const COMBO_POINTS = {\n\tstripedStriped: 300,\n\tstripedWrapped: 500,\n\twrappedWrapped: 400,\n\tbombStriped: 600,\n\tbombWrapped: 700,\n\tbombBomb: 1000,\n}\n\n// Animation timings (ms)\nexport const ANIMATION = {\n\tswapDuration: 200,\n\tclearDuration: 150,\n\tdropDurationPerRow: 80,\n\tfillDuration: 150,\n\tselectScale: 1.15,\n\tselectDuration: 100,\n\tscorePopupDuration: 800,\n\tchainIndicatorDuration: 1000,\n}\n\n// Candy colors (for procedural drawing fallback)\n// Supports up to 9 candy types for harder difficulty levels\nexport const CANDY_COLORS = [\n\t0xe91e63, // Red/Pink\n\t0xff9800, // Orange\n\t0xffeb3b, // Yellow\n\t0x4caf50, // Green\n\t0x2196f3, // Blue\n\t0x9c27b0, // Purple\n\t0x00bcd4, // Cyan/Teal\n\t0x795548, // Brown\n\t0x607d8b, // Blue Grey\n]\n\n// UI Colors\nexport const COLORS = {\n\tbackground: 0x1a1a2e,\n\tgridBackground: 0x16213e,\n\tgridBorder: 0x0f3460,\n\ttextPrimary: 0xffffff,\n\ttextSecondary: 0xe94560,\n\tscorePopup: 0xffd700,\n\tchainIndicator: 0xff6b6b,\n\t// Header UI colors\n\theaderPanel: 0x16213e,\n\theaderBorder: 0x0f3460,\n\tstatCardBg: 0x1a1a2e,\n\ttargetAccent: 0xe94560,\n\tscoreAccent: 0xffd700,\n\tmovesAccent: 0x4fc3f7,\n}\n\n// UI element positions - aligned with grid background (x: 10, width: 379)\nexport const UI = {\n\theader: {\n\t\tx: 10,\n\t\ty: 10,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 88,\n\t\tborderRadius: 16,\n\t\tpadding: 12,\n\t},\n\t// Stat cards within header\n\tstatCard: {\n\t\twidth: 108,\n\t\theight: 64,\n\t\tborderRadius: 12,\n\t\tgap: 10,\n\t\taccentHeight: 18, // Height of the colored top bar with label\n\t},\n\t// Text positions centered in each card (below the accent bar)\n\t// Card Y = 22, accent = 18px, remaining = 46px, center = 22 + 18 + 23 = 63\n\tscoreDisplay: {\n\t\tx: GAME_WIDTH / 2,\n\t\ty: 63,\n\t},\n\tmovesDisplay: {\n\t\tx: 10 + GRID_PIXEL_SIZE + 20 - 12 - 108 / 2, // header.x + header.width - padding - cardWidth/2\n\t\ty: 63,\n\t},\n\ttargetDisplay: {\n\t\tx: 10 + 12 + 108 / 2, // header.x + padding + cardWidth/2 = 76\n\t\ty: 63,\n\t},\n\tprogressBar: {\n\t\tx: 10,\n\t\ty: 106,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 8,\n\t\tborderRadius: 4,\n\t},\n}\n\n// Candy sprite settings\nexport const CANDY_SPRITE = {\n\tsize: 84, // Spritesheet frame size\n\tdisplaySize: 42, // Actual display size\n\tspecialOverlaySize: 42,\n\tbaseScale: 42 / 84, // Scale needed to display at displaySize\n}\n\n// Match patterns for special candy creation\nexport const SPECIAL_PATTERNS = {\n\t// 4 in a row creates striped\n\tstriped: 4,\n\t// 5 in a row creates color bomb\n\tcolorBomb: 5,\n\t// L or T shape creates wrapped (checked separately)\n}\n"],"names":["BackIcon","_jsxs","viewBox","width","height","fill","children","_jsx","d","x","y","ForwardIcon","RefreshIcon","stroke","strokeWidth","strokeLinecap","points","StopIcon","HomeIcon","_ref","currentTheme","onSelectTheme","themes","variant","className","onClick","classic","vaporwave","terminal","currentSection","onNavigate","onMinimize","onOpen","isMobile","browserOpen","browserMinimized","lang","t","getTranslations","isMaximized","setIsMaximized","useState","showBSOD","setShowBSOD","setCurrentTheme","localStorage","getItem","menubarThemeOpen","setMenubarThemeOpen","statusbarThemeOpen","setStatusbarThemeOpen","menubarRef","useRef","statusbarRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","setTheme","useCallback","theme","source","setItem","toggleMenubarTheme","prev","toggleStatusbarTheme","handleMenubarThemeSelect","handleStatusbarThemeSelect","concat","handleBrowserClick","onDoubleClick","section","browser","titles","home","about","work","portfolio","contact","games","e","stopPropagation","menus","file","edit","view","favorites","ref","ThemeDropdown","help","handleBack","disabled","handleHome","type","value","getSectionUrl","readOnly","bsod","title","mainText","collectingError","errorCode","stopCode","clickToRestart","statusDone","statusZone","GameCard","icon","color","gradientFrom","gradientTo","description","bgStyle","background","backgroundColor","style","GameOverlay","message","score","level","brandColor","onAction","actionText","customContent","showPressToStart","showBlink","setShowBlink","interval","setInterval","clearInterval","displayTitle","start","pause","gameOver","levelComplete","custom","undefined","toLocaleString","opacity","KEY","ROAD","NONE","SHORT","MEDIUM","LONG","LOW","HIGH","EASY","HARD","COLORS","SKY","TREE","FOG","LIGHT","road","grass","rumble","lane","DARK","START","FINISH","BACKGROUND","w","h","SPRITES_DEF","PALM_TREE","BILLBOARD08","TREE1","DEAD_TREE1","BILLBOARD09","BOULDER3","COLUMN","BILLBOARD01","BILLBOARD06","BILLBOARD05","BILLBOARD07","BOULDER2","TREE2","BILLBOARD04","DEAD_TREE2","BOULDER1","BUSH1","CACTUS","BUSH2","BILLBOARD03","BILLBOARD02","STUMP","SEMI","TRUCK","CAR03","CAR02","CAR04","CAR01","PLAYER_UPHILL_LEFT","PLAYER_UPHILL_STRAIGHT","PLAYER_UPHILL_RIGHT","PLAYER_RIGHT","PLAYER_STRAIGHT","PLAYER_LEFT","COIN","SPRITES","_objectSpread","SCALE","BILLBOARDS","PLANTS","CARS","DEFAULT_CONFIG","fps","roadWidth","segmentLength","rumbleLength","lanes","fieldOfView","cameraHeight","drawDistance","fogDensity","centrifugal","skySpeed","hillSpeed","treeSpeed","totalCars","MathUtils","timestamp","performance","now","toInt","obj","def","arguments","length","parseInt","String","isNaN","toFloat","parseFloat","limit","min","max","Math","randomInt","round","this","interpolate","random","randomChoice","options","percentRemaining","n","total","accelerate","v","accel","dt","a","b","percent","easeIn","pow","easeOut","easeInOut","cos","PI","exponentialFog","distance","density","E","increase","increment","result","overlap","x1","w1","x2","w2","half1","half2","project","p","cameraX","cameraY","cameraZ","cameraDepth","camera","world","z","screen","scale","RoadEngine","constructor","segments","trackLength","billboardPlacements","Map","billboardImpressions","billboardInstances","nextBillboardId","getSegments","getTrackLength","getBillboardPlacements","getBillboardImpressions","recordBillboardImpression","segmentIndex","offset","billboardName","currentLap","instances","get","instance","find","inst","abs","seenInLaps","has","add","set","getBillboardStats","totalLaps","placements","impressions","maxPossibleImpressions","forEach","count","name","realisticTrackLength","totalSegments","findSegment","floor","lastY","p2","addSegment","curve","push","index","p1","sprites","cars","addSprite","sprite","spriteInstance","getBillboardName","billboardId","Set","addRoad","enter","hold","leave","startY","endY","addStraight","num","addHill","addCurve","addLowRollingHills","addSCurves","addBumps","addDownhillToEnd","reset","track","playerZ","resetSprites","playerSegment","clear","billboard","i","LANE_POSITIONS","removeAllCoins","segment","filter","resetCars","maxSpeed","car","speed","PhysicsEngine","config","breaking","decel","offRoadDecel","offRoadLimit","updateTrackLength","updatePlayer","playerX","position","inputState","_findSegment","canvasWidth","canvasHeight","playerW","speedPercent","dx","coinCollected","crashPosition","pointsEarned","crashed","left","right","faster","slower","spriteW","coinW","splice","carW","updateCars","playerSpeed","oldSegment","updateCarOffset","newSegment","indexOf","carSegment","calculateAvoidanceDirection","otherCar","otherCarW","obstacleX","carX","updateScrollOffsets","skyOffset","hillOffset","treeOffset","startPosition","deltaPosition","RenderEngine","ctx","resolution","setCameraDepth","depth","updateDimensions","clearRect","polygon","y1","y2","x3","y3","x4","y4","fillStyle","beginPath","moveTo","lineTo","closePath","fog","r1","rumbleWidth","r2","l1","laneMarkerWidth","l2","fillRect","lanew1","lanew2","lanex1","lanex2","layer","rotation","imageW","imageH","sourceX","sourceY","sourceW","sourceH","destY","destW","destH","drawImage","destX","offsetX","offsetY","clipY","clipH","player","steer","updown","bounce","globalAlpha","projectedRoadWidth","renderCars","baseSegmentIndex","spriteScale","spriteX","spriteY","clip","renderSprites","renderObjects","onBillboardRender","renderCoinAnimations","animations","currentTime","save","anim","elapsed","startTime","progress","alpha","particleCount","particleRadius","burstRadius","angle","sin","arc","font","strokeStyle","lineWidth","text","textY","strokeText","fillText","restore","renderCrashAnimations","shakeX","shakeY","textX","GameLoop","update","render","isRunning","animationFrameId","lastTimestamp","accumulator","targetFps","fixedTimeStep","maxFrameTime","frameCount","lastFpsUpdate","currentFps","loop","frameTime","interpolation","updateFpsCounter","requestAnimationFrame","stop","cancelAnimationFrame","getFps","ImageLoader","loadImages","names","basePath","skin","promises","map","loadSingleImage","Promise","all","resolve","reject","img","Image","onload","onerror","Error","src","InputManager","keys","keyHandlers","handleKeyDown","keyCode","triggerKeyHandlers","includes","preventDefault","handleKeyUp","setupKeyboardListeners","destroy","setKeyHandlers","handlers","isKeyPressed","mode","handler","action","setupTouchControls","_isMobile","getKeyCodeForDirection","direction","window","isMobileUserAgent","test","navigator","userAgent","isMobileWidth","matchMedia","matches","moreThanOneTouchPoint","maxTouchPoints","HUD","availableLaps","hud","gameState","getSpeedometerRotation","_Fragment","alt","current_lap_time","cx","cy","r","BillboardStats","isVisible","stats","setStats","newStats","billboards","Object","sort","fontSize","borderBottom","textAlign","paddingBottom","placed","shown","maxPossible","percentage","toFixed","paddingTop","replace","fontWeight","borderTop","values","reduce","marginTop","GameCanvas","forwardRef","imageRendering","displayName","GameControls","onControl","onControlEnd","showActionButton","layout","actionLabel","actionIcon","action2Label","action2Icon","preventSelectStyles","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","touchAction","WebkitTouchCallout","handleContextMenu","onTouchStart","onContextMenu","onTouchEnd","onMouseDown","onMouseUp","laps","setPointsEarned","setGameOver","gameTitle","brandLogo","showBillboardStats","mobile","gameStarted","setGameStarted","canvasRef","startGame","togglePause","handleTouchControl","setGameState","gameStateRef","setCurrentLap","setPoints","setHud","coinAnimationsRef","crashAnimationsRef","roadEngineRef","physicsEngineRef","renderEngineRef","gameLoopRef","inputManagerRef","gameWorldRef","currentLapTime","hasRendered","inputStateRef","configRef","tan","formatTime","minutes","seconds","tenths","updateHud","key","prevHud","initializeEngines","canvas","getContext","loadAssets","async","images","error","console","resetGame","physics","playerUpdate","Date","scrollUpdate","_interpolation","renderer","baseSegment","basePercent","playerPercent","playerY","maxy","looped","_gameLoopRef$current","_gameLoopRef$current2","stopGame","_gameLoopRef$current3","_inputManagerRef$curr","_gameLoopRef$current4","_inputManagerRef$curr2","isPressed","useCarGame","handleControl","handleControlEnd","display","flexDirection","gap","justifyContent","alignItems","racing","startRacing","marginBottom","margin","useTouchControls","useKeyboard","padding","borderRadius","turnLeft","turnRight","brake","or","collectCoins","pressEscContinue","continue","id","maxWidth","visibility","useBoard","resetPlayer","_player$pos","_player$pos2","board","setBoard","React","createBoard","rowsCleared","setRowsCleared","clearingRows","setClearingRows","pos","updateBoard","prevBoard","newBoard","row","cell","tetromino","collided","rowsToRemove","every","setTimeout","updatedBoard","acc","unshift","Array","sweepRows","GameHeader","lives","onPause","isPaused","customItems","onQuit","showQuitButton","isQuitting","shouldShowQuit","tetrisAudio","initialized","muted","lastMoveTime","MIN_MOVE_GAP","moveSynth","rotateSynth","lockSynth","lineSynth","tetrisSynth","gameOverSynth","init","Tone","oscillator","envelope","attack","decay","sustain","release","volume","toDestination","pitchDecay","octaves","playMove","triggerAttackRelease","playRotate","playLock","playLineClear","playTetris","note","notes","time","playGameOver","setMuted","isMuted","dispose","_this$moveSynth","_this$rotateSynth","_this$lockSynth","_this$lineSynth","_this$tetrisSynth","_this$gameOverSynth","BOARD_WIDTH","TETROMINOS","shape","I","J","L","O","S","T","Z","from","randomTetromino","tetrominos","randTetromino","isColliding","moveX","moveY","Cell","_ref2","isClearing","isEmpty","borderColor","boxShadow","Board","_ref3","NextPiece","_ref4","_shape$","gridTemplateColumns","gridTemplateRows","border","_ref5","gamePaused","setGamePaused","setGameOverState","quitGame","setQuitGame","wasGamePaused","setWasGamePaused","currentLives","setCurrentLives","setLevel","setTotalLinesCleared","nextPiece","setNextPiece","dropTime","setDropTime","intervalSpeed","setIntervalSpeed","updatePlayerPos","playerRotate","usePlayer","setPlayer","stage","clonedPlayer","JSON","parse","stringify","matrix","_","column","reverse","posX","resetPlayerWithNextPiece","touchTimeoutRef","movePlayer","dir","keyUp","_ref6","move","_ref7","repeat","preventDefaultForScrollKeys","useInterval","callback","delay","savedCallback","tick","newTotal","newLevel","newSpeed","timeoutRef","clearTimeout","onKeyDown","onKeyUp","objectFit","cancelQuit","handleQuitConfirm","FOOD_TYPES","rarity","specialEffect","snakeAudio","lastSynthTime","lastNoiseTime","MIN_TIME_GAP","popSynth","bellSynth","bassSynth","noiseSynth","melodySynth","noise","getSafeTime","lastTime","synthKey","minNextTime","safeTime","playEatFood","playEatBoost","playEatDiet","bassTime","noiseTime","playSpeedUp","_this$popSynth","_this$bellSynth","_this$bassSynth","_this$noiseSynth","_this$melodySynth","onScoreUpdate","onGameOver","boardSize","cellSize","snake","setSnake","food","setFood","setDirection","nextDirection","setNextDirection","setSpeed","lastUpdateTime","currentScore","boostActive","setBoostActive","boostTimer","setBoostTimer","boostMultiplier","hasCollided","canvasSize","getRandomPosition","generatePosition","some","getRandomFood","totalWeight","sum","selectedFood","foodType","startsWith","moveSnake","currentSnake","newSnake","head","f","segmentsToRemove","pop","actualScore","gameLoop","foodImage","headImage","headUp","headDown","headLeft","headRight","tail","apple","banana","cherries","grapes","boost","diet","strokeRect","shadowColor","shadowBlur","initialLives","maxPoints","containerRef","imagesLoading","imagesError","setImages","loading","setLoading","setError","loadImage","imagePath","catch","err","loadAllImages","useImageLoader","setScore","setLives","setIsPaused","isGameStarted","setIsGameStarted","isGameOver","setIsGameOver","setWindowSize","showSpeedBoost","setShowSpeedBoost","speedBoostText","setSpeedBoostText","totalScore","setTotalScore","collisionCount","setCollisionCount","isMobileDevice","handleResize","innerWidth","innerHeight","handleKeyPress","handleGameOver","newLives","handleScoreUpdate","newScore","speedThresholds","oldThreshold","handleVirtualControl","KeyboardEvent","charAt","toUpperCase","slice","bubbles","dispatchEvent","aspectRatio","transform","getCanvasScale","controlsHeight","scaleX","scaleY","transformOrigin","SnakeGameCore","onLivesUpdate","flappyBirdAudio","lastFlapTime","MIN_FLAP_GAP","flapSynth","scoreSynth","collisionSynth","playFlap","playScore","playCollision","_this$flapSynth","_this$scoreSynth","_this$collisionSynth","FRAME_TIME","countCollisions","setCountCollisions","currentGap","setCurrentGap","isOnTheFloor","birdY","birdVelocity","pipesArray","passed","lastFrameTime","birdRotation","tap","moveUp","delayFrameCount","upMovement","collision","_config$functions$onL","_config$functions","newCollisions","functions","call","draw","context","bird","foreground","pipeNorth","pipeSouth","coin","heart","assets","gravity","currentLevel","pipeMovement","pipes","difficultyFactor","minY","maxY","lastPipeY","baseY","newY","baseSpacing","spacing","birdX","pointsPerObstacle","_config$functions$onS","_config$functions2","_config$functions$onS2","_config$functions3","gapReduction","newGap","hasHitFloor","hasHitCeiling","birdLeft","birdRight","birdTop","birdBottom","pipeLeft","pipeRight","pipeTopBottom","pipeBottomTop","hasHitPipe","translate","BIRD_WIDTH","BIRD_HEIGHT","rotate","hideOverlays","titleWidth","measureText","titleX","difficultyLevel","levelText","frameId","imageSmoothingEnabled","skinPath","useFlappyAnimation","useCanvas","handleClick","gameContainerRef","showLevelUp","setShowLevelUp","levelUpText","setLevelUpText","coreGameOver","setCoreGameOver","finalGameOver","handlePointsEarned","containerWidth","containerHeight","FlappyBirdCore","top","breakoutAudio","lastBounceTime","MIN_BOUNCE_GAP","bounceSynth","brickSynth","powerUpSynth","loseSynth","levelSynth","playPaddleHit","playWallHit","playBrickBreak","playPowerUpCollect","playLoseLife","playLevelUp","_this$bounceSynth","_this$brickSynth","_this$powerUpSynth","_this$loseSynth","_this$levelSynth","CANVAS_WIDTH","CANVAS_HEIGHT","PADDLE_COLOR","BALL_COLOR","BRICK_TYPES","hitsToBreak","LEVEL_THEMES","brickColors","POWER_UP_DURATION","POWER_UP_CONFIG","label","getBrickTypeForPosition","typeIndex","colorOverride","distanceFromCenter","BRICK_ROW_COUNT","strengthIndex","baseTypeIndex","getRandomPowerUpType","types","weights","createBricks","bricks","powerUpChance","c","hasPowerUp","powerUpType","status","calculatePaddleWidth","calculateBallSpeed","collisionDetection","ball","paddle","spawnPowerUp","pointsToAdd","lifeLost","nextBallX","nextBallY","dy","brick","radius","overlapX","overlapY","collidePoint","angleRad","ballLaunched","setBallLaunched","instructionsStep","setInstructionsStep","activePowerUpsState","setActivePowerUpsState","leftPressedRef","rightPressedRef","touchStartX","originalPaddleWidth","backgroundImageRef","ballRef","paddleRef","bricksRef","powerUpsRef","extraBallsRef","activePowerUpsRef","resetBallAndPaddle","paddleWidth","ballSpeed","levelUp","loseLife","launchBall","launchAngle","POWER_UP_SIZE","active","activatePowerUp","endTime","currentSpeed","sqrt","updatePowerUps","powerUp","activePowerUp","keyDownHandler","keyUpHandler","touchMoveHandler","touches","touch","rect","getBoundingClientRect","touchX","clientX","nextPaddleX","devicePixelRatio","touchStartHandler","touchEndHandler","passive","deltaTime","drawBricks","quadraticCurveTo","textBaseline","drawPaddle","drawBall","drawExtraBalls","extraBalls","drawPowerUps","powerUps","split","powerUpToSpawn","newMainBall","remaining","ceil","cursor","PenaltyShootoutCore","lazy","LoadingFallback","setRound","gameResult","setGameResult","handleRoundComplete","roundNum","_result","handleGameOverFromPhaser","finalGoals","goals","won","maxHeight","Suspense","fallback","onRoundComplete","totalRounds","handleContinue","CandyCrushCore","gameKey","setGameKey","setCurrentLevel","LEVELS","levelConfig","moves","setMoves","livesRemaining","setLivesRemaining","isRoundComplete","setIsRoundComplete","roundWon","setRoundWon","allLevelsComplete","setAllLevelsComplete","scoreRef","totalScoreRef","currentLevelRef","livesRemainingRef","candyCrushAudio","retryRound","finalScore","handleMovesUpdate","newMoves","handleGameComplete","_finalScore","handleNextLevel","nextLevel","nextLevelConfig","targetScore","onMovesUpdate","onGameComplete","SCORING","movesBonus","LANE_WIDTH","HIT_ZONE_Y","HIT_ZONE_HEIGHT","NOTE_HEIGHT","DEFAULT_LANE_COLORS","lane0","lane1","lane2","lane3","LANE_KEYS","LANE_LABELS","LANE_PITCHES","NOTE_NAMES","pitchToMidi","pitch","match","accidental","octaveStr","octave","noteIndex","transposePitch","semitones","midi","midiToPitch","audioManager","synth","drumSynth","hiHatSynth","snareSynth","bassLoop","hiHatLoop","snareLoop","isPlaying","initDrums","harmonicity","modulationIndex","resonance","startBackgroundBeat","bpm","cycle","_this$drumSynth","_this$hiHatSynth","_this$drumSynth2","_this$snareSynth","_this$hiHatSynth2","_this$drumSynth3","_this$snareSynth2","_this$hiHatSynth3","_this$drumSynth4","_this$snareSynth3","_this$hiHatSynth4","_this$drumSynth5","_this$snareSynth4","_this$hiHatSynth5","_this$drumSynth6","_this$snareSynth5","_this$hiHatSynth6","stopBackgroundBeat","_this$bassLoop","_this$hiHatLoop","_this$snareLoop","_this$bassLoop2","_this$hiHatLoop2","_this$snareLoop2","pauseBackgroundBeat","resumeBackgroundBeat","updateBpm","playNote","playPerfect","basePitch","highPitch","playMelodicNote","playMelodicNotePerfect","transposeOctave","playMiss","playCombo","twinkleStar","metadata","artist","difficulty","duration","beat","drumPattern","startBeat","endBeat","maryHadALittleLamb","hotCrossBuns","jingleBells","rowRowRow","odeToJoy","whenTheSaints","ohSusanna","londonBridge","happyBirthday","canonInD","entertainer","minuetInG","turkishMarch","greensleeves","furElise","moonlightSonata","hungarianDance","mountainKing","carmenHabanera","electronicBeat","neonPulse","digitalStorm","cyberChase","synthWave","DIFFICULTIES","songsByDifficulty","easy","medium","hard","GAME_FONT_FAMILY","SPEED_BY_DIFFICULTY","DIFFICULTY_NAMES","_currentConfigRef$cur","levelUpTimeout","setLevelUpTimeout","combo","setCombo","maxCombo","setMaxCombo","audioInitialized","setAudioInitialized","audioMuted","setAudioMuted","notesRef","hitEffectsRef","pointsRef","comboRef","livesRef","lastBeatRef","gameTimeRef","noteIdCounterRef","levelRef","currentSongRef","songNoteIndexRef","songLoopCountRef","currentConfigRef","nextLevelConfigRef","getLevelConfig","lvl","song","speedMultiplier","songsInTier","getSongForLevel","difficultyName","currentConfig","laneColors","initAudio","triggerLevelUp","nextConfig","timeout","newConfig","newSong","newBpm","checkHit","closestNote","closestDistance","Infinity","hit","missed","noteCenter","timeDistance","hitTime","hitType","earnedPoints","newCombo","toLowerCase","laneIndex","handleLaneTouch","_song$loop$startBeat","_song$loop","_song$loop$endBeat","_song$loop2","currentBpm","currentBeatDuration","currentNoteSpeed","currentBeat","lastBeat","loopStart","loopEnd","spawnBeat","_song$loop3","loopsNeeded","findIndex","noteData","effect","elapsedTime","noteSpeed","vanishY","getPerspectiveX","baseX","getPerspectiveWidth","baseWidth","bgGradient","createLinearGradient","addColorStop","depthPerBeat","depthOffset","perspectiveFactor","dashSize","setLineDash","hitZoneGradient","buttonY","laneBaseX","perspXStart","noteWidth","noteHeight","perspRadius","gradient","createRadialGradient","roundRect","innerGradient","sparkleSize","comboX","comboY","initialConfig","initialSong","initialBpm","minHeight","inset","pointerEvents","flex","entries","toggleMute","newMuted","GameSelector","visitor","setDialogText","setCurrentAction","selectedGame","setSelectedGame","gameRef","PageNavigation","congratulations","sorry","wonPoints","tryAgain","backToMenu","RacingGame","TetrisGame","tetris","SnakeGame","FlappyBirdGame","flappyBird","BreakoutGame","breakout","PenaltyShootoutGame","penaltyShootout","CandyCrushGame","candyCrush","RhythmHighway","rhythmHighway","subtitle","Avatar","Home","AboutMe","Work","Portfolio","Contact","greetings","avatar","dialogues","greetingWithName","greeting","dialogText","currentAction","setBrowserOpen","setBrowserMinimized","useIsMobile","pendingBrowserOpen","setPendingBrowserOpen","setVolume","useAudio","handleNavigate","browserActions","handleDialogComplete","DELAYS","BROWSER_OPEN","AUDIO_VOLUMES","BACKGROUND_MUSIC","onDialogComplete","onOpenBrowser","useMemo","maduroImg","BrowserWindow","renderRightSideComponent","loader","navItems","navigation","item","itemId","lastBassTime","lastUiTime","uiSynth","playSelect","playSwap","time1","time2","playInvalidMove","playMatch3","playMatch4","playMatch5","playMatchSound","playBombExplode","sparkleNotes","chainLevel","baseNotes","numNotes","playScorePopup","playWin","playLose","_this$uiSynth","GAME_WIDTH","GAME_HEIGHT","GRID","size","GRID_PIXEL_SIZE","candyTypes","bombConfig","spawnChance","matchSpawnChance","match3","match4","match5","matchLT","chainBonus","BOMB_FRAMES","cross","BOMB_SCORING","crossActivation","radiusActivation","perCandyCleared","ANIMATION","swapDuration","clearDuration","dropDurationPerRow","fillDuration","selectScale","selectDuration","scorePopupDuration","chainIndicatorDuration","CANDY_COLORS","gridBackground","gridBorder","textPrimary","textSecondary","scorePopup","chainIndicator","headerPanel","headerBorder","statCardBg","targetAccent","scoreAccent","movesAccent","UI","header","statCard","accentHeight","scoreDisplay","movesDisplay","targetDisplay","progressBar","CANDY_SPRITE","displaySize","specialOverlaySize","baseScale"],"sourceRoot":""}