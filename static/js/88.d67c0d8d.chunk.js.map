{"version":3,"file":"static/js/88.d67c0d8d.chunk.js","mappings":"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GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAI/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAI/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAK/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,IAEhCrK,WAAY,CACXo0C,YAAa,SAEd7zB,KAAM,CACL8zB,UAAW,EACXC,QAAS,GACTrgC,MAAO,IC9EIsgC,GAA2B,CACvCR,SAAU,CACTx8C,GAAI,yBACJwP,MAAO,yBACPitC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLyC,SAAU,IAEX53C,MAAO,CAEN,CAAE63C,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAG9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAE/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,IAEhCrK,WAAY,CACXo0C,YAAa,SAEd7zB,KAAM,CACL8zB,UAAW,EACXC,QAAS,GACTrgC,MAAO,ICjEIugC,GAAqB,CACjCT,SAAU,CACTx8C,GAAI,iBACJwP,MAAO,iBACPitC,OAAQ,cACRC,WAAY,YACZxC,IAAK,GACLyC,SAAU,IAEX53C,MAAO,CAEN,CAAE63C,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAG9B,CAAE8pC,KAAM,EAAGlE,MAAO,KAAM5lC,KAAM,GAC9B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAE/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAE/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAE/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,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AO,KAAM5lC,KAAM,GAG9B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAG/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,KAAM,GAC/B,CAAE8pC,KAAM,GAAIlE,MAAO,KAAM5lC,K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","sources":["components/Content/PageNavigation/PageNavigation.tsx","components/Content/Games/candy-crush/utils/audioManager.ts","components/Content/Games/candy-crush/constants.ts","components/icons/BrowserIcons.tsx","components/Content/BrowserWindow/ThemeDropdown.tsx","components/Content/BrowserWindow/BrowserWindow.tsx","components/Content/Games/ui/GameCard.tsx","components/Content/Games/ui/GameOverlay.tsx","components/Content/Games/racing/constants.ts","components/Content/Games/racing/utils/math.ts","components/Content/Games/racing/engine/road.ts","components/Content/Games/racing/engine/physics.ts","components/Content/Games/racing/engine/render.ts","components/Content/Games/racing/engine/gameLoop.ts","utils/functions.ts","components/Content/Games/racing/components/HUD.tsx","components/Content/Games/racing/components/BillboardStats.tsx","components/Content/Games/ui/GameCanvas.tsx","components/Content/Games/ui/GameControls.tsx","components/Content/Games/racing/game.tsx","components/Content/Games/racing/hooks/useCarGame.ts","components/Content/Games/tetris/hooks/useBoard.tsx","components/Content/Games/ui/GameHeader.tsx","components/Content/Games/tetris/utils/audioManager.ts","components/Content/Games/tetris/game.tsx","components/Content/Games/tetris/hooks/usePlayer.ts","components/Content/Games/tetris/hooks/useInterval.ts","components/Content/Games/snake/types.ts","components/Content/Games/snake/utils/audioManager.ts","components/Content/Games/snake/game.tsx","components/Content/Games/snake/index.tsx","components/Content/Games/snake/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/utils/audioManager.ts","components/Content/Games/flappy-bird/hooks/useFlappyAnimation.ts","components/Content/Games/flappy-bird/hooks/useCanvas.ts","components/Content/Games/flappy-bird/game.tsx","components/Content/Games/flappy-bird/hooks/useImageLoader.ts","components/Content/Games/flappy-bird/index.tsx","components/Content/Games/breakout/utils/audioManager.ts","components/Content/Games/breakout/constants.ts","components/Content/Games/breakout/utils/brickHelpers.ts","components/Content/Games/breakout/utils/collisionHelpers.ts","components/Content/Games/breakout/game.tsx","components/Content/Games/breakout/utils/drawingHelpers.ts","components/Content/Games/penalty-shootout/index.tsx","components/Content/Games/candy-crush/index.tsx","components/Content/Games/rhythm-highway/constants.ts","components/Content/Games/rhythm-highway/utils/laneAssigner.ts","components/Content/Games/rhythm-highway/utils/audioManager.ts","components/Content/Games/rhythm-highway/songs/twinkle-star.ts","components/Content/Games/rhythm-highway/songs/mary-had-a-little-lamb.ts","components/Content/Games/rhythm-highway/songs/hot-cross-buns.ts","components/Content/Games/rhythm-highway/songs/jingle-bells.ts","components/Content/Games/rhythm-highway/songs/row-row-row.ts","components/Content/Games/rhythm-highway/songs/ode-to-joy.ts","components/Content/Games/rhythm-highway/songs/when-the-saints.ts","components/Content/Games/rhythm-highway/songs/oh-susanna.ts","components/Content/Games/rhythm-highway/songs/london-bridge.ts","components/Content/Games/rhythm-highway/songs/happy-birthday.ts","components/Content/Games/rhythm-highway/songs/canon-in-d.ts","components/Content/Games/rhythm-highway/songs/entertainer.ts","components/Content/Games/rhythm-highway/songs/minuet-in-g.ts","components/Content/Games/rhythm-highway/songs/turkish-march.ts","components/Content/Games/rhythm-highway/songs/greensleeves.ts","components/Content/Games/rhythm-highway/songs/fur-elise.ts","components/Content/Games/rhythm-highway/songs/moonlight-sonata.ts","components/Content/Games/rhythm-highway/songs/hungarian-dance.ts","components/Content/Games/rhythm-highway/songs/mountain-king.ts","components/Content/Games/rhythm-highway/songs/carmen-habanera.ts","components/Content/Games/rhythm-highway/songs/electronic-beat.ts","components/Content/Games/rhythm-highway/songs/neon-pulse.ts","components/Content/Games/rhythm-highway/songs/digital-storm.ts","components/Content/Games/rhythm-highway/songs/cyber-chase.ts","components/Content/Games/rhythm-highway/songs/synth-wave.ts","components/Content/Games/rhythm-highway/songs/index.ts","components/Content/Games/rhythm-highway/index.tsx","components/Content/Games/game-selector.tsx","components/Content/Content.tsx"],"sourcesContent":["import React from 'react';\nimport './PageNavigation.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\n\ninterface PageNavigationProps {\n  currentSection: string;\n  onNavigate: (action: string) => void;\n  lang?: Language;\n}\n\nconst PageNavigation: React.FC<PageNavigationProps> = ({ currentSection, onNavigate, lang = 'en' }) => {\n  const t = getTranslations(lang);\n  const navItems = [\n    { id: '', label: t.navigation.home, icon: '' },\n    { id: 'goTo-about', label: t.navigation.about, icon: '' },\n    { id: 'goTo-work', label: t.navigation.work, icon: '' },\n    { id: 'goTo-portfolio', label: t.navigation.portfolio, icon: '' },\n    { id: 'goTo-contact', label: t.navigation.contact, icon: '' },\n    { id: 'goTo-games', label: t.navigation.games, icon: '' },\n  ];\n\n  const getActiveClass = (itemId: string) => {\n    return currentSection === itemId ? 'active' : '';\n  };\n\n  return (\n    <div className=\"page-navigation\">\n      <div className=\"nav-container\">\n        {navItems.map((item) => (\n          <button\n            key={item.id}\n            className={`nav-item ${getActiveClass(item.id)}`}\n            onClick={() => onNavigate(item.id)}\n            aria-current={currentSection === item.id ? 'page' : undefined}\n          >\n            <span className=\"nav-icon\">{item.icon}</span>\n            <span className=\"nav-label\">{item.label}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PageNavigation;\n","import * as Tone from 'tone'\n\nexport type BombSoundType = 'cross' | 'radius'\n\nexport class CandyCrushAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastBassTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate lastUiTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015 // 15ms minimum between triggers\n\n\t// Synthesizers\n\tprivate uiSynth: Tone.Synth | null = null\n\tprivate popSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\t// Start audio context (requires user gesture)\n\t\tawait Tone.start()\n\n\t\t// UI synth - soft clicks (triangle wave for soft sound)\n\t\tthis.uiSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Pop synth - match clear sounds (sine for clean pops)\n\t\tthis.popSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bass synth - deep booms for match5 and bombs\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Bell synth - chimes for combos and score\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Noise synth - error buzz and explosion texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -20,\n\t\t}).toDestination()\n\n\t\t// Melody synth - win/lose fanfares (triangle for musical quality)\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Helper to get safe trigger time for monophonic synths\n\tprivate getSafeTime(\n\t\tlastTime: number,\n\t\tsynthKey: 'bass' | 'noise' | 'ui'\n\t): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\t// Update the tracked time\n\t\tif (synthKey === 'bass') this.lastBassTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\t\telse if (synthKey === 'ui') this.lastUiTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Soft click when selecting a candy\n\tplaySelect(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tthis.uiSynth.triggerAttackRelease('C6', '32n', time)\n\t}\n\n\t// Quick whoosh when swapping candies\n\tplaySwap(): void {\n\t\tif (!this.initialized || this.muted || !this.uiSynth) return\n\t\tconst time1 = this.getSafeTime(this.lastUiTime, 'ui')\n\t\tconst time2 = time1 + 0.05\n\t\tthis.lastUiTime = time2 // Update to the last scheduled time\n\n\t\tthis.uiSynth.triggerAttackRelease('G5', '32n', time1)\n\t\tthis.uiSynth.triggerAttackRelease('E5', '32n', time2)\n\t}\n\n\t// Error buzz for invalid move\n\tplayInvalidMove(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('16n', noiseTime)\n\t\t}\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('E2', '16n', bassTime)\n\t\t}\n\t}\n\n\t// Light pop for match-3\n\tplayMatch3(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tthis.popSynth.triggerAttackRelease('E5', '16n')\n\t}\n\n\t// Fuller pop with sparkle for match-4\n\tplayMatch4(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', now)\n\t\tthis.popSynth.triggerAttackRelease('G5', '32n', now + 0.05)\n\t}\n\n\t// Deep boom with chord for match-5+\n\tplayMatch5(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '8n', bassTime)\n\t\t}\n\t\tif (this.bellSynth) {\n\t\t\tthis.bellSynth.triggerAttackRelease(\n\t\t\t\t['C4', 'E4', 'G4'],\n\t\t\t\t'8n',\n\t\t\t\tbassTime + 0.05\n\t\t\t)\n\t\t}\n\t}\n\n\t// Helper to select appropriate match sound based on length\n\tplayMatchSound(length: number): void {\n\t\tif (length >= 5) {\n\t\t\tthis.playMatch5()\n\t\t} else if (length === 4) {\n\t\t\tthis.playMatch4()\n\t\t} else {\n\t\t\tthis.playMatch3()\n\t\t}\n\t}\n\n\t// Explosive sound for bombs\n\tplayBombExplode(type?: BombSoundType): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\t// Get safe times for each synth to avoid timing conflicts in chain reactions\n\t\tconst bassTime = this.getSafeTime(this.lastBassTime, 'bass')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\t// Bass impact\n\t\tif (this.bassSynth) {\n\t\t\tconst note = type === 'cross' ? 'C1' : 'E1'\n\t\t\tthis.bassSynth.triggerAttackRelease(note, '4n', bassTime)\n\t\t}\n\n\t\t// Noise burst\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\n\t\t// Sparkle aftermath (bellSynth is polyphonic, no timing issues)\n\t\tif (this.bellSynth) {\n\t\t\tconst sparkleNotes =\n\t\t\t\ttype === 'cross' ? ['G5', 'B5', 'D6'] : ['E5', 'G5', 'B5']\n\t\t\tthis.bellSynth.triggerAttackRelease(sparkleNotes, '16n', bassTime + 0.1)\n\t\t}\n\t}\n\n\t// Escalating chimes for combo chains\n\tplayCombo(chainLevel: number): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\n\t\t// Base notes that escalate with chain level\n\t\tconst baseNotes = ['C5', 'E5', 'G5', 'B5', 'D6', 'F6']\n\t\tconst numNotes = Math.min(chainLevel, baseNotes.length)\n\t\tconst notes = baseNotes.slice(0, numNotes)\n\n\t\tconst now = Tone.now()\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Coin ding for score popup\n\tplayScorePopup(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tthis.bellSynth.triggerAttackRelease('G6', '32n')\n\t}\n\n\t// Victory fanfare - ascending arpeggio with final chord\n\tplayWin(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5', 'E5', 'G5']\n\n\t\t// Play ascending arpeggio\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '16n', now + i * 0.1)\n\t\t})\n\n\t\t// Final triumphant chord\n\t\tthis.melodySynth.triggerAttackRelease(\n\t\t\t['C5', 'E5', 'G5', 'C6'],\n\t\t\t'4n',\n\t\t\tnow + 0.7\n\t\t)\n\t}\n\n\t// Sad descending phrase for lose\n\tplayLose(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\n\t\tconst now = Tone.now()\n\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\n\t\tphrase.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '8n', now + i * 0.25)\n\t\t})\n\t}\n\n\t// Mute control\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\t// Cleanup all synths\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.uiSynth?.dispose()\n\t\tthis.popSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.uiSynth = null\n\t\tthis.popSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance for easy access\nexport const candyCrushAudio = new CandyCrushAudioManager()\n","// Game dimensions\nexport const GAME_WIDTH = 400\nexport const GAME_HEIGHT = 600\n\n// Grid settings\nexport const GRID = {\n\tsize: 8,\n\tcellSize: 44,\n\toffsetX: 20, // Centered: (400 - 359) / 2  20\n\toffsetY: 132, // Below header (98) + progress bar (114) + spacing\n\tgap: 1,\n}\n\n// Calculated grid dimensions\nexport const GRID_PIXEL_SIZE =\n\tGRID.size * GRID.cellSize + (GRID.size - 1) * GRID.gap\n\n// Bomb configuration\nexport interface BombConfig {\n\tspawnChance: number // 0.0-1.0 for random spawn when filling\n\tmatchSpawnChance: number // 0.0-1.0 for 4+ match rewards\n}\n\n// Level configuration\nexport interface LevelConfig {\n\tlevel: number\n\tmoves: number\n\ttargetScore: number\n\tcandyTypes: number\n\tbombConfig?: BombConfig\n}\n\nexport const LEVELS: LevelConfig[] = [\n\t{ level: 1, moves: 30, targetScore: 800, candyTypes: 5 },\n\t{ level: 2, moves: 30, targetScore: 1200, candyTypes: 5 },\n\t{\n\t\tlevel: 3,\n\t\tmoves: 28,\n\t\ttargetScore: 1500,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.02, matchSpawnChance: 0.15 },\n\t},\n\t{\n\t\tlevel: 4,\n\t\tmoves: 25,\n\t\ttargetScore: 1800,\n\t\tcandyTypes: 6,\n\t\tbombConfig: { spawnChance: 0.03, matchSpawnChance: 0.2 },\n\t},\n\t{\n\t\tlevel: 5,\n\t\tmoves: 22,\n\t\ttargetScore: 2000,\n\t\tcandyTypes: 7,\n\t\tbombConfig: { spawnChance: 0.04, matchSpawnChance: 0.25 },\n\t},\n]\n\n// Default gameplay settings (used as fallback)\nexport const GAMEPLAY = {\n\tdefaultCandyTypes: 6,\n\tdefaultMoves: 30,\n\tdefaultTargetScore: 1000,\n}\n\n// Scoring\nexport const SCORING = {\n\tmatch3: 30,\n\tmatch4: 60,\n\tmatch5: 100,\n\tmatchLT: 80,\n\tchainBonus: 10, // Per chain level above 1\n\tmovesBonus: 20, // Points per remaining move on win\n}\n\n// Bomb candy frames in spritesheet\nexport const BOMB_FRAMES = {\n\tcross: 7, // Frame 7 - cross/+ pattern bomb\n\tradius: 8, // Frame 8 - 3x3 radius bomb\n}\n\n// Bomb scoring\nexport const BOMB_SCORING = {\n\tcrossActivation: 150, // Base points for cross bomb activation\n\tradiusActivation: 100, // Base points for radius bomb activation\n\tperCandyCleared: 10, // Bonus per candy cleared by bomb\n}\n\n// Special candy combo points\nexport const COMBO_POINTS = {\n\tstripedStriped: 300,\n\tstripedWrapped: 500,\n\twrappedWrapped: 400,\n\tbombStriped: 600,\n\tbombWrapped: 700,\n\tbombBomb: 1000,\n}\n\n// Animation timings (ms)\nexport const ANIMATION = {\n\tswapDuration: 200,\n\tclearDuration: 150,\n\tdropDurationPerRow: 80,\n\tfillDuration: 150,\n\tselectScale: 1.15,\n\tselectDuration: 100,\n\tscorePopupDuration: 800,\n\tchainIndicatorDuration: 1000,\n}\n\n// Candy colors (for procedural drawing fallback)\n// Supports up to 9 candy types for harder difficulty levels\nexport const CANDY_COLORS = [\n\t0xe91e63, // Red/Pink\n\t0xff9800, // Orange\n\t0xffeb3b, // Yellow\n\t0x4caf50, // Green\n\t0x2196f3, // Blue\n\t0x9c27b0, // Purple\n\t0x00bcd4, // Cyan/Teal\n\t0x795548, // Brown\n\t0x607d8b, // Blue Grey\n]\n\n// UI Colors\nexport const COLORS = {\n\tbackground: 0x1a1a2e,\n\tgridBackground: 0x16213e,\n\tgridBorder: 0x0f3460,\n\ttextPrimary: 0xffffff,\n\ttextSecondary: 0xe94560,\n\tscorePopup: 0xffd700,\n\tchainIndicator: 0xff6b6b,\n\t// Header UI colors\n\theaderPanel: 0x16213e,\n\theaderBorder: 0x0f3460,\n\tstatCardBg: 0x1a1a2e,\n\ttargetAccent: 0xe94560,\n\tscoreAccent: 0xffd700,\n\tmovesAccent: 0x4fc3f7,\n}\n\n// UI element positions - aligned with grid background (x: 10, width: 379)\nexport const UI = {\n\theader: {\n\t\tx: 10,\n\t\ty: 10,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 88,\n\t\tborderRadius: 16,\n\t\tpadding: 12,\n\t},\n\t// Stat cards within header\n\tstatCard: {\n\t\twidth: 108,\n\t\theight: 64,\n\t\tborderRadius: 12,\n\t\tgap: 10,\n\t\taccentHeight: 18, // Height of the colored top bar with label\n\t},\n\t// Text positions centered in each card (below the accent bar)\n\t// Card Y = 22, accent = 18px, remaining = 46px, center = 22 + 18 + 23 = 63\n\tscoreDisplay: {\n\t\tx: GAME_WIDTH / 2,\n\t\ty: 63,\n\t},\n\tmovesDisplay: {\n\t\tx: 10 + GRID_PIXEL_SIZE + 20 - 12 - 108 / 2, // header.x + header.width - padding - cardWidth/2\n\t\ty: 63,\n\t},\n\ttargetDisplay: {\n\t\tx: 10 + 12 + 108 / 2, // header.x + padding + cardWidth/2 = 76\n\t\ty: 63,\n\t},\n\tprogressBar: {\n\t\tx: 10,\n\t\ty: 106,\n\t\twidth: GRID_PIXEL_SIZE + 20, // 379, matches grid background\n\t\theight: 8,\n\t\tborderRadius: 4,\n\t},\n}\n\n// Candy sprite settings\nexport const CANDY_SPRITE = {\n\tsize: 84, // Spritesheet frame size\n\tdisplaySize: 42, // Actual display size\n\tspecialOverlaySize: 42,\n\tbaseScale: 42 / 84, // Scale needed to display at displaySize\n}\n\n// Match patterns for special candy creation\nexport const SPECIAL_PATTERNS = {\n\t// 4 in a row creates striped\n\tstriped: 4,\n\t// 5 in a row creates color bomb\n\tcolorBomb: 5,\n\t// L or T shape creates wrapped (checked separately)\n}\n","import React from 'react';\n\nexport const BackIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M10 3L5 8l5 5V3z\" />\n    <rect x=\"3\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const ForwardIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M6 3l5 5-5 5V3z\" />\n    <rect x=\"5\" y=\"7\" width=\"8\" height=\"2\" />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC = () => (\n  <svg\n    viewBox=\"0 0 16 16\"\n    width=\"14\"\n    height=\"14\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"1.5\"\n  >\n    <path\n      d=\"M14 8a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 5.5 3.5\"\n      strokeLinecap=\"round\"\n    />\n    <polyline points=\"11 2 14 2 14 5\" />\n  </svg>\n);\n\nexport const StopIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <rect x=\"4\" y=\"4\" width=\"8\" height=\"8\" />\n  </svg>\n);\n\nexport const HomeIcon: React.FC = () => (\n  <svg viewBox=\"0 0 16 16\" width=\"14\" height=\"14\" fill=\"currentColor\">\n    <path d=\"M2 8l6-5 6 5v5a1 1 0 0 1-1 1H9v-4H7v4H3a1 1 0 0 1-1-1V8z\" />\n    <polygon points=\"8,1 1,7 2,8 8,3 14,8 15,7\" />\n  </svg>\n);\n","import React from 'react';\n\ninterface ThemeDropdownProps {\n  currentTheme: string;\n  onSelectTheme: (theme: string) => void;\n  themes: {\n    classic: string;\n    vaporwave: string;\n    terminal: string;\n  };\n  variant?: 'menubar' | 'statusbar';\n}\n\nconst ThemeDropdown: React.FC<ThemeDropdownProps> = ({\n  currentTheme,\n  onSelectTheme,\n  themes,\n  variant = 'menubar',\n}) => {\n  const className = variant === 'statusbar' ? 'status-theme-dropdown' : 'theme-dropdown';\n\n  return (\n    <div className={className}>\n      <button\n        className={currentTheme === 'classic' ? 'active' : ''}\n        onClick={() => onSelectTheme('classic')}\n      >\n        {themes.classic}\n      </button>\n      <button\n        className={currentTheme === 'vaporwave' ? 'active' : ''}\n        onClick={() => onSelectTheme('vaporwave')}\n      >\n        {themes.vaporwave}\n      </button>\n      <button\n        className={currentTheme === 'terminal' ? 'active' : ''}\n        onClick={() => onSelectTheme('terminal')}\n      >\n        {themes.terminal}\n      </button>\n    </div>\n  );\n};\n\nexport default ThemeDropdown;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './BrowserWindow.css';\nimport '../../../styles/themes/index.css';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations } from '../../../i18n';\nimport { BackIcon, ForwardIcon, RefreshIcon, StopIcon, HomeIcon } from '../../icons';\nimport ThemeDropdown from './ThemeDropdown';\n\ninterface BrowserWindowProps {\n  currentSection: string;\n  children: React.ReactNode;\n  onNavigate: (action: string) => void;\n  onMinimize?: () => void;\n  onOpen?: () => void;\n  isMobile?: boolean;\n  browserOpen?: boolean;\n  browserMinimized?: boolean;\n  lang: Language;\n}\n\nconst BrowserWindow: React.FC<BrowserWindowProps> = ({\n  currentSection,\n  children,\n  onNavigate,\n  onMinimize,\n  onOpen,\n  isMobile = false,\n  browserOpen = true,\n  browserMinimized = false,\n  lang,\n}) => {\n  const t = getTranslations(lang);\n  const [isMaximized, setIsMaximized] = useState(false);\n  const [showBSOD, setShowBSOD] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState<string>(() => {\n    return localStorage.getItem('browserTheme') || 'classic';\n  });\n  const [menubarThemeOpen, setMenubarThemeOpen] = useState(false);\n  const [statusbarThemeOpen, setStatusbarThemeOpen] = useState(false);\n  const menubarRef = useRef<HTMLDivElement>(null);\n  const statusbarRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menubarRef.current && !menubarRef.current.contains(event.target as Node)) {\n        setMenubarThemeOpen(false);\n      }\n      if (statusbarRef.current && !statusbarRef.current.contains(event.target as Node)) {\n        setStatusbarThemeOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Sync isMaximized with browserOpen on mobile\n  useEffect(() => {\n    if (isMobile && browserOpen) {\n      setIsMaximized(true);\n    }\n  }, [isMobile, browserOpen]);\n\n  const setTheme = useCallback((theme: string, source: 'menubar' | 'statusbar') => {\n    setCurrentTheme(theme);\n    localStorage.setItem('browserTheme', theme);\n    if (source === 'menubar') {\n      setMenubarThemeOpen(false);\n    } else {\n      setStatusbarThemeOpen(false);\n    }\n  }, []);\n\n  const toggleMenubarTheme = useCallback(() => {\n    setMenubarThemeOpen(prev => !prev);\n  }, []);\n\n  const toggleStatusbarTheme = useCallback(() => {\n    setStatusbarThemeOpen(prev => !prev);\n  }, []);\n\n  const handleMenubarThemeSelect = useCallback((theme: string) => setTheme(theme, 'menubar'), [setTheme]);\n  const handleStatusbarThemeSelect = useCallback((theme: string) => setTheme(theme, 'statusbar'), [setTheme]);\n\n  const getSectionUrl = (section: string): string => {\n    const urls: { [key: string]: string } = {\n      '': 'http://maw.dev/index.html',\n      'goTo-about': 'http://maw.dev/about-me.htm',\n      'goTo-work': 'http://maw.dev/work/tech-stack.html',\n      'goTo-portfolio': 'http://maw.dev/portfolio/gallery.cgi',\n      'goTo-contact': 'http://maw.dev/contact/guestbook.php',\n    };\n    return urls[section] || 'http://maw.dev/';\n  };\n\n  const getSectionTitle = (section: string): string => {\n    const titles: { [key: string]: string } = {\n      '': t.browser.titles.home,\n      'goTo-about': t.browser.titles.about,\n      'goTo-work': t.browser.titles.work,\n      'goTo-portfolio': t.browser.titles.portfolio,\n      'goTo-contact': t.browser.titles.contact,\n      'goTo-games': t.browser.titles.games,\n    };\n    return titles[section] || t.browser.titles.home;\n  };\n\n  const handleBack = () => {\n    onNavigate('');\n  };\n\n  const handleHome = () => {\n    onNavigate('');\n  };\n\n  // Handle click on browser when mobile and hidden - opens it\n  const handleBrowserClick = () => {\n    if (isMobile && !browserOpen) {\n      onOpen?.();\n      setIsMaximized(true);\n    }\n  };\n\n  return (\n    <div\n      className={`browser-window ${isMaximized ? 'maximized' : ''} ${browserMinimized ? 'minimized' : ''}`}\n      onClick={handleBrowserClick}\n    >\n      {/* Title Bar */}\n      <div\n        className=\"browser-titlebar\"\n        onDoubleClick={() => {\n          if (!isMobile) {\n            setIsMaximized(!isMaximized);\n          }\n        }}\n      >\n        <div className=\"browser-titlebar-text\">\n          <span className=\"browser-icon\"></span>\n          {getSectionTitle(currentSection)}\n        </div>\n        <div className=\"browser-titlebar-controls\">\n          <button\n            className=\"titlebar-button minimize\"\n            aria-label=\"Minimize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile: only works when maximized, returns to hidden state\n                if (isMaximized) {\n                  setIsMaximized(false);\n                  onMinimize?.();\n                }\n              } else {\n                // Desktop: hide browser completely\n                onMinimize?.();\n              }\n            }}\n          >\n            _\n          </button>\n          <button\n            className=\"titlebar-button maximize\"\n            aria-label=\"Maximize\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile) {\n                // Mobile when maximized: do nothing\n                if (isMaximized) return;\n                // Mobile when hidden: maximize\n                setIsMaximized(true);\n                onOpen?.();\n              } else {\n                // Desktop: toggle maximize\n                setIsMaximized(!isMaximized);\n              }\n            }}\n          >\n            \n          </button>\n          <button\n            className=\"titlebar-button close\"\n            aria-label=\"Close\"\n            onClick={(e) => {\n              e.stopPropagation();\n              if (isMobile && !isMaximized) {\n                // Mobile hidden state: do nothing\n                return;\n              }\n              // Desktop or mobile maximized: trigger BSOD\n              setShowBSOD(true);\n            }}\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      {/* Menu Bar */}\n      <div className=\"browser-menubar\">\n        <span className=\"menu-item\">{t.browser.menus.file}</span>\n        <span className=\"menu-item\">{t.browser.menus.edit}</span>\n        <span className=\"menu-item\">{t.browser.menus.view}</span>\n        <span className=\"menu-item\">{t.browser.menus.favorites}</span>\n        <div className=\"menu-item-wrapper\" ref={menubarRef}>\n          <span className=\"menu-item\" onClick={toggleMenubarTheme}>\n            {t.browser.menus.themes}\n          </span>\n          {menubarThemeOpen && (\n            <ThemeDropdown\n              currentTheme={currentTheme}\n              onSelectTheme={handleMenubarThemeSelect}\n              themes={t.browser.themes}\n              variant=\"menubar\"\n            />\n          )}\n        </div>\n        <span className=\"menu-item\">{t.browser.menus.help}</span>\n      </div>\n\n      {/* Navigation Bar */}\n      <div className=\"browser-navbar\">\n        <div className=\"nav-buttons\">\n          <button\n            className=\"nav-button back\"\n            onClick={handleBack}\n            disabled={currentSection === ''}\n            aria-label=\"Back\"\n          >\n            <BackIcon />\n          </button>\n          <button className=\"nav-button forward\" disabled aria-label=\"Forward\">\n            <ForwardIcon />\n          </button>\n          <button className=\"nav-button refresh\" aria-label=\"Refresh\">\n            <RefreshIcon />\n          </button>\n          <button className=\"nav-button stop\" aria-label=\"Stop\">\n            <StopIcon />\n          </button>\n          <button className=\"nav-button home\" onClick={handleHome} aria-label=\"Home\">\n            <HomeIcon />\n          </button>\n        </div>\n        <div className=\"nav-addressbar\">\n          <input\n            type=\"text\"\n            value={getSectionUrl(currentSection)}\n            readOnly\n            className=\"addressbar-input\"\n          />\n        </div>\n        <button className=\"nav-button go\">Go</button>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"browser-content\">\n        <div className={`browser-viewport theme-${currentTheme}`}>{children}</div>\n      </div>\n\n      {/* BSOD Easter Egg */}\n      {showBSOD && (\n        <div className=\"bsod-overlay\" onClick={() => setShowBSOD(false)}>\n          <div className=\"bsod-content\">\n            <h1>{t.browser.bsod.title}</h1>\n            <p className=\"bsod-main-text\">{t.browser.bsod.mainText}</p>\n            <p>{t.browser.bsod.collectingError}</p>\n            <p className=\"bsod-error\">{t.browser.bsod.errorCode}</p>\n            <p className=\"bsod-code\">{t.browser.bsod.stopCode}</p>\n            <p className=\"bsod-hint\">{t.browser.bsod.clickToRestart}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Status Bar */}\n      <div className=\"browser-statusbar\">\n        <div className=\"status-text\">{t.browser.statusDone}</div>\n        <div className=\"status-icons\">\n          <div className=\"status-theme-selector\" ref={statusbarRef}>\n            <button\n              className=\"status-theme-button\"\n              onClick={toggleStatusbarTheme}\n              aria-label={t.browser.menus.themes}\n            >\n               {t.browser.themes[currentTheme as keyof typeof t.browser.themes] || currentTheme}\n            </button>\n            {statusbarThemeOpen && (\n              <ThemeDropdown\n                currentTheme={currentTheme}\n                onSelectTheme={handleStatusbarThemeSelect}\n                themes={t.browser.themes}\n                variant=\"statusbar\"\n              />\n            )}\n          </div>\n          <span className=\"status-icon\"></span>\n          <span className=\"status-zone\">{t.browser.statusZone}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BrowserWindow;\n","import React from 'react'\n\ninterface GameCardProps {\n\ttitle: string\n\ticon?: string\n\tcolor?: string\n\tgradientFrom?: string\n\tgradientTo?: string\n\tonClick: () => void\n\tdescription?: string\n\tdisabled?: boolean\n}\n\nexport const GameCard: React.FC<GameCardProps> = ({\n\ttitle,\n\ticon,\n\tcolor,\n\tgradientFrom,\n\tgradientTo,\n\tonClick,\n\tdescription,\n\tdisabled = false,\n}) => {\n\tconst bgStyle =\n\t\tgradientFrom && gradientTo\n\t\t\t? {\n\t\t\t\t\tbackground: `linear-gradient(135deg, ${gradientFrom} 0%, ${gradientTo} 100%)`,\n\t\t\t\t}\n\t\t\t: { backgroundColor: color || '#4b5563' }\n\n\treturn (\n\t\t<button\n\t\t\tonClick={onClick}\n\t\t\tdisabled={disabled}\n\t\t\tclassName=\"game-card\"\n\t\t\tstyle={bgStyle}\n\t\t>\n\t\t\t{/* Hover Overlay */}\n\t\t\t<div className=\"game-card-overlay\" />\n\n\t\t\t{/* Content */}\n\t\t\t<div className=\"game-card-content\">\n\t\t\t\t{/* Icon */}\n\t\t\t\t{icon && <div className=\"game-card-icon\">{icon}</div>}\n\n\t\t\t\t{/* Title */}\n\t\t\t\t<h3 className=\"game-card-title\">{title}</h3>\n\n\t\t\t\t{/* Description */}\n\t\t\t\t{description && (\n\t\t\t\t\t<p className=\"game-card-description\">{description}</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Corner Accent */}\n\t\t\t<div className=\"game-card-accent-top\">\n\t\t\t\t<div className=\"game-card-accent-triangle\" />\n\t\t\t</div>\n\n\t\t\t{/* Bottom Accent */}\n\t\t\t<div className=\"game-card-accent-bottom\" />\n\t\t</button>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\n\ninterface GameOverlayProps {\n\ttype: 'start' | 'pause' | 'gameOver' | 'levelComplete' | 'custom'\n\ttitle?: string\n\tmessage?: string\n\tscore?: number\n\tlevel?: number\n\tbrandColor?: string\n\tonAction?: () => void\n\tactionText?: string\n\tcustomContent?: React.ReactNode\n\tshowPressToStart?: boolean\n\tlang?: string\n}\n\nexport const GameOverlay: React.FC<GameOverlayProps> = ({\n\ttype,\n\ttitle,\n\tmessage,\n\tscore,\n\tlevel,\n\tbrandColor = '#00d26a',\n\tonAction,\n\tactionText,\n\tcustomContent,\n\tshowPressToStart = true,\n}) => {\n\tconst [showBlink, setShowBlink] = useState(true)\n\n\tuseEffect(() => {\n\t\tif (showPressToStart && type === 'start') {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetShowBlink(prev => !prev)\n\t\t\t}, 500)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [showPressToStart, type])\n\n\tconst defaultTitles = {\n\t\tstart: ' LISTO PARA JUGAR',\n\t\tpause: ' PAUSA',\n\t\tgameOver: ' GAME OVER',\n\t\tlevelComplete: ' NIVEL COMPLETADO!',\n\t\tcustom: '',\n\t}\n\n\tconst displayTitle = title || defaultTitles[type]\n\n\treturn (\n\t\t<div className=\"game-overlay\">\n\t\t\t{/* Background Overlay */}\n\t\t\t<div className=\"game-overlay-bg\" />\n\n\t\t\t{/* Content Card */}\n\t\t\t<div className=\"game-overlay-card\">\n\t\t\t\t{/* Decorative Border Glow */}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-overlay-glow\"\n\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"game-overlay-content\">\n\t\t\t\t\t{/* Title */}\n\t\t\t\t\t{displayTitle && (\n\t\t\t\t\t\t<h2 className=\"game-overlay-title\">{displayTitle}</h2>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Score Display */}\n\t\t\t\t\t{score !== undefined && (\n\t\t\t\t\t\t<div className=\"game-overlay-score\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-label\">Puntuacin Final</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-score-value\">\n\t\t\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Display */}\n\t\t\t\t\t{level !== undefined && type === 'levelComplete' && (\n\t\t\t\t\t\t<div className=\"game-overlay-level\">\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-label\">Nivel</p>\n\t\t\t\t\t\t\t<p className=\"game-overlay-level-value\">{level}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Message */}\n\t\t\t\t\t{message && (\n\t\t\t\t\t\t<p className=\"game-overlay-message\">{message}</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Custom Content */}\n\t\t\t\t\t{customContent}\n\n\t\t\t\t\t{/* Action Button or Press to Start */}\n\t\t\t\t\t{type === 'start' && showPressToStart && !onAction ? (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"game-overlay-blink\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: brandColor,\n\t\t\t\t\t\t\t\topacity: showBlink ? 1 : 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPRESIONA ESPACIO PARA COMENZAR\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : onAction && actionText ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t\tclassName=\"game-overlay-button\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: brandColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{actionText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","/**\n * Key codes for input handling\n */\nexport const KEY = {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  A: 65,\n  D: 68,\n  S: 83,\n  W: 87,\n  SPACE: 32,\n};\n\n/**\n * Road configuration constants\n */\nexport const ROAD = {\n  LENGTH: {\n    NONE: 0,\n    SHORT: 25,\n    MEDIUM: 50,\n    LONG: 100,\n  },\n  HILL: {\n    NONE: 0,\n    LOW: 20,\n    MEDIUM: 40,\n    HIGH: 60,\n  },\n  CURVE: {\n    NONE: 0,\n    EASY: 2,\n    MEDIUM: 4,\n    HARD: 6,\n  },\n};\n\n/**\n * Game colors\n */\nexport const COLORS = {\n  SKY: '#72D7EE',\n  TREE: '#005108',\n  FOG: '#005108',\n  LIGHT: {\n    road: '#6B6B6B',\n    grass: '#10AA10',\n    rumble: '#555555',\n    lane: '#CCCCCC',\n  },\n  DARK: {\n    road: '#696969',\n    grass: '#009A00',\n    rumble: '#BBBBBB',\n  },\n  START: {\n    road: 'white',\n    grass: 'white',\n    rumble: 'white',\n  },\n  FINISH: {\n    road: 'black',\n    grass: 'black',\n    rumble: 'black',\n  },\n};\n\n/**\n * Background layer configuration\n */\nexport const BACKGROUND = {\n  HILLS: { x: 5, y: 5, w: 1280, h: 480 },\n  SKY: { x: 5, y: 495, w: 1280, h: 480 },\n  TREES: { x: 5, y: 985, w: 1280, h: 480 },\n};\n\n/**\n * Sprite definitions\n */\nconst SPRITES_DEF = {\n  PALM_TREE: { x: 5, y: 5, w: 215, h: 540 },\n  BILLBOARD08: { x: 230, y: 5, w: 385, h: 265 },\n  TREE1: { x: 625, y: 5, w: 360, h: 360 },\n  DEAD_TREE1: { x: 5, y: 555, w: 135, h: 332 },\n  BILLBOARD09: { x: 150, y: 555, w: 328, h: 282 },\n  BOULDER3: { x: 230, y: 280, w: 320, h: 220 },\n  COLUMN: { x: 995, y: 5, w: 200, h: 315 },\n  BILLBOARD01: { x: 625, y: 375, w: 300, h: 170 },\n  BILLBOARD06: { x: 488, y: 555, w: 298, h: 190 },\n  BILLBOARD05: { x: 5, y: 897, w: 298, h: 190 },\n  BILLBOARD07: { x: 313, y: 897, w: 298, h: 190 },\n  BOULDER2: { x: 621, y: 897, w: 298, h: 140 },\n  TREE2: { x: 1205, y: 5, w: 282, h: 295 },\n  BILLBOARD04: { x: 1205, y: 310, w: 268, h: 170 },\n  DEAD_TREE2: { x: 1205, y: 490, w: 150, h: 260 },\n  BOULDER1: { x: 1205, y: 760, w: 168, h: 248 },\n  BUSH1: { x: 5, y: 1097, w: 240, h: 155 },\n  CACTUS: { x: 929, y: 897, w: 235, h: 118 },\n  BUSH2: { x: 255, y: 1097, w: 232, h: 152 },\n  BILLBOARD03: { x: 5, y: 1262, w: 230, h: 220 },\n  BILLBOARD02: { x: 245, y: 1262, w: 215, h: 220 },\n  STUMP: { x: 995, y: 330, w: 195, h: 140 },\n  SEMI: { x: 1365, y: 490, w: 122, h: 144 },\n  TRUCK: { x: 1365, y: 644, w: 100, h: 78 },\n  CAR03: { x: 1383, y: 760, w: 88, h: 55 },\n  CAR02: { x: 1383, y: 825, w: 80, h: 59 },\n  CAR04: { x: 1383, y: 894, w: 80, h: 57 },\n  CAR01: { x: 1205, y: 1018, w: 80, h: 56 },\n  PLAYER_UPHILL_LEFT: { x: 1383, y: 961, w: 80, h: 45 },\n  PLAYER_UPHILL_STRAIGHT: { x: 1295, y: 1018, w: 80, h: 45 },\n  PLAYER_UPHILL_RIGHT: { x: 1385, y: 1018, w: 80, h: 45 },\n  PLAYER_RIGHT: { x: 995, y: 480, w: 80, h: 41 },\n  PLAYER_STRAIGHT: { x: 1085, y: 480, w: 80, h: 41 },\n  PLAYER_LEFT: { x: 995, y: 531, w: 80, h: 41 },\n  COIN: { x: 1395, y: 1092, w: 60, h: 60 },\n};\n\n// Add computed properties\nconst SPRITES_COMPUTED = {\n  ...SPRITES_DEF,\n  SCALE: 0.3 * (1 / SPRITES_DEF.PLAYER_STRAIGHT.w),\n  BILLBOARDS: [\n    SPRITES_DEF.BILLBOARD01,\n    SPRITES_DEF.BILLBOARD02,\n    SPRITES_DEF.BILLBOARD03,\n    SPRITES_DEF.BILLBOARD04,\n    SPRITES_DEF.BILLBOARD05,\n    SPRITES_DEF.BILLBOARD06,\n    SPRITES_DEF.BILLBOARD07,\n    SPRITES_DEF.BILLBOARD08,\n    SPRITES_DEF.BILLBOARD09,\n  ],\n  PLANTS: [\n    SPRITES_DEF.TREE1,\n    SPRITES_DEF.TREE2,\n    SPRITES_DEF.DEAD_TREE1,\n    SPRITES_DEF.DEAD_TREE2,\n    SPRITES_DEF.PALM_TREE,\n    SPRITES_DEF.BUSH1,\n    SPRITES_DEF.BUSH2,\n    SPRITES_DEF.CACTUS,\n    SPRITES_DEF.STUMP,\n    SPRITES_DEF.BOULDER1,\n    SPRITES_DEF.BOULDER2,\n    SPRITES_DEF.BOULDER3,\n  ],\n  CARS: [\n    SPRITES_DEF.CAR01,\n    SPRITES_DEF.CAR02,\n    SPRITES_DEF.CAR03,\n    SPRITES_DEF.CAR04,\n    SPRITES_DEF.SEMI,\n    SPRITES_DEF.TRUCK,\n  ],\n} as const;\n\nexport const SPRITES = SPRITES_COMPUTED;\n\n/**\n * Default game configuration\n */\nexport const DEFAULT_CONFIG = {\n  fps: 60,\n  width: 720,\n  height: 960,\n  roadWidth: 2000,\n  segmentLength: 200,\n  rumbleLength: 3,\n  lanes: 3,\n  fieldOfView: 100,\n  cameraHeight: 1000,\n  drawDistance: 300,\n  fogDensity: 5,\n  centrifugal: 0.3,\n  skySpeed: 0.001,\n  hillSpeed: 0.002,\n  treeSpeed: 0.003,\n  totalCars: 200,\n};\n","/**\n * Math utilities for 3D car racing game\n * Optimized for performance in game loop\n */\n\nexport class MathUtils {\n  /**\n   * Get current timestamp\n   */\n  static timestamp(): number {\n    return performance.now();\n  }\n\n  /**\n   * Convert to integer with default value\n   */\n  static toInt(obj: string | number | null | undefined, def: number = 0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseInt(String(obj), 10);\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Convert to float with default value\n   */\n  static toFloat(obj: string | number | null | undefined, def: number = 0.0): number {\n    if (obj !== null && obj !== undefined) {\n      const x = parseFloat(String(obj));\n      if (!isNaN(x)) return x;\n    }\n    return def;\n  }\n\n  /**\n   * Clamp value between min and max\n   */\n  static limit(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(value, max));\n  }\n\n  /**\n   * Get random integer between min and max (inclusive)\n   */\n  static randomInt(min: number, max: number): number {\n    return Math.round(this.interpolate(min, max, Math.random()));\n  }\n\n  /**\n   * Get random choice from array\n   */\n  static randomChoice<T>(options: T[]): T {\n    return options[this.randomInt(0, options.length - 1)];\n  }\n\n  /**\n   * Calculate percent remaining\n   */\n  static percentRemaining(n: number, total: number): number {\n    return (n % total) / total;\n  }\n\n  /**\n   * Accelerate value\n   */\n  static accelerate(v: number, accel: number, dt: number): number {\n    return v + accel * dt;\n  }\n\n  /**\n   * Linear interpolation\n   */\n  static interpolate(a: number, b: number, percent: number): number {\n    return a + (b - a) * percent;\n  }\n\n  /**\n   * Ease in interpolation\n   */\n  static easeIn(a: number, b: number, percent: number): number {\n    return a + (b - a) * Math.pow(percent, 2);\n  }\n\n  /**\n   * Ease out interpolation\n   */\n  static easeOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (1 - Math.pow(1 - percent, 2));\n  }\n\n  /**\n   * Ease in-out interpolation\n   */\n  static easeInOut(a: number, b: number, percent: number): number {\n    return a + (b - a) * (-Math.cos(percent * Math.PI) / 2 + 0.5);\n  }\n\n  /**\n   * Exponential fog calculation\n   */\n  static exponentialFog(distance: number, density: number): number {\n    return 1 / Math.pow(Math.E, distance * distance * density);\n  }\n\n  /**\n   * Increase value with wrapping\n   */\n  static increase(start: number, increment: number, max: number): number {\n    let result = start + increment;\n    while (result >= max) result -= max;\n    while (result < 0) result += max;\n    return result;\n  }\n\n  /**\n   * Check overlap between two objects\n   * Optimized version with early exit\n   */\n  static overlap(x1: number, w1: number, x2: number, w2: number, percent: number = 1): boolean {\n    const half1 = percent * 0.5;\n    const half2 = percent * 0.5;\n    const min1 = x1 - w1 * half1;\n    const max1 = x1 + w1 * half1;\n    const min2 = x2 - w2 * half2;\n    const max2 = x2 + w2 * half2;\n    return !(max1 < min2 || min1 > max2);\n  }\n\n  /**\n   * Project 3D point to 2D screen\n   * Optimized for performance\n   */\n  static project(\n    p: {\n      world: { x?: number; y?: number; z?: number };\n      camera: { x?: number; y?: number; z?: number };\n      screen: { x?: number; y?: number; w?: number; scale?: number };\n    },\n    cameraX: number,\n    cameraY: number,\n    cameraZ: number,\n    cameraDepth: number,\n    width: number,\n    height: number,\n    roadWidth: number\n  ): void {\n    p.camera.x = (p.world.x || 0) - cameraX;\n    p.camera.y = (p.world.y || 0) - cameraY;\n    p.camera.z = (p.world.z || 0) - cameraZ;\n    p.screen.scale = cameraDepth / p.camera.z;\n    p.screen.x = Math.round(width / 2 + (p.screen.scale * p.camera.x * width) / 2);\n    p.screen.y = Math.round(height / 2 - (p.screen.scale * p.camera.y * height) / 2);\n    p.screen.w = Math.round((p.screen.scale * roadWidth * width) / 2);\n  }\n}\n\n// Pre-calculated values for performance\nexport const DEG_TO_RAD = Math.PI / 180;\nexport const RAD_TO_DEG = 180 / Math.PI;\n\n/**\n * Fast sine approximation for non-critical calculations\n */\nexport function fastSin(x: number): number {\n  x = x % (2 * Math.PI);\n  if (x < 0) x += 2 * Math.PI;\n\n  if (x < Math.PI) {\n    return (4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  } else {\n    x -= Math.PI;\n    return (-4 * x * (Math.PI - x)) / (Math.PI * Math.PI);\n  }\n}\n\n/**\n * Fast cosine approximation for non-critical calculations\n */\nexport function fastCos(x: number): number {\n  return fastSin(x + Math.PI / 2);\n}\n","import type { RoadSegment, Car, Sprite } from '../types';\nimport { COLORS, SPRITES, ROAD } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Road generation and management system\n * Optimized for performance and memory usage\n */\nexport class RoadEngine {\n  private segments: RoadSegment[] = [];\n  private segmentLength: number;\n  private rumbleLength: number;\n  private trackLength: number = 0;\n  private billboardPlacements: Map<string, number> = new Map();\n  private billboardImpressions: Map<string, number> = new Map();\n  private billboardInstances: Map<\n    string,\n    { segmentIndex: number; offset: number; seenInLaps: Set<number> }[]\n  > = new Map();\n  private nextBillboardId: number = 0;\n\n  constructor(segmentLength: number = 200, rumbleLength: number = 3) {\n    this.segmentLength = segmentLength;\n    this.rumbleLength = rumbleLength;\n  }\n\n  /**\n   * Get all road segments\n   */\n  getSegments(): RoadSegment[] {\n    return this.segments;\n  }\n\n  /**\n   * Get track length\n   */\n  getTrackLength(): number {\n    return this.trackLength;\n  }\n\n  /**\n   * Get billboard placements count\n   */\n  getBillboardPlacements(): Map<string, number> {\n    return new Map(this.billboardPlacements);\n  }\n\n  /**\n   * Get billboard impressions count\n   */\n  getBillboardImpressions(): Map<string, number> {\n    return new Map(this.billboardImpressions);\n  }\n\n  /**\n   * Record billboard impression for a specific segment and offset in a specific lap\n   */\n  recordBillboardImpression(\n    segmentIndex: number,\n    offset: number,\n    billboardName: string,\n    currentLap: number\n  ): void {\n    const instances = this.billboardInstances.get(billboardName);\n    if (!instances) return;\n\n    // Find the specific billboard instance at this segment and offset\n    const instance = instances.find(\n      (inst) => inst.segmentIndex === segmentIndex && Math.abs(inst.offset - offset) < 0.1 // Small tolerance for floating point comparison\n    );\n\n    if (instance && !instance.seenInLaps.has(currentLap)) {\n      instance.seenInLaps.add(currentLap);\n      const current = this.billboardImpressions.get(billboardName) || 0;\n      this.billboardImpressions.set(billboardName, current + 1);\n    }\n  }\n\n  /**\n   * Get billboard statistics as an object\n   */\n  getBillboardStats(totalLaps: number): {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } {\n    const placements: Record<string, number> = {};\n    const impressions: Record<string, number> = {};\n    const maxPossibleImpressions: Record<string, number> = {};\n\n    this.billboardPlacements.forEach((count, name) => {\n      placements[name] = count;\n      maxPossibleImpressions[name] = count * totalLaps;\n    });\n\n    this.billboardImpressions.forEach((count, name) => {\n      impressions[name] = count;\n    });\n\n    // Calculate a realistic track length in meters\n    // Game units don't correspond to real meters, so we apply a scale factor\n    // Adjusted for actual segment counts (typically 3000-6000 segments)\n    // Target track lengths: 2-4 km for realistic racing circuits\n    const realisticTrackLength = Math.round(this.segments.length * 0.65);\n\n    return {\n      placements,\n      impressions,\n      maxPossibleImpressions,\n      trackLength: realisticTrackLength,\n      totalSegments: this.segments.length,\n      totalLaps,\n    };\n  }\n\n  /**\n   * Find segment by Z position\n   */\n  findSegment(z: number): RoadSegment {\n    return this.segments[Math.floor(z / this.segmentLength) % this.segments.length];\n  }\n\n  /**\n   * Get last Y position\n   */\n  private lastY(): number {\n    return this.segments.length === 0 ? 0 : this.segments[this.segments.length - 1].p2.world.y;\n  }\n\n  /**\n   * Add a road segment\n   */\n  private addSegment(curve: number, y: number): void {\n    const n = this.segments.length;\n    this.segments.push({\n      index: n,\n      p1: {\n        world: { y: this.lastY(), z: n * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      p2: {\n        world: { y: y, z: (n + 1) * this.segmentLength },\n        camera: { x: 0, y: 0, z: 0 },\n        screen: { x: 0, y: 0, w: 0, scale: 0 },\n      },\n      curve: curve,\n      sprites: [],\n      cars: [],\n      color: Math.floor(n / this.rumbleLength) % 2 ? COLORS.DARK : COLORS.LIGHT,\n    });\n  }\n\n  /**\n   * Add a sprite to a segment\n   */\n  private addSprite(n: number, sprite: Sprite, offset: number): void {\n    if (this.segments[n]) {\n      const spriteInstance = { source: sprite, offset: offset };\n\n      // If it's a billboard, track it with a unique ID\n      const billboardName = this.getBillboardName(sprite);\n      if (billboardName) {\n        const billboardId = `${billboardName}_${this.nextBillboardId++}`;\n        // Store the billboard ID in the sprite instance for later reference\n        (spriteInstance as any).billboardId = billboardId;\n\n        // Track the instance\n        if (!this.billboardInstances.has(billboardName)) {\n          this.billboardInstances.set(billboardName, []);\n        }\n        this.billboardInstances.get(billboardName)!.push({\n          segmentIndex: n,\n          offset: offset,\n          seenInLaps: new Set<number>(),\n        });\n      }\n\n      this.segments[n].sprites.push(spriteInstance);\n    }\n  }\n\n  /**\n   * Add a road section with easing\n   */\n  private addRoad(enter: number, hold: number, leave: number, curve: number, y: number): void {\n    const startY = this.lastY();\n    const endY = startY + MathUtils.toInt(y, 0) * this.segmentLength;\n    const total = enter + hold + leave;\n\n    // Enter phase with easing\n    for (let n = 0; n < enter; n++) {\n      this.addSegment(\n        MathUtils.easeIn(0, curve, n / enter),\n        MathUtils.easeInOut(startY, endY, n / total)\n      );\n    }\n\n    // Hold phase\n    for (let n = 0; n < hold; n++) {\n      this.addSegment(curve, MathUtils.easeInOut(startY, endY, (enter + n) / total));\n    }\n\n    // Leave phase with easing\n    for (let n = 0; n < leave; n++) {\n      this.addSegment(\n        MathUtils.easeInOut(curve, 0, n / leave),\n        MathUtils.easeInOut(startY, endY, (enter + hold + n) / total)\n      );\n    }\n  }\n\n  /**\n   * Add straight road section\n   */\n  private addStraight(num: number = ROAD.LENGTH.MEDIUM): void {\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add hill section\n   */\n  private addHill(num: number = ROAD.LENGTH.MEDIUM, height: number = ROAD.HILL.MEDIUM): void {\n    this.addRoad(num, num, num, 0, height);\n  }\n\n  /**\n   * Add curve section\n   */\n  private addCurve(\n    num: number = ROAD.LENGTH.MEDIUM,\n    curve: number = ROAD.CURVE.MEDIUM,\n    height: number = ROAD.HILL.NONE\n  ): void {\n    this.addRoad(num, num, num, curve, height);\n  }\n\n  /**\n   * Add rolling hills section\n   */\n  private addLowRollingHills(\n    num: number = ROAD.LENGTH.SHORT,\n    height: number = ROAD.HILL.LOW\n  ): void {\n    this.addRoad(num, num, num, 0, height / 2);\n    this.addRoad(num, num, num, 0, -height);\n    this.addRoad(num, num, num, ROAD.CURVE.EASY, height);\n    this.addRoad(num, num, num, 0, 0);\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, height / 2);\n    this.addRoad(num, num, num, 0, 0);\n  }\n\n  /**\n   * Add S-curves section\n   */\n  private addSCurves(): void {\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.NONE\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.MEDIUM,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.CURVE.EASY,\n      -ROAD.HILL.LOW\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.EASY,\n      ROAD.HILL.MEDIUM\n    );\n    this.addRoad(\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      ROAD.LENGTH.MEDIUM,\n      -ROAD.CURVE.MEDIUM,\n      -ROAD.HILL.MEDIUM\n    );\n  }\n\n  /**\n   * Add bumps section\n   */\n  private addBumps(): void {\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n    this.addRoad(10, 10, 10, 0, -5);\n    this.addRoad(10, 10, 10, 0, 8);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -7);\n    this.addRoad(10, 10, 10, 0, 5);\n    this.addRoad(10, 10, 10, 0, -2);\n  }\n\n  /**\n   * Add downhill to end section\n   */\n  private addDownhillToEnd(num: number = 200): void {\n    this.addRoad(num, num, num, -ROAD.CURVE.EASY, -this.lastY() / this.segmentLength);\n  }\n\n  /**\n   * Reset and rebuild road\n   */\n  reset(track: number = 0, playerZ: number): void {\n    this.segments = [];\n\n    // Build track based on track number\n    switch (track) {\n      case 1: // Speed Circuit - Fast track with long straights\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.LOW);\n        this.addStraight(ROAD.LENGTH.LONG);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.LONG * 2);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addStraight(ROAD.LENGTH.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 2: // Mountain Pass - Challenging hills and curves\n        this.addHill(ROAD.LENGTH.SHORT, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.HIGH);\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.MEDIUM);\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.EASY, -ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addHill(ROAD.LENGTH.SHORT, -ROAD.HILL.MEDIUM);\n        this.addDownhillToEnd();\n        break;\n\n      case 3: // Technical Circuit - Lots of curves\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addCurve(ROAD.LENGTH.MEDIUM, -ROAD.CURVE.HARD, ROAD.HILL.NONE);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.SHORT, ROAD.CURVE.EASY, ROAD.HILL.LOW);\n        this.addCurve(ROAD.LENGTH.SHORT, -ROAD.CURVE.EASY, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addSCurves();\n        this.addDownhillToEnd();\n        break;\n\n      default: // Track 0 - Original balanced track\n        this.addStraight(ROAD.LENGTH.SHORT);\n        this.addLowRollingHills();\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.MEDIUM, ROAD.CURVE.MEDIUM, ROAD.HILL.LOW);\n        this.addBumps();\n        this.addLowRollingHills();\n        this.addCurve(ROAD.LENGTH.LONG * 2, ROAD.CURVE.MEDIUM, ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addHill(ROAD.LENGTH.MEDIUM, ROAD.HILL.HIGH);\n        this.addSCurves();\n        this.addCurve(ROAD.LENGTH.LONG, -ROAD.CURVE.MEDIUM, ROAD.HILL.NONE);\n        this.addHill(ROAD.LENGTH.LONG, ROAD.HILL.HIGH);\n        this.addCurve(ROAD.LENGTH.LONG, ROAD.CURVE.MEDIUM, -ROAD.HILL.LOW);\n        this.addBumps();\n        this.addHill(ROAD.LENGTH.LONG, -ROAD.HILL.MEDIUM);\n        this.addStraight();\n        this.addSCurves();\n        this.addDownhillToEnd();\n    }\n\n    this.resetSprites();\n\n    // Mark start and finish lines\n    const playerSegment = this.findSegment(playerZ);\n    this.segments[playerSegment.index + 2].color = COLORS.START;\n    this.segments[playerSegment.index + 3].color = COLORS.START;\n\n    for (let n = 0; n < this.rumbleLength; n++) {\n      this.segments[this.segments.length - 1 - n].color = COLORS.FINISH;\n    }\n\n    this.trackLength = this.segments.length * this.segmentLength;\n  }\n\n  /**\n   * Reset sprites on the track\n   */\n  private resetSprites(): void {\n    // Clear billboard tracking\n    this.billboardPlacements.clear();\n    this.billboardImpressions.clear();\n    this.billboardInstances.clear();\n    this.nextBillboardId = 0;\n\n    // Add billboards and plants randomly\n    for (let n = 20; n < this.segments.length - 50; n += 60) {\n      const billboard = MathUtils.randomChoice([...SPRITES.BILLBOARDS]);\n      const billboardName = this.getBillboardName(billboard);\n\n      // Track billboard placement\n      if (billboardName) {\n        const current = this.billboardPlacements.get(billboardName) || 0;\n        this.billboardPlacements.set(billboardName, current + 1);\n      }\n\n      this.addSprite(\n        n + MathUtils.randomInt(0, 50),\n        billboard,\n        MathUtils.randomChoice([1, -1, 1.1, -1.1, 1.2, -1.2])\n      );\n\n      for (let i = 0; i < 20; i++) {\n        this.addSprite(\n          n + MathUtils.randomInt(0, 50),\n          MathUtils.randomChoice([...SPRITES.PLANTS]),\n          MathUtils.randomChoice([1.1, -1.1]) * (1 + Math.random())\n        );\n      }\n    }\n\n    // Add plants along the track\n    for (let n = 10; n < this.segments.length; n += 3 + Math.floor(n / 100)) {\n      this.addSprite(\n        n,\n        MathUtils.randomChoice([...SPRITES.PLANTS]),\n        MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5)\n      );\n    }\n\n    // Add columns randomly\n    for (let n = 120; n < this.segments.length; n += 30 + Math.floor(n / 20)) {\n      this.addSprite(n, SPRITES.COLUMN, MathUtils.randomChoice([1, -1]) * (1 + Math.random() * 5));\n    }\n\n    // Add coins in lanes\n    const LANE_POSITIONS = [-0.5, 0, 0.5];\n    for (let n = 0; n < this.segments.length; n += 30) {\n      this.addSprite(n, SPRITES.COIN, MathUtils.randomChoice(LANE_POSITIONS));\n    }\n  }\n\n  /**\n   * Remove all coins from the track\n   */\n  removeAllCoins(): void {\n    for (const segment of this.segments) {\n      segment.sprites = segment.sprites.filter((sprite) => sprite.source !== SPRITES.COIN);\n    }\n  }\n\n  /**\n   * Reset cars on the track\n   */\n  resetCars(totalCars: number, maxSpeed: number): Car[] {\n    // Clear existing cars from segments\n    for (const segment of this.segments) {\n      segment.cars = [];\n    }\n\n    const cars: Car[] = [];\n\n    for (let n = 0; n < totalCars; n++) {\n      const offset = Math.random() * MathUtils.randomChoice([-0.8, 0.8]);\n      const z = Math.floor(Math.random() * this.segments.length) * this.segmentLength;\n      const sprite = MathUtils.randomChoice([...SPRITES.CARS]);\n      const speed = maxSpeed / 4 + (Math.random() * maxSpeed) / (sprite === SPRITES.SEMI ? 4 : 2);\n\n      const car: Car = {\n        offset,\n        z,\n        sprite,\n        speed,\n        percent: MathUtils.percentRemaining(z, this.segmentLength),\n      };\n      const segment = this.findSegment(car.z);\n      segment.cars.push(car);\n      cars.push(car);\n    }\n\n    return cars;\n  }\n\n  /**\n   * Get billboard name from sprite object\n   */\n  getBillboardName(sprite: Sprite): string | null {\n    // Check each billboard sprite to find which one matches\n    if (sprite === SPRITES.BILLBOARD01) return 'BILLBOARD01';\n    if (sprite === SPRITES.BILLBOARD02) return 'BILLBOARD02';\n    if (sprite === SPRITES.BILLBOARD03) return 'BILLBOARD03';\n    if (sprite === SPRITES.BILLBOARD04) return 'BILLBOARD04';\n    if (sprite === SPRITES.BILLBOARD05) return 'BILLBOARD05';\n    if (sprite === SPRITES.BILLBOARD06) return 'BILLBOARD06';\n    if (sprite === SPRITES.BILLBOARD07) return 'BILLBOARD07';\n    if (sprite === SPRITES.BILLBOARD08) return 'BILLBOARD08';\n    if (sprite === SPRITES.BILLBOARD09) return 'BILLBOARD09';\n    return null;\n  }\n}\n","import type { Car, RoadSegment, InputState } from '../types';\nimport { SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Physics and collision engine for 3D car racing game\n * Optimized for performance with spatial optimizations\n */\nexport class PhysicsEngine {\n  private maxSpeed: number;\n  private accel: number;\n  private breaking: number;\n  private decel: number;\n  private offRoadDecel: number;\n  private offRoadLimit: number;\n  private centrifugal: number;\n  private trackLength: number;\n\n  constructor(config: {\n    maxSpeed: number;\n    accel: number;\n    breaking: number;\n    decel: number;\n    offRoadDecel: number;\n    offRoadLimit: number;\n    centrifugal: number;\n    trackLength: number;\n  }) {\n    this.maxSpeed = config.maxSpeed;\n    this.accel = config.accel;\n    this.breaking = config.breaking;\n    this.decel = config.decel;\n    this.offRoadDecel = config.offRoadDecel;\n    this.offRoadLimit = config.offRoadLimit;\n    this.centrifugal = config.centrifugal;\n    this.trackLength = config.trackLength;\n  }\n\n  /**\n   * Update track length\n   */\n  updateTrackLength(trackLength: number): void {\n    this.trackLength = trackLength;\n  }\n\n  /**\n   * Update player physics\n   */\n  updatePlayer(\n    playerX: number,\n    speed: number,\n    position: number,\n    inputState: InputState,\n    playerSegment: RoadSegment,\n    dt: number,\n    _findSegment: (z: number) => RoadSegment,\n    //roadWidth: number = 2000,\n    canvasWidth: number = 720,\n    canvasHeight: number = 960\n  ): {\n    playerX: number;\n    speed: number;\n    position: number;\n    pointsEarned: number;\n    crashed: boolean;\n    coinCollected?: { x: number; y: number };\n    crashPosition?: { x: number; y: number };\n  } {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n    const speedPercent = speed / this.maxSpeed;\n    const dx = dt * 2 * speedPercent;\n    let pointsEarned = 0;\n    let crashed = false;\n\n    // Handle movement\n    if (inputState.left) {\n      playerX = playerX - dx;\n    } else if (inputState.right) {\n      playerX = playerX + dx;\n    }\n\n    // Apply centrifugal force\n    playerX = playerX - dx * speedPercent * playerSegment.curve * this.centrifugal;\n\n    // Handle acceleration/deceleration\n    if (inputState.faster) {\n      speed = MathUtils.accelerate(speed, this.accel, dt);\n    } else if (inputState.slower) {\n      speed = MathUtils.accelerate(speed, this.breaking, dt);\n    } else {\n      speed = MathUtils.accelerate(speed, this.decel, dt);\n    }\n\n    // Handle off-road physics and sprite collisions\n    if (playerX < -1 || playerX > 1) {\n      if (speed > this.offRoadLimit) {\n        speed = MathUtils.accelerate(speed, this.offRoadDecel, dt);\n      }\n\n      // Check sprite collisions\n      for (const sprite of playerSegment.sprites) {\n        const spriteW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (spriteW / 2) * (sprite.offset > 0 ? 1 : -1),\n            spriteW\n          )\n        ) {\n          speed = this.maxSpeed / 5;\n          position = MathUtils.increase(playerSegment.p1.world.z, -playerW, this.trackLength);\n          break;\n        }\n      }\n    }\n\n    // Handle coin collection\n    let coinCollected: { x: number; y: number } | undefined;\n    for (let i = playerSegment.sprites.length - 1; i >= 0; i--) {\n      const sprite = playerSegment.sprites[i];\n      if (sprite.source === SPRITES.COIN) {\n        const coinW = sprite.source.w * SPRITES.SCALE;\n        if (\n          MathUtils.overlap(\n            playerX,\n            playerW,\n            sprite.offset + (coinW / 10) * (sprite.offset > 0 ? 1 : -1),\n            coinW\n          )\n        ) {\n          // Store coin position for animation\n          // Since we're in the physics update, screen coordinates might not be available\n          // We'll use a simple approximation based on player position\n          coinCollected = {\n            x: canvasWidth / 2 + sprite.offset * canvasWidth * 0.3, // Approximate screen position\n            y: canvasHeight / 2 - 100, // Slightly above center\n          };\n          // Remove coin\n          playerSegment.sprites.splice(i, 1);\n          // Award points based on speed\n          pointsEarned = Math.round(speed / 1000);\n        }\n      }\n    }\n\n    // Handle car collisions\n    let crashPosition: { x: number; y: number } | undefined;\n    for (const car of playerSegment.cars) {\n      const carW = car.sprite.w * SPRITES.SCALE;\n      if (speed > car.speed) {\n        if (MathUtils.overlap(playerX, playerW, car.offset, carW, 0.6)) {\n          speed = car.speed * (car.speed / speed);\n          position = MathUtils.increase(car.z, -playerW, this.trackLength);\n          pointsEarned = -3; // Crash penalty\n          crashed = true;\n          // Store crash position for animation\n          crashPosition = {\n            x: canvasWidth / 2 + car.offset * canvasWidth * 0.3, // Approximate position of collision\n            y: canvasHeight / 2 - 50, // Slightly above center\n          };\n          break;\n        }\n      }\n    }\n\n    // Clamp values\n    playerX = MathUtils.limit(playerX, -3, 3);\n    speed = MathUtils.limit(speed, 0, this.maxSpeed);\n\n    return {\n      playerX,\n      speed,\n      position,\n      pointsEarned,\n      crashed,\n      coinCollected,\n      crashPosition,\n    };\n  }\n\n  /**\n   * Update all cars with optimized AI\n   */\n  updateCars(\n    cars: Car[],\n    dt: number,\n    playerSegment: RoadSegment,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    findSegment: (z: number) => RoadSegment,\n    segments: RoadSegment[]\n  ): void {\n    const playerW = SPRITES.PLAYER_STRAIGHT.w * SPRITES.SCALE;\n\n    for (const car of cars) {\n      const oldSegment = findSegment(car.z);\n\n      // Update car position\n      car.z = MathUtils.increase(car.z, dt * car.speed, this.trackLength);\n      car.percent = MathUtils.percentRemaining(car.z, 200); // segmentLength\n\n      // Update car offset (AI steering)\n      car.offset += this.updateCarOffset(\n        car,\n        oldSegment,\n        playerSegment,\n        playerW,\n        playerX,\n        playerSpeed,\n        drawDistance,\n        segments\n      );\n\n      // Move car to new segment if needed\n      const newSegment = findSegment(car.z);\n      if (oldSegment !== newSegment) {\n        const index = oldSegment.cars.indexOf(car);\n        if (index !== -1) {\n          oldSegment.cars.splice(index, 1);\n          newSegment.cars.push(car);\n        }\n      }\n    }\n  }\n\n  /**\n   * Calculate car AI steering offset\n   */\n  private updateCarOffset(\n    car: Car,\n    carSegment: RoadSegment,\n    playerSegment: RoadSegment,\n    playerW: number,\n    playerX: number,\n    playerSpeed: number,\n    drawDistance: number,\n    segments: RoadSegment[]\n  ): number {\n    const lookahead = 20;\n    const carW = car.sprite.w * SPRITES.SCALE;\n\n    // Optimization: don't calculate AI for cars far from player\n    if (carSegment.index - playerSegment.index > drawDistance) {\n      return 0;\n    }\n\n    // Look ahead for obstacles\n    for (let i = 1; i < lookahead; i++) {\n      const segment = segments[(carSegment.index + i) % segments.length];\n\n      // Avoid player\n      if (\n        segment === playerSegment &&\n        car.speed > playerSpeed &&\n        MathUtils.overlap(playerX, playerW, car.offset, carW, 1.2)\n      ) {\n        const dir = this.calculateAvoidanceDirection(playerX, car.offset);\n        return (((dir * 1) / i) * (car.speed - playerSpeed)) / this.maxSpeed;\n      }\n\n      // Avoid other cars\n      for (const otherCar of segment.cars) {\n        const otherCarW = otherCar.sprite.w * SPRITES.SCALE;\n        if (\n          car.speed > otherCar.speed &&\n          MathUtils.overlap(car.offset, carW, otherCar.offset, otherCarW, 1.2)\n        ) {\n          const dir = this.calculateAvoidanceDirection(otherCar.offset, car.offset);\n          return (((dir * 1) / i) * (car.speed - otherCar.speed)) / this.maxSpeed;\n        }\n      }\n    }\n\n    // Return to road if off-road\n    if (car.offset < -0.9) return 0.1;\n    else if (car.offset > 0.9) return -0.1;\n    else return 0;\n  }\n\n  /**\n   * Calculate direction to avoid obstacle\n   */\n  private calculateAvoidanceDirection(obstacleX: number, carX: number): number {\n    if (obstacleX > 0.5) return -1;\n    else if (obstacleX < -0.5) return 1;\n    else return carX > obstacleX ? 1 : -1;\n  }\n\n  /**\n   * Update background scroll offsets\n   */\n  updateScrollOffsets(\n    skyOffset: number,\n    hillOffset: number,\n    treeOffset: number,\n    playerSegment: RoadSegment,\n    startPosition: number,\n    position: number,\n    segmentLength: number,\n    skySpeed: number,\n    hillSpeed: number,\n    treeSpeed: number\n  ): { skyOffset: number; hillOffset: number; treeOffset: number } {\n    const deltaPosition = position - startPosition;\n\n    skyOffset = MathUtils.increase(\n      skyOffset,\n      (skySpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    hillOffset = MathUtils.increase(\n      hillOffset,\n      (hillSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n    treeOffset = MathUtils.increase(\n      treeOffset,\n      (treeSpeed * playerSegment.curve * deltaPosition) / segmentLength,\n      1\n    );\n\n    return { skyOffset, hillOffset, treeOffset };\n  }\n}\n","import type { Sprite, BackgroundLayer, RoadSegment, CoinAnimation, CrashAnimation } from '../types';\nimport { COLORS, SPRITES } from '../constants';\nimport { MathUtils } from '../utils/math';\n\n/**\n * Optimized rendering engine for 3D car racing game\n */\nexport class RenderEngine {\n  private ctx: CanvasRenderingContext2D;\n  private width: number;\n  private height: number;\n  public resolution: number;\n  private cameraDepth: number = 0.84; // Default camera depth\n\n  constructor(ctx: CanvasRenderingContext2D, width: number, height: number) {\n    this.ctx = ctx;\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Set camera depth for visibility calculations\n   */\n  setCameraDepth(depth: number): void {\n    this.cameraDepth = depth;\n  }\n\n  /**\n   * Update canvas dimensions\n   */\n  updateDimensions(width: number, height: number): void {\n    this.width = width;\n    this.height = height;\n    this.resolution = height / 480;\n  }\n\n  /**\n   * Clear the canvas\n   */\n  clear(): void {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  /**\n   * Draw a polygon\n   * Optimized to reduce canvas state changes\n   */\n  private polygon(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    x3: number,\n    y3: number,\n    x4: number,\n    y4: number,\n    color: string\n  ): void {\n    this.ctx.fillStyle = color;\n    this.ctx.beginPath();\n    this.ctx.moveTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.lineTo(x3, y3);\n    this.ctx.lineTo(x4, y4);\n    this.ctx.closePath();\n    this.ctx.fill();\n  }\n\n  /**\n   * Draw a road segment\n   */\n  segment(\n    lanes: number,\n    x1: number,\n    y1: number,\n    w1: number,\n    x2: number,\n    y2: number,\n    w2: number,\n    fog: number,\n    color: { grass: string; rumble: string; road: string; lane?: string }\n  ): void {\n    const r1 = this.rumbleWidth(w1, lanes);\n    const r2 = this.rumbleWidth(w2, lanes);\n    const l1 = this.laneMarkerWidth(w1, lanes);\n    const l2 = this.laneMarkerWidth(w2, lanes);\n\n    // Grass\n    this.ctx.fillStyle = color.grass;\n    this.ctx.fillRect(0, y2, this.width, y1 - y2);\n\n    // Rumble strips\n    this.polygon(x1 - w1 - r1, y1, x1 - w1, y1, x2 - w2, y2, x2 - w2 - r2, y2, color.rumble);\n    this.polygon(x1 + w1 + r1, y1, x1 + w1, y1, x2 + w2, y2, x2 + w2 + r2, y2, color.rumble);\n\n    // Road\n    this.polygon(x1 - w1, y1, x1 + w1, y1, x2 + w2, y2, x2 - w2, y2, color.road);\n\n    // Lane markers\n    if (color.lane) {\n      const lanew1 = (w1 * 2) / lanes;\n      const lanew2 = (w2 * 2) / lanes;\n      let lanex1 = x1 - w1 + lanew1;\n      let lanex2 = x2 - w2 + lanew2;\n\n      for (let lane = 1; lane < lanes; lane++) {\n        this.polygon(\n          lanex1 - l1 / 2,\n          y1,\n          lanex1 + l1 / 2,\n          y1,\n          lanex2 + l2 / 2,\n          y2,\n          lanex2 - l2 / 2,\n          y2,\n          color.lane\n        );\n        lanex1 += lanew1;\n        lanex2 += lanew2;\n      }\n    }\n\n    // Fog\n    this.fog(0, y1, this.width, y2 - y1, fog);\n  }\n\n  /**\n   * Draw background layer\n   * Optimized for seamless scrolling\n   */\n  background(\n    background: HTMLImageElement,\n    layer: BackgroundLayer,\n    rotation: number,\n    offset: number\n  ): void {\n    rotation = rotation || 0;\n    offset = offset || 0;\n\n    const imageW = layer.w / 2;\n    const imageH = layer.h;\n\n    const sourceX = layer.x + (Math.floor(layer.w * rotation) % layer.w);\n    const sourceY = layer.y;\n    const sourceW = Math.min(imageW, layer.w - (sourceX - layer.x));\n    const sourceH = imageH;\n\n    const destX = 0;\n    const destY = Math.floor(offset);\n    const destW = Math.floor(this.width * (sourceW / imageW));\n    const destH = this.height;\n\n    // Draw main portion\n    this.ctx.drawImage(background, sourceX, sourceY, sourceW, sourceH, destX, destY, destW, destH);\n\n    // Draw wrapped portion for seamless scrolling\n    if (sourceW < imageW) {\n      this.ctx.drawImage(\n        background,\n        layer.x,\n        sourceY,\n        imageW - sourceW,\n        sourceH,\n        destW - 1,\n        destY,\n        this.width - destW,\n        destH\n      );\n    }\n  }\n\n  /**\n   * Draw a sprite\n   * Optimized with clipping support\n   */\n  sprite(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    sprite: Sprite,\n    scale: number,\n    destX: number,\n    destY: number,\n    offsetX: number = 0,\n    offsetY: number = 0,\n    clipY?: number\n  ): void {\n    const destW = ((sprite.w * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n    const destH = ((sprite.h * scale * this.width) / 2) * (SPRITES.SCALE * roadWidth);\n\n    destX = destX + destW * offsetX;\n    destY = destY + destH * offsetY;\n\n    const clipH = clipY ? Math.max(0, destY + destH - clipY) : 0;\n\n    if (clipH < destH) {\n      this.ctx.drawImage(\n        sprites,\n        sprite.x,\n        sprite.y,\n        sprite.w,\n        sprite.h - (sprite.h * clipH) / destH,\n        destX,\n        destY,\n        destW,\n        destH - clipH\n      );\n    }\n  }\n\n  /**\n   * Draw the player car\n   * Includes bounce effect based on speed\n   */\n  player(\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    speedPercent: number,\n    scale: number,\n    destX: number,\n    destY: number,\n    steer: number,\n    updown: number\n  ): void {\n    const bounce =\n      1.5 * Math.random() * speedPercent * this.resolution * MathUtils.randomChoice([-1, 1]);\n\n    let sprite: Sprite;\n    if (steer < 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_LEFT : SPRITES.PLAYER_LEFT;\n    } else if (steer > 0) {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_RIGHT : SPRITES.PLAYER_RIGHT;\n    } else {\n      sprite = updown > 0 ? SPRITES.PLAYER_UPHILL_STRAIGHT : SPRITES.PLAYER_STRAIGHT;\n    }\n\n    this.sprite(roadWidth, sprites, sprite, scale, destX, destY + bounce, -0.5, -1);\n  }\n\n  /**\n   * Draw fog effect\n   * Optimized to skip when fog is minimal\n   */\n  private fog(x: number, y: number, width: number, height: number, fog: number): void {\n    if (fog < 1 && fog > 0.01) {\n      this.ctx.globalAlpha = 1 - fog;\n      this.ctx.fillStyle = COLORS.FOG;\n      this.ctx.fillRect(x, y, width, height);\n      this.ctx.globalAlpha = 1;\n    }\n  }\n\n  /**\n   * Calculate rumble width\n   */\n  private rumbleWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(6, 2 * lanes);\n  }\n\n  /**\n   * Calculate lane marker width\n   */\n  private laneMarkerWidth(projectedRoadWidth: number, lanes: number): number {\n    return projectedRoadWidth / Math.max(32, 8 * lanes);\n  }\n\n  /**\n   * Batch render cars for performance\n   */\n  renderCars(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Batch render sprites for performance\n   */\n  renderSprites(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render all objects (sprites and cars) in correct z-order\n   */\n  renderObjects(\n    segments: RoadSegment[],\n    baseSegmentIndex: number,\n    drawDistance: number,\n    roadWidth: number,\n    sprites: HTMLImageElement,\n    onBillboardRender?: (sprite: Sprite, segmentIndex: number, offset: number) => void\n  ): void {\n    // Render from back to front\n    for (let n = drawDistance - 1; n > 0; n--) {\n      const segment = segments[(baseSegmentIndex + n) % segments.length];\n\n      // Render sprites first (they are at the segment start position)\n      for (const sprite of segment.sprites) {\n        const spriteScale = segment.p1.screen.scale;\n        const spriteX =\n          segment.p1.screen.x + (spriteScale * sprite.offset * roadWidth * this.width) / 2;\n        const spriteY = segment.p1.screen.y;\n\n        // Check if sprite is visible (not clipped and within screen bounds)\n        if (segment.clip && segment.p1.camera.z > this.cameraDepth && spriteY < segment.clip) {\n          // Notify about billboard render if callback provided\n          if (onBillboardRender) {\n            onBillboardRender(sprite.source, segment.index, sprite.offset);\n          }\n        }\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          sprite.source,\n          spriteScale,\n          spriteX,\n          spriteY,\n          sprite.offset < 0 ? -1 : 0,\n          -1,\n          segment.clip\n        );\n      }\n\n      // Then render cars (they can be anywhere within the segment)\n      for (const car of segment.cars) {\n        const spriteScale = MathUtils.interpolate(\n          segment.p1.screen.scale,\n          segment.p2.screen.scale,\n          car.percent || 0\n        );\n        const spriteX =\n          MathUtils.interpolate(segment.p1.screen.x, segment.p2.screen.x, car.percent || 0) +\n          (spriteScale * car.offset * roadWidth * this.width) / 2;\n        const spriteY = MathUtils.interpolate(\n          segment.p1.screen.y,\n          segment.p2.screen.y,\n          car.percent || 0\n        );\n\n        this.sprite(\n          roadWidth,\n          sprites,\n          car.sprite,\n          spriteScale,\n          spriteX,\n          spriteY,\n          -0.5,\n          -1,\n          segment.clip\n        );\n      }\n    }\n  }\n\n  /**\n   * Render coin collection animations\n   */\n  renderCoinAnimations(animations: CoinAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Particle burst effect\n      const particleCount = 6;\n      const particleRadius = 3;\n      const burstRadius = 50 * progress;\n\n      ctx.globalAlpha = alpha * 0.8;\n      ctx.fillStyle = '#FFD700'; // Gold color\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius;\n        const y = anim.y + Math.sin(angle) * burstRadius;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"+X puntos\" text\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 24px Arial';\n      ctx.fillStyle = '#FFD700';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 3;\n\n      const text = `+${anim.points} puntos`;\n      const textY = anim.y - 30 * progress; // Float upward\n\n      ctx.strokeText(text, anim.x - 40, textY);\n      ctx.fillText(text, anim.x - 40, textY);\n    }\n\n    ctx.restore();\n  }\n\n  /**\n   * Render crash/collision animations\n   */\n  renderCrashAnimations(animations: CrashAnimation[], currentTime: number): void {\n    const ctx = this.ctx;\n    ctx.save();\n\n    for (const anim of animations) {\n      const elapsed = currentTime - anim.startTime;\n      const progress = Math.min(elapsed / 500, 1); // 0.5 second animation\n\n      if (progress >= 1) continue;\n\n      // Shake effect\n      const shakeX = (Math.random() - 0.5) * 10 * (1 - progress);\n      const shakeY = (Math.random() - 0.5) * 10 * (1 - progress);\n\n      // Fade out effect\n      const alpha = 1 - progress;\n\n      // Red explosion particles\n      const particleCount = 8;\n      const particleRadius = 4;\n      const burstRadius = 60 * progress;\n\n      ctx.globalAlpha = alpha * 0.9;\n\n      for (let i = 0; i < particleCount; i++) {\n        const angle = (i / particleCount) * Math.PI * 2;\n        const x = anim.x + Math.cos(angle) * burstRadius + shakeX;\n        const y = anim.y + Math.sin(angle) * burstRadius + shakeY;\n\n        // Red to orange gradient\n        const color = i % 2 === 0 ? '#FF0000' : '#FF6600';\n        ctx.fillStyle = color;\n\n        ctx.beginPath();\n        ctx.arc(x, y, particleRadius * (1 - progress * 0.5), 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // \"-3 puntos\" text with shake\n      ctx.globalAlpha = alpha;\n      ctx.font = 'bold 28px Arial';\n      ctx.fillStyle = '#FF0000';\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 4;\n\n      const text = '-3 puntos';\n      const textX = anim.x - 50 + shakeX;\n      const textY = anim.y - 20 * progress + shakeY; // Float upward\n\n      ctx.strokeText(text, textX, textY);\n      ctx.fillText(text, textX, textY);\n\n      // Impact flash effect\n      if (progress < 0.1) {\n        ctx.globalAlpha = (1 - progress * 10) * 0.5;\n        ctx.fillStyle = '#FFFFFF';\n        ctx.beginPath();\n        ctx.arc(anim.x, anim.y, 50, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    }\n\n    ctx.restore();\n  }\n}\n","import { MathUtils } from '../utils/math';\n\n/**\n * Optimized game loop with fixed timestep and frame rate management\n */\nexport class GameLoop {\n  private isRunning = false;\n  private animationFrameId: number | null = null;\n  private lastTimestamp = 0;\n  private accumulator = 0;\n  private readonly targetFps: number;\n  private readonly fixedTimeStep: number;\n  private readonly maxFrameTime: number;\n\n  // Performance monitoring\n  private frameCount = 0;\n  private lastFpsUpdate = 0;\n  private currentFps = 0;\n\n  constructor(\n    private update: (dt: number) => void,\n    private render: (interpolation: number) => void,\n    fps: number = 60\n  ) {\n    this.targetFps = fps;\n    this.fixedTimeStep = 1 / fps;\n    this.maxFrameTime = this.fixedTimeStep * 5; // Prevent spiral of death\n  }\n\n  /**\n   * Start the game loop\n   */\n  start(): void {\n    if (this.isRunning) return;\n\n    this.isRunning = true;\n    this.lastTimestamp = MathUtils.timestamp();\n    this.accumulator = 0;\n    this.loop();\n  }\n\n  /**\n   * Stop the game loop\n   */\n  stop(): void {\n    this.isRunning = false;\n    if (this.animationFrameId !== null) {\n      cancelAnimationFrame(this.animationFrameId);\n      this.animationFrameId = null;\n    }\n  }\n\n  /**\n   * Get current FPS\n   */\n  getFps(): number {\n    return this.currentFps;\n  }\n\n  /**\n   * Main game loop with fixed timestep\n   */\n  private loop = (): void => {\n    if (!this.isRunning) return;\n\n    const currentTime = MathUtils.timestamp();\n    let frameTime = (currentTime - this.lastTimestamp) / 1000;\n\n    // Prevent spiral of death by capping frame time\n    frameTime = Math.min(frameTime, this.maxFrameTime);\n    this.lastTimestamp = currentTime;\n    this.accumulator += frameTime;\n\n    // Fixed timestep updates\n    while (this.accumulator >= this.fixedTimeStep) {\n      this.update(this.fixedTimeStep);\n      this.accumulator -= this.fixedTimeStep;\n    }\n\n    // Calculate interpolation for smooth rendering\n    const interpolation = this.accumulator / this.fixedTimeStep;\n\n    // Render with interpolation\n    this.render(interpolation);\n\n    // Update FPS counter\n    this.updateFpsCounter();\n\n    // Schedule next frame\n    this.animationFrameId = requestAnimationFrame(this.loop);\n  };\n\n  /**\n   * Update FPS counter\n   */\n  private updateFpsCounter(): void {\n    this.frameCount++;\n    const now = MathUtils.timestamp();\n\n    if (now - this.lastFpsUpdate >= 1000) {\n      this.currentFps = Math.round((this.frameCount * 1000) / (now - this.lastFpsUpdate));\n      this.frameCount = 0;\n      this.lastFpsUpdate = now;\n    }\n  }\n}\n\n/**\n * Image loader utility for game assets\n */\nexport class ImageLoader {\n  /**\n   * Load multiple images and return them when all are loaded\n   */\n  static async loadImages(\n    names: string[],\n    basePath: string,\n    skin: string = 'default'\n  ): Promise<HTMLImageElement[]> {\n    const promises = names.map((name) => this.loadSingleImage(name, basePath, skin));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Load a single image\n   */\n  private static loadSingleImage(\n    name: string,\n    basePath: string,\n    skin: string\n  ): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = () => reject(new Error(`Failed to load image: ${name}`));\n\n      if (skin === 'default') {\n        img.src = `${basePath}/${name}.webp`;\n      } else {\n        img.src = `${basePath}/skins/${skin}/${name}.webp`;\n      }\n    });\n  }\n}\n\n/**\n * Input manager for keyboard and touch events\n */\nexport class InputManager {\n  private keys: { [key: number]: boolean } = {};\n  private keyHandlers: Array<{\n    keys: number[];\n    mode: 'up' | 'down';\n    action: () => void;\n  }> = [];\n\n  constructor() {\n    this.setupKeyboardListeners();\n  }\n\n  /**\n   * Setup keyboard event listeners\n   */\n  private setupKeyboardListeners(): void {\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Cleanup event listeners\n   */\n  destroy(): void {\n    document.removeEventListener('keydown', this.handleKeyDown);\n    document.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  /**\n   * Register key handlers\n   */\n  setKeyHandlers(\n    handlers: Array<{\n      keys: number[];\n      mode: 'up' | 'down';\n      action: () => void;\n    }>\n  ): void {\n    this.keyHandlers = handlers;\n  }\n\n  /**\n   * Check if key is pressed\n   */\n  isKeyPressed(keyCode: number): boolean {\n    return this.keys[keyCode] || false;\n  }\n\n  /**\n   * Handle key down events\n   */\n  private handleKeyDown = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = true;\n    this.triggerKeyHandlers(event.keyCode, 'down');\n\n    // Prevent default for game keys\n    const gameKeys = [37, 38, 39, 40]; // Arrow keys\n    if (gameKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * Handle key up events\n   */\n  private handleKeyUp = (event: KeyboardEvent): void => {\n    this.keys[event.keyCode] = false;\n    this.triggerKeyHandlers(event.keyCode, 'up');\n  };\n\n  /**\n   * Trigger registered key handlers\n   */\n  private triggerKeyHandlers(keyCode: number, mode: 'up' | 'down'): void {\n    for (const handler of this.keyHandlers) {\n      if (handler.mode === mode && handler.keys.includes(keyCode)) {\n        handler.action();\n      }\n    }\n  }\n\n  /**\n   * Setup touch controls for mobile\n   */\n  setupTouchControls(_isMobile: boolean): void {\n    // Touch controls are now handled directly through the game component\n    // This method is kept for compatibility but doesn't need to do anything\n  }\n\n  /**\n   * Get key code for touch direction\n   */\n  private getKeyCodeForDirection(direction: string): number {\n    switch (direction) {\n      case 'left':\n        return 37;\n      case 'up':\n        return 38;\n      case 'right':\n        return 39;\n      case 'down':\n        return 40;\n      default:\n        return 0;\n    }\n  }\n}\n","//Funcion para determinar si el usuario esta en un dispositivo movil\nexport const isMobile = () => {\n  if (typeof window !== 'undefined') {\n    const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n    const isMobileWidth = window.matchMedia('only screen and (max-width: 768px)').matches;\n    const moreThanOneTouchPoint = navigator.maxTouchPoints > 1; //cuantos puntos de contacto tiene el dispositivo\n    return isMobileWidth && isMobileUserAgent && moreThanOneTouchPoint;\n  }\n  return false;\n};\n","import React from 'react';\nimport type { HudState } from '../types';\n\ninterface HUDProps {\n  currentLap: number;\n  availableLaps: number;\n  points: number;\n  hud: HudState;\n  gameState: 'playing' | 'paused' | 'gameover' | 'loading' | 'ready';\n}\n\nexport const HUD: React.FC<HUDProps> = ({ currentLap, availableLaps, points, hud, gameState }) => {\n  /**\n   * Calculate speedometer rotation\n   */\n  const getSpeedometerRotation = () => {\n    const speed = parseInt(hud.speed || '0') || 0;\n    // Rotate needle between -90 and 90 degrees based on speed\n    return (speed / 100) * 180 - 90;\n  };\n\n  if (gameState !== 'playing' && gameState !== 'paused' && gameState !== 'loading') {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Top HUD */}\n      <div className=\"hud-top\">\n        {/* Lap Counter */}\n        <span className=\"hud-lap-counter\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/flag-laps.webp\" alt=\"laps\" />\n          <span className=\"hud-lap-text\">\n            {currentLap}/{availableLaps}\n          </span>\n        </span>\n\n        {/* Lap Time */}\n        <span className=\"hud-time\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/cronometer.webp\" alt=\"time\" />\n          <span className=\"hud-lap-text\">{hud.current_lap_time}</span>\n        </span>\n\n        {/* Points */}\n        <span className=\"hud-score\">\n          <img className=\"hud-lap-icon\" src=\"/games/racing/images/coin.webp\" alt=\"points\" />\n          <span className=\"hud-score-value\">{points}</span>\n        </span>\n      </div>\n\n      {/* Bottom HUD - Speedometer */}\n      <div className=\"hud-bottom\">\n        <div className=\"hud-speed\">\n          <svg className=\"hud-speedometer\" viewBox=\"0 0 200 200\">\n            {/* Background circle */}\n            <circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"#444\" strokeWidth=\"2\" />\n            {/* Speedometer arc */}\n            <path d=\"M 30 170 A 85 85 0 0 1 170 170\" fill=\"none\" stroke=\"#888\" strokeWidth=\"8\" />\n            {/* Speed markers */}\n            {[0, 25, 50, 75, 100].map((speed, i) => {\n              const angle = ((i * 180) / 4 - 90) * (Math.PI / 180);\n              const x1 = 100 + 70 * Math.cos(angle);\n              const y1 = 100 + 70 * Math.sin(angle);\n              const x2 = 100 + 80 * Math.cos(angle);\n              const y2 = 100 + 80 * Math.sin(angle);\n              return (\n                <line key={speed} x1={x1} y1={y1} x2={x2} y2={y2} stroke=\"#ccc\" strokeWidth=\"2\" />\n              );\n            })}\n            {/* Speed needle */}\n            <line\n              x1=\"100\"\n              y1=\"100\"\n              x2={100 + 65 * Math.cos((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              y2={100 + 65 * Math.sin((getSpeedometerRotation() - 90) * (Math.PI / 180))}\n              stroke=\"#ff4444\"\n              strokeWidth=\"4\"\n              strokeLinecap=\"round\"\n            />\n            {/* Center dot */}\n            <circle cx=\"100\" cy=\"100\" r=\"5\" fill=\"#ff4444\" />\n          </svg>\n          {/* Speed value */}\n          <div className=\"hud-speed-text\">{hud.speed} mph</div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\ninterface BillboardStatsProps {\n  getBillboardStats: () => {\n    placements: Record<string, number>;\n    impressions: Record<string, number>;\n    maxPossibleImpressions: Record<string, number>;\n    trackLength: number;\n    totalSegments: number;\n    totalLaps: number;\n  } | null;\n  isVisible?: boolean;\n}\n\nexport const BillboardStats: React.FC<BillboardStatsProps> = ({\n  getBillboardStats,\n  isVisible = false,\n}) => {\n  const [stats, setStats] = useState<ReturnType<typeof getBillboardStats>>(null);\n\n  useEffect(() => {\n    if (isVisible) {\n      const interval = setInterval(() => {\n        const newStats = getBillboardStats();\n        if (newStats) {\n          setStats(newStats);\n        }\n      }, 1000); // Update every second\n\n      return () => clearInterval(interval);\n    }\n  }, [getBillboardStats, isVisible]);\n\n  if (!isVisible || !stats) return null;\n\n  const billboards = Object.keys(stats.placements).sort();\n\n  return (\n    <div className=\"billboard-stats\">\n      <h4 className=\"billboard-title\">Billboard Analytics</h4>\n      <div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Track:</span>\n          <span className=\"billboard-stat-value\">{stats.trackLength}m</span>\n        </div>\n        <div className=\"billboard-stat\">\n          <span className=\"billboard-stat-label\">Laps:</span>\n          <span className=\"billboard-stat-value\">{stats.totalLaps}</span>\n        </div>\n      </div>\n      <table style={{ width: '100%', fontSize: '0.75rem' }}>\n        <thead>\n          <tr style={{ borderBottom: '1px solid #4b5563' }}>\n            <th style={{ textAlign: 'left', paddingBottom: '0.125rem' }}>Billboard</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Placed</th>\n            <th style={{ textAlign: 'center', paddingBottom: '0.125rem' }}>Shown</th>\n            <th style={{ textAlign: 'right', paddingBottom: '0.125rem' }}>%</th>\n          </tr>\n        </thead>\n        <tbody>\n          {billboards.map((billboard) => {\n            const placed = stats.placements[billboard] || 0;\n            const shown = stats.impressions[billboard] || 0;\n            const maxPossible = stats.maxPossibleImpressions[billboard] || 0;\n            const percentage = maxPossible > 0 ? ((shown / maxPossible) * 100).toFixed(0) : '0';\n\n            return (\n              <tr key={billboard} style={{ borderBottom: '1px solid #374151' }}>\n                <td\n                  style={{\n                    paddingTop: '0.125rem',\n                    paddingBottom: '0.125rem',\n                    fontSize: '0.625rem',\n                  }}\n                >\n                  {billboard.replace('BILLBOARD', 'B')}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {placed}\n                </td>\n                <td\n                  style={{ textAlign: 'center', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {shown}\n                </td>\n                <td\n                  style={{ textAlign: 'right', paddingTop: '0.125rem', paddingBottom: '0.125rem' }}\n                >\n                  {percentage}%\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n        <tfoot>\n          <tr style={{ fontWeight: 'bold', borderTop: '1px solid #6b7280' }}>\n            <td style={{ paddingTop: '0.25rem', fontSize: '0.75rem' }}>TOTAL</td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.placements).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'center', paddingTop: '0.25rem' }}>\n              {Object.values(stats.impressions).reduce((a, b) => a + b, 0)}\n            </td>\n            <td style={{ textAlign: 'right', paddingTop: '0.25rem' }}>\n              {Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0) > 0\n                ? (\n                    (Object.values(stats.impressions).reduce((a, b) => a + b, 0) /\n                      Object.values(stats.maxPossibleImpressions).reduce((a, b) => a + b, 0)) *\n                    100\n                  ).toFixed(0)\n                : '0'}\n              %\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div style={{ marginTop: '0.25rem', fontSize: '0.625rem', color: '#9ca3af' }}>\n        <p>% = Shown vs Max Possible ({stats.totalLaps} laps)</p>\n      </div>\n    </div>\n  );\n};\n","import React, { forwardRef } from 'react'\n\ninterface GameCanvasProps {\n\twidth: number\n\theight: number\n\tclassName?: string\n\tonClick?: () => void\n\tstyle?: React.CSSProperties\n}\n\nexport const GameCanvas = forwardRef<HTMLCanvasElement, GameCanvasProps>(\n\t({ width, height, className = '', onClick, style }, ref) => {\n\t\treturn (\n\t\t\t<div className=\"game-canvas-wrapper\">\n\t\t\t\t{/* Decorative corner accents */}\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-tr\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-bl\" />\n\t\t\t\t<div className=\"game-canvas-accent game-canvas-accent-br\" />\n\n\t\t\t\t{/* Canvas */}\n\t\t\t\t<canvas\n\t\t\t\t\tref={ref}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tclassName={`game-canvas ${className}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\timageRendering: 'pixelated',\n\t\t\t\t\t\t...style,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n)\n\nGameCanvas.displayName = 'GameCanvas'\n","import React from 'react'\n\ninterface GameControlsProps {\n\tonControl: (\n\t\tdirection: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2'\n\t) => void\n\tonControlEnd?: (\n\t\tdirection: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2'\n\t) => void\n\tbrandColor?: string\n\tshowActionButton?: boolean\n\tactionLabel?: string\n\tlayout?: 'dpad' | 'arrows' | 'horizontal' | 'racing'\n\tactionIcon?: React.ReactNode\n\taction2Label?: string\n\taction2Icon?: React.ReactNode\n}\n\nexport const GameControls: React.FC<GameControlsProps> = ({\n\tonControl,\n\tonControlEnd,\n\tshowActionButton = false,\n\tlayout = 'dpad',\n\tactionLabel = 'A',\n\tactionIcon,\n\taction2Label = 'B',\n\taction2Icon,\n}) => {\n\t// Common styles for preventing text selection\n\tconst preventSelectStyles: React.CSSProperties = {\n\t\tuserSelect: 'none',\n\t\tWebkitUserSelect: 'none',\n\t\tMozUserSelect: 'none',\n\t\tmsUserSelect: 'none',\n\t\ttouchAction: 'none',\n\t\tWebkitTouchCallout: 'none',\n\t}\n\n\tconst handleContextMenu = (e: React.MouseEvent) => {\n\t\te.preventDefault()\n\t\treturn false\n\t}\n\n\t// Horizontal layout for games like Breakout\n\tif (layout === 'horizontal') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-horizontal\">\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t\t{showActionButton && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal game-controls-btn-action\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-horizontal\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Racing layout with steering controls on left and action buttons on right\n\tif (layout === 'racing') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-racing\">\n\t\t\t\t{/* Steering controls on the left */}\n\t\t\t\t<div className=\"game-controls-racing-steering\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('left')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('right')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-steering\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Action buttons on the right */}\n\t\t\t\t<div className=\"game-controls-racing-actions\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-gas\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-brake\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{action2Icon || action2Label}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tif (layout === 'arrows') {\n\t\treturn (\n\t\t\t<div className=\"game-controls-container\">\n\t\t\t\t<div className=\"game-controls-dpad\">\n\t\t\t\t\t{/* Background Circle */}\n\t\t\t\t\t<div className=\"game-controls-dpad-bg\" />\n\n\t\t\t\t\t{/* Center Circle */}\n\t\t\t\t\t<div className=\"game-controls-dpad-center\" />\n\n\t\t\t\t\t{/* Arrow Buttons */}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-up\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('left')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('left')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('left')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-left\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActionButton && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-action\"\n\t\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('right')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('right')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('right')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-right\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-down\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// D-Pad layout\n\treturn (\n\t\t<div className=\"game-controls-container\">\n\t\t\t<div className=\"game-controls-dpad\">\n\t\t\t\t{/* D-Pad Background */}\n\t\t\t\t<div className=\"game-controls-dpad-bg\" />\n\n\t\t\t\t{/* Center Circle */}\n\t\t\t\t<div className=\"game-controls-dpad-center\" />\n\n\t\t\t\t{/* D-Pad Buttons */}\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('up')\n\t\t\t\t\t}}\n\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControlEnd?.('up')\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseDown={() => onControl('up')}\n\t\t\t\t\tonMouseUp={() => onControlEnd?.('up')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-up\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('right')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('right')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-right\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('down')\n\t\t\t\t\t}}\n\t\t\t\t\tonTouchEnd={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControlEnd?.('down')\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseDown={() => onControl('down')}\n\t\t\t\t\tonMouseUp={() => onControlEnd?.('down')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-down\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tonControl('left')\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => onControl('left')}\n\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-left\"\n\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t{/* Action Button */}\n\t\t\t\t{showActionButton && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tonControl('action')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => onControl('action')}\n\t\t\t\t\t\tonContextMenu={handleContextMenu}\n\t\t\t\t\t\tclassName=\"game-controls-btn game-controls-btn-action\"\n\t\t\t\t\t\tstyle={preventSelectStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actionIcon || actionLabel}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","'use client';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useCarGame } from './hooks/useCarGame';\nimport { HUD } from './components/HUD';\nimport { BillboardStats } from './components/BillboardStats';\nimport { GameCanvas } from '../ui/GameCanvas';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { isMobile } from '../../../../utils/functions';\nimport { Language } from '../../../../types/i18n';\nimport { getTranslations } from '../../../../i18n';\n\ninterface RacingGameProps {\n  laps: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  /**\n   * Track layout to use:\n   * 0 (default) - Original balanced track with variety\n   * 1 - Speed Circuit: Fast track with long straights\n   * 2 - Mountain Pass: Challenging hills and curves\n   * 3 - Technical Circuit: Lots of curves and turns\n   */\n  track?: number;\n  skin?: string;\n  gameTitle?: string;\n  brandColor?: string;\n  brandLogo?: string;\n  showBillboardStats?: boolean;\n  lang?: Language;\n}\n\nconst RacingGame = ({\n  laps,\n  setPointsEarned,\n  setGameOver,\n  track = 0,\n  skin = 'default',\n  gameTitle = 'JALO Racing',\n  brandColor = '#00d26a',\n  brandLogo,\n  showBillboardStats = false,\n  lang = 'en',\n}: RacingGameProps) => {\n  const t = getTranslations(lang);\n  const mobile = isMobile();\n  const availableLaps = laps || 3;\n  const [gameStarted, setGameStarted] = useState(false);\n\n  // Use the new custom hook for game logic\n  const {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    startGame,\n    togglePause,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  } = useCarGame(availableLaps, track, skin, setPointsEarned, setGameOver);\n\n  // Start game when instructions are dismissed\n  const handleGameStart = async () => {\n    setGameStarted(true);\n    await startGame();\n  };\n\n  // Initialize canvas on mount\n  useEffect(() => {\n    if (canvasRef.current) {\n      // Set initial canvas dimensions\n      canvasRef.current.width = 720;\n      canvasRef.current.height = 960;\n    }\n  }, [canvasRef]);\n\n  // Setup touch controls when game starts on mobile\n  useEffect(() => {\n    if (mobile && gameState === 'playing') {\n      setupTouchControls(true);\n    }\n  }, [mobile, gameState, setupTouchControls]);\n\n  // Handle control input from GameControls\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameState !== 'playing') return;\n\n      // Directly update the input state through the hook\n      handleTouchControl(direction, true);\n    },\n    [gameState, handleTouchControl]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      // Directly update the input state through the hook\n      handleTouchControl(direction, false);\n    },\n    [handleTouchControl]\n  );\n\n  // Handle keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Prevent arrow key scrolling\n      const keys: { [key: number]: number } = { 37: 1, 38: 1, 39: 1, 40: 1 };\n      if (keys[e.keyCode]) {\n        e.preventDefault();\n        return false;\n      }\n\n      // Handle pause (ESC or Space)\n      if (gameStarted && (e.key === 'Escape' || e.key === ' ')) {\n        e.preventDefault();\n        togglePause();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown, false);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown, false);\n    };\n  }, [gameStarted, togglePause]);\n\n  return (\n    <div style={{ width: '100%', position: 'relative' }}>\n      <div\n        style={{\n          width: '100%',\n          position: 'relative',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.25rem',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        {/* Instructions Overlay */}\n        {!gameStarted && (\n          <GameOverlay\n            type=\"custom\"\n            title={gameTitle}\n            brandColor={brandColor}\n            onAction={handleGameStart}\n            actionText={t.games.racing.startRacing}\n            lang={lang}\n            customContent={\n              <div style={{ marginBottom: '1rem' }}>\n                {brandLogo && (\n                  <>\n                    <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                    <img\n                      src={brandLogo}\n                      alt=\"Brand Logo\"\n                      style={{\n                        margin: '0 auto',\n                        width: '12rem',\n                        height: 'auto',\n                        marginBottom: '1rem',\n                      }}\n                    />\n                  </>\n                )}\n                <p style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                  {mobile\n                    ? t.games.racing.useTouchControls\n                    : t.games.racing.useKeyboard}\n                </p>\n\n                <div style={{ marginTop: '0.5rem' }}>\n                  {mobile ? (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#059669',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.5rem 0.75rem',\n                            backgroundColor: '#dc2626',\n                            borderRadius: '0.25rem',\n                            color: 'white',\n                            fontWeight: 'bold',\n                            fontSize: '0.875rem',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          A\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnLeft}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          D\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>\n                          - {t.games.racing.turnRight}\n                        </span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          W\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.accelerate}</span>\n                      </div>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.75rem',\n                          marginBottom: '0.5rem',\n                        }}\n                      >\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          \n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>{t.games.racing.or}</span>\n                        <kbd\n                          style={{\n                            padding: '0.25rem 0.5rem',\n                            backgroundColor: '#374151',\n                            borderRadius: '0.25rem',\n                            fontSize: '0.75rem',\n                            color: 'white',\n                          }}\n                        >\n                          S\n                        </kbd>\n                        <span style={{ fontSize: '0.875rem', color: '#d1d5db' }}>- {t.games.racing.brake}</span>\n                      </div>\n                    </>\n                  )}\n                </div>\n\n                <p style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '1rem' }}>\n                  {t.games.racing.collectCoins}\n                </p>\n              </div>\n            }\n          />\n        )}\n\n        {/* Pause Overlay */}\n        {gameState === 'paused' && (\n          <GameOverlay\n            type=\"pause\"\n            title={` ${t.games.pause}`}\n            message={t.games.racing.pressEscContinue}\n            onAction={togglePause}\n            actionText={t.games.continue}\n            brandColor={brandColor}\n            lang={lang}\n          />\n        )}\n\n        {/* Game Area */}\n        <div\n          id=\"racer\"\n          style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%' }}\n        >\n          {gameState === 'gameover' && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} lang={lang} />\n          )}\n\n          {/* Game Canvas Container - always present but hidden during ready state */}\n          <div\n            style={{\n              position: 'relative',\n              padding: 0,\n              margin: 0,\n              width: '100%',\n              maxWidth: '360px',\n              height: '480px',\n              display: gameState === 'gameover' ? 'none' : 'block',\n              visibility: gameState === 'ready' ? 'hidden' : 'visible',\n            }}\n          >\n            {/* HUD Component */}\n            <HUD\n              currentLap={currentLap}\n              availableLaps={availableLaps}\n              points={points}\n              hud={hud}\n              gameState={gameState}\n            />\n\n            {/* Game Canvas */}\n            <GameCanvas\n              ref={canvasRef}\n              width={720}\n              height={960}\n              style={{ backgroundColor: '#35cafa', width: '100%', height: '100%' }}\n            />\n          </div>\n        </div>\n\n        {/* Billboard Statistics (Debug Mode) */}\n        <BillboardStats\n          getBillboardStats={getBillboardStats}\n          isVisible={showBillboardStats && gameState === 'playing' && !mobile}\n        />\n\n        {/* Game Controls */}\n        {mobile && gameState === 'playing' && (\n          <GameControls\n            onControl={handleControl}\n            onControlEnd={handleControlEnd}\n            layout=\"racing\"\n            brandColor={brandColor}\n            actionIcon=\"\"\n            action2Icon=\"\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RacingGame;\n","import { useState, useRef, useCallback, useEffect } from 'react';\nimport type {\n  Car,\n  InputState,\n  HudState,\n  GameConfig,\n  CoinAnimation,\n  CrashAnimation,\n} from '../types';\nimport { RoadEngine } from '../engine/road';\nimport { PhysicsEngine } from '../engine/physics';\nimport { RenderEngine } from '../engine/render';\nimport { GameLoop, ImageLoader, InputManager } from '../engine/gameLoop';\nimport { MathUtils } from '../utils/math';\nimport { DEFAULT_CONFIG, KEY, BACKGROUND } from '../constants';\nimport { isMobile } from '../../../../../utils/functions';\n\n/**\n * Custom hook for managing 3D car game state and logic\n */\nexport function useCarGame(\n  laps: number,\n  track: number,\n  skin: string,\n  setPointsEarned: (points: number) => void,\n  setGameOver: (isOver: boolean) => void\n) {\n  const mobile = isMobile();\n\n  // Game state\n  const [gameState, setGameState] = useState<\n    'loading' | 'ready' | 'playing' | 'paused' | 'gameover'\n  >('loading');\n  const gameStateRef = useRef(gameState);\n  const [currentLap, setCurrentLap] = useState(1);\n  const [points, setPoints] = useState(0);\n  const [hud, setHud] = useState<HudState>({\n    speed: '0',\n    current_lap_time: '00:00:0',\n  });\n  const coinAnimationsRef = useRef<CoinAnimation[]>([]);\n  const crashAnimationsRef = useRef<CrashAnimation[]>([]);\n\n  // Keep gameStateRef in sync\n  useEffect(() => {\n    gameStateRef.current = gameState;\n  }, [gameState]);\n\n  // Refs for game engines and state\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const roadEngineRef = useRef<RoadEngine>(null);\n  const physicsEngineRef = useRef<PhysicsEngine>(null);\n  const renderEngineRef = useRef<RenderEngine>(null);\n  const gameLoopRef = useRef<GameLoop>(null);\n  const inputManagerRef = useRef<InputManager>(null);\n\n  // Game world state\n  const gameWorldRef = useRef({\n    position: 0,\n    speed: 0,\n    playerX: 0,\n    playerZ: 0,\n    currentLapTime: 0,\n    cars: [] as Car[],\n    skyOffset: 0,\n    hillOffset: 0,\n    treeOffset: 0,\n    background: null as HTMLImageElement | null,\n    sprites: null as HTMLImageElement | null,\n    hasRendered: false,\n  });\n\n  // Input state\n  const inputStateRef = useRef<InputState>({\n    left: false,\n    right: false,\n    faster: false,\n    slower: false,\n  });\n\n  // Game configuration\n  const configRef = useRef<GameConfig>({\n    ...DEFAULT_CONFIG,\n    cameraDepth: 1 / Math.tan(((DEFAULT_CONFIG.fieldOfView / 2) * Math.PI) / 180),\n    maxSpeed: DEFAULT_CONFIG.segmentLength / ((1 / DEFAULT_CONFIG.fps) * 1.2),\n    accel: 0, // Will be calculated\n    breaking: 0, // Will be calculated\n    decel: 0, // Will be calculated\n    offRoadDecel: 0, // Will be calculated\n    offRoadLimit: 0, // Will be calculated\n    playerZ: 0, // Will be calculated in useEffect\n  });\n\n  // Calculate derived config values\n  useEffect(() => {\n    const config = configRef.current;\n    config.playerZ = config.cameraHeight * config.cameraDepth;\n    config.maxSpeed = config.segmentLength / ((1 / config.fps) * 1.2);\n    config.accel = config.maxSpeed / 5;\n    config.breaking = -config.maxSpeed;\n    config.decel = -config.maxSpeed / 5;\n    config.offRoadDecel = -config.maxSpeed / 2;\n    config.offRoadLimit = config.maxSpeed / 4;\n  }, []);\n\n  /**\n   * Format time for display\n   */\n  const formatTime = useCallback((dt: number): string => {\n    const minutes = Math.floor(dt / 60);\n    const seconds = Math.floor(dt - minutes * 60);\n    const tenths = Math.floor(10 * (dt - Math.floor(dt)));\n\n    if (minutes > 0 && minutes < 10) {\n      return `0${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    if (minutes > 0 && minutes >= 10) {\n      return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}:${tenths}`;\n    }\n    return `00:${seconds < 10 ? '0' : ''}${seconds}:${tenths < 10 ? '0' : ''}${tenths}`;\n  }, []);\n\n  /**\n   * Update HUD values\n   */\n  const updateHud = useCallback((key: keyof HudState, value: string) => {\n    setHud((prevHud) => {\n      if (prevHud[key] !== value) {\n        return { ...prevHud, [key]: value };\n      }\n      return prevHud;\n    });\n  }, []);\n\n  /**\n   * Initialize game engines\n   */\n  const initializeEngines = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Set canvas dimensions\n    const config = configRef.current;\n    canvas.width = config.width;\n    canvas.height = config.height;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Initialize engines\n    roadEngineRef.current = new RoadEngine(config.segmentLength, config.rumbleLength);\n    physicsEngineRef.current = new PhysicsEngine({\n      maxSpeed: config.maxSpeed,\n      accel: config.accel,\n      breaking: config.breaking,\n      decel: config.decel,\n      offRoadDecel: config.offRoadDecel,\n      offRoadLimit: config.offRoadLimit,\n      centrifugal: config.centrifugal,\n      trackLength: 0, // Will be updated after road generation\n    });\n    renderEngineRef.current = new RenderEngine(ctx, config.width, config.height);\n    renderEngineRef.current.setCameraDepth(config.cameraDepth);\n    inputManagerRef.current = new InputManager();\n\n    // Setup input handlers\n    inputManagerRef.current.setKeyHandlers([\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.left = true;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.right = true;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.faster = true;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'down',\n        action: () => {\n          inputStateRef.current.slower = true;\n        },\n      },\n      {\n        keys: [KEY.LEFT, KEY.A],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.left = false;\n        },\n      },\n      {\n        keys: [KEY.RIGHT, KEY.D],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.right = false;\n        },\n      },\n      {\n        keys: [KEY.UP, KEY.W],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.faster = false;\n        },\n      },\n      {\n        keys: [KEY.DOWN, KEY.S],\n        mode: 'up',\n        action: () => {\n          inputStateRef.current.slower = false;\n        },\n      },\n    ]);\n\n    return true;\n  }, []);\n\n  /**\n   * Load game assets\n   */\n  const loadAssets = useCallback(async () => {\n    try {\n      const images = await ImageLoader.loadImages(\n        ['background', 'sprites'],\n        '/games/racing/images',\n        skin\n      );\n\n      gameWorldRef.current.background = images[0];\n      gameWorldRef.current.sprites = images[1];\n\n      return true;\n    } catch (error) {\n      console.error('Failed to load game assets:', error);\n      return false;\n    }\n  }, [skin]);\n\n  /**\n   * Reset game world\n   */\n  const resetGame = useCallback(() => {\n    const config = configRef.current;\n    const world = gameWorldRef.current;\n\n    // Reset world state\n    world.position = 0;\n    world.speed = 0;\n    world.playerX = 0;\n    world.currentLapTime = 0;\n    world.skyOffset = 0;\n    world.hillOffset = 0;\n    world.treeOffset = 0;\n\n    // Reset road and cars\n    if (roadEngineRef.current && physicsEngineRef.current) {\n      roadEngineRef.current.reset(track, config.playerZ);\n      const trackLength = roadEngineRef.current.getTrackLength();\n      physicsEngineRef.current.updateTrackLength(trackLength);\n      world.cars = roadEngineRef.current.resetCars(config.totalCars, config.maxSpeed);\n    }\n\n    // Reset UI state\n    setCurrentLap(1);\n    setPoints(0);\n    coinAnimationsRef.current = [];\n    crashAnimationsRef.current = [];\n    updateHud('speed', '0');\n    updateHud('current_lap_time', '00:00:0');\n  }, [track, updateHud]);\n\n  /**\n   * Game update loop\n   */\n  const update = useCallback(\n    (dt: number) => {\n      if (gameStateRef.current !== 'playing') return;\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const physics = physicsEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!physics || !road) return;\n\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const startPosition = world.position;\n\n      // Update player physics\n      const playerUpdate = physics.updatePlayer(\n        world.playerX,\n        world.speed,\n        world.position,\n        inputStateRef.current,\n        playerSegment,\n        dt,\n        (z) => road.findSegment(z),\n        config.width,\n        config.height\n      );\n\n      world.playerX = playerUpdate.playerX;\n      world.speed = playerUpdate.speed;\n      world.position = MathUtils.increase(world.position, dt * world.speed, road.getTrackLength());\n\n      // Handle points and crashes\n      if (playerUpdate.pointsEarned !== 0) {\n        setPoints((prev) => Math.max(prev + playerUpdate.pointsEarned, 0));\n      }\n\n      // Handle coin collection animation\n      if (playerUpdate.coinCollected && playerUpdate.pointsEarned > 0) {\n        coinAnimationsRef.current.push({\n          x: playerUpdate.coinCollected!.x,\n          y: playerUpdate.coinCollected!.y,\n          points: playerUpdate.pointsEarned,\n          startTime: Date.now(),\n        });\n      }\n\n      // Handle crash animation\n      if (playerUpdate.crashPosition && playerUpdate.crashed) {\n        crashAnimationsRef.current.push({\n          x: playerUpdate.crashPosition!.x,\n          y: playerUpdate.crashPosition!.y,\n          startTime: Date.now(),\n        });\n      }\n\n      // Update cars\n      physics.updateCars(\n        world.cars,\n        dt,\n        playerSegment,\n        world.playerX,\n        world.speed,\n        config.drawDistance,\n        (z) => road.findSegment(z),\n        road.getSegments()\n      );\n\n      // Update background scroll\n      const scrollUpdate = physics.updateScrollOffsets(\n        world.skyOffset,\n        world.hillOffset,\n        world.treeOffset,\n        playerSegment,\n        startPosition,\n        world.position,\n        config.segmentLength,\n        config.skySpeed,\n        config.hillSpeed,\n        config.treeSpeed\n      );\n\n      world.skyOffset = scrollUpdate.skyOffset;\n      world.hillOffset = scrollUpdate.hillOffset;\n      world.treeOffset = scrollUpdate.treeOffset;\n\n      // Handle lap completion\n      if (world.position > config.playerZ) {\n        if (world.currentLapTime && startPosition < config.playerZ) {\n          setCurrentLap((prev) => prev + 1);\n          road.removeAllCoins();\n          world.currentLapTime = 0;\n        } else {\n          world.currentLapTime += dt;\n        }\n      }\n\n      // Update HUD\n      updateHud('speed', String(5 * Math.round(world.speed / 500)));\n      updateHud('current_lap_time', formatTime(world.currentLapTime));\n    },\n    [formatTime, updateHud]\n  );\n\n  /**\n   * Game render loop\n   */\n  const render = useCallback(\n    (_interpolation: number) => {\n      if (gameStateRef.current !== 'playing') {\n        return;\n      }\n\n      const config = configRef.current;\n      const world = gameWorldRef.current;\n      const renderer = renderEngineRef.current;\n      const road = roadEngineRef.current;\n\n      if (!renderer || !road || !world.background || !world.sprites) return;\n\n      renderer.clear();\n\n      const baseSegment = road.findSegment(world.position);\n      const basePercent = MathUtils.percentRemaining(world.position, config.segmentLength);\n      const playerSegment = road.findSegment(world.position + config.playerZ);\n      const playerPercent = MathUtils.percentRemaining(\n        world.position + config.playerZ,\n        config.segmentLength\n      );\n      const playerY = MathUtils.interpolate(\n        playerSegment.p1.world.y,\n        playerSegment.p2.world.y,\n        playerPercent\n      );\n\n      let x = 0;\n      let dx = -(baseSegment.curve * basePercent);\n      let maxy = config.height;\n\n      // Render background layers\n      renderer.background(\n        world.background,\n        BACKGROUND.SKY,\n        world.skyOffset,\n        renderer.resolution * config.skySpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.HILLS,\n        world.hillOffset,\n        renderer.resolution * config.hillSpeed * playerY\n      );\n      renderer.background(\n        world.background,\n        BACKGROUND.TREES,\n        world.treeOffset,\n        renderer.resolution * config.treeSpeed * playerY\n      );\n\n      // Render road segments\n      const segments = road.getSegments();\n      for (let n = 0; n < config.drawDistance; n++) {\n        const segment = segments[(baseSegment.index + n) % segments.length];\n        segment.looped = segment.index < baseSegment.index;\n        segment.fog = MathUtils.exponentialFog(n / config.drawDistance, config.fogDensity);\n        segment.clip = maxy;\n\n        MathUtils.project(\n          segment.p1,\n          world.playerX * config.roadWidth - x,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n        MathUtils.project(\n          segment.p2,\n          world.playerX * config.roadWidth - x - dx,\n          playerY + config.cameraHeight,\n          world.position - (segment.looped ? road.getTrackLength() : 0),\n          config.cameraDepth,\n          config.width,\n          config.height,\n          config.roadWidth\n        );\n\n        x = x + dx;\n        dx = dx + segment.curve;\n\n        if (\n          segment.p1.camera.z <= config.cameraDepth ||\n          segment.p2.screen.y >= segment.p1.screen.y ||\n          segment.p2.screen.y >= maxy\n        ) {\n          continue;\n        }\n\n        renderer.segment(\n          config.lanes,\n          segment.p1.screen.x,\n          segment.p1.screen.y,\n          segment.p1.screen.w,\n          segment.p2.screen.x,\n          segment.p2.screen.y,\n          segment.p2.screen.w,\n          segment.fog,\n          segment.color\n        );\n\n        maxy = segment.p1.screen.y;\n      }\n\n      // Render all objects in correct z-order\n      renderer.renderObjects(\n        segments,\n        baseSegment.index,\n        config.drawDistance,\n        config.roadWidth,\n        world.sprites,\n        (sprite, segmentIndex, offset) => {\n          // Track billboard impressions\n          if (road.getBillboardName) {\n            const billboardName = road.getBillboardName(sprite);\n            if (billboardName) {\n              road.recordBillboardImpression(segmentIndex, offset, billboardName, currentLap);\n            }\n          }\n        }\n      );\n\n      // Render player\n      renderer.player(\n        config.roadWidth,\n        world.sprites,\n        world.speed / config.maxSpeed,\n        config.cameraDepth / config.playerZ,\n        config.width / 2,\n        config.height / 2 -\n          ((config.cameraDepth / config.playerZ) *\n            MathUtils.interpolate(\n              playerSegment.p1.camera.y,\n              playerSegment.p2.camera.y,\n              playerPercent\n            ) *\n            config.height) /\n            2,\n        world.speed * (inputStateRef.current.left ? -1 : inputStateRef.current.right ? 1 : 0),\n        playerSegment.p2.world.y - playerSegment.p1.world.y\n      );\n\n      // Render coin animations\n      const currentTime = Date.now();\n      renderer.renderCoinAnimations(coinAnimationsRef.current, currentTime);\n      renderer.renderCrashAnimations(crashAnimationsRef.current, currentTime);\n\n      // Clean up expired animations\n      coinAnimationsRef.current = coinAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n      crashAnimationsRef.current = crashAnimationsRef.current.filter(\n        (anim) => currentTime - anim.startTime < 500\n      );\n    },\n    [currentLap]\n  );\n\n  /**\n   * Start the game\n   */\n  const startGame = useCallback(async () => {\n    setGameState('loading');\n\n    if (!initializeEngines()) {\n      console.error('Failed to initialize game engines');\n      return;\n    }\n\n    const assetsLoaded = await loadAssets();\n    if (!assetsLoaded) {\n      console.error('Failed to load game assets');\n      return;\n    }\n\n    resetGame();\n\n    // Initialize game loop\n    gameLoopRef.current = new GameLoop(update, render, DEFAULT_CONFIG.fps);\n    gameLoopRef.current.start();\n\n    setGameState('playing');\n  }, [initializeEngines, loadAssets, resetGame, update, render]);\n\n  /**\n   * Pause/unpause game\n   */\n  const togglePause = useCallback(() => {\n    if (gameState === 'playing') {\n      setGameState('paused');\n      gameLoopRef.current?.stop();\n    } else if (gameState === 'paused') {\n      setGameState('playing');\n      gameLoopRef.current?.start();\n    }\n  }, [gameState]);\n\n  /**\n   * Stop the game\n   */\n  const stopGame = useCallback(() => {\n    gameLoopRef.current?.stop();\n    inputManagerRef.current?.destroy();\n    setGameState('gameover');\n  }, []);\n\n  // Check for game over condition\n  useEffect(() => {\n    if (currentLap > laps) {\n      setPointsEarned(points);\n      setGameOver(true);\n      stopGame();\n    }\n  }, [currentLap, laps, points, setPointsEarned, setGameOver, stopGame]);\n\n  /**\n   * Setup touch controls for mobile\n   */\n  const setupTouchControls = useCallback((isMobile: boolean) => {\n    if (inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(isMobile);\n    }\n  }, []);\n\n  // Setup touch controls after initialization\n  useEffect(() => {\n    if (gameState === 'playing' && inputManagerRef.current) {\n      inputManagerRef.current.setupTouchControls(mobile);\n    }\n  }, [gameState, mobile]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      gameLoopRef.current?.stop();\n      inputManagerRef.current?.destroy();\n    };\n  }, []);\n\n  /**\n   * Handle touch control input directly\n   */\n  const handleTouchControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2', isPressed: boolean) => {\n      switch (direction) {\n        case 'left':\n          inputStateRef.current.left = isPressed;\n          break;\n        case 'right':\n          inputStateRef.current.right = isPressed;\n          break;\n        case 'up':\n          inputStateRef.current.faster = isPressed;\n          break;\n        case 'down':\n          inputStateRef.current.slower = isPressed;\n          break;\n      }\n    },\n    []\n  );\n\n  /**\n   * Get billboard statistics\n   */\n  const getBillboardStats = useCallback(() => {\n    if (roadEngineRef.current) {\n      return roadEngineRef.current.getBillboardStats(laps);\n    }\n    return null;\n  }, [laps]);\n\n  return {\n    canvasRef,\n    gameState,\n    currentLap,\n    points,\n    hud,\n    availableLaps: laps,\n    startGame,\n    togglePause,\n    stopGame,\n    setupTouchControls,\n    handleTouchControl,\n    getBillboardStats,\n  };\n}\n","import React from 'react'\nimport { createBoard } from '../game'\n// Types\nimport type { Player } from './usePlayer'\n\nexport type BoardCell = [string | number, string]\nexport type Board = BoardCell[][]\n\nexport const useBoard = (player: Player, resetPlayer: () => void) => {\n\tconst [board, setBoard] = React.useState(createBoard())\n\tconst [rowsCleared, setRowsCleared] = React.useState(0)\n\tconst [clearingRows, setClearingRows] = React.useState<number[]>([])\n\n\tReact.useEffect(() => {\n\t\tif (!player.pos) return\n\n\t\tsetRowsCleared(0)\n\n\t\tconst sweepRows = (newBoard: Board): Board => {\n\t\t\tlet rowsCleared = 0\n\t\t\tconst rowsToRemove: number[] = []\n\n\t\t\t// First, identify which rows are full\n\t\t\tnewBoard.forEach((row, index) => {\n\t\t\t\tif (row.every(cell => cell[0] !== 0)) {\n\t\t\t\t\trowsToRemove.push(index)\n\t\t\t\t\trowsCleared += 1\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Set the rows to be cleared for animation\n\t\t\tif (rowsToRemove.length > 0) {\n\t\t\t\tsetClearingRows(rowsToRemove)\n\n\t\t\t\t// Clear the animation after a delay\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetClearingRows([])\n\t\t\t\t}, 300)\n\t\t\t}\n\n\t\t\t// Then remove them\n\t\t\tconst updatedBoard = newBoard.reduce((acc, row, index) => {\n\t\t\t\tif (rowsToRemove.includes(index)) {\n\t\t\t\t\t// Aadir una nueva fila vaca al principio\n\t\t\t\t\tacc.unshift(\n\t\t\t\t\t\tnew Array(newBoard[0].length).fill([0, 'clear']) as BoardCell[]\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\t// Mantener la fila actual si no est llena\n\t\t\t\t\tacc.push(row)\n\t\t\t\t}\n\t\t\t\treturn acc\n\t\t\t}, [] as Board)\n\n\t\t\tsetRowsCleared(rowsCleared)\n\t\t\treturn updatedBoard\n\t\t}\n\n\t\tconst updateBoard = (prevBoard: Board): Board => {\n\t\t\t// First flush the board\n\t\t\t// If it says \"clear\" but don't have a 0 it means that it's the players move and should be cleared\n\t\t\tconst newBoard = prevBoard.map(\n\t\t\t\trow =>\n\t\t\t\t\trow.map(cell =>\n\t\t\t\t\t\tcell[1] === 'clear' ? [0, 'clear'] : cell\n\t\t\t\t\t) as BoardCell[]\n\t\t\t)\n\n\t\t\t// Then draw the tetromino\n\t\t\tplayer.tetromino.forEach((row, y) => {\n\t\t\t\trow.forEach((value, x) => {\n\t\t\t\t\tif (value !== 0) {\n\t\t\t\t\t\tnewBoard[y + player.pos.y][x + player.pos.x] = [\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t`${player.collided ? 'merged' : 'clear'}`,\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif (player.collided) {\n\t\t\t\tresetPlayer()\n\t\t\t\treturn sweepRows(newBoard)\n\t\t\t}\n\n\t\t\treturn newBoard\n\t\t}\n\n\t\tsetBoard(prev => updateBoard(prev))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [player.collided, player.pos?.x, player.pos?.y, player.tetromino])\n\n\treturn { board, setBoard, rowsCleared, clearingRows }\n}\n","import React from 'react'\n\ninterface GameHeaderProps {\n\tlevel?: number\n\tlives?: number\n\tscore: number\n\tonPause?: () => void\n\tisPaused?: boolean\n\tcustomItems?: React.ReactNode\n\tbrandColor?: string\n\tisMobile?: boolean\n\tonQuit?: () => void\n\tshowQuitButton?: boolean\n\tisQuitting?: boolean\n}\n\nexport const GameHeader: React.FC<GameHeaderProps> = ({\n\tlevel,\n\tlives,\n\tscore,\n\tonPause,\n\tisPaused = false,\n\tcustomItems,\n\tbrandColor = '#00d26a',\n\tisMobile,\n\tonQuit,\n\tshowQuitButton = false,\n\tisQuitting = false,\n}) => {\n\t// Show quit button if explicitly enabled\n\tconst shouldShowQuit = showQuitButton && onQuit && !isQuitting\n\n\treturn (\n\t\t<div className=\"game-header\">\n\t\t\t<div className=\"game-header-stats\">\n\t\t\t\t{level !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-label\">Nivel</span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{level}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{lives !== undefined && (\n\t\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t\t<span className=\"game-header-stat-value\">{lives}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"game-header-stat-box\">\n\t\t\t\t\t<span className=\"game-header-stat-icon\"></span>\n\t\t\t\t\t<span className=\"game-header-stat-value\">\n\t\t\t\t\t\t{score.toLocaleString()}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t{customItems}\n\t\t\t</div>\n\n\t\t\t{/* Control Buttons */}\n\t\t\t<div className=\"game-header-buttons\">\n\t\t\t\t{/* Pause Button - Hide when quit dialog is shown */}\n\t\t\t\t{onPause && !isQuitting && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onPause}\n\t\t\t\t\t\tclassName=\"game-header-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isPaused\n\t\t\t\t\t\t\t? ` ${isMobile ? '' : 'Continuar'}`\n\t\t\t\t\t\t\t: ` ${isMobile ? '' : 'Pausar'}`}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{/* Quit Button */}\n\t\t\t\t{shouldShowQuit && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onQuit}\n\t\t\t\t\t\tclassName=\"game-header-btn game-header-quit-btn\"\n\t\t\t\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isMobile ? '' : ' Salir'}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import * as Tone from 'tone'\n\nexport class TetrisAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastMoveTime = 0\n\tprivate readonly MIN_MOVE_GAP = 0.04\n\n\t// Synthesizers\n\tprivate moveSynth: Tone.Synth | null = null\n\tprivate rotateSynth: Tone.Synth | null = null\n\tprivate lockSynth: Tone.MembraneSynth | null = null\n\tprivate lineSynth: Tone.PolySynth | null = null\n\tprivate tetrisSynth: Tone.PolySynth | null = null\n\tprivate gameOverSynth: Tone.Synth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Move synth - subtle click\n\t\tthis.moveSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.03,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.02,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Rotate synth - whoosh\n\t\tthis.rotateSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Lock synth - thud when piece locks\n\t\tthis.lockSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.02,\n\t\t\toctaves: 2,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Line clear synth - escalating chime\n\t\tthis.lineSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Tetris synth - special 4-line fanfare\n\t\tthis.tetrisSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sawtooth' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending\n\t\tthis.gameOverSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Subtle click when moving piece\n\tplayMove(): void {\n\t\tif (!this.initialized || this.muted || !this.moveSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastMoveTime < this.MIN_MOVE_GAP) return\n\n\t\tthis.lastMoveTime = now\n\t\tthis.moveSynth.triggerAttackRelease('G5', '64n', now)\n\t}\n\n\t// Whoosh when rotating\n\tplayRotate(): void {\n\t\tif (!this.initialized || this.muted || !this.rotateSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.rotateSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.rotateSynth.triggerAttackRelease('E5', '32n', now + 0.02)\n\t}\n\n\t// Thud when piece locks in place\n\tplayLock(): void {\n\t\tif (!this.initialized || this.muted || !this.lockSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.lockSynth.triggerAttackRelease('C3', '8n', now)\n\t}\n\n\t// Escalating chime for line clears (1-3 lines)\n\tplayLineClear(count: number): void {\n\t\tif (!this.initialized || this.muted || !this.lineSynth) return\n\n\t\t// If it's a Tetris (4 lines), use the special sound\n\t\tif (count >= 4) {\n\t\t\tthis.playTetris()\n\t\t\treturn\n\t\t}\n\n\t\tconst now = Tone.now()\n\t\t// Escalating notes based on count\n\t\tconst noteSequences: string[][] = [['C5'], ['C5', 'E5'], ['C5', 'E5', 'G5']]\n\n\t\tconst notes = noteSequences[Math.min(count - 1, 2)]\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.lineSynth!.triggerAttackRelease(note, '8n', now + i * 0.08)\n\t\t})\n\t}\n\n\t// Special 4-line Tetris fanfare\n\tplayTetris(): void {\n\t\tif (!this.initialized || this.muted || !this.tetrisSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Triumphant fanfare\n\t\tconst fanfare = [\n\t\t\t{ notes: ['C4', 'E4', 'G4'], time: 0 },\n\t\t\t{ notes: ['E4', 'G4', 'B4'], time: 0.1 },\n\t\t\t{ notes: ['G4', 'B4', 'D5'], time: 0.2 },\n\t\t\t{ notes: ['C5', 'E5', 'G5', 'C6'], time: 0.35 },\n\t\t]\n\n\t\tfanfare.forEach(({ notes, time }) => {\n\t\t\tthis.tetrisSynth!.triggerAttackRelease(notes, '4n', now + time)\n\t\t})\n\t}\n\n\t// Sad descending phrase for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'A3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.moveSynth?.dispose()\n\t\tthis.rotateSynth?.dispose()\n\t\tthis.lockSynth?.dispose()\n\t\tthis.lineSynth?.dispose()\n\t\tthis.tetrisSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.moveSynth = null\n\t\tthis.rotateSynth = null\n\t\tthis.lockSynth = null\n\t\tthis.lineSynth = null\n\t\tthis.tetrisSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const tetrisAudio = new TetrisAudioManager()\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { isMobile } from '../../../../utils/functions';\nimport { type Player } from './hooks/usePlayer';\nimport { useInterval } from './hooks/useInterval';\nimport { usePlayer } from './hooks/usePlayer';\nimport { useBoard } from './hooks/useBoard';\nimport { GameHeader } from '../ui/GameHeader';\nimport { GameOverlay } from '../ui/GameOverlay';\nimport { GameControls } from '../ui/GameControls';\nimport { tetrisAudio } from './utils/audioManager';\n\nexport const BOARD_WIDTH = 10;\nexport const BOARD_HEIGHT = 20;\n\nconst TETROMINOS = {\n  0: { shape: [[0]], color: '#000000' },\n  I: {\n    shape: [\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n      [0, 'I', 0, 0],\n    ],\n    color: '#50e3e4', // RGB(80,227,230)\n  },\n  J: {\n    shape: [\n      [0, 'J', 0],\n      [0, 'J', 0],\n      ['J', 'J', 0],\n    ],\n    color: '#245fdf', // RGB(36,95,223)\n  },\n  L: {\n    shape: [\n      [0, 'L', 0],\n      [0, 'L', 0],\n      [0, 'L', 'L'],\n    ],\n    color: '#dfad24', // RGB(223,173,36)\n  },\n  O: {\n    shape: [\n      ['O', 'O'],\n      ['O', 'O'],\n    ],\n    color: '#dfd924', // RGB(223,217,36)\n  },\n  S: {\n    shape: [\n      [0, 'S', 'S'],\n      ['S', 'S', 0],\n      [0, 0, 0],\n    ],\n    color: '#30d934', // RGB(48,211,56)\n  },\n  T: {\n    shape: [\n      [0, 0, 0],\n      ['T', 'T', 'T'],\n      [0, 'T', 0],\n    ],\n    color: '#843dc6', // RGB(132,61,198)\n  },\n  Z: {\n    shape: [\n      ['Z', 'Z', 0],\n      [0, 'Z', 'Z'],\n      [0, 0, 0],\n    ],\n    color: '#e34e4e', // RGB(227,78,78)\n  },\n};\n\nexport type BoardCell = [keyof typeof TETROMINOS, string];\nexport type BoardType = BoardCell[][];\n\nexport const createBoard = () => {\n  return Array.from(Array(BOARD_HEIGHT), () => Array(BOARD_WIDTH).fill([0, 'clear']));\n};\n\nexport const randomTetromino = () => {\n  const tetrominos = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'] as (keyof typeof TETROMINOS)[];\n  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];\n  return TETROMINOS[randTetromino];\n};\n\nexport const isColliding = (\n  player: Player,\n  board: BoardType,\n  { x: moveX, y: moveY }: { x: number; y: number }\n) => {\n  // Using for loops to be able to return (and break). Not possible with forEach\n  for (let y = 0; y < player.tetromino.length; y += 1) {\n    for (let x = 0; x < player.tetromino[y].length; x += 1) {\n      // 1. Check that we're on an actual Tetromino cell\n      if (player.tetromino[y][x] !== 0) {\n        if (\n          // 2. Check that our move is inside the game areas height (y)\n          // That we're not moving through the bottom of the grid\n          !board[y + player.pos.y + moveY] ||\n          // 3. Check that our move is inside the game areas width (x)\n          !board[y + player.pos.y + moveY][x + player.pos.x + moveX] ||\n          // 4. Check that the cell we're moving to isn't set to clear\n          board[y + player.pos.y + moveY][x + player.pos.x + moveX][1] !== 'clear'\n        ) {\n          return true;\n        }\n      }\n    }\n  }\n};\n\ntype CellProps = {\n  type: keyof typeof TETROMINOS;\n  isClearing?: boolean;\n};\n\nconst Cell: React.FC<CellProps> = ({ type, isClearing }) => {\n  const color = TETROMINOS[type].color;\n  const isEmpty = type === 0;\n\n  return (\n    <div\n      className={`game-cell ${!isEmpty ? 'game-cell-filled' : ''} ${isClearing ? 'game-cell-clearing' : ''}`}\n      style={{\n        backgroundColor: isEmpty ? 'transparent' : isClearing ? '#ffffff' : color,\n        borderColor: isEmpty ? 'rgba(255, 255, 255, 0.1)' : isClearing ? '#ffffff' : `${color}88`,\n        boxShadow: isEmpty\n          ? 'none'\n          : `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`,\n      }}\n    />\n  );\n};\n\ntype BoardProps = {\n  board: BoardType;\n  clearingRows?: number[];\n};\n\nconst Board: React.FC<BoardProps> = ({ board, clearingRows = [] }) => {\n  return (\n    <div className=\"game-board-tetris\">\n      {board.map((row, y) =>\n        row.map((cell, x) => (\n          <Cell key={`${y}-${x}`} type={cell[0]} isClearing={clearingRows.includes(y)} />\n        ))\n      )}\n    </div>\n  );\n};\n\ntype NextPieceProps = {\n  shape: (string | number)[][];\n  color: string;\n};\n\nconst NextPiece: React.FC<NextPieceProps> = ({ shape, color }) => {\n  return (\n    <div\n      className=\"game-board-tetris\"\n      style={{\n        gridTemplateColumns: `repeat(${shape[0]?.length || 0}, 1fr)`,\n        gridTemplateRows: `repeat(${shape.length}, 1fr)`,\n        padding: '0.5rem',\n        border: '1px solid #4b5563',\n      }}\n    >\n      {shape.map((row, y) =>\n        row.map((cell, x) => (\n          <div\n            key={`${y}-${x}`}\n            className={`game-cell ${cell !== 0 ? 'game-cell-filled' : ''}`}\n            style={{\n              backgroundColor: cell !== 0 ? color : 'transparent',\n              borderColor: cell !== 0 ? `${color}88` : 'rgba(255, 255, 255, 0.1)',\n              boxShadow:\n                cell !== 0\n                  ? `inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)`\n                  : 'none',\n            }}\n          />\n        ))\n      )}\n    </div>\n  );\n};\n\ninterface TetrisGameProps {\n  lives: number;\n  setPointsEarned: (points: number) => void;\n  setGameOver: (isOver: boolean) => void;\n  brandColor?: string;\n  skin?: string;\n  gameTitle?: string;\n  brandLogo?: string;\n}\n\nconst TetrisGame: React.FC<TetrisGameProps> = ({\n  lives,\n  setPointsEarned,\n  setGameOver,\n  brandColor,\n  skin = 'default',\n  gameTitle = 'TETRIS',\n  brandLogo,\n}) => {\n  const mobile = isMobile();\n\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gamePaused, setGamePaused] = useState(false);\n  const [gameOver, setGameOverState] = useState(false);\n  const [quitGame, setQuitGame] = useState(false);\n  const [wasGamePaused, setWasGamePaused] = useState(false);\n\n  const [currentLives, setCurrentLives] = useState(lives);\n  const [points, setPoints] = useState(0);\n  const [level, setLevel] = useState(1);\n  const [, setTotalLinesCleared] = useState(0);\n  const [nextPiece, setNextPiece] = useState(randomTetromino());\n\n  const [dropTime, setDropTime] = useState<null | number>(null);\n  const [intervalSpeed, setIntervalSpeed] = useState<number>(1000);\n\n  const { player, updatePlayerPos, resetPlayer, playerRotate } = usePlayer();\n  const { board, setBoard, rowsCleared, clearingRows } = useBoard(player, () => {\n    resetPlayerWithNextPiece();\n  });\n\n  const touchTimeoutRef = useRef<any>(null);\n\n  const resetPlayerWithNextPiece = useCallback(() => {\n    if (nextPiece) {\n      resetPlayer(nextPiece.shape);\n      setNextPiece(randomTetromino());\n    }\n  }, [nextPiece, resetPlayer]);\n\n  const movePlayer = useCallback(\n    (dir: number) => {\n      if (!isColliding(player, board, { x: dir, y: 0 })) {\n        updatePlayerPos({ x: dir, y: 0, collided: false });\n        tetrisAudio.playMove();\n      }\n    },\n    [player, board, updatePlayerPos]\n  );\n\n  const handleControl = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (gameOver || gamePaused) return;\n\n      switch (direction) {\n        case 'up':\n          playerRotate(board);\n          tetrisAudio.playRotate();\n          break;\n        case 'down':\n          // Start fast drop\n          setDropTime(30);\n          break;\n        case 'left':\n          movePlayer(-1);\n          break;\n        case 'right':\n          movePlayer(1);\n          break;\n      }\n    },\n    [gameOver, gamePaused, board, playerRotate, movePlayer]\n  );\n\n  const handleControlEnd = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n      if (direction === 'down') {\n        // Reset to normal drop speed\n        setDropTime(intervalSpeed);\n      }\n    },\n    [intervalSpeed]\n  );\n\n  const keyUp = ({ keyCode }: { keyCode: number }): void => {\n    if (!gameOver) {\n      if (keyCode === 40) {\n        setDropTime(intervalSpeed);\n      }\n    }\n  };\n\n  const move = ({ keyCode, repeat }: { keyCode: number; repeat: boolean }): void => {\n    if (!gamePaused || gameOver) {\n      if (keyCode === 37) {\n        movePlayer(-1);\n      } else if (keyCode === 39) {\n        movePlayer(1);\n      } else if (keyCode === 40) {\n        // just call once\n        if (repeat) return;\n        setDropTime(30);\n      } else if (keyCode === 38) {\n        playerRotate(board);\n        tetrisAudio.playRotate();\n      }\n    }\n  };\n\n  const drop = () => {\n    if (!isColliding(player, board, { x: 0, y: 1 })) {\n      updatePlayerPos({ x: 0, y: 1, collided: false });\n    } else {\n      if (player.pos.y < 1) {\n        setCurrentLives(currentLives - 1);\n        if (currentLives - 1 <= 0) {\n          setGameOverState(true);\n          setGameOver(true);\n          setPointsEarned(points);\n          setDropTime(null);\n          tetrisAudio.playGameOver();\n        } else {\n          setBoard(createBoard());\n        }\n      } else {\n        updatePlayerPos({ x: 0, y: 0, collided: true });\n        tetrisAudio.playLock();\n      }\n    }\n  };\n\n  const startGame = () => {\n    setGameStarted(true);\n    setBoard(createBoard());\n    setDropTime(intervalSpeed); // Use initial speed\n    setNextPiece(randomTetromino());\n    resetPlayerWithNextPiece();\n    setGameOverState(false);\n    setPoints(0);\n    setCurrentLives(lives);\n    setLevel(1);\n    setTotalLinesCleared(0);\n    setQuitGame(false);\n  };\n\n  const cancelQuit = () => {\n    setQuitGame(false);\n    setGamePaused(wasGamePaused);\n  };\n\n  const handleQuitConfirm = () => {\n    setPointsEarned(points);\n    setGameOver(true);\n    setGameStarted(false);\n    setDropTime(null);\n  };\n\n  const preventDefaultForScrollKeys = (e: any) => {\n    const keys: any = { 37: 1, 38: 1, 39: 1, 40: 1 };\n    if (keys[e.keyCode] === 1) {\n      e.preventDefault();\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n    tetrisAudio.init();\n    return () => {\n      tetrisAudio.dispose();\n    };\n  }, []);\n\n  useInterval(() => {\n    if (gameStarted && !gameOver && !gamePaused) {\n      drop();\n    }\n  }, dropTime);\n\n  useEffect(() => {\n    if (rowsCleared > 0) {\n      // Calculate points based on lines cleared\n      let pointsEarned = 0;\n      switch (rowsCleared) {\n        case 1:\n          pointsEarned = 100 * level;\n          break;\n        case 2:\n          pointsEarned = 300 * level;\n          break;\n        case 3:\n          pointsEarned = 500 * level;\n          break;\n        case 4:\n          pointsEarned = 800 * level; // Tetris!\n          break;\n        default:\n          pointsEarned = 100 * level * rowsCleared;\n      }\n\n      // Play line clear sound\n      tetrisAudio.playLineClear(rowsCleared);\n\n      setPoints((prev) => prev + pointsEarned);\n      setTotalLinesCleared((prev) => {\n        const newTotal = prev + rowsCleared;\n        // Level up every 10 lines\n        const newLevel = Math.floor(newTotal / 10) + 1;\n        if (newLevel > level) {\n          setLevel(newLevel);\n        }\n        return newTotal;\n      });\n      setDropTime(intervalSpeed);\n    }\n  }, [rowsCleared, level, intervalSpeed]);\n\n  // Adjust the speed of the game according to the level\n  useEffect(() => {\n    // Speed formula: 1000ms - (level * 50ms), minimum 100ms\n    const newSpeed = Math.max(100, 1000 - (level - 1) * 50);\n    setIntervalSpeed(newSpeed);\n  }, [level]);\n\n  useEffect(() => {\n    setDropTime(intervalSpeed); // Update dropTime when intervalSpeed changes\n  }, [intervalSpeed]);\n\n  // Add the event listeners on mount and remove them on unmount\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => move(e);\n    const handleKeyUp = (e: KeyboardEvent) => keyUp(e);\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gamePaused, gameOver, player, board, intervalSpeed, movePlayer, playerRotate]);\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    const timeoutRef = touchTimeoutRef.current;\n    return () => {\n      if (timeoutRef) {\n        clearTimeout(timeoutRef);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"game-container\" style={{ backgroundColor: brandColor ? brandColor : '#111827' }}>\n      {/* Game Header */}\n      <GameHeader\n        level={level}\n        lives={currentLives}\n        score={points}\n        onPause={() => setGamePaused(!gamePaused)}\n        isPaused={gamePaused}\n        brandColor={brandColor}\n        isMobile={mobile}\n        onQuit={() => {\n          setQuitGame(true);\n          setWasGamePaused(gamePaused);\n          setGamePaused(true);\n        }}\n        showQuitButton={gameStarted}\n        isQuitting={quitGame}\n      />\n      {/* Game Container */}\n      <div className=\"game-board\">\n        <div className=\"game-board-inner\">\n          {/* Game Board */}\n          <div\n            className=\"game-board-content\"\n            onKeyDown={move}\n            onKeyUp={keyUp}\n          >\n            <div style={{ display: 'flex', gap: '1rem' }}>\n              {/* Main Board */}\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <Board board={board} clearingRows={clearingRows} />\n              </div>\n\n              {/* Next Piece Preview */}\n              <div className=\"game-next-piece\">\n                <h3 className=\"game-next-piece-title\">SIGUIENTE</h3>\n                <div className=\"game-next-piece-box\">\n                  <NextPiece shape={nextPiece.shape} color={nextPiece.color} />\n                </div>\n                {skin !== 'default' && (\n                  <div style={{ width: '100%', marginTop: '1.5rem', color: '#9ca3af' }}>\n                    <img\n                      src={`/games/tetris/skins/${skin}/ad.webp`}\n                      alt={`${skin} skin - Ad 200x600`}\n                      style={{ width: '96%', margin: '0 auto', objectFit: 'contain' }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Game Overlays */}\n          {gamePaused && !quitGame && (\n            <GameOverlay\n              type=\"pause\"\n              brandColor={brandColor}\n              onAction={() => setGamePaused(false)}\n            />\n          )}\n\n          {/* Quit Confirmation Overlay */}\n          {quitGame && (\n            <GameOverlay\n              type=\"custom\"\n              title=\"Salir del Juego?\"\n              message={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n              brandColor={brandColor}\n              customContent={\n                <div className=\"game-quit-buttons\">\n                  <button\n                    onClick={cancelQuit}\n                    className=\"game-quit-btn game-quit-btn-cancel\"\n                  >\n                     Cancelar\n                  </button>\n                  <button\n                    onClick={handleQuitConfirm}\n                    className=\"game-quit-btn game-quit-btn-confirm\"\n                  >\n                     Salir Ahora\n                  </button>\n                </div>\n              }\n            />\n          )}\n\n          {gameOver && (\n            <GameOverlay type=\"gameOver\" score={points} brandColor={brandColor} />\n          )}\n\n          {!gameStarted && (\n            <GameOverlay\n              type=\"custom\"\n              brandColor={brandColor}\n              onAction={startGame}\n              actionText=\" JUGAR\"\n              showPressToStart={false}\n              customContent={\n                <div style={{ textAlign: 'center' }}>\n                  <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#a855f7', marginBottom: '0.5rem' }}>\n                    {gameTitle}\n                  </h1>\n                  {brandLogo && (\n                    <>\n                      <span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n                      <img\n                        src={brandLogo}\n                        alt=\"Brand Logo\"\n                        style={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n                      />\n                    </>\n                  )}\n                  <div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n                    <p> Completa lneas horizontales</p>\n                    <p> Rota las piezas con flecha arriba</p>\n                    <p> Acelera la cada con flecha abajo</p>\n                  </div>\n                  <div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n                    <p>Usa las flechas del teclado o los controles tctiles</p>\n                  </div>\n                </div>\n              }\n            />\n          )}\n        </div>\n      </div>\n      {/* Mobile Controls */}\n      {mobile && gameStarted && (\n        <GameControls\n          onControl={handleControl}\n          onControlEnd={handleControlEnd}\n          layout=\"arrows\"\n          brandColor={brandColor}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TetrisGame;\n","import { useCallback, useState } from 'react'\nimport { BOARD_WIDTH, BoardType, randomTetromino, isColliding } from '../game'\n\nexport type Player = {\n\tpos: {\n\t\tx: number\n\t\ty: number\n\t}\n\ttetromino: (string | number)[][]\n\tcollided: boolean\n}\n\nexport const usePlayer = () => {\n\tconst [player, setPlayer] = useState({} as Player)\n\n\tconst rotate = (matrix: Player['tetromino']) => {\n\t\t// Make the rows to become cols (transpose)\n\t\tconst mtrx = matrix.map((_, i) => matrix.map(column => column[i]))\n\t\t// Reverse each row to get a rotated matrix\n\t\treturn mtrx.map(row => row.reverse())\n\t}\n\n\tconst playerRotate = (stage: BoardType): void => {\n\t\tconst clonedPlayer = JSON.parse(JSON.stringify(player))\n\t\tclonedPlayer.tetromino = rotate(clonedPlayer.tetromino)\n\n\t\t// This one is so the player can't rotate into the walls or other tetrominos that's merged\n\t\tconst posX = clonedPlayer.pos.x\n\t\tlet offset = 1\n\t\twhile (isColliding(clonedPlayer, stage, { x: 0, y: 0 })) {\n\t\t\tclonedPlayer.pos.x += offset\n\t\t\toffset = -(offset + (offset > 0 ? 1 : -1))\n\n\t\t\tif (offset > clonedPlayer.tetromino[0].length) {\n\t\t\t\tclonedPlayer.pos.x = posX\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tsetPlayer(clonedPlayer)\n\t}\n\n\tconst updatePlayerPos = ({\n\t\tx,\n\t\ty,\n\t\tcollided,\n\t}: {\n\t\tx: number\n\t\ty: number\n\t\tcollided: boolean\n\t}): void => {\n\t\tsetPlayer(prev => ({\n\t\t\t...prev,\n\t\t\tpos: { x: prev.pos.x + x, y: prev.pos.y + y },\n\t\t\tcollided,\n\t\t}))\n\t}\n\n\tconst resetPlayer = useCallback(\n\t\t(shape?: (string | number)[][]): void =>\n\t\t\tsetPlayer({\n\t\t\t\tpos: { x: BOARD_WIDTH / 2 - 2, y: 0 },\n\t\t\t\ttetromino: shape || randomTetromino().shape,\n\t\t\t\tcollided: false,\n\t\t\t}),\n\t\t[]\n\t)\n\n\treturn { player, updatePlayerPos, resetPlayer, playerRotate }\n}\n","import { useEffect, useRef } from 'react'\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n\tconst savedCallback = useRef<() => void>(callback)\n\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback\n\t}, [callback])\n\n\tuseEffect(() => {\n\t\tconst tick = () => {\n\t\t\tif (savedCallback.current) {\n\t\t\t\tsavedCallback.current()\n\t\t\t}\n\t\t}\n\n\t\tif (delay !== null) {\n\t\t\tconst id = setInterval(tick, delay)\n\t\t\treturn () => clearInterval(id)\n\t\t}\n\t}, [delay])\n}\n","export interface Position {\n\tx: number\n\ty: number\n}\n\nexport type Direction = 'UP' | 'DOWN' | 'LEFT' | 'RIGHT'\n\nexport interface Food {\n\tposition: Position\n\tpoints: number\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n}\n\nexport interface FoodType {\n\ttype: 'apple' | 'banana' | 'cherries' | 'grapes' | 'boost' | 'diet'\n\tpoints: number\n\tspecialEffect?: 'boost' | 'diet'\n\trarity?: number // 0-1, where 1 is most common\n}\n\nexport const FOOD_TYPES: FoodType[] = [\n\t{ type: 'apple', points: 1, rarity: 0.3 },\n\t{ type: 'banana', points: 2, rarity: 0.25 },\n\t{ type: 'cherries', points: 3, rarity: 0.2 },\n\t{ type: 'grapes', points: 5, rarity: 0.15 },\n\t{ type: 'boost', points: 1, specialEffect: 'boost', rarity: 0.05 },\n\t{ type: 'diet', points: 0, specialEffect: 'diet', rarity: 0.05 },\n]\n\nexport interface GameState {\n\tsnake: Position[]\n\tfood: Food\n\tdirection: Direction\n\tnextDirection: Direction\n\tscore: number\n\tlives: number\n\tgameStarted: boolean\n\tgamePaused: boolean\n\tgameOver: boolean\n\tspeed: number\n}\n\nexport interface SnakeGameProps {\n\timages: {\n\t\theadUp: HTMLImageElement\n\t\theadDown: HTMLImageElement\n\t\theadLeft: HTMLImageElement\n\t\theadRight: HTMLImageElement\n\t\ttail: HTMLImageElement\n\t\tapple: HTMLImageElement\n\t\tbanana: HTMLImageElement\n\t\tcherries: HTMLImageElement\n\t\tgrapes: HTMLImageElement\n\t\tboost: HTMLImageElement\n\t\tdiet: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t}\n\tonScoreUpdate: (score: number) => void\n\tonLivesUpdate: (lives: number) => void\n\tonGameOver: () => void\n\tisPaused: boolean\n\tboardSize?: number\n\tcellSize?: number\n}\n","import * as Tone from 'tone'\n\nexport class SnakeAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection for monophonic synths\n\tprivate lastSynthTime = 0\n\tprivate lastNoiseTime = 0\n\tprivate readonly MIN_TIME_GAP = 0.015\n\n\t// Synthesizers\n\tprivate popSynth: Tone.Synth | null = null\n\tprivate bellSynth: Tone.PolySynth | null = null\n\tprivate bassSynth: Tone.MembraneSynth | null = null\n\tprivate noiseSynth: Tone.NoiseSynth | null = null\n\tprivate melodySynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Pop synth - for eating food\n\t\tthis.popSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Bell synth - sparkly sounds for boost\n\t\tthis.bellSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Bass synth - for game over thud\n\t\tthis.bassSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.4,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Noise synth - for game over texture\n\t\tthis.noiseSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'pink' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.005,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -18,\n\t\t}).toDestination()\n\n\t\t// Melody synth - for speed up fanfare\n\t\tthis.melodySynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.2,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\tprivate getSafeTime(lastTime: number, synthKey: 'synth' | 'noise'): number {\n\t\tconst now = Tone.now()\n\t\tconst minNextTime = lastTime + this.MIN_TIME_GAP\n\t\tconst safeTime = Math.max(now, minNextTime)\n\n\t\tif (synthKey === 'synth') this.lastSynthTime = safeTime\n\t\telse if (synthKey === 'noise') this.lastNoiseTime = safeTime\n\n\t\treturn safeTime\n\t}\n\n\t// Pop sound when eating regular food\n\tplayEatFood(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('C5', '16n', time)\n\t}\n\n\t// Sparkly arpeggio when eating boost item\n\tplayEatBoost(): void {\n\t\tif (!this.initialized || this.muted || !this.bellSynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['E5', 'G5', 'B5', 'E6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.bellSynth!.triggerAttackRelease(note, '16n', now + i * 0.05)\n\t\t})\n\t}\n\n\t// Whoosh down when eating diet item\n\tplayEatDiet(): void {\n\t\tif (!this.initialized || this.muted || !this.popSynth) return\n\t\tconst time = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tthis.popSynth.triggerAttackRelease('G4', '16n', time)\n\t\tthis.popSynth.triggerAttackRelease('D4', '16n', time + 0.05)\n\t\tthis.lastSynthTime = time + 0.05\n\t}\n\n\t// Bass thud + noise for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted) return\n\n\t\tconst bassTime = this.getSafeTime(this.lastSynthTime, 'synth')\n\t\tconst noiseTime = this.getSafeTime(this.lastNoiseTime, 'noise')\n\n\t\tif (this.bassSynth) {\n\t\t\tthis.bassSynth.triggerAttackRelease('C2', '4n', bassTime)\n\t\t}\n\t\tif (this.noiseSynth) {\n\t\t\tthis.noiseSynth.triggerAttackRelease('8n', noiseTime)\n\t\t}\n\t\tif (this.melodySynth) {\n\t\t\t// Sad descending phrase\n\t\t\tconst phrase = ['E4', 'D4', 'C4', 'B3']\n\t\t\tphrase.forEach((note, i) => {\n\t\t\t\tthis.melodySynth!.triggerAttackRelease(\n\t\t\t\t\tnote,\n\t\t\t\t\t'8n',\n\t\t\t\t\tbassTime + 0.2 + i * 0.2\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t}\n\n\t// Ascending tone when speed increases\n\tplaySpeedUp(): void {\n\t\tif (!this.initialized || this.muted || !this.melodySynth) return\n\t\tconst now = Tone.now()\n\t\tconst notes = ['C5', 'E5', 'G5']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.melodySynth!.triggerAttackRelease(note, '32n', now + i * 0.06)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.popSynth?.dispose()\n\t\tthis.bellSynth?.dispose()\n\t\tthis.bassSynth?.dispose()\n\t\tthis.noiseSynth?.dispose()\n\t\tthis.melodySynth?.dispose()\n\n\t\tthis.popSynth = null\n\t\tthis.bellSynth = null\n\t\tthis.bassSynth = null\n\t\tthis.noiseSynth = null\n\t\tthis.melodySynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const snakeAudio = new SnakeAudioManager()\n","import React, { useRef, useEffect, useCallback, useState } from 'react'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { Position, Direction, Food, FOOD_TYPES, SnakeGameProps } from './types'\nimport { snakeAudio } from './utils/audioManager'\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\timages,\n\tonScoreUpdate,\n\tonGameOver,\n\tisPaused,\n\tboardSize = 20,\n\tcellSize = 20,\n}) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst [snake, setSnake] = useState<Position[]>([{ x: 10, y: 10 }])\n\tconst [food, setFood] = useState<Food>({\n\t\tposition: { x: 15, y: 15 },\n\t\tpoints: 1,\n\t\ttype: 'apple',\n\t})\n\tconst [direction, setDirection] = useState<Direction>('RIGHT')\n\tconst [nextDirection, setNextDirection] = useState<Direction>('RIGHT')\n\tconst [speed, setSpeed] = useState<number>(200)\n\tconst lastUpdateTime = useRef<number>(0)\n\tconst animationFrameId = useRef<number>(0)\n\tconst currentScore = useRef<number>(0)\n\tconst [boostActive, setBoostActive] = useState<boolean>(false)\n\tconst [boostTimer, setBoostTimer] = useState<number>(0)\n\tconst boostMultiplier = useRef<number>(1)\n\tconst hasCollided = useRef<boolean>(false)\n\n\tconst canvasSize = boardSize * cellSize\n\n\t// Initialize audio and reset collision flag when component mounts\n\tuseEffect(() => {\n\t\thasCollided.current = false\n\t\tsnakeAudio.init()\n\t\treturn () => {\n\t\t\thasCollided.current = false\n\t\t\tsnakeAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Get random position that doesn't overlap with snake\n\tconst getRandomPosition = useCallback((): Position => {\n\t\tconst generatePosition = (): Position => ({\n\t\t\tx: Math.floor(Math.random() * boardSize),\n\t\t\ty: Math.floor(Math.random() * boardSize),\n\t\t})\n\n\t\tlet pos = generatePosition()\n\t\t// eslint-disable-next-line no-loop-func\n\t\twhile (snake.some(segment => segment.x === pos.x && segment.y === pos.y)) {\n\t\t\tpos = generatePosition()\n\t\t}\n\t\treturn pos\n\t}, [boardSize, snake])\n\n\t// Get random food item based on rarity\n\tconst getRandomFood = useCallback((): Food => {\n\t\t// Calculate total rarity weight\n\t\tconst totalWeight = FOOD_TYPES.reduce(\n\t\t\t(sum, food) => sum + (food.rarity || 0),\n\t\t\t0\n\t\t)\n\t\tlet random = Math.random() * totalWeight\n\n\t\t// Select food based on weighted random\n\t\tlet selectedFood = FOOD_TYPES[0]\n\t\tfor (const foodType of FOOD_TYPES) {\n\t\t\trandom -= foodType.rarity || 0\n\t\t\tif (random <= 0) {\n\t\t\t\tselectedFood = foodType\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tposition: getRandomPosition(),\n\t\t\tpoints: selectedFood.points,\n\t\t\ttype: selectedFood.type,\n\t\t}\n\t}, [getRandomPosition])\n\n\t// Handle keyboard input\n\tconst handleKeyDown = useCallback(\n\t\t(event: KeyboardEvent) => {\n\t\t\tif (isPaused) return\n\n\t\t\t// Prevent default for arrow keys\n\t\t\tif (event.key.startsWith('Arrow')) {\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\n\t\t\t// Queue direction changes to prevent immediate reversal\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tif (direction !== 'DOWN') {\n\t\t\t\t\t\tsetNextDirection('UP')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tif (direction !== 'UP') {\n\t\t\t\t\t\tsetNextDirection('DOWN')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tif (direction !== 'RIGHT') {\n\t\t\t\t\t\tsetNextDirection('LEFT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tif (direction !== 'LEFT') {\n\t\t\t\t\t\tsetNextDirection('RIGHT')\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\t[isPaused, direction]\n\t)\n\n\t// Setup keyboard event listeners\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', handleKeyDown)\n\t\treturn () => window.removeEventListener('keydown', handleKeyDown)\n\t}, [handleKeyDown])\n\n\t// Move snake\n\tconst moveSnake = useCallback(() => {\n\t\tif (isPaused) return\n\n\t\t// Update direction to queued direction\n\t\tsetDirection(nextDirection)\n\n\t\tsetSnake(currentSnake => {\n\t\t\tconst newSnake = [...currentSnake]\n\t\t\tconst head = { ...newSnake[0] }\n\n\t\t\t// Move head based on direction\n\t\t\tswitch (nextDirection) {\n\t\t\t\tcase 'UP':\n\t\t\t\t\thead.y -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'DOWN':\n\t\t\t\t\thead.y += 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'LEFT':\n\t\t\t\t\thead.x -= 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 'RIGHT':\n\t\t\t\t\thead.x += 1\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t// Wrap around board edges\n\t\t\tif (head.x < 0) head.x = boardSize - 1\n\t\t\tif (head.x >= boardSize) head.x = 0\n\t\t\tif (head.y < 0) head.y = boardSize - 1\n\t\t\tif (head.y >= boardSize) head.y = 0\n\n\t\t\t// Check self collision\n\t\t\tif (\n\t\t\t\tnewSnake.some(segment => segment.x === head.x && segment.y === head.y)\n\t\t\t) {\n\t\t\t\t// Collision detected - notify parent only once\n\t\t\t\tif (!hasCollided.current) {\n\t\t\t\t\thasCollided.current = true\n\t\t\t\t\tsnakeAudio.playGameOver()\n\t\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tonGameOver()\n\t\t\t\t\t}, 0)\n\t\t\t\t}\n\t\t\t\treturn currentSnake\n\t\t\t}\n\n\t\t\t// Add new head\n\t\t\tnewSnake.unshift(head)\n\n\t\t\t// Check food collision\n\t\t\tif (head.x === food.position.x && head.y === food.position.y) {\n\t\t\t\t// Handle special effects\n\t\t\t\tconst foodType = FOOD_TYPES.find(f => f.type === food.type)\n\t\t\t\tif (foodType?.specialEffect === 'boost') {\n\t\t\t\t\t// Activate boost\n\t\t\t\t\tsetBoostActive(true)\n\t\t\t\t\tsetBoostTimer(10000) // 10 seconds\n\t\t\t\t\tboostMultiplier.current = 2\n\t\t\t\t\tsnakeAudio.playEatBoost()\n\t\t\t\t} else if (foodType?.specialEffect === 'diet' && newSnake.length > 1) {\n\t\t\t\t\t// Reduce snake size by 3 segments (minimum 1 segment)\n\t\t\t\t\tconst segmentsToRemove = Math.min(3, newSnake.length - 1)\n\t\t\t\t\tfor (let i = 0; i < segmentsToRemove; i++) {\n\t\t\t\t\t\tnewSnake.pop()\n\t\t\t\t\t}\n\t\t\t\t\tsnakeAudio.playEatDiet()\n\t\t\t\t} else {\n\t\t\t\t\tsnakeAudio.playEatFood()\n\t\t\t\t}\n\n\t\t\t\t// Eat food and calculate score with boost multiplier\n\t\t\t\tconst baseScore = food.points\n\t\t\t\tconst actualScore = baseScore * boostMultiplier.current\n\t\t\t\tcurrentScore.current += actualScore\n\t\t\t\t// Use setTimeout to avoid setState during render\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonScoreUpdate(actualScore)\n\t\t\t\t}, 0)\n\t\t\t\tsetFood(getRandomFood())\n\n\t\t\t\t// Increase speed every 25 points with more progressive increments\n\t\t\t\tif (currentScore.current % 25 === 0) {\n\t\t\t\t\tsetSpeed(prev => Math.max(40, prev - 10))\n\t\t\t\t\tsnakeAudio.playSpeedUp()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Remove tail if no food eaten\n\t\t\t\tnewSnake.pop()\n\t\t\t}\n\n\t\t\treturn newSnake\n\t\t})\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isPaused, nextDirection, boardSize, food, getRandomFood, onGameOver])\n\n\t// Update boost timer\n\tuseEffect(() => {\n\t\tif (boostActive && boostTimer > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tsetBoostTimer(prev => {\n\t\t\t\t\tif (prev <= 100) {\n\t\t\t\t\t\tsetBoostActive(false)\n\t\t\t\t\t\tboostMultiplier.current = 1\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t\treturn prev - 100\n\t\t\t\t})\n\t\t\t}, 100)\n\t\t\treturn () => clearInterval(interval)\n\t\t}\n\t}, [boostActive, boostTimer])\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst gameLoop = (timestamp: number) => {\n\t\t\tif (timestamp - lastUpdateTime.current >= speed) {\n\t\t\t\tmoveSnake()\n\t\t\t\tlastUpdateTime.current = timestamp\n\t\t\t}\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [moveSnake, speed])\n\n\t// Drawing\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\t// Clear canvas\n\t\tctx.clearRect(0, 0, canvasSize, canvasSize)\n\n\t\t// Draw background\n\t\tctx.drawImage(images.background, 0, 0, canvasSize, canvasSize)\n\n\t\t// Draw grid overlay (subtle)\n\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.1)'\n\t\tctx.lineWidth = 0.5\n\t\tfor (let i = 0; i <= boardSize; i++) {\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(i * cellSize, 0)\n\t\t\tctx.lineTo(i * cellSize, canvasSize)\n\t\t\tctx.moveTo(0, i * cellSize)\n\t\t\tctx.lineTo(canvasSize, i * cellSize)\n\t\t\tctx.stroke()\n\t\t}\n\n\t\t// Draw snake\n\t\tsnake.forEach((segment, index) => {\n\t\t\tif (index === 0) {\n\t\t\t\t// Draw head based on direction\n\t\t\t\tlet headImage: HTMLImageElement\n\t\t\t\tswitch (direction) {\n\t\t\t\t\tcase 'UP':\n\t\t\t\t\t\theadImage = images.headUp\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'DOWN':\n\t\t\t\t\t\theadImage = images.headDown\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'LEFT':\n\t\t\t\t\t\theadImage = images.headLeft\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'RIGHT':\n\t\t\t\t\t\theadImage = images.headRight\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tctx.drawImage(\n\t\t\t\t\theadImage,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\t// Draw tail for body segments\n\t\t\t\tctx.drawImage(\n\t\t\t\t\timages.tail,\n\t\t\t\t\tsegment.x * cellSize,\n\t\t\t\t\tsegment.y * cellSize,\n\t\t\t\t\tcellSize,\n\t\t\t\t\tcellSize\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\n\t\t// Draw food\n\t\tlet foodImage: HTMLImageElement\n\t\tswitch (food.type) {\n\t\t\tcase 'apple':\n\t\t\t\tfoodImage = images.apple\n\t\t\t\tbreak\n\t\t\tcase 'banana':\n\t\t\t\tfoodImage = images.banana\n\t\t\t\tbreak\n\t\t\tcase 'cherries':\n\t\t\t\tfoodImage = images.cherries\n\t\t\t\tbreak\n\t\t\tcase 'grapes':\n\t\t\t\tfoodImage = images.grapes\n\t\t\t\tbreak\n\t\t\tcase 'boost':\n\t\t\t\tfoodImage = images.boost\n\t\t\t\tbreak\n\t\t\tcase 'diet':\n\t\t\t\tfoodImage = images.diet\n\t\t\t\tbreak\n\t\t}\n\t\tctx.drawImage(\n\t\t\tfoodImage,\n\t\t\tfood.position.x * cellSize,\n\t\t\tfood.position.y * cellSize,\n\t\t\tcellSize,\n\t\t\tcellSize\n\t\t)\n\n\t\t// Draw boost indicator\n\t\tif (boostActive) {\n\t\t\t// Golden border effect\n\t\t\tctx.strokeStyle = '#FFD700'\n\t\t\tctx.lineWidth = 4\n\t\t\tctx.strokeRect(2, 2, canvasSize - 4, canvasSize - 4)\n\n\t\t\t// Boost timer text\n\t\t\tctx.fillStyle = '#FFD700'\n\t\t\tctx.font = 'bold 16px Arial'\n\t\t\tctx.shadowColor = 'black'\n\t\t\tctx.shadowBlur = 2\n\t\t\tctx.fillText(`Boost: ${(boostTimer / 1000).toFixed(1)}s`, 10, 25)\n\t\t\tctx.shadowBlur = 0\n\t\t}\n\t}, [\n\t\tsnake,\n\t\tfood,\n\t\tdirection,\n\t\timages,\n\t\tboardSize,\n\t\tcellSize,\n\t\tcanvasSize,\n\t\tboostActive,\n\t\tboostTimer,\n\t])\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={canvasSize}\n\t\t\theight={canvasSize}\n\t\t\tclassName=\"border-4 border-green-500/50 rounded-lg shadow-2xl\"\n\t\t\tstyle={{\n\t\t\t\timageRendering: 'auto',\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport default SnakeGame\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport SnakeGameCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { useImageLoader } from './hooks/useImageLoader'\n\ninterface SnakeGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst SnakeGame: React.FC<SnakeGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#10b981',\n\tskin,\n\tgameTitle = 'SNAKE',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [images, imagesLoading, imagesError] = useImageLoader(skin)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\tconst [showSpeedBoost, setShowSpeedBoost] = useState(false)\n\tconst [speedBoostText, setSpeedBoostText] = useState('')\n\tconst [totalScore, setTotalScore] = useState(0)\n\tconst [collisionCount, setCollisionCount] = useState(0)\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input for pause\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted && images) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetTotalScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, images, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(totalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(() => {\n\t\tif (!isGameOver) {\n\t\t\tconst newLives = lives - 1\n\t\t\tsetLives(newLives)\n\n\t\t\tif (newLives <= 0) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(totalScore)\n\t\t\t} else {\n\t\t\t\t// Continue with remaining lives\n\t\t\t\t// Force remount the game component\n\t\t\t\tsetCollisionCount(prev => prev + 1)\n\t\t\t}\n\t\t}\n\t}, [isGameOver, lives, totalScore, setGameOver, setPointsEarned])\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(points: number) => {\n\t\t\tconst newScore = totalScore + points\n\t\t\tsetTotalScore(newScore)\n\t\t\tsetScore(newScore)\n\n\t\t\tif (maxPoints && newScore >= maxPoints) {\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t\tsetPointsEarned(newScore)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Show speed boost notification at certain score thresholds\n\t\t\tconst speedThresholds = [50, 100, 200, 300, 500]\n\t\t\tconst oldThreshold = speedThresholds.filter(t => totalScore >= t).length\n\t\t\tconst newThreshold = speedThresholds.filter(t => newScore >= t).length\n\n\t\t\tif (newThreshold > oldThreshold) {\n\t\t\t\tsetSpeedBoostText('Velocidad Aumentada!')\n\t\t\t\tsetShowSpeedBoost(true)\n\t\t\t\tsetTimeout(() => setShowSpeedBoost(false), 1500)\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[totalScore, maxPoints, setGameOver, setPointsEarned]\n\t)\n\n\tconst handleVirtualControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (isGameStarted && !isPaused && !isGameOver) {\n\t\t\t\t// Create synthetic keyboard event\n\t\t\t\tconst event = new KeyboardEvent('keydown', {\n\t\t\t\t\tkey: `Arrow${direction.charAt(0).toUpperCase() + direction.slice(1)}`,\n\t\t\t\t\tbubbles: true,\n\t\t\t\t})\n\t\t\t\twindow.dispatchEvent(event)\n\t\t\t}\n\t\t},\n\t\t[isGameStarted, isPaused, isGameOver]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst boardSize = 20\n\t\tconst cellSize = 20\n\t\tconst canvasSize = boardSize * cellSize // 400x400\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\tconst scaleX = containerWidth / canvasSize\n\t\tconst scaleY = containerHeight / canvasSize\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 1.2)\n\t\t\treturn Math.max(scale, 0.5)\n\t\t} else {\n\t\t\treturn Math.min(scale, 1.0) // Never scale above 1 on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Loading State */}\n\t\t\t\t\t{imagesLoading && (\n\t\t\t\t\t\t<div className=\"game-loading\">\n\t\t\t\t\t\t\t<div>Cargando...</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Error State */}\n\t\t\t\t\t{imagesError && (\n\t\t\t\t\t\t<div className=\"game-error\">\n\t\t\t\t\t\t\t<div>Error al cargar imgenes: {imagesError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game */}\n\t\t\t\t\t{images && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SnakeGameCore\n\t\t\t\t\t\t\t\tkey={collisionCount}\n\t\t\t\t\t\t\t\timages={images}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Speed Boost Notification */}\n\t\t\t\t\t{showSpeedBoost && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\">\n\t\t\t\t\t\t\t<div className=\"game-notification-content\">\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{speedBoostText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && images && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Mueve la serpiente con las flechas</p>\n\t\t\t\t\t\t\t\t\t\t<p> Recolecta los items para crecer</p>\n\t\t\t\t\t\t\t\t\t\t<p> La velocidad aumenta con los puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> No choques contigo mismo</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa las flechas del teclado o los controles tctiles</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{isMobileDevice && isGameStarted && !isGameOver && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleVirtualControl}\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\tlayout=\"arrows\"\n\t\t\t\t\tshowActionButton={false}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default SnakeGame\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\theadUp: HTMLImageElement\n\theadDown: HTMLImageElement\n\theadLeft: HTMLImageElement\n\theadRight: HTMLImageElement\n\ttail: HTMLImageElement\n\tapple: HTMLImageElement\n\tbanana: HTMLImageElement\n\tcherries: HTMLImageElement\n\tgrapes: HTMLImageElement\n\tboost: HTMLImageElement\n\tdiet: HTMLImageElement\n\tbackground: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/space-snake/img/`\n\t\t\t\tconst imagePath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-up.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-down.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-left.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}head-right.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}tail.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}banana.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}cherries.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`),\n\t\t\t\t\tloadImage(`${basePath}${imagePath}boost.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}grapes.webp`)\n\t\t\t\t\t), // Fallback to grapes if boost image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}diet.webp`).catch(() =>\n\t\t\t\t\t\tloadImage(`${basePath}${imagePath}apple.webp`)\n\t\t\t\t\t), // Fallback to apple if diet image not found\n\t\t\t\t\tloadImage(`${basePath}${imagePath}bg.webp`), // Background from skin folder if skin is provided\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\theadUp,\n\t\t\t\t\theadDown,\n\t\t\t\t\theadLeft,\n\t\t\t\t\theadRight,\n\t\t\t\t\ttail,\n\t\t\t\t\tapple,\n\t\t\t\t\tbanana,\n\t\t\t\t\tcherries,\n\t\t\t\t\tgrapes,\n\t\t\t\t\tboost,\n\t\t\t\t\tdiet,\n\t\t\t\t\tbackground,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","import * as Tone from 'tone'\n\nexport class FlappyBirdAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastFlapTime = 0\n\tprivate readonly MIN_FLAP_GAP = 0.08\n\n\t// Synthesizers\n\tprivate flapSynth: Tone.Synth | null = null\n\tprivate scoreSynth: Tone.PolySynth | null = null\n\tprivate collisionSynth: Tone.MembraneSynth | null = null\n\tprivate gameOverSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Flap synth - quick sine sweep up\n\t\tthis.flapSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Score synth - bell chime\n\t\tthis.scoreSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.15,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Collision synth - impact thud\n\t\tthis.collisionSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.03,\n\t\t\toctaves: 3,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t\tvolume: -6,\n\t\t}).toDestination()\n\n\t\t// Game over synth - descending melody\n\t\tthis.gameOverSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.25,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Quick upward sweep for flap\n\tplayFlap(): void {\n\t\tif (!this.initialized || this.muted || !this.flapSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastFlapTime < this.MIN_FLAP_GAP) return\n\n\t\tthis.lastFlapTime = now\n\t\t// Quick ascending notes for wing flap feel\n\t\tthis.flapSynth.triggerAttackRelease('C5', '32n', now)\n\t\tthis.flapSynth.triggerAttackRelease('E5', '32n', now + 0.03)\n\t}\n\n\t// Bell chime for scoring\n\tplayScore(): void {\n\t\tif (!this.initialized || this.muted || !this.scoreSynth) return\n\t\tconst now = Tone.now()\n\t\t// Pleasant ding\n\t\tthis.scoreSynth.triggerAttackRelease(['E5', 'G5'], '8n', now)\n\t}\n\n\t// Impact thud for collision\n\tplayCollision(): void {\n\t\tif (!this.initialized || this.muted || !this.collisionSynth) return\n\t\tconst now = Tone.now()\n\t\tthis.collisionSynth.triggerAttackRelease('C2', '8n', now)\n\t}\n\n\t// Descending melody for game over\n\tplayGameOver(): void {\n\t\tif (!this.initialized || this.muted || !this.gameOverSynth) return\n\t\tconst now = Tone.now()\n\n\t\t// Sad descending melody\n\t\tconst notes = ['E4', 'D4', 'C4', 'B3', 'G3']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.gameOverSynth!.triggerAttackRelease(note, '8n', now + i * 0.18)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.flapSynth?.dispose()\n\t\tthis.scoreSynth?.dispose()\n\t\tthis.collisionSynth?.dispose()\n\t\tthis.gameOverSynth?.dispose()\n\n\t\tthis.flapSynth = null\n\t\tthis.scoreSynth = null\n\t\tthis.collisionSynth = null\n\t\tthis.gameOverSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const flappyBirdAudio = new FlappyBirdAudioManager()\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { flappyBirdAudio } from '../utils/audioManager'\n\ninterface IConfig {\n\tassets: {\n\t\tbird: HTMLImageElement\n\t\tbackground: HTMLImageElement\n\t\tforeground: HTMLImageElement\n\t\tpipeNorth: HTMLImageElement\n\t\tpipeSouth: HTMLImageElement\n\t\tcoin: HTMLImageElement\n\t\theart: HTMLImageElement\n\t}\n\toptions: {\n\t\tdelayFrameCount: number\n\t\tbirdX: number\n\t\tgap: number\n\t\tupMovement: number\n\t\tgravity: number\n\t\tpointsPerObstacle: number\n\t\tlives: number\n\t\tgameTitle: string\n\t\thideOverlays?: boolean\n\t\tisPaused?: boolean\n\t\tmaxPoints?: number\n\t}\n\tfunctions: {\n\t\tsetGameOver: (isOver: boolean) => void\n\t\tsetPointsEarned: (points: number) => void\n\t\tonScoreUpdate?: (score: number) => void\n\t\tonLivesUpdate?: (lives: number) => void\n\t}\n}\n\ninterface Pipe {\n\tx: number\n\ty: number\n\tpassed: boolean\n}\n\nconst PIPE_WIDTH = 52\nconst PIPE_GAP_REDUCTION_RATE = 20\nconst MIN_GAP = 350\nconst BIRD_WIDTH = 34\nconst BIRD_HEIGHT = 24\nconst COLLISION_PADDING = 8\nconst FPS = 60\nconst FRAME_TIME = 1000 / FPS\n\nconst useFlappyAnimation = (config: IConfig | null) => {\n\tconst [score, setScore] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(config?.options.lives || 3)\n\tconst [countCollisions, setCountCollisions] = useState(0)\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [currentGap, setCurrentGap] = useState(config?.options.gap || 500)\n\n\tconst isOnTheFloor = useRef(false)\n\tconst delay = useRef(0)\n\tconst birdY = useRef(150)\n\tconst birdVelocity = useRef(0)\n\tconst pipesArray = useRef<Pipe[]>([{ x: 288, y: 0, passed: false }])\n\tconst lastFrameTime = useRef(0)\n\tconst birdRotation = useRef(0)\n\n\t// Initialize audio on mount\n\tuseEffect(() => {\n\t\tflappyBirdAudio.init()\n\t\treturn () => {\n\t\t\tflappyBirdAudio.dispose()\n\t\t}\n\t}, [])\n\n\tconst tap = useCallback(() => {\n\t\tif (!config) return\n\n\t\tif (!gameStarted) {\n\t\t\tstart()\n\t\t} else if (gameStarted && !isGameOver) {\n\t\t\tmoveUp()\n\t\t} else if (\n\t\t\tdelay.current > config.options.delayFrameCount &&\n\t\t\tisOnTheFloor.current\n\t\t) {\n\t\t\treset()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [config, gameStarted, isGameOver])\n\n\tconst moveUp = useCallback(() => {\n\t\tif (!config) return\n\t\tbirdVelocity.current = -config.options.upMovement / 2.8\n\t\tflappyBirdAudio.playFlap()\n\t}, [config])\n\n\tconst start = useCallback(() => {\n\t\tsetGameStarted(true)\n\t\tsetIsGameOver(false)\n\t\tsetScore(0)\n\t\tsetCurrentLives(config?.options.lives || 3)\n\t\tsetCountCollisions(0)\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tsetCurrentGap(config?.options.gap || 500)\n\t\tdelay.current = 0\n\t}, [config])\n\n\tconst reset = useCallback(() => {\n\t\tbirdY.current = 150\n\t\tbirdVelocity.current = 0\n\t\tbirdRotation.current = 0\n\t\tpipesArray.current = [{ x: 288, y: 0, passed: false }]\n\t\tdelay.current = 0\n\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tstart()\n\t\t} else {\n\t\t\tsetGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t}\n\t}, [currentLives, countCollisions, config, start])\n\n\tconst collision = useCallback(() => {\n\t\tconst newCollisions = countCollisions + 1\n\t\tconst newLives = currentLives - 1\n\n\t\tsetCountCollisions(newCollisions)\n\t\tsetCurrentLives(newLives)\n\t\tconfig?.functions.onLivesUpdate?.(newLives)\n\t\tflappyBirdAudio.playCollision()\n\n\t\tif (newLives <= 0 || newCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t\tflappyBirdAudio.playGameOver()\n\t\t} else {\n\t\t\treset()\n\t\t}\n\t}, [countCollisions, currentLives, config, score, reset])\n\n\tconst draw = useCallback(\n\t\t(context: CanvasRenderingContext2D) => {\n\t\t\tif (!config) return\n\n\t\t\tconst currentTime = performance.now()\n\t\t\tconst deltaTime = currentTime - lastFrameTime.current\n\n\t\t\tif (deltaTime < FRAME_TIME) return\n\n\t\t\tlastFrameTime.current = currentTime\n\n\t\t\tconst canvas = context.canvas\n\t\t\tconst {\n\t\t\t\tbird,\n\t\t\t\tforeground,\n\t\t\t\tbackground,\n\t\t\t\tpipeNorth,\n\t\t\t\tpipeSouth,\n\t\t\t\tcoin,\n\t\t\t\theart,\n\t\t\t} = config.assets\n\t\t\tconst { gravity } = config.options\n\n\t\t\t// Calculate pipe movement speed based on level\n\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\tconst pipeMovement = isGameOver ? 0 : 2 + (currentLevel - 1) * 0.2\n\t\t\tconst pipes = pipesArray.current\n\n\t\t\tcontext.clearRect(0, 0, canvas.width, canvas.height)\n\t\t\tcontext.drawImage(background, 0, 0)\n\n\t\t\tif (gameStarted && !isGameOver && !config.options.isPaused) {\n\t\t\t\tbirdVelocity.current += gravity / 6\n\t\t\t\tbirdVelocity.current = Math.min(birdVelocity.current, 8)\n\t\t\t\tbirdY.current += birdVelocity.current\n\n\t\t\t\tbirdRotation.current = Math.min(\n\t\t\t\t\tMath.max(birdVelocity.current * 3, -25),\n\t\t\t\t\t90\n\t\t\t\t)\n\n\t\t\t\tfor (let i = pipes.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (pipes[i].x < -PIPE_WIDTH) {\n\t\t\t\t\t\tpipes.splice(i, 1)\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.drawImage(pipeNorth, pipes[i].x, pipes[i].y)\n\t\t\t\t\tcontext.drawImage(pipeSouth, pipes[i].x, pipes[i].y + currentGap)\n\n\t\t\t\t\tpipes[i].x -= pipeMovement\n\n\t\t\t\t\t// Generate new pipe when the last pipe reaches a certain position\n\t\t\t\t\tif (\n\t\t\t\t\t\ti === pipes.length - 1 &&\n\t\t\t\t\t\tpipes[i].x <= canvas.width - 140 &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Increase variation based on score - more variety as game progresses\n\t\t\t\t\t\tconst difficultyFactor = Math.min(score / 100, 1.5)\n\t\t\t\t\t\tconst minY = -pipeNorth.height + 80\n\t\t\t\t\t\tconst maxY = canvas.height - foreground.height - currentGap - 80\n\n\t\t\t\t\t\t// Add more dramatic position changes between consecutive pipes\n\t\t\t\t\t\tconst lastPipeY = pipes[i].y\n\t\t\t\t\t\tconst baseY = Math.floor(Math.random() * (maxY - minY)) + minY\n\n\t\t\t\t\t\t// Ensure some minimum difference from last pipe for variety\n\t\t\t\t\t\tlet newY = baseY\n\t\t\t\t\t\tif (Math.abs(baseY - lastPipeY) < 50) {\n\t\t\t\t\t\t\t// Force a bigger change if pipes are too similar\n\t\t\t\t\t\t\tnewY = baseY + (Math.random() > 0.5 ? 60 : -60) * difficultyFactor\n\t\t\t\t\t\t\t// Clamp to valid range\n\t\t\t\t\t\t\tnewY = Math.max(minY, Math.min(maxY, newY))\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add random spacing between pipes - less spacing as difficulty increases\n\t\t\t\t\t\tconst baseSpacing = 180 - Math.floor(score / 100) * 5\n\t\t\t\t\t\tconst spacing =\n\t\t\t\t\t\t\tMath.floor(Math.random() * 30) + Math.max(150, baseSpacing)\n\n\t\t\t\t\t\tpipes.push({\n\t\t\t\t\t\t\tx: pipes[i].x + spacing,\n\t\t\t\t\t\t\ty: newY,\n\t\t\t\t\t\t\tpassed: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!pipes[i].passed &&\n\t\t\t\t\t\tpipes[i].x + PIPE_WIDTH < config.options.birdX &&\n\t\t\t\t\t\t!isGameOver\n\t\t\t\t\t) {\n\t\t\t\t\t\tpipes[i].passed = true\n\t\t\t\t\t\t// Calculate points based on level\n\t\t\t\t\t\tconst currentLevel = Math.floor(score / 200) + 1\n\t\t\t\t\t\tconst pointsEarned =\n\t\t\t\t\t\t\tconfig.options.pointsPerObstacle + (currentLevel - 1) * 5\n\t\t\t\t\t\tconst newScore = score + pointsEarned\n\t\t\t\t\t\tflappyBirdAudio.playScore()\n\n\t\t\t\t\t\t// Check if maxPoints is reached\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tconfig.options.maxPoints &&\n\t\t\t\t\t\t\tconfig.options.maxPoints > 0 &&\n\t\t\t\t\t\t\tnewScore >= config.options.maxPoints\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Set score to exactly maxPoints\n\t\t\t\t\t\t\tsetScore(config.options.maxPoints)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(config.options.maxPoints)\n\t\t\t\t\t\t\t// Trigger game over since max points reached\n\t\t\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setGameOver(true)\n\t\t\t\t\t\t\tconfig.functions.setPointsEarned(config.options.maxPoints)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetScore(newScore)\n\t\t\t\t\t\t\tconfig.functions.onScoreUpdate?.(newScore)\n\n\t\t\t\t\t\t\t// Gradual gap reduction for smoother difficulty curve\n\t\t\t\t\t\t\tconst gapReduction =\n\t\t\t\t\t\t\t\tMath.floor(newScore / PIPE_GAP_REDUCTION_RATE) * 6\n\t\t\t\t\t\t\tconst newGap = Math.max(\n\t\t\t\t\t\t\t\tconfig.options.gap - gapReduction,\n\t\t\t\t\t\t\t\tMIN_GAP\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tsetCurrentGap(newGap)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst hasHitFloor =\n\t\t\t\t\t\tbirdY.current + BIRD_HEIGHT >=\n\t\t\t\t\t\tcanvas.height - foreground.height + 20\n\t\t\t\t\tconst hasHitCeiling = birdY.current <= 0\n\n\t\t\t\t\t// More precise collision boxes\n\t\t\t\t\tconst birdLeft = config.options.birdX + COLLISION_PADDING\n\t\t\t\t\tconst birdRight =\n\t\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH - COLLISION_PADDING\n\t\t\t\t\tconst birdTop = birdY.current + COLLISION_PADDING\n\t\t\t\t\tconst birdBottom = birdY.current + BIRD_HEIGHT - COLLISION_PADDING\n\n\t\t\t\t\t// Pipe collision box with slight padding for fairness\n\t\t\t\t\tconst pipeLeft = pipes[i].x + 2\n\t\t\t\t\tconst pipeRight = pipes[i].x + PIPE_WIDTH - 2\n\t\t\t\t\tconst pipeTopBottom = pipes[i].y + pipeNorth.height - 5\n\t\t\t\t\tconst pipeBottomTop = pipes[i].y + currentGap + 5\n\n\t\t\t\t\t// Only check collision if bird is actually overlapping with pipe\n\t\t\t\t\tconst hasHitPipe =\n\t\t\t\t\t\tbirdRight > pipeLeft &&\n\t\t\t\t\t\tbirdLeft < pipeRight &&\n\t\t\t\t\t\t(birdTop < pipeTopBottom || birdBottom > pipeBottomTop)\n\n\t\t\t\t\tisOnTheFloor.current = hasHitFloor\n\n\t\t\t\t\tif (hasHitPipe || hasHitFloor || hasHitCeiling) {\n\t\t\t\t\t\tcollision()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.save()\n\t\t\t\tcontext.translate(\n\t\t\t\t\tconfig.options.birdX + BIRD_WIDTH / 2,\n\t\t\t\t\tbirdY.current + BIRD_HEIGHT / 2\n\t\t\t\t)\n\t\t\t\tcontext.rotate((birdRotation.current * Math.PI) / 180)\n\t\t\t\tcontext.drawImage(bird, -BIRD_WIDTH / 2, -BIRD_HEIGHT / 2)\n\t\t\t\tcontext.restore()\n\t\t\t}\n\n\t\t\tcontext.drawImage(foreground, 0, canvas.height - foreground.height + 20)\n\n\t\t\tif (isGameOver && !config.options.hideOverlays) {\n\t\t\t\tdelay.current++\n\n\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.5)'\n\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\tcontext.font = \"48px 'Tahoma'\"\n\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\tcontext.lineWidth = 4\n\t\t\t\tcontext.strokeText('Game Over', 24, 260)\n\t\t\t\tcontext.fillText('Game Over', 24, 260)\n\n\t\t\t\tif (isOnTheFloor.current) {\n\t\t\t\t\tcontext.font = \"bold 16px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 54, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 54, 460)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!gameStarted) {\n\t\t\t\t\tdelay.current++\n\n\t\t\t\t\tif (!config.options.hideOverlays) {\n\t\t\t\t\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\t\t\tcontext.font = \"42px 'Tahoma'\"\n\t\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 4\n\t\t\t\t\t\tconst titleWidth = context.measureText(\n\t\t\t\t\t\t\tconfig.options.gameTitle\n\t\t\t\t\t\t).width\n\t\t\t\t\t\tconst titleX = (canvas.width - titleWidth) / 2\n\t\t\t\t\t\tcontext.strokeText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t\tcontext.fillText(config.options.gameTitle, titleX, 160)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Always show click to start message, with pulsing effect\n\t\t\t\t\tconst alpha = Math.abs(Math.sin(delay.current * 0.03))\n\t\t\t\t\tcontext.font = \"bold 18px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.globalAlpha = alpha\n\t\t\t\t\tcontext.strokeText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.fillText('Haz clic para comenzar', 44, 460)\n\t\t\t\t\tcontext.globalAlpha = 1\n\t\t\t\t}\n\n\t\t\t\tif (gameStarted && !config.options.hideOverlays) {\n\t\t\t\t\tcontext.drawImage(coin, 20, 20, 32, 32)\n\t\t\t\t\tcontext.fillStyle = '#fff'\n\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\tcontext.lineWidth = 3\n\t\t\t\t\tcontext.font = \"bold 32px 'Tahoma'\"\n\t\t\t\t\tcontext.strokeText(`${score}`, 70, 50)\n\t\t\t\t\tcontext.fillText(`${score}`, 70, 50)\n\n\t\t\t\t\tcontext.drawImage(heart, 200, 20, 32, 32)\n\t\t\t\t\tcontext.strokeText(`${currentLives}`, 250, 50)\n\t\t\t\t\tcontext.fillText(`${currentLives}`, 250, 50)\n\n\t\t\t\t\t// Show difficulty level\n\t\t\t\t\tconst difficultyLevel = Math.floor(score / 200) + 1\n\t\t\t\t\tif (difficultyLevel > 1) {\n\t\t\t\t\t\tcontext.font = \"bold 14px 'Tahoma'\"\n\t\t\t\t\t\tcontext.strokeStyle = '#000'\n\t\t\t\t\t\tcontext.lineWidth = 2\n\t\t\t\t\t\tcontext.fillStyle = '#ff0'\n\t\t\t\t\t\tconst levelText = `Nivel ${difficultyLevel}`\n\t\t\t\t\t\tcontext.strokeText(levelText, 20, 80)\n\t\t\t\t\t\tcontext.fillText(levelText, 20, 80)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tconfig,\n\t\t\tgameStarted,\n\t\t\tisGameOver,\n\t\t\tscore,\n\t\t\tcurrentLives,\n\t\t\tcurrentGap,\n\t\t\tcollision,\n\t\t]\n\t)\n\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 || countCollisions >= (config?.options.lives || 3)) {\n\t\t\tsetIsGameOver(true)\n\t\t\tconfig?.functions.setGameOver(true)\n\t\t\tconfig?.functions.setPointsEarned(score)\n\t\t}\n\t}, [countCollisions, currentLives, config, score])\n\n\treturn [tap, draw] as const\n}\n\nexport default useFlappyAnimation\n","import { useRef, useEffect } from 'react'\n\ntype DrawFunction =\n\t| ((context: CanvasRenderingContext2D, frameCount: number) => void)\n\t| null\n\nconst useCanvas = (draw: DrawFunction) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst frameCount = useRef(0)\n\tconst frameId = useRef(0)\n\n\tuseEffect(() => {\n\t\tif (!draw) return\n\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\n\t\tconst context = canvas.getContext('2d', { alpha: false })\n\t\tif (!context) return\n\n\t\tcontext.imageSmoothingEnabled = false\n\n\t\tconst render = () => {\n\t\t\tframeCount.current++\n\t\t\tdraw(context, frameCount.current)\n\t\t\tframeId.current = window.requestAnimationFrame(render)\n\t\t}\n\n\t\trender()\n\n\t\treturn () => {\n\t\t\tif (frameId.current) {\n\t\t\t\twindow.cancelAnimationFrame(frameId.current)\n\t\t\t}\n\t\t}\n\t}, [draw])\n\n\treturn canvasRef\n}\n\nexport default useCanvas\n","import React from 'react'\nimport useFlappyAnimation from './hooks/useFlappyAnimation'\nimport useCanvas from './hooks/useCanvas'\nimport { useImageLoader } from './hooks/useImageLoader'\nimport { GameCanvas } from '../ui/GameCanvas'\n\ninterface FlappyProps {\n\tlives: number\n\tsetPointsEarned: (points: number) => void\n\tsetGameOver: (isOver: boolean) => void\n\tskin?: string\n\tgameTitle?: string\n\thideOverlays?: boolean\n\tonScoreUpdate?: (score: number) => void\n\tonLivesUpdate?: (lives: number) => void\n\tisPaused?: boolean\n\tmaxPoints?: number\n}\n\nconst Flappy = ({\n\tlives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tskin,\n\tgameTitle = 'FLAPPY CAT',\n\thideOverlays = false,\n\tonScoreUpdate,\n\tonLivesUpdate,\n\tisPaused = false,\n\tmaxPoints,\n}: FlappyProps) => {\n\tconst [images, loading, error] = useImageLoader(skin)\n\n\tconst config = React.useMemo(() => {\n\t\tif (!images) return null\n\n\t\treturn {\n\t\t\tassets: images,\n\t\t\toptions: {\n\t\t\t\tgameTitle: gameTitle,\n\t\t\t\tdelayFrameCount: 5,\n\t\t\t\tbirdX: 50,\n\t\t\t\tgap: 480,\n\t\t\t\tupMovement: 18,\n\t\t\t\tgravity: 2.5,\n\t\t\t\tpointsPerObstacle: 10,\n\t\t\t\tlives: lives,\n\t\t\t\thideOverlays: hideOverlays,\n\t\t\t\tisPaused: isPaused,\n\t\t\t\tmaxPoints: maxPoints,\n\t\t\t},\n\t\t\tfunctions: {\n\t\t\t\tsetGameOver,\n\t\t\t\tsetPointsEarned,\n\t\t\t\tonScoreUpdate,\n\t\t\t\tonLivesUpdate,\n\t\t\t},\n\t\t}\n\t}, [\n\t\timages,\n\t\tgameTitle,\n\t\tlives,\n\t\tsetGameOver,\n\t\tsetPointsEarned,\n\t\thideOverlays,\n\t\tonScoreUpdate,\n\t\tonLivesUpdate,\n\t\tisPaused,\n\t\tmaxPoints,\n\t])\n\n\tconst [tap, draw] = useFlappyAnimation(config)\n\tconst canvasRef = useCanvas(draw)\n\n\tconst handleClick = () => {\n\t\tif (!config) return\n\n\t\tconst canvas = canvasRef.current\n\t\tconst ctx = canvas?.getContext('2d')\n\n\t\tif (ctx) {\n\t\t\ttap()\n\t\t}\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-slate-800 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center\">\n\t\t\t\t\t<div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>\n\t\t\t\t\t<p>Cargando juego...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center w-72 h-[512px] bg-red-900 rounded-lg\">\n\t\t\t\t<div className=\"text-white text-center p-4\">\n\t\t\t\t\t<p className=\"font-bold mb-2\">Error al cargar el juego</p>\n\t\t\t\t\t<p className=\"text-sm\">{error}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<GameCanvas\n\t\t\tref={canvasRef}\n\t\t\twidth={288}\n\t\t\theight={512}\n\t\t\tonClick={handleClick}\n\t\t\tclassName=\"cursor-pointer rounded-lg shadow-xl\"\n\t\t/>\n\t)\n}\n\nexport default Flappy\n","import { useEffect, useState } from 'react'\n\ninterface ImageAssets {\n\tbird: HTMLImageElement\n\tbackground: HTMLImageElement\n\tforeground: HTMLImageElement\n\tpipeNorth: HTMLImageElement\n\tpipeSouth: HTMLImageElement\n\tcoin: HTMLImageElement\n\theart: HTMLImageElement\n}\n\nexport const useImageLoader = (\n\tskin?: string\n): [ImageAssets | null, boolean, string | null] => {\n\tconst [images, setImages] = useState<ImageAssets | null>(null)\n\tconst [loading, setLoading] = useState(true)\n\tconst [error, setError] = useState<string | null>(null)\n\n\tuseEffect(() => {\n\t\tconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = new Image()\n\t\t\t\timg.onload = () => resolve(img)\n\t\t\t\timg.onerror = () => reject(new Error(`Failed to load image: ${src}`))\n\t\t\t\timg.src = src\n\t\t\t})\n\t\t}\n\n\t\tconst loadAllImages = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true)\n\t\t\t\tsetError(null)\n\n\t\t\t\tconst basePath = `/games/flappy-bird/`\n\t\t\t\tconst skinPath = skin ? `skins/${skin}/` : ''\n\n\t\t\t\tconst [\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t] = await Promise.all([\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bird.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}bg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}fg.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeNorth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}pipeSouth.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}coin.webp`),\n\t\t\t\t\tloadImage(`${basePath}${skinPath}heart.webp`),\n\t\t\t\t])\n\n\t\t\t\tsetImages({\n\t\t\t\t\tbird,\n\t\t\t\t\tbackground,\n\t\t\t\t\tforeground,\n\t\t\t\t\tpipeNorth,\n\t\t\t\t\tpipeSouth,\n\t\t\t\t\tcoin,\n\t\t\t\t\theart,\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err instanceof Error ? err.message : 'Failed to load images')\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tloadAllImages()\n\t}, [skin])\n\n\treturn [images, loading, error]\n}\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport FlappyBirdCore from './game'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\n\ninterface FlappyBirdGameProps {\n\tinitialLives: number\n\tsetGameOver: (isOver: boolean) => void\n\tsetPointsEarned: (points: number) => void\n\tbrandColor?: string\n\tskin?: string\n\tgameTitle?: string\n\tmaxPoints?: number\n\tbrandLogo?: string\n}\n\nconst FlappyBirdGame: React.FC<FlappyBirdGameProps> = ({\n\tinitialLives,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#00bfff',\n\tskin,\n\tgameTitle = 'FLAPPY BIRD',\n\tmaxPoints,\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst gameContainerRef = useRef<HTMLDivElement>(null)\n\n\tconst [score, setScore] = useState(0)\n\tconst [lives, setLives] = useState(initialLives)\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpText, setLevelUpText] = useState('')\n\tconst [isPaused, setIsPaused] = useState(false)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [coreGameOver, setCoreGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [, setWindowSize] = useState({ width: 0, height: 0 })\n\n\tconst isMobileDevice = isMobile()\n\n\t// Handle window resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWindowSize({ width: window.innerWidth, height: window.innerHeight })\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\t\thandleResize() // Initial call\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\t}, [])\n\n\t// Handle keyboard input\n\tuseEffect(() => {\n\t\tconst handleKeyPress = (e: KeyboardEvent) => {\n\t\t\tif (e.key === ' ' || e.key === 'Escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\tif (isGameStarted && !isGameOver) {\n\t\t\t\t\ttogglePause()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('keydown', handleKeyPress)\n\t\treturn () => window.removeEventListener('keydown', handleKeyPress)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isGameStarted, isGameOver])\n\n\tconst togglePause = useCallback(() => {\n\t\tif (isGameStarted && !isGameOver) {\n\t\t\tsetIsPaused(prev => !prev)\n\t\t}\n\t}, [isGameStarted, isGameOver])\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetCoreGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetLives(initialLives)\n\t\t\tsetQuitGame(false)\n\t\t}\n\t}, [isGameStarted, initialLives])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetIsPaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t\tsetCoreGameOver(true)\n\t}\n\n\tconst handleGameOver = useCallback(\n\t\t(finalGameOver: boolean) => {\n\t\t\tif (finalGameOver && !isGameOver) {\n\t\t\t\tsetCoreGameOver(true)\n\t\t\t\tsetIsGameOver(true)\n\t\t\t\tsetGameOver(true)\n\t\t\t}\n\t\t},\n\t\t[isGameOver, setGameOver]\n\t)\n\n\tconst handlePointsEarned = useCallback(\n\t\t(points: number) => {\n\t\t\tsetScore(points)\n\t\t\tsetPointsEarned(points)\n\t\t},\n\t\t[setPointsEarned]\n\t)\n\n\tconst handleScoreUpdate = useCallback(\n\t\t(newScore: number) => {\n\t\t\tsetScore(newScore)\n\t\t\t// Update level based on score (every 100 points = new level)\n\t\t\tconst newLevel = Math.floor(newScore / 100) + 1\n\t\t\tif (newLevel > level) {\n\t\t\t\tsetLevel(newLevel)\n\t\t\t\tsetLevelUpText(`Nivel ${newLevel}!`)\n\t\t\t\tsetShowLevelUp(true)\n\t\t\t\t// Hide notification after 1.2 seconds\n\t\t\t\tsetTimeout(() => setShowLevelUp(false), 800)\n\t\t\t}\n\t\t},\n\t\t[level]\n\t)\n\n\t// Calculate canvas scale\n\tconst getCanvasScale = () => {\n\t\tconst canvasWidth = 288\n\t\tconst canvasHeight = 512\n\n\t\tconst padding = isMobileDevice ? 16 : 32\n\t\tconst headerHeight = 80\n\t\tconst controlsHeight = isMobileDevice ? 160 : 0\n\t\tconst extraMargin = 20\n\n\t\tconst containerWidth = window.innerWidth - padding * 2\n\t\tconst containerHeight =\n\t\t\twindow.innerHeight - headerHeight - controlsHeight - extraMargin\n\n\t\t// Target a reasonable max height for the game\n\t\tconst maxHeight = 600\n\t\tconst effectiveHeight = Math.min(containerHeight, maxHeight)\n\n\t\tconst scaleX = containerWidth / canvasWidth\n\t\tconst scaleY = effectiveHeight / canvasHeight\n\t\tlet scale = Math.min(scaleX, scaleY)\n\n\t\tif (isMobileDevice) {\n\t\t\tscale = Math.min(scale, 0.85)\n\t\t\treturn Math.max(scale, 0.4)\n\t\t} else {\n\t\t\treturn Math.min(scale, 0.9) // Max 90% scale on desktop\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor ? brandColor : '#111827' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={lives}\n\t\t\t\tscore={score}\n\t\t\t\tonPause={togglePause}\n\t\t\t\tisPaused={isPaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(isPaused)\n\t\t\t\t\tsetIsPaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={isGameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '512px' }}\n\t\t\t\t\tref={gameContainerRef}\n\t\t\t\t>\n\t\t\t\t\t{isGameStarted && !coreGameOver && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `scale(${getCanvasScale()})`,\n\t\t\t\t\t\t\t\ttransformOrigin: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlappyBirdCore\n\t\t\t\t\t\t\t\tlives={initialLives}\n\t\t\t\t\t\t\t\tsetGameOver={handleGameOver}\n\t\t\t\t\t\t\t\tsetPointsEarned={handlePointsEarned}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tgameTitle=\"FLAPPY CAT\"\n\t\t\t\t\t\t\t\thideOverlays={true}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonLivesUpdate={setLives}\n\t\t\t\t\t\t\t\tisPaused={isPaused}\n\t\t\t\t\t\t\t\tmaxPoints={maxPoints}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Notification */}\n\t\t\t\t\t{showLevelUp && isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<div className=\"game-notification\" style={{ top: '25%' }}>\n\t\t\t\t\t\t\t<div className=\"game-notification-content\" style={{ backgroundColor: '#eab308', color: 'black' }}>\n\t\t\t\t\t\t\t\t<p className=\"game-notification-text\">{levelUpText}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!isGameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#38bdf8', marginBottom: '0.5rem' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Toca para volar</p>\n\t\t\t\t\t\t\t\t\t\t<p> Evita los obstculos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Gana puntos al pasar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.875rem', color: '#9ca3af', marginTop: '1rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Usa la barra espaciadora o toca la pantalla</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isPaused && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={togglePause}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"gameOver\"\n\t\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FlappyBirdGame\n","import * as Tone from 'tone'\n\nexport class BreakoutAudioManager {\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Timing protection\n\tprivate lastBounceTime = 0\n\tprivate readonly MIN_BOUNCE_GAP = 0.03\n\n\t// Synthesizers\n\tprivate bounceSynth: Tone.Synth | null = null\n\tprivate brickSynth: Tone.PolySynth | null = null\n\tprivate powerUpSynth: Tone.PolySynth | null = null\n\tprivate loseSynth: Tone.Synth | null = null\n\tprivate levelSynth: Tone.PolySynth | null = null\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\tawait Tone.start()\n\n\t\t// Bounce synth - for paddle and wall hits\n\t\tthis.bounceSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -10,\n\t\t}).toDestination()\n\n\t\t// Brick synth - satisfying crunch for brick break\n\t\tthis.brickSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'square' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.001,\n\t\t\t\tdecay: 0.08,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t\tvolume: -12,\n\t\t}).toDestination()\n\n\t\t// Power-up synth - chime\n\t\tthis.powerUpSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.1,\n\t\t\t\trelease: 0.4,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Lose life synth - sad tone\n\t\tthis.loseSynth = new Tone.Synth({\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.3,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\t// Level up synth - fanfare\n\t\tthis.levelSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: 'triangle' },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.2,\n\t\t\t\tsustain: 0.3,\n\t\t\t\trelease: 0.5,\n\t\t\t},\n\t\t\tvolume: -8,\n\t\t}).toDestination()\n\n\t\tthis.initialized = true\n\t}\n\n\t// Paddle hit - low bounce blip\n\tplayPaddleHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('G4', '32n', now)\n\t}\n\n\t// Wall hit - higher bounce\n\tplayWallHit(): void {\n\t\tif (!this.initialized || this.muted || !this.bounceSynth) return\n\n\t\tconst now = Tone.now()\n\t\tif (now - this.lastBounceTime < this.MIN_BOUNCE_GAP) return\n\n\t\tthis.lastBounceTime = now\n\t\tthis.bounceSynth.triggerAttackRelease('C5', '32n', now)\n\t}\n\n\t// Brick break - satisfying crunch\n\tplayBrickBreak(): void {\n\t\tif (!this.initialized || this.muted || !this.brickSynth) return\n\t\tconst now = Tone.now()\n\t\t// Quick two-note crunch\n\t\tthis.brickSynth.triggerAttackRelease('E5', '32n', now)\n\t\tthis.brickSynth.triggerAttackRelease('G4', '32n', now + 0.02)\n\t}\n\n\t// Power-up collection chime\n\tplayPowerUpCollect(): void {\n\t\tif (!this.initialized || this.muted || !this.powerUpSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending chime\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.powerUpSynth!.triggerAttackRelease(note, '16n', now + i * 0.06)\n\t\t})\n\t}\n\n\t// Lose life - sad descending tone\n\tplayLoseLife(): void {\n\t\tif (!this.initialized || this.muted || !this.loseSynth) return\n\t\tconst now = Tone.now()\n\t\t// Descending sad phrase\n\t\tconst notes = ['E4', 'D4', 'C4']\n\t\tnotes.forEach((note, i) => {\n\t\t\tthis.loseSynth!.triggerAttackRelease(note, '8n', now + i * 0.2)\n\t\t})\n\t}\n\n\t// Level up - triumphant fanfare\n\tplayLevelUp(): void {\n\t\tif (!this.initialized || this.muted || !this.levelSynth) return\n\t\tconst now = Tone.now()\n\t\t// Ascending fanfare with final chord\n\t\tconst arpeggio = ['C4', 'E4', 'G4', 'C5']\n\t\tarpeggio.forEach((note, i) => {\n\t\t\tthis.levelSynth!.triggerAttackRelease(note, '16n', now + i * 0.08)\n\t\t})\n\t\t// Final triumphant chord\n\t\tthis.levelSynth.triggerAttackRelease(['C5', 'E5', 'G5'], '4n', now + 0.4)\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tif (!this.initialized) return\n\n\t\tthis.bounceSynth?.dispose()\n\t\tthis.brickSynth?.dispose()\n\t\tthis.powerUpSynth?.dispose()\n\t\tthis.loseSynth?.dispose()\n\t\tthis.levelSynth?.dispose()\n\n\t\tthis.bounceSynth = null\n\t\tthis.brickSynth = null\n\t\tthis.powerUpSynth = null\n\t\tthis.loseSynth = null\n\t\tthis.levelSynth = null\n\n\t\tthis.initialized = false\n\t}\n}\n\nexport const breakoutAudio = new BreakoutAudioManager()\n","import type { BrickType, LevelTheme } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 800\nexport const CANVAS_HEIGHT = 600\n\n// Paddle configuration\nexport const PADDLE_HEIGHT = 15\nexport const PADDLE_INITIAL_WIDTH = 120\nexport const PADDLE_MIN_WIDTH = 60\nexport const PADDLE_COLOR = 'hsl(240, 5%, 80%)' // Light gray\nexport const PADDLE_SPEED = 10\nexport const PADDLE_WIDTH_REDUCTION_PER_LEVEL = 5 // Pixels\n\n// Ball configuration\nexport const BALL_RADIUS = 10\nexport const BALL_INITIAL_SPEED = 5\nexport const BALL_MAX_SPEED = 20 // Increased max speed\nexport const BALL_SPEED_INCREASE_PER_LEVEL = 1\nexport const BALL_COLOR = 'hsl(181, 100%, 74%)' // Use accent color from theme\n\n// Brick configuration\nexport const BRICK_ROW_COUNT = 5\nexport const BRICK_COLUMN_COUNT = 9\nexport const BRICK_WIDTH = 75\nexport const BRICK_HEIGHT = 20\nexport const BRICK_PADDING = 10\nexport const BRICK_OFFSET_TOP = 50\n\n// Brick types with increasing difficulty\nexport const BRICK_TYPES: BrickType[] = [\n\t{ color: 'hsl(60, 70%, 60%)', points: 10, hitsToBreak: 1 }, // Yellow - weakest\n\t{ color: 'hsl(120, 70%, 60%)', points: 20, hitsToBreak: 1 }, // Green\n\t{ color: 'hsl(180, 70%, 60%)', points: 30, hitsToBreak: 2 }, // Teal - medium\n\t{ color: 'hsl(0, 70%, 60%)', points: 50, hitsToBreak: 2 }, // Red\n\t{ color: 'hsl(300, 70%, 60%)', points: 100, hitsToBreak: 3 }, // Purple - strongest\n\t{ color: 'hsl(30, 90%, 50%)', points: 200, hitsToBreak: 4 }, // Orange - ultra strong (appears in higher levels)\n]\n\n// Level-specific color themes to add variety\nexport const LEVEL_THEMES: LevelTheme[] = [\n\t{\n\t\tname: 'Classic',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 70%, 60%)', // Yellow\n\t\t\t'hsl(120, 70%, 60%)', // Green\n\t\t\t'hsl(180, 70%, 60%)', // Teal\n\t\t\t'hsl(0, 70%, 60%)', // Red\n\t\t\t'hsl(300, 70%, 60%)', // Purple\n\t\t],\n\t},\n\t{\n\t\tname: 'Ocean',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 70%, 70%)', // Light Blue\n\t\t\t'hsl(210, 70%, 60%)', // Blue\n\t\t\t'hsl(190, 70%, 50%)', // Cyan\n\t\t\t'hsl(220, 70%, 40%)', // Dark Blue\n\t\t\t'hsl(180, 70%, 30%)', // Deep Teal\n\t\t],\n\t},\n\t{\n\t\tname: 'Sunset',\n\t\tbrickColors: [\n\t\t\t'hsl(50, 90%, 70%)', // Light Yellow\n\t\t\t'hsl(30, 90%, 60%)', // Orange\n\t\t\t'hsl(15, 90%, 50%)', // Dark Orange\n\t\t\t'hsl(0, 80%, 40%)', // Dark Red\n\t\t\t'hsl(340, 70%, 30%)', // Burgundy\n\t\t],\n\t},\n\t{\n\t\tname: 'Forest',\n\t\tbrickColors: [\n\t\t\t'hsl(100, 60%, 70%)', // Light Green\n\t\t\t'hsl(120, 60%, 50%)', // Green\n\t\t\t'hsl(140, 60%, 40%)', // Forest Green\n\t\t\t'hsl(30, 40%, 40%)', // Brown\n\t\t\t'hsl(160, 50%, 30%)', // Dark Teal Green\n\t\t],\n\t},\n\t{\n\t\tname: 'Galaxy',\n\t\tbrickColors: [\n\t\t\t'hsl(280, 80%, 70%)', // Light Purple\n\t\t\t'hsl(270, 70%, 60%)', // Purple\n\t\t\t'hsl(260, 60%, 50%)', // Deep Purple\n\t\t\t'hsl(240, 50%, 40%)', // Dark Blue Purple\n\t\t\t'hsl(320, 60%, 40%)', // Magenta\n\t\t],\n\t},\n\t{\n\t\tname: 'Fire',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 60%)', // Bright Yellow\n\t\t\t'hsl(40, 100%, 50%)', // Yellow Orange\n\t\t\t'hsl(20, 100%, 50%)', // Orange\n\t\t\t'hsl(0, 100%, 45%)', // Red\n\t\t\t'hsl(0, 80%, 30%)', // Dark Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Arctic',\n\t\tbrickColors: [\n\t\t\t'hsl(200, 30%, 90%)', // Ice White\n\t\t\t'hsl(200, 40%, 80%)', // Light Ice Blue\n\t\t\t'hsl(200, 50%, 70%)', // Ice Blue\n\t\t\t'hsl(210, 60%, 60%)', // Medium Blue\n\t\t\t'hsl(220, 70%, 50%)', // Deep Blue\n\t\t],\n\t},\n\t{\n\t\tname: 'Neon',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 100%, 50%)', // Neon Yellow\n\t\t\t'hsl(120, 100%, 50%)', // Neon Green\n\t\t\t'hsl(180, 100%, 50%)', // Neon Cyan\n\t\t\t'hsl(300, 100%, 50%)', // Neon Magenta\n\t\t\t'hsl(0, 100%, 50%)', // Neon Red\n\t\t],\n\t},\n\t{\n\t\tname: 'Desert',\n\t\tbrickColors: [\n\t\t\t'hsl(40, 50%, 80%)', // Sand\n\t\t\t'hsl(30, 60%, 70%)', // Light Orange\n\t\t\t'hsl(20, 70%, 60%)', // Terracotta\n\t\t\t'hsl(10, 60%, 50%)', // Rust\n\t\t\t'hsl(0, 50%, 40%)', // Deep Red Brown\n\t\t],\n\t},\n\t{\n\t\tname: 'Pastel',\n\t\tbrickColors: [\n\t\t\t'hsl(60, 50%, 80%)', // Pastel Yellow\n\t\t\t'hsl(120, 50%, 80%)', // Pastel Green\n\t\t\t'hsl(180, 50%, 80%)', // Pastel Teal\n\t\t\t'hsl(300, 50%, 80%)', // Pastel Purple\n\t\t\t'hsl(0, 50%, 80%)', // Pastel Red\n\t\t],\n\t},\n]\n\n// Game configuration\nexport const INITIAL_LEVEL = 1\nexport const BACKGROUND_IMAGE_SRC = '/games/breakout/bg.webp' // Placeholder background\n\n// Power-up configuration\nexport const POWER_UP_SIZE = 20\nexport const POWER_UP_SPEED = 3\nexport const POWER_UP_DURATION = 10000 // 10 seconds\nexport const POWER_UP_DROP_CHANCE = 0.15 // 15% chance\n\nexport const POWER_UP_CONFIG = {\n\t'paddle-grow': {\n\t\tcolor: 'hsl(120, 70%, 50%)', // Green\n\t\tlabel: ' Agrandar Paleta',\n\t\tdescription: 'Aumenta el tamao de la paleta',\n\t},\n\t'paddle-shrink': {\n\t\tcolor: 'hsl(0, 70%, 50%)', // Red\n\t\tlabel: ' Reducir Paleta',\n\t\tdescription: 'Reduce el tamao de la paleta (malo)',\n\t},\n\t'ball-speed': {\n\t\tcolor: 'hsl(200, 70%, 50%)', // Blue\n\t\tlabel: ' Pelota Lenta',\n\t\tdescription: 'Reduce la velocidad de la pelota',\n\t},\n\t'multi-ball': {\n\t\tcolor: 'hsl(40, 70%, 50%)', // Orange\n\t\tlabel: ' Multi-Pelota',\n\t\tdescription: 'Crea mltiples pelotas',\n\t},\n\t'extra-life': {\n\t\tcolor: 'hsl(300, 70%, 50%)', // Purple\n\t\tlabel: ' Vida Extra',\n\t\tdescription: 'Gana una vida adicional!',\n\t},\n}\n","import type { Brick, BrickType, PowerUpType } from '../types'\nimport {\n\tBRICK_COLUMN_COUNT,\n\tBRICK_HEIGHT,\n\tBRICK_OFFSET_TOP,\n\tBRICK_PADDING,\n\tBRICK_ROW_COUNT,\n\tBRICK_TYPES,\n\tBRICK_WIDTH,\n\tCANVAS_WIDTH,\n\tLEVEL_THEMES,\n\tPOWER_UP_DROP_CHANCE,\n\tPADDLE_MIN_WIDTH,\n\tPADDLE_INITIAL_WIDTH,\n\tPADDLE_WIDTH_REDUCTION_PER_LEVEL,\n\tBALL_MAX_SPEED,\n\tBALL_INITIAL_SPEED,\n\tBALL_SPEED_INCREASE_PER_LEVEL,\n} from '../constants'\n\n// Helper to determine brick type based on level and position\nconst getBrickTypeForPosition = (\n\trow: number,\n\tlevel: number\n): { type: BrickType; colorOverride?: string } => {\n\tconst theme = LEVEL_THEMES[(level - 1) % LEVEL_THEMES.length]\n\n\t// Create patterns based on level\n\tif (level % 3 === 0) {\n\t\t// Checkerboard pattern\n\t\tconst useStronger = (row % 2 === 0) !== (level % 2 === 0)\n\t\tconst typeIndex = useStronger\n\t\t\t? Math.min(2 + Math.floor(level / 5), BRICK_TYPES.length - 1)\n\t\t\t: Math.min(1 + Math.floor(level / 8), BRICK_TYPES.length - 2)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else if (level % 5 === 0) {\n\t\t// Diamond pattern (stronger in middle)\n\t\tconst distanceFromCenter = Math.abs(row - Math.floor(BRICK_ROW_COUNT / 2))\n\t\tconst typeIndex = Math.max(\n\t\t\t0,\n\t\t\tMath.min(\n\t\t\t\tBRICK_TYPES.length - 1,\n\t\t\t\tBRICK_TYPES.length - 1 - distanceFromCenter\n\t\t\t)\n\t\t)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[typeIndex],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t} else {\n\t\t// Gradient pattern (stronger at top)\n\t\tconst strengthIndex = Math.floor((row / BRICK_ROW_COUNT) * 3)\n\t\tconst baseTypeIndex = Math.min(strengthIndex + Math.floor(level / 4), 3)\n\t\treturn {\n\t\t\ttype: BRICK_TYPES[Math.min(baseTypeIndex, BRICK_TYPES.length - 1)],\n\t\t\tcolorOverride: theme.brickColors[row % theme.brickColors.length],\n\t\t}\n\t}\n}\n\n// Determine which power-up type to spawn\nconst getRandomPowerUpType = (): PowerUpType => {\n\tconst types: PowerUpType[] = [\n\t\t'paddle-grow',\n\t\t'paddle-shrink', // Include negative power-ups for challenge\n\t\t'ball-speed',\n\t\t'multi-ball',\n\t\t'extra-life',\n\t]\n\n\t// Weight the power-ups (positive ones more likely)\n\tconst weights = [30, 10, 25, 25, 10] // paddle-grow: 30%, shrink: 10%, etc.\n\tconst totalWeight = weights.reduce((a, b) => a + b, 0)\n\tlet random = Math.random() * totalWeight\n\n\tfor (let i = 0; i < types.length; i++) {\n\t\trandom -= weights[i]\n\t\tif (random <= 0) {\n\t\t\treturn types[i]\n\t\t}\n\t}\n\n\treturn types[0] // Fallback\n}\n\nexport const createBricks = (level: number): Brick[][] => {\n\tconst bricks: Brick[][] = []\n\tconst brickOffsetLeft =\n\t\t(CANVAS_WIDTH -\n\t\t\t(BRICK_COLUMN_COUNT * BRICK_WIDTH +\n\t\t\t\t(BRICK_COLUMN_COUNT - 1) * BRICK_PADDING)) /\n\t\t2\n\n\t// Increase power-up chance slightly with level\n\tconst powerUpChance = Math.min(POWER_UP_DROP_CHANCE + level * 0.01, 0.3) // Max 30%\n\n\t// Initialize columns\n\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\tbricks[c] = []\n\t}\n\n\tfor (let r = 0; r < BRICK_ROW_COUNT; r++) {\n\t\tfor (let c = 0; c < BRICK_COLUMN_COUNT; c++) {\n\t\t\tconst { type, colorOverride } = getBrickTypeForPosition(r, level)\n\n\t\t\t// Determine if this brick should have a power-up\n\t\t\tconst hasPowerUp = Math.random() < powerUpChance\n\t\t\tconst powerUpType = hasPowerUp ? getRandomPowerUpType() : undefined\n\n\t\t\tconst x = c * (BRICK_WIDTH + BRICK_PADDING) + brickOffsetLeft\n\t\t\tconst y = r * (BRICK_HEIGHT + BRICK_PADDING) + BRICK_OFFSET_TOP\n\n\t\t\tbricks[c][r] = {\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\twidth: BRICK_WIDTH,\n\t\t\t\theight: BRICK_HEIGHT,\n\t\t\t\tcolor: colorOverride || type.color,\n\t\t\t\tpoints: type.points,\n\t\t\t\tstatus: type.hitsToBreak,\n\t\t\t\thitsToBreak: type.hitsToBreak,\n\t\t\t\thasPowerUp,\n\t\t\t\tpowerUpType,\n\t\t\t}\n\t\t}\n\t}\n\n\treturn bricks\n}\n\nexport const allBricksBroken = (bricks: Brick[][]): boolean => {\n\treturn bricks.every(column => column.every(brick => brick.status === 0))\n}\n\nexport const calculatePaddleWidth = (level: number): number => {\n\treturn Math.max(\n\t\tPADDLE_MIN_WIDTH,\n\t\tPADDLE_INITIAL_WIDTH - (level - 1) * PADDLE_WIDTH_REDUCTION_PER_LEVEL\n\t)\n}\n\nexport const calculateBallSpeed = (level: number): number => {\n\treturn Math.min(\n\t\tBALL_MAX_SPEED,\n\t\tBALL_INITIAL_SPEED + (level - 1) * BALL_SPEED_INCREASE_PER_LEVEL\n\t)\n}\n","import type {\n\tBall,\n\tBrick,\n\tPaddle,\n\tPowerUpType,\n\tCollisionResult,\n} from '../types'\n\nexport function collisionDetection(\n\tball: Ball,\n\tbricks: Brick[][],\n\tpaddle: Paddle,\n\tcanvasHeight: number,\n\tcanvasWidth: number\n): CollisionResult {\n\tlet pointsToAdd = 0\n\tlet lifeLost = false\n\tlet spawnPowerUp: { x: number; y: number; type: PowerUpType } | undefined\n\tconst nextBallX = ball.x + ball.dx\n\tconst nextBallY = ball.y + ball.dy\n\n\t// Brick collision\n\tfor (let c = 0; c < bricks.length; c++) {\n\t\tfor (let r = 0; r < bricks[c].length; r++) {\n\t\t\tconst brick = bricks[c][r]\n\t\t\tif (brick.status > 0) {\n\t\t\t\tif (\n\t\t\t\t\tnextBallX + ball.radius > brick.x &&\n\t\t\t\t\tnextBallX - ball.radius < brick.x + brick.width &&\n\t\t\t\t\tnextBallY + ball.radius > brick.y &&\n\t\t\t\t\tnextBallY - ball.radius < brick.y + brick.height\n\t\t\t\t) {\n\t\t\t\t\tbrick.status -= 1\n\n\t\t\t\t\t// Award points only when brick is fully broken\n\t\t\t\t\tif (brick.status === 0) {\n\t\t\t\t\t\tpointsToAdd += brick.points\n\t\t\t\t\t\t// Spawn power-up if this brick had one\n\t\t\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\t\t\tspawnPowerUp = {\n\t\t\t\t\t\t\t\tx: brick.x + brick.width / 2,\n\t\t\t\t\t\t\t\ty: brick.y + brick.height / 2,\n\t\t\t\t\t\t\t\ttype: brick.powerUpType,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Simplified bounce logic: prioritize vertical bounce if mostly vertical collision\n\t\t\t\t\tconst overlapX = Math.min(\n\t\t\t\t\t\tball.x + ball.radius - brick.x,\n\t\t\t\t\t\tbrick.x + brick.width - (ball.x - ball.radius)\n\t\t\t\t\t)\n\t\t\t\t\tconst overlapY = Math.min(\n\t\t\t\t\t\tball.y + ball.radius - brick.y,\n\t\t\t\t\t\tbrick.y + brick.height - (ball.y - ball.radius)\n\t\t\t\t\t)\n\n\t\t\t\t\tif (overlapY <= overlapX) {\n\t\t\t\t\t\t// More horizontal overlap or equal -> Vertical bounce\n\t\t\t\t\t\tball.dy = -ball.dy\n\t\t\t\t\t\t// Correct position slightly to prevent sticking\n\t\t\t\t\t\tball.y += ball.dy > 0 ? -overlapY : overlapY\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// More vertical overlap -> Horizontal bounce\n\t\t\t\t\t\tball.dx = -ball.dx\n\t\t\t\t\t\t// Correct position slightly\n\t\t\t\t\t\tball.x += ball.dx > 0 ? -overlapX : overlapX\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { pointsToAdd, lifeLost, spawnPowerUp } // Return after first hit\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Paddle collision\n\tif (\n\t\tnextBallY + ball.radius > paddle.y && // Ball bottom below paddle top\n\t\tball.y - ball.radius < paddle.y + paddle.height && // Ball top above paddle bottom (prevents hitting from below)\n\t\tnextBallX + ball.radius > paddle.x && // Ball right edge right of paddle left\n\t\tnextBallX - ball.radius < paddle.x + paddle.width // Ball left edge left of paddle right\n\t) {\n\t\t// Only trigger if ball is moving downwards\n\t\tif (ball.dy > 0) {\n\t\t\tlet collidePoint =\n\t\t\t\t(ball.x - (paddle.x + paddle.width / 2)) / (paddle.width / 2)\n\t\t\tcollidePoint = Math.max(-0.95, Math.min(0.95, collidePoint)) // Clamp value\n\t\t\tconst angleRad = collidePoint * (Math.PI / 3) // Max angle 60 degrees\n\t\t\tball.dx = ball.speed * Math.sin(angleRad)\n\t\t\tball.dy = -Math.abs(ball.speed * Math.cos(angleRad)) // Ensure always upwards\n\t\t\tball.y = paddle.y - ball.radius - 0.1 // Move ball slightly above paddle\n\t\t}\n\t}\n\n\t// Wall collision (left/right)\n\tif (nextBallX > canvasWidth - ball.radius || nextBallX < ball.radius) {\n\t\tball.dx = -ball.dx\n\t\t// Correct position\n\t\tif (nextBallX > canvasWidth - ball.radius) {\n\t\t\tball.x = canvasWidth - ball.radius\n\t\t} else {\n\t\t\tball.x = ball.radius\n\t\t}\n\t}\n\n\t// Top wall collision\n\tif (nextBallY < ball.radius) {\n\t\tball.dy = -ball.dy\n\t\tball.y = ball.radius\n\t}\n\n\t// Bottom wall (life lost)\n\tif (ball.y > canvasHeight + ball.radius) {\n\t\tlifeLost = true\n\t}\n\n\treturn { pointsToAdd, lifeLost, spawnPowerUp }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { GameControls } from '../ui/GameControls'\nimport { isMobile } from '../../../../utils/functions'\nimport { breakoutAudio } from './utils/audioManager'\n\n// Import types\nimport type {\n\tPowerUpType,\n\tPowerUp,\n\tActivePowerUp,\n\tBrick,\n\tBall,\n\tPaddle,\n\tBreakoutGameProps,\n} from './types'\n\n// Import constants\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tPADDLE_HEIGHT,\n\tPADDLE_COLOR,\n\tPADDLE_SPEED,\n\tBALL_RADIUS,\n\tBALL_COLOR,\n\tINITIAL_LEVEL,\n\tBRICK_TYPES,\n\tPOWER_UP_SIZE,\n\tPOWER_UP_SPEED,\n\tPOWER_UP_DURATION,\n\tPOWER_UP_CONFIG,\n\tBACKGROUND_IMAGE_SRC,\n} from './constants'\n\n// Import utility functions\nimport {\n\tcreateBricks,\n\tallBricksBroken,\n\tcalculatePaddleWidth,\n\tcalculateBallSpeed,\n} from './utils/brickHelpers'\nimport {\n\tdrawBall,\n\tdrawPaddle,\n\tdrawBricks,\n\tdrawExtraBalls,\n\tdrawPowerUps,\n} from './utils/drawingHelpers'\nimport { collisionDetection } from './utils/collisionHelpers'\n\nconst BreakoutGame: React.FC<BreakoutGameProps> = ({\n\tlives: initialLives,\n\tsetPointsEarned,\n\tsetGameOver,\n\tbrandColor = 'hsl(142, 71%, 45%)',\n\tskin = 'default',\n\tgameTitle = ' ROMPE BLOQUES',\n\tbrandLogo,\n}) => {\n\t// --- Mobile Detection ---\n\tconst mobile = isMobile()\n\n\t// --- Game State ---\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [ballLaunched, setBallLaunched] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// --- Score and Progress ---\n\tconst [level, setLevel] = useState(INITIAL_LEVEL)\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\n\t// Active power-ups for UI display\n\tconst [activePowerUpsState, setActivePowerUpsState] = useState<\n\t\tActivePowerUp[]\n\t>([])\n\n\t// --- Refs ---\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\tconst leftPressedRef = useRef(false)\n\tconst rightPressedRef = useRef(false)\n\n\t// Handle control input from GameControls\n\tconst handleControl = useCallback(\n\t\t(direction: 'up' | 'down' | 'left' | 'right' | 'action' | 'action2') => {\n\t\t\tif (!gamePaused) {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tleftPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tleftPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\trightPressedRef.current = true\n\t\t\t\t\t// Auto-release after a moment to prevent stuck controls\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\trightPressedRef.current = false\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[gamePaused]\n\t)\n\tconst touchStartX = useRef<number | null>(null)\n\tconst originalPaddleWidth = useRef<number>(\n\t\tcalculatePaddleWidth(INITIAL_LEVEL)\n\t)\n\tconst backgroundImageRef = useRef<HTMLImageElement | null>(null)\n\n\t// Ball ref\n\tconst ballRef = useRef<Ball>({\n\t\tx: CANVAS_WIDTH / 2,\n\t\ty: CANVAS_HEIGHT - 30,\n\t\tdx: 0,\n\t\tdy: 0,\n\t\tradius: BALL_RADIUS,\n\t\tspeed: calculateBallSpeed(INITIAL_LEVEL),\n\t\tcolor: BALL_COLOR,\n\t})\n\n\t// Paddle ref\n\tconst paddleRef = useRef<Paddle>({\n\t\tx: (CANVAS_WIDTH - calculatePaddleWidth(INITIAL_LEVEL)) / 2,\n\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\twidth: calculatePaddleWidth(INITIAL_LEVEL),\n\t\theight: PADDLE_HEIGHT,\n\t\tspeed: PADDLE_SPEED,\n\t\tcolor: PADDLE_COLOR,\n\t})\n\n\t// Bricks ref\n\tconst bricksRef = useRef<Brick[][]>(createBricks(INITIAL_LEVEL))\n\n\t// Power-ups refs\n\tconst powerUpsRef = useRef<PowerUp[]>([])\n\tconst extraBallsRef = useRef<Ball[]>([])\n\tconst activePowerUpsRef = useRef<ActivePowerUp[]>([])\n\n\t// --- Helper Functions ---\n\n\tconst resetBallAndPaddle = useCallback(() => {\n\t\tconst paddleWidth = calculatePaddleWidth(level)\n\t\tconst ballSpeed = calculateBallSpeed(level)\n\n\t\tpaddleRef.current = {\n\t\t\tx: (CANVAS_WIDTH - paddleWidth) / 2,\n\t\t\ty: CANVAS_HEIGHT - PADDLE_HEIGHT - 10,\n\t\t\twidth: paddleWidth,\n\t\t\theight: PADDLE_HEIGHT,\n\t\t\tspeed: PADDLE_SPEED,\n\t\t\tcolor: PADDLE_COLOR,\n\t\t}\n\n\t\tballRef.current = {\n\t\t\tx: CANVAS_WIDTH / 2,\n\t\t\ty: CANVAS_HEIGHT - 30,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tradius: BALL_RADIUS,\n\t\t\tspeed: ballSpeed,\n\t\t\tcolor: BALL_COLOR,\n\t\t}\n\n\t\tsetBallLaunched(false)\n\t}, [level])\n\n\tconst levelUp = useCallback(() => {\n\t\tconst newLevel = level + 1\n\t\tsetLevel(newLevel)\n\t\tbricksRef.current = createBricks(newLevel)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLevelUp()\n\t}, [level, resetBallAndPaddle])\n\n\tconst loseLife = useCallback(() => {\n\t\tsetCurrentLives(prev => prev - 1)\n\t\tresetBallAndPaddle()\n\t\tbreakoutAudio.playLoseLife()\n\t}, [resetBallAndPaddle])\n\n\tconst launchBall = useCallback(() => {\n\t\tif (!ballLaunched && gameStarted && !gamePaused) {\n\t\t\tconst launchAngle = (Math.random() * Math.PI) / 3 - Math.PI / 6 // -30 to +30 degrees\n\t\t\tballRef.current.dx = ballRef.current.speed * Math.sin(launchAngle)\n\t\t\tballRef.current.dy = -ballRef.current.speed * Math.cos(launchAngle)\n\t\t\tsetBallLaunched(true)\n\t\t}\n\t}, [ballLaunched, gameStarted, gamePaused])\n\n\t// Power-up handling\n\tconst spawnPowerUp = useCallback(\n\t\t(x: number, y: number, type: PowerUpType) => {\n\t\t\tconst config = POWER_UP_CONFIG[type]\n\t\t\tpowerUpsRef.current.push({\n\t\t\t\tx: x - POWER_UP_SIZE / 2,\n\t\t\t\ty: y - POWER_UP_SIZE / 2,\n\t\t\t\twidth: POWER_UP_SIZE,\n\t\t\t\theight: POWER_UP_SIZE,\n\t\t\t\ttype,\n\t\t\t\tspeed: POWER_UP_SPEED,\n\t\t\t\tcolor: config.color,\n\t\t\t\tactive: true,\n\t\t\t})\n\t\t},\n\t\t[]\n\t)\n\n\tconst activatePowerUp = useCallback((type: PowerUpType) => {\n\t\tconst now = Date.now()\n\n\t\tswitch (type) {\n\t\t\tcase 'paddle-grow': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.min(\n\t\t\t\t\tpaddleRef.current.width * 1.5,\n\t\t\t\t\tCANVAS_WIDTH * 0.3\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'paddle-shrink': {\n\t\t\t\toriginalPaddleWidth.current = paddleRef.current.width\n\t\t\t\tpaddleRef.current.width = Math.max(\n\t\t\t\t\tpaddleRef.current.width * 0.7,\n\t\t\t\t\t60 // PADDLE_MIN_WIDTH\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(CANVAS_WIDTH - paddleRef.current.width, paddleRef.current.x)\n\t\t\t\t)\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'ball-speed': {\n\t\t\t\tballRef.current.speed = ballRef.current.speed * 0.7 // Slow down for easier gameplay\n\t\t\t\t// Update velocity to match new speed\n\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t)\n\t\t\t\tballRef.current.dx =\n\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\tballRef.current.dy =\n\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\tactivePowerUpsRef.current.push({\n\t\t\t\t\ttype,\n\t\t\t\t\tendTime: now + POWER_UP_DURATION,\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'multi-ball': {\n\t\t\t\t// Create 2 extra balls\n\t\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\t\tconst angle = (Math.random() * Math.PI) / 2 - Math.PI / 4 // -45 to +45 degrees\n\t\t\t\t\textraBallsRef.current.push({\n\t\t\t\t\t\tx: ballRef.current.x,\n\t\t\t\t\t\ty: ballRef.current.y,\n\t\t\t\t\t\tdx: ballRef.current.speed * Math.sin(angle),\n\t\t\t\t\t\tdy: -Math.abs(ballRef.current.speed * Math.cos(angle)),\n\t\t\t\t\t\tradius: BALL_RADIUS,\n\t\t\t\t\t\tspeed: ballRef.current.speed,\n\t\t\t\t\t\tcolor: BALL_COLOR,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tcase 'extra-life': {\n\t\t\t\tsetCurrentLives(prev => prev + 1)\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}, [])\n\n\tconst updatePowerUps = useCallback(() => {\n\t\tconst now = Date.now()\n\n\t\t// Update falling power-ups\n\t\tpowerUpsRef.current = powerUpsRef.current.filter(powerUp => {\n\t\t\tif (!powerUp.active) return false\n\n\t\t\tpowerUp.y += powerUp.speed\n\n\t\t\t// Check paddle collision\n\t\t\tif (\n\t\t\t\tpowerUp.y + powerUp.height > paddleRef.current.y &&\n\t\t\t\tpowerUp.x < paddleRef.current.x + paddleRef.current.width &&\n\t\t\t\tpowerUp.x + powerUp.width > paddleRef.current.x\n\t\t\t) {\n\t\t\t\tactivatePowerUp(powerUp.type)\n\t\t\t\tbreakoutAudio.playPowerUpCollect()\n\t\t\t\treturn false // Remove collected power-up\n\t\t\t}\n\n\t\t\t// Remove if fell off screen\n\t\t\treturn powerUp.y < CANVAS_HEIGHT\n\t\t})\n\n\t\t// Check and remove expired power-ups\n\t\tactivePowerUpsRef.current = activePowerUpsRef.current.filter(\n\t\t\tactivePowerUp => {\n\t\t\t\tif (now > activePowerUp.endTime) {\n\t\t\t\t\t// Revert power-up effects\n\t\t\t\t\tswitch (activePowerUp.type) {\n\t\t\t\t\t\tcase 'paddle-grow':\n\t\t\t\t\t\tcase 'paddle-shrink': {\n\t\t\t\t\t\t\tpaddleRef.current.width = calculatePaddleWidth(level)\n\t\t\t\t\t\t\tpaddleRef.current.x = Math.max(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\t\tCANVAS_WIDTH - paddleRef.current.width,\n\t\t\t\t\t\t\t\t\tpaddleRef.current.x\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'ball-speed': {\n\t\t\t\t\t\t\tballRef.current.speed = calculateBallSpeed(level)\n\t\t\t\t\t\t\t// Update velocity to match new speed\n\t\t\t\t\t\t\tconst currentSpeed = Math.sqrt(\n\t\t\t\t\t\t\t\tballRef.current.dx ** 2 + ballRef.current.dy ** 2\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tballRef.current.dx =\n\t\t\t\t\t\t\t\t(ballRef.current.dx / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tballRef.current.dy =\n\t\t\t\t\t\t\t\t(ballRef.current.dy / currentSpeed) * ballRef.current.speed\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}\n\t\t)\n\n\t\t// Update state for UI display\n\t\tsetActivePowerUpsState([...activePowerUpsRef.current])\n\t}, [activatePowerUp, level])\n\n\t// --- Effects ---\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tbreakoutAudio.init()\n\t\treturn () => {\n\t\t\tbreakoutAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Load background image\n\tuseEffect(() => {\n\t\tconst img = new Image()\n\t\tif (skin !== 'default') {\n\t\t\timg.src = `/games/breakout/skins/${skin}/bg.webp`\n\t\t} else {\n\t\t\timg.src = BACKGROUND_IMAGE_SRC\n\t\t}\n\t\timg.onload = () => {\n\t\t\tbackgroundImageRef.current = img\n\t\t}\n\t}, [])\n\n\t// Handle game over when lives reach 0\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Keyboard event listeners\n\tuseEffect(() => {\n\t\tconst keyDownHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = true\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = true\n\t\t\t} else if (e.key === ' ' && gameStarted && !ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t} else if (e.key === ' ' && gameStarted && ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t} else if (e.key === 'p' || e.key === 'P') {\n\t\t\t\tif (gameStarted && ballLaunched) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst keyUpHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Right' || e.key === 'ArrowRight') {\n\t\t\t\trightPressedRef.current = false\n\t\t\t} else if (e.key === 'Left' || e.key === 'ArrowLeft') {\n\t\t\t\tleftPressedRef.current = false\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', keyDownHandler)\n\t\tdocument.addEventListener('keyup', keyUpHandler)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', keyDownHandler)\n\t\t\tdocument.removeEventListener('keyup', keyUpHandler)\n\t\t}\n\t}, [gameStarted, ballLaunched, launchBall])\n\n\t// Touch event listeners\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !mobile || !gameStarted) return\n\n\t\tconst touchMoveHandler = (e: TouchEvent) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\te.preventDefault()\n\t\t\t\tconst touch = e.touches[0]\n\t\t\t\tconst rect = canvas.getBoundingClientRect()\n\t\t\t\tconst touchX = touch.clientX - rect.left\n\t\t\t\tconst nextPaddleX = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(rect.width - paddleRef.current.width, touchX)\n\t\t\t\t)\n\t\t\t\tpaddleRef.current.x = nextPaddleX * window.devicePixelRatio\n\t\t\t\tif (!ballLaunched) {\n\t\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst touchStartHandler = (e: TouchEvent) => {\n\t\t\tif (gamePaused) return\n\t\t\tif (!ballLaunched) {\n\t\t\t\te.preventDefault()\n\t\t\t\tlaunchBall()\n\t\t\t}\n\t\t\tif (e.touches.length > 0) {\n\t\t\t\ttouchStartX.current = e.touches[0].clientX\n\t\t\t}\n\t\t}\n\n\t\tconst touchEndHandler = () => {\n\t\t\ttouchStartX.current = null\n\t\t}\n\n\t\tcanvas.addEventListener('touchmove', touchMoveHandler, { passive: false })\n\t\tcanvas.addEventListener('touchstart', touchStartHandler, { passive: false })\n\t\tcanvas.addEventListener('touchend', touchEndHandler)\n\n\t\treturn () => {\n\t\t\tcanvas.removeEventListener('touchmove', touchMoveHandler)\n\t\t\tcanvas.removeEventListener('touchstart', touchStartHandler)\n\t\t\tcanvas.removeEventListener('touchend', touchEndHandler)\n\t\t}\n\t}, [mobile, gameStarted, gamePaused, ballLaunched, launchBall])\n\n\t// Game Loop Effect\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst draw = () => {\n\t\t\tconst now = performance.now()\n\t\t\tconst deltaTime = (now - lastTime) / 1000\n\t\t\tlastTime = now\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw background\n\t\t\tif (backgroundImageRef.current) {\n\t\t\t\t// Draw background image if loaded\n\t\t\t\tctx.drawImage(\n\t\t\t\t\tbackgroundImageRef.current,\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\tCANVAS_WIDTH,\n\t\t\t\t\tCANVAS_HEIGHT\n\t\t\t\t)\n\t\t\t\t// Add a semi-transparent overlay for better visibility\n\t\t\t\tctx.fillStyle = 'rgba(0, 0, 0, 0.3)'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t} else {\n\t\t\t\t// Fallback: Draw a dark background if image hasn't loaded\n\t\t\t\tctx.fillStyle = '#1a1a1a'\n\t\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\t\t\t}\n\n\t\t\t// Draw elements\n\t\t\tdrawBricks(ctx, bricksRef.current)\n\t\t\tdrawPaddle(ctx, paddleRef.current)\n\t\t\tdrawBall(ctx, ballRef.current)\n\t\t\tdrawExtraBalls(ctx, extraBallsRef.current)\n\t\t\tdrawPowerUps(ctx, powerUpsRef.current)\n\n\t\t\tif (ballLaunched) {\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\n\t\t\t\t// Update power-ups\n\t\t\t\tupdatePowerUps()\n\n\t\t\t\t// Collision detection for main ball\n\t\t\t\tconst {\n\t\t\t\t\tpointsToAdd,\n\t\t\t\t\tlifeLost,\n\t\t\t\t\tspawnPowerUp: powerUpToSpawn,\n\t\t\t\t} = collisionDetection(\n\t\t\t\t\tballRef.current,\n\t\t\t\t\tbricksRef.current,\n\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t)\n\n\t\t\t\tif (powerUpToSpawn) {\n\t\t\t\t\tspawnPowerUp(powerUpToSpawn.x, powerUpToSpawn.y, powerUpToSpawn.type)\n\t\t\t\t}\n\n\t\t\t\t// Play brick break sound when points are earned\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tbreakoutAudio.playBrickBreak()\n\t\t\t\t}\n\n\t\t\t\t// Handle extra balls\n\t\t\t\textraBallsRef.current = extraBallsRef.current.filter(ball => {\n\t\t\t\t\tconst result = collisionDetection(\n\t\t\t\t\t\tball,\n\t\t\t\t\t\tbricksRef.current,\n\t\t\t\t\t\tpaddleRef.current,\n\t\t\t\t\t\tCANVAS_HEIGHT,\n\t\t\t\t\t\tCANVAS_WIDTH\n\t\t\t\t\t)\n\n\t\t\t\t\tif (result.pointsToAdd > 0) {\n\t\t\t\t\t\tsetPoints(prev => prev + result.pointsToAdd)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (result.spawnPowerUp) {\n\t\t\t\t\t\tspawnPowerUp(\n\t\t\t\t\t\t\tresult.spawnPowerUp.x,\n\t\t\t\t\t\t\tresult.spawnPowerUp.y,\n\t\t\t\t\t\t\tresult.spawnPowerUp.type\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move extra ball\n\t\t\t\t\tball.x += ball.dx * deltaTime * 60\n\t\t\t\t\tball.y += ball.dy * deltaTime * 60\n\n\t\t\t\t\t// Keep extra ball if not lost\n\t\t\t\t\treturn !result.lifeLost\n\t\t\t\t})\n\n\t\t\t\tif (pointsToAdd > 0) {\n\t\t\t\t\tsetPoints(prev => prev + pointsToAdd)\n\t\t\t\t}\n\n\t\t\t\t// Only lose life if main ball is lost\n\t\t\t\tif (lifeLost) {\n\t\t\t\t\t// Check if there are extra balls\n\t\t\t\t\tif (extraBallsRef.current.length > 0) {\n\t\t\t\t\t\t// Move an extra ball to become the main ball\n\t\t\t\t\t\tconst newMainBall = extraBallsRef.current.pop()!\n\t\t\t\t\t\tballRef.current.x = newMainBall.x\n\t\t\t\t\t\tballRef.current.y = newMainBall.y\n\t\t\t\t\t\tballRef.current.dx = newMainBall.dx\n\t\t\t\t\t\tballRef.current.dy = newMainBall.dy\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloseLife()\n\t\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (allBricksBroken(bricksRef.current)) {\n\t\t\t\t\tlevelUp()\n\t\t\t\t\textraBallsRef.current = []\n\t\t\t\t\tpowerUpsRef.current = []\n\t\t\t\t\tactivePowerUpsRef.current = []\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Move ball\n\t\t\t\tballRef.current.x += ballRef.current.dx * deltaTime * 60\n\t\t\t\tballRef.current.y += ballRef.current.dy * deltaTime * 60\n\t\t\t} else {\n\t\t\t\t// Keep ball centered on paddle before launch\n\t\t\t\tballRef.current.x = paddleRef.current.x + paddleRef.current.width / 2\n\t\t\t\tballRef.current.y = paddleRef.current.y - BALL_RADIUS\n\n\t\t\t\t// Move paddle\n\t\t\t\tif (\n\t\t\t\t\trightPressedRef.current &&\n\t\t\t\t\tpaddleRef.current.x < CANVAS_WIDTH - paddleRef.current.width\n\t\t\t\t) {\n\t\t\t\t\tpaddleRef.current.x += paddleRef.current.speed * deltaTime * 60\n\t\t\t\t} else if (leftPressedRef.current && paddleRef.current.x > 0) {\n\t\t\t\t\tpaddleRef.current.x -= paddleRef.current.speed * deltaTime * 60\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(draw)\n\t\t}\n\n\t\tdraw()\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tballLaunched,\n\t\tlevel,\n\t\tloseLife,\n\t\tlevelUp,\n\t\tupdatePowerUps,\n\t\tspawnPowerUp,\n\t])\n\n\t// --- Game Start/Control Functions ---\n\n\tconst startGame = () => {\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(INITIAL_LEVEL)\n\t\tsetPoints(0)\n\t\tsetCurrentLives(initialLives)\n\t\tbricksRef.current = createBricks(INITIAL_LEVEL)\n\t\tresetBallAndPaddle()\n\t\tpowerUpsRef.current = []\n\t\textraBallsRef.current = []\n\t\tactivePowerUpsRef.current = []\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetGameStarted(true)\n\t\tsetBallLaunched(false)\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tsetBallLaunched(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\t// --- Component Render ---\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && ballLaunched && !quitGame\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\" style={{ aspectRatio: '1' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t<div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3rem', padding: '0.25rem 1rem' }}>\n\t\t\t\t\t\t{/* Active Power-ups Display */}\n\t\t\t\t\t\t{gameStarted && activePowerUpsState.length > 0 && (\n\t\t\t\t\t\t\t<div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.875rem', color: 'white', fontWeight: 600 }}>\n\t\t\t\t\t\t\t\t\tPower-ups:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{activePowerUpsState.map((powerUp, index) => {\n\t\t\t\t\t\t\t\t\tconst config = POWER_UP_CONFIG[powerUp.type]\n\t\t\t\t\t\t\t\t\tconst remaining = Math.ceil(\n\t\t\t\t\t\t\t\t\t\t(powerUp.endTime - Date.now()) / 1000\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"game-header-stat-box\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderColor: config.color }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '1.125rem' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{config.label.split(' ')[0]}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', fontWeight: 'bold', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{remaining}s\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcursor:\n\t\t\t\t\t\t\t\tgameStarted && !gamePaused && ballLaunched ? 'none' : 'default',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Game Overlays */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={gameTitle}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(2)\n\t\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? 'Siguiente '\n\t\t\t\t\t\t\t\t\t: instructionsStep === 1\n\t\t\t\t\t\t\t\t\t\t? 'Power-ups '\n\t\t\t\t\t\t\t\t\t\t: ' JUGAR'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{/* Visual elements */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-6 h-2 bg-gray-300 rounded-sm\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Paleta</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: BALL_COLOR }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-2 h-2 rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Pelota</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{BRICK_TYPES.slice(0, 2).map(type => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={type.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: type.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-2 rounded-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs\">Bloques</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Controls */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Desliza para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca para lanzar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Flechas para mover</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO para lanzar/pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Skip button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : instructionsStep === 1 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Destruye bloques para ganar puntos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Completa niveles limpiando todos</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> No dejes caer la pelota</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> La paleta se achica cada nivel</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-bold text-sm mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t Power-ups disponibles:\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-green-400\">Paleta Grande</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- Aumenta tamao\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-blue-400\">Bola Lenta</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\tFacilita el juego\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-yellow-400\">Multi-Bola</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t- 3 bolas a la vez\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t <span className=\"text-red-400\">Vida Extra</span> -\n\t\t\t\t\t\t\t\t\t\t\t\t\t+1 vida\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs mt-2 text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNivel 4+:  Paleta pequea (cuidado!)\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLos bloques con  contienen power-ups\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Back button */}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(1)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage=\"Juego pausado. Listo para seguir?\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${points}) y perders las vidas restantes.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir Ahora\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Mobile Controls */}\n\t\t\t{mobile && gameStarted && (\n\t\t\t\t<GameControls\n\t\t\t\t\tonControl={handleControl}\n\t\t\t\t\tlayout=\"horizontal\"\n\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default BreakoutGame\n","import type { Ball, Brick, Paddle, PowerUp } from '../types'\nimport { POWER_UP_CONFIG } from '../constants'\n\nexport const drawBall = (ctx: CanvasRenderingContext2D, ball: Ball) => {\n\tctx.beginPath()\n\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\tctx.fillStyle = ball.color\n\t// Add glow\n\tctx.shadowBlur = 15\n\tctx.shadowColor = ball.color\n\tctx.fill()\n\tctx.closePath()\n\t// Reset shadow\n\tctx.shadowBlur = 0\n\tctx.shadowColor = 'transparent'\n}\n\nexport const drawPaddle = (ctx: CanvasRenderingContext2D, paddle: Paddle) => {\n\tctx.beginPath()\n\tconst radius = 5 // Rounded corners\n\tctx.moveTo(paddle.x + radius, paddle.y)\n\tctx.lineTo(paddle.x + paddle.width - radius, paddle.y)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y,\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + radius\n\t)\n\tctx.lineTo(paddle.x + paddle.width, paddle.y + paddle.height - radius)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x + paddle.width,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x + paddle.width - radius,\n\t\tpaddle.y + paddle.height\n\t)\n\tctx.lineTo(paddle.x + radius, paddle.y + paddle.height)\n\tctx.quadraticCurveTo(\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height,\n\t\tpaddle.x,\n\t\tpaddle.y + paddle.height - radius\n\t)\n\tctx.lineTo(paddle.x, paddle.y + radius)\n\tctx.quadraticCurveTo(paddle.x, paddle.y, paddle.x + radius, paddle.y)\n\tctx.fillStyle = paddle.color\n\tctx.fill()\n\tctx.closePath()\n}\n\nexport const drawBricks = (\n\tctx: CanvasRenderingContext2D,\n\tbricks: Brick[][]\n) => {\n\tbricks.forEach(column => {\n\t\tcolumn.forEach(brick => {\n\t\t\tif (brick.status > 0) {\n\t\t\t\tctx.beginPath()\n\t\t\t\tconst radius = 3 // Subtle rounded corners\n\t\t\t\tctx.moveTo(brick.x + radius, brick.y)\n\t\t\t\tctx.lineTo(brick.x + brick.width - radius, brick.y)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y,\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + brick.width, brick.y + brick.height - radius)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x + brick.width,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x + brick.width - radius,\n\t\t\t\t\tbrick.y + brick.height\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x + radius, brick.y + brick.height)\n\t\t\t\tctx.quadraticCurveTo(\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height,\n\t\t\t\t\tbrick.x,\n\t\t\t\t\tbrick.y + brick.height - radius\n\t\t\t\t)\n\t\t\t\tctx.lineTo(brick.x, brick.y + radius)\n\t\t\t\tctx.quadraticCurveTo(brick.x, brick.y, brick.x + radius, brick.y)\n\n\t\t\t\t// Adjust opacity based on hits remaining\n\t\t\t\tconst opacity = brick.status / brick.hitsToBreak\n\t\t\t\tctx.fillStyle = brick.color\n\t\t\t\tctx.globalAlpha = 0.5 + opacity * 0.5 // Min 50% opacity\n\t\t\t\tctx.fill()\n\t\t\t\tctx.globalAlpha = 1.0\n\n\t\t\t\t// Draw cracks for damaged bricks\n\t\t\t\tif (brick.status < brick.hitsToBreak) {\n\t\t\t\t\tctx.strokeStyle = 'rgba(0,0,0,0.3)'\n\t\t\t\t\tctx.lineWidth = 2\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\n\t\t\t\t// Draw power-up indicator\n\t\t\t\tif (brick.hasPowerUp && brick.powerUpType) {\n\t\t\t\t\tctx.fillStyle = 'rgba(255,255,255,0.8)'\n\t\t\t\t\tctx.font = '12px Arial'\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\t\tctx.fillText(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tbrick.x + brick.width / 2,\n\t\t\t\t\t\tbrick.y + brick.height / 2\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tctx.closePath()\n\t\t\t}\n\t\t})\n\t})\n}\n\nexport const drawExtraBalls = (\n\tctx: CanvasRenderingContext2D,\n\textraBalls: Ball[]\n) => {\n\textraBalls.forEach(ball => {\n\t\tctx.beginPath()\n\t\tctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2)\n\t\tctx.fillStyle = ball.color\n\t\tctx.shadowBlur = 10\n\t\tctx.shadowColor = ball.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n\nexport const drawPowerUps = (\n\tctx: CanvasRenderingContext2D,\n\tpowerUps: PowerUp[]\n) => {\n\tpowerUps.forEach(powerUp => {\n\t\t// Draw power-up background\n\t\tctx.beginPath()\n\t\tctx.arc(\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2,\n\t\t\tpowerUp.width / 2,\n\t\t\t0,\n\t\t\tMath.PI * 2\n\t\t)\n\t\tctx.fillStyle = powerUp.color\n\t\tctx.shadowBlur = 20\n\t\tctx.shadowColor = powerUp.color\n\t\tctx.fill()\n\t\tctx.closePath()\n\n\t\t// Draw power-up icon\n\t\tctx.fillStyle = 'white'\n\t\tctx.font = '14px Arial'\n\t\tctx.textAlign = 'center'\n\t\tctx.textBaseline = 'middle'\n\n\t\t// Get the icon from POWER_UP_CONFIG\n\t\tconst icon = POWER_UP_CONFIG[powerUp.type].label.split(' ')[0] // Extract emoji icon\n\t\tctx.fillText(\n\t\t\ticon,\n\t\t\tpowerUp.x + powerUp.width / 2,\n\t\t\tpowerUp.y + powerUp.height / 2\n\t\t)\n\n\t\t// Reset shadow\n\t\tctx.shadowBlur = 0\n\t\tctx.shadowColor = 'transparent'\n\t})\n}\n","'use client'\n\nimport React, { useState, useCallback, useRef, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { PenaltyShootoutProps, ShotResult } from './types'\n\n// Lazy import for Phaser game\nconst PenaltyShootoutCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst PenaltyShootoutGame: React.FC<PenaltyShootoutProps> = ({\n\tlives = 5,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#1a472a',\n\tskin,\n\tgameTitle = 'PENALES',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\n\t// Game state\n\tconst [score, setScore] = useState(0)\n\tconst [round, setRound] = useState(1)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [gameResult, setGameResult] = useState<{\n\t\tgoals: number\n\t\tscore: number\n\t\twon: boolean\n\t} | null>(null)\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(() => {\n\t\tif (!isGameStarted) {\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetRound(1)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameResult(null)\n\t\t}\n\t}, [isGameStarted])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleRoundComplete = useCallback(\n\t\t(roundNum: number, _result: ShotResult) => {\n\t\t\tsetRound(roundNum + 1)\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleGameOverFromPhaser = useCallback(\n\t\t(finalGoals: number, totalScore: number) => {\n\t\t\tsetIsGameOver(true)\n\t\t\tsetGameResult({\n\t\t\t\tgoals: finalGoals,\n\t\t\t\tscore: totalScore,\n\t\t\t\twon: finalGoals >= Math.ceil(lives / 2),\n\t\t\t})\n\t\t},\n\t\t[lives]\n\t)\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Lives (shots remaining), and Quit */}\n\t\t\t<GameHeader\n\t\t\t\tscore={score}\n\t\t\t\tlives={lives - round + 1}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#4ade80' }}>\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.75rem', color: 'white' }}>por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0 auto', width: '12rem', height: 'auto', marginBottom: '1rem' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div style={{ color: '#d1d5db', fontSize: '0.875rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p> Tira {lives} penales contra el portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza desde el baln hacia la portera</p>\n\t\t\t\t\t\t\t\t\t\t<p> Curva tu tiro para engaar al portero</p>\n\t\t\t\t\t\t\t\t\t\t<p> Anota {Math.ceil(lives / 2)}+ goles para ganar</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.75rem' }}>\n\t\t\t\t\t\t\t\t\t\t<p>Tiros curvos = +25 pts | Esquinas = +50 pts</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<PenaltyShootoutCore\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonRoundComplete={handleRoundComplete}\n\t\t\t\t\t\t\t\tonGameOver={handleGameOverFromPhaser}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\ttotalRounds={lives}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over Screen */}\n\t\t\t\t\t{isGameOver && gameResult && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\t\t\tcolor: gameResult.won ? '#4ade80' : '#f87171'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{gameResult.won ? 'VICTORIA!' : 'DERROTA'}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '0.5rem', margin: '1rem 0' }}>\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1.5rem', opacity: i < gameResult.goals ? 1 : 0.3 }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.25rem', color: 'white' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.goals} de {lives} goles\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#facc15' }}>\n\t\t\t\t\t\t\t\t\t\t{gameResult.score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{gameResult.goals === lives && (\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '1.125rem', color: '#fde047' }}>\n\t\t\t\t\t\t\t\t\t\t\tPuntuacin perfecta! \n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default PenaltyShootoutGame\n","'use client'\n\nimport React, { useState, useCallback, useRef, useEffect, lazy, Suspense } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport { CandyCrushProps } from './types'\nimport { LEVELS, SCORING } from './constants'\nimport { candyCrushAudio } from './utils/audioManager'\n\n// Lazy import for Phaser game\nconst CandyCrushCore = lazy(() => import('./game'))\n\nconst LoadingFallback = () => (\n\t<div className=\"game-loading\">\n\t\t<div>Cargando...</div>\n\t</div>\n)\n\nconst CandyCrushGame: React.FC<CandyCrushProps> = ({\n\tlives = 3,\n\tlevel = 1,\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#e91e63',\n\tskin,\n\tgameTitle = 'CANDY CRUSH',\n\tbrandLogo,\n}) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [gameKey, setGameKey] = useState(0) // Used to reset game instance\n\n\t// Level progression state\n\tconst [currentLevel, setCurrentLevel] = useState(\n\t\tMath.min(Math.max(level, 1), LEVELS.length)\n\t)\n\tconst [totalScore, setTotalScore] = useState(0) // Accumulated score across all levels\n\n\t// Get level configuration for current level\n\tconst levelConfig = LEVELS[currentLevel - 1]\n\n\t// Game state\n\tconst [score, setScore] = useState(0) // Score for current level\n\tconst [moves, setMoves] = useState(levelConfig.moves)\n\tconst [livesRemaining, setLivesRemaining] = useState(lives)\n\tconst [isGameStarted, setIsGameStarted] = useState(false)\n\tconst [isRoundComplete, setIsRoundComplete] = useState(false)\n\tconst [roundWon, setRoundWon] = useState(false)\n\tconst [isGameOver, setIsGameOver] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [allLevelsComplete, setAllLevelsComplete] = useState(false)\n\n\t// Refs to access current values in callbacks without causing re-renders\n\tconst scoreRef = useRef(score)\n\tconst totalScoreRef = useRef(totalScore)\n\tconst currentLevelRef = useRef(currentLevel)\n\tconst livesRemainingRef = useRef(livesRemaining)\n\n\t// Cleanup audio on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tcandyCrushAudio.dispose()\n\t\t}\n\t}, [])\n\n\t// Keep refs in sync with state\n\tuseEffect(() => {\n\t\tscoreRef.current = score\n\t}, [score])\n\tuseEffect(() => {\n\t\ttotalScoreRef.current = totalScore\n\t}, [totalScore])\n\tuseEffect(() => {\n\t\tcurrentLevelRef.current = currentLevel\n\t}, [currentLevel])\n\tuseEffect(() => {\n\t\tlivesRemainingRef.current = livesRemaining\n\t}, [livesRemaining])\n\n\tconst isMobileDevice = isMobile()\n\n\tconst startGame = useCallback(async () => {\n\t\tif (!isGameStarted) {\n\t\t\t// Initialize audio on user gesture (required for browser audio context)\n\t\t\tawait candyCrushAudio.init()\n\n\t\t\tsetIsGameStarted(true)\n\t\t\tsetIsRoundComplete(false)\n\t\t\tsetRoundWon(false)\n\t\t\tsetIsGameOver(false)\n\t\t\tsetScore(0)\n\t\t\tsetMoves(levelConfig.moves)\n\t\t\tsetQuitGame(false)\n\t\t\tsetGameKey(prev => prev + 1)\n\t\t}\n\t}, [isGameStarted, levelConfig.moves])\n\n\tconst retryRound = useCallback(() => {\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(levelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [levelConfig.moves])\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t}\n\n\tconst handleQuitConfirm = useCallback(() => {\n\t\t// Use refs to ensure we get the latest values\n\t\tconst finalScore = totalScoreRef.current + scoreRef.current\n\t\tsetPointsEarned(finalScore)\n\t\tsetGameOver(true)\n\t\tsetIsGameStarted(false)\n\t\tsetIsGameOver(true)\n\t}, [setPointsEarned, setGameOver])\n\n\tconst handleScoreUpdate = useCallback((newScore: number) => {\n\t\tsetScore(newScore)\n\t}, [])\n\n\tconst handleMovesUpdate = useCallback((newMoves: number) => {\n\t\tsetMoves(newMoves)\n\t}, [])\n\n\tconst handleGameComplete = useCallback(\n\t\t(won: boolean, _finalScore: number) => {\n\t\t\tsetRoundWon(won)\n\t\t\tsetIsRoundComplete(true)\n\n\t\t\tif (won) {\n\t\t\t\t// Check if this was the last level\n\t\t\t\tif (currentLevelRef.current >= LEVELS.length) {\n\t\t\t\t\t// Completed all levels! Add final score to total\n\t\t\t\t\tsetTotalScore(prev => prev + scoreRef.current)\n\t\t\t\t\tsetAllLevelsComplete(true)\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can continue to next level (score added when they click Next)\n\t\t\t} else {\n\t\t\t\t// Player failed - lose a life\n\t\t\t\tconst newLives = livesRemainingRef.current - 1\n\t\t\t\tsetLivesRemaining(newLives)\n\n\t\t\t\tif (newLives <= 0) {\n\t\t\t\t\t// No more lives - game over\n\t\t\t\t\tsetIsGameOver(true)\n\t\t\t\t}\n\t\t\t\t// Otherwise, player can retry\n\t\t\t}\n\t\t},\n\t\t[]\n\t)\n\n\tconst handleNextLevel = useCallback(() => {\n\t\t// Add current level score to total before advancing\n\t\tsetTotalScore(prev => prev + score)\n\n\t\t// Advance to next level\n\t\tconst nextLevel = currentLevel + 1\n\t\tconst nextLevelConfig = LEVELS[nextLevel - 1]\n\n\t\tsetCurrentLevel(nextLevel)\n\t\tsetIsRoundComplete(false)\n\t\tsetRoundWon(false)\n\t\tsetScore(0)\n\t\tsetMoves(nextLevelConfig.moves)\n\t\tsetGameKey(prev => prev + 1)\n\t}, [currentLevel, score])\n\n\tconst handleContinue = () => {\n\t\tsetPointsEarned(totalScore + score)\n\t\tsetGameOver(true)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor, maxWidth: '32rem', margin: '0 auto' }}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t{/* Game Header - Score, Moves, Lives, Level */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={currentLevel}\n\t\t\t\tscore={totalScore + score}\n\t\t\t\tlives={livesRemaining}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={isMobileDevice}\n\t\t\t\tonQuit={() => setQuitGame(true)}\n\t\t\t\tshowQuitButton={isGameStarted && !isRoundComplete && !isGameOver}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Canvas Area */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center', justifyContent: 'center', aspectRatio: '400/600', maxHeight: '70vh' }}\n\t\t\t\t>\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!isGameStarted && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={startGame}\n\t\t\t\t\t\t\tactionText=\" JUGAR\"\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-2 md:space-y-3\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-3xl md:text-5xl font-bold text-pink-400 animate-pulse\">\n\t\t\t\t\t\t\t\t\t\t{gameTitle}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-bold text-white\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} de {LEVELS.length}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-1 md:space-y-2 text-gray-300 text-sm md:text-md\">\n\t\t\t\t\t\t\t\t\t\t<p> Meta: {levelConfig.targetScore} puntos</p>\n\t\t\t\t\t\t\t\t\t\t<p> Movimientos: {levelConfig.moves}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Vidas: {lives}</p>\n\t\t\t\t\t\t\t\t\t\t<p> Desliza para intercambiar dulces</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-xs md:text-sm text-gray-400 mt-2 md:mt-3\">\n\t\t\t\t\t\t\t\t\t\t<p>Combina 3+ dulces del mismo color</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Active Game */}\n\t\t\t\t\t{isGameStarted && !isRoundComplete && (\n\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t<CandyCrushCore\n\t\t\t\t\t\t\t\tkey={gameKey}\n\t\t\t\t\t\t\t\tonScoreUpdate={handleScoreUpdate}\n\t\t\t\t\t\t\t\tonMovesUpdate={handleMovesUpdate}\n\t\t\t\t\t\t\t\tonGameComplete={handleGameComplete}\n\t\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\t\tlives={livesRemaining}\n\t\t\t\t\t\t\t\tlevelConfig={levelConfig}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Success (not last level) */}\n\t\t\t\t\t{isRoundComplete && roundWon && !allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleNextLevel}\n\t\t\t\t\t\t\tactionText=\"Siguiente Nivel \"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-green-400\">\n\t\t\t\t\t\t\t\t\t\tNivel {currentLevel} Completado!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Alcanzaste la meta</p>\n\n\t\t\t\t\t\t\t\t\t{/* Score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-md text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tPuntuacin acumulada:{' '}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t{totalScore + score}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* All Levels Complete */}\n\t\t\t\t\t{isRoundComplete && roundWon && allLevelsComplete && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\" Finalizar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\tVICTORIA TOTAL!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-6xl animate-bounce\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\tCompletaste los {LEVELS.length} niveles!\n\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t{/* Final level score breakdown */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin base (nivel {currentLevel}):</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score - moves * SCORING.movesBonus}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{moves > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-green-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Bonus por turnos:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves}  {SCORING.movesBonus} = +\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moves * SCORING.movesBonus}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Total nivel {currentLevel}:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-white/80\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Niveles anteriores:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Puntuacin final:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{totalScore + score}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Round Complete - Failed but has lives */}\n\t\t\t\t\t{isRoundComplete && !roundWon && !isGameOver && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={retryRound}\n\t\t\t\t\t\t\tactionText=\" Reintentar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\tCasi!\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">\n\t\t\t\t\t\t\t\t\t\t{score} / {levelConfig.targetScore} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center gap-2 my-4\">\n\t\t\t\t\t\t\t\t\t\t{Array.from({ length: lives }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`text-2xl ${\n\t\t\t\t\t\t\t\t\t\t\t\t\ti < livesRemaining ? 'opacity-100' : 'opacity-30'\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300\">\n\t\t\t\t\t\t\t\t\t\tVidas restantes: {livesRemaining}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Game Over - No more lives */}\n\t\t\t\t\t{isGameOver && !roundWon && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={handleContinue}\n\t\t\t\t\t\t\tactionText=\"Continuar\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center space-y-4\">\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-4xl md:text-5xl font-bold text-red-400\">\n\t\t\t\t\t\t\t\t\t\tGAME OVER\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"text-5xl\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xl text-white\">Se acabaron las vidas</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t{score} puntos\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Seguro? Registrars tus puntos actuales (${totalScore + score}) y terminars la partida.`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Ad Space */}\n\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t<img\n\t\t\t\t\tsrc=\"/games/candy-crush/sprites/ad-bottom.png\"\n\t\t\t\t\talt=\"Advertisement\"\n\t\t\t\t\tstyle={{ width: '100%', height: 'auto' }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CandyCrushGame\n","import type { LaneColors } from './types'\n\n// Canvas dimensions\nexport const CANVAS_WIDTH = 400\nexport const CANVAS_HEIGHT = 600\n\n// Lane configuration\nexport const LANE_COUNT = 4\nexport const LANE_WIDTH = CANVAS_WIDTH / LANE_COUNT\nexport const HIT_ZONE_Y = CANVAS_HEIGHT - 80\nexport const HIT_ZONE_HEIGHT = 20\n\n// Note configuration\nexport const NOTE_WIDTH = LANE_WIDTH - 20\nexport const NOTE_HEIGHT = 30\nexport const NOTE_RADIUS = 8\n\n// Timing windows (in milliseconds)\nexport const PERFECT_WINDOW = 50\nexport const GOOD_WINDOW = 100\n\n// Scoring (reduced for longer levels)\nexport const PERFECT_POINTS = 50\nexport const GOOD_POINTS = 25\nexport const MAX_COMBO_MULTIPLIER = 8\n\n// Default neon colors\nexport const DEFAULT_LANE_COLORS: LaneColors = {\n\tlane0: '#00ffff', // Cyan\n\tlane1: '#ff00ff', // Magenta\n\tlane2: '#ffff00', // Yellow\n\tlane3: '#00ff00', // Lime\n}\n\n// Key bindings\nexport const LANE_KEYS = ['d', 'f', 'j', 'k']\nexport const LANE_LABELS = ['D', 'F', 'J', 'K']\n\n// Lane pitches for Tone.js (C major chord with extension)\nexport const LANE_PITCHES = ['C4', 'E4', 'G4', 'B4']\n\n// Visual effects\nexport const HIT_EFFECT_DURATION = 300 // ms\nexport const TRAIL_LENGTH = 3\n","// Lane Assignment Algorithms for Melodic Song System\n// Converts raw melody notes to playable 4-lane patterns\n\nimport type { MelodicNote, LaneAssignmentOptions } from '../songs/songTypes'\n\n// MIDI note number to pitch name conversion\nconst NOTE_NAMES = [\n\t'C',\n\t'C#',\n\t'D',\n\t'D#',\n\t'E',\n\t'F',\n\t'F#',\n\t'G',\n\t'G#',\n\t'A',\n\t'A#',\n\t'B',\n]\n\nexport function pitchToMidi(pitch: string): number {\n\t// Parse pitch like \"C4\", \"F#5\", \"Bb3\"\n\tconst match = pitch.match(/^([A-G])([#b]?)(\\d+)$/)\n\tif (!match) return 60 // Default to middle C\n\n\tconst [, note, accidental, octaveStr] = match\n\tconst octave = parseInt(octaveStr, 10)\n\n\tlet noteIndex = NOTE_NAMES.indexOf(note)\n\tif (accidental === '#') noteIndex++\n\tif (accidental === 'b') noteIndex--\n\n\t// MIDI note number: C4 = 60\n\treturn (octave + 1) * 12 + noteIndex\n}\n\nexport function midiToPitch(midi: number): string {\n\tconst octave = Math.floor(midi / 12) - 1\n\tconst noteIndex = midi % 12\n\treturn `${NOTE_NAMES[noteIndex]}${octave}`\n}\n\n// Transpose a pitch by a number of semitones\nexport function transposePitch(pitch: string, semitones: number): string {\n\tconst midi = pitchToMidi(pitch)\n\treturn midiToPitch(midi + semitones)\n}\n\n// Transpose a pitch by octaves\nexport function transposeOctave(pitch: string, octaves: number): string {\n\treturn transposePitch(pitch, octaves * 12)\n}\n\ninterface PitchRange {\n\tmin: number\n\tmax: number\n\trange: number\n}\n\nfunction analyzePitchRange(notes: MelodicNote[]): PitchRange {\n\tconst midiValues = notes.map(n => pitchToMidi(n.pitch))\n\tconst min = Math.min(...midiValues)\n\tconst max = Math.max(...midiValues)\n\treturn { min, max, range: max - min }\n}\n\n/**\n * Pitch-Range Mapping Strategy\n * Divides the song's pitch range into 4 zones and assigns each to a lane.\n * Adjacent pitches map to adjacent lanes, creating natural hand movement.\n */\nfunction assignByPitchRange(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\tconst { min, range } = analyzePitchRange(notes)\n\n\t// Handle songs with very small range (all same pitch or close)\n\tconst effectiveRange = Math.max(range, 4)\n\tconst zoneSize = effectiveRange / 4\n\n\treturn notes.map(note => {\n\t\tconst midi = pitchToMidi(note.pitch)\n\t\tconst relativePosition = midi - min\n\n\t\t// Map to lane 0-3 based on position in range\n\t\tconst rawLane = Math.floor(relativePosition / zoneSize)\n\t\tconst lane = Math.max(0, Math.min(3, rawLane)) as 0 | 1 | 2 | 3\n\n\t\treturn { ...note, lane }\n\t})\n}\n\n/**\n * Complexity-Aware Mapping Strategy\n * Optimizes for playability by avoiding impossible patterns and\n * ensuring reasonable travel distance between consecutive notes.\n */\nfunction assignByComplexity(\n\tnotes: MelodicNote[],\n\tmaxSimultaneous: number = 2\n): MelodicNote[] {\n\tif (notes.length === 0) return []\n\n\t// First pass: assign by pitch range\n\tlet assignedNotes = assignByPitchRange(notes)\n\n\t// Second pass: resolve simultaneous note conflicts\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of assignedNotes) {\n\t\tconst beatKey = Math.round(note.beat * 1000) // Round to avoid floating point issues\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\t// Resolve conflicts where too many notes share the same beat\n\tconst resolvedNotes: MelodicNote[] = []\n\tfor (const [, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length <= maxSimultaneous) {\n\t\t\t// Ensure unique lanes for simultaneous notes\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of beatNotes) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t} else {\n\t\t\t// Too many simultaneous notes - keep only the most important ones\n\t\t\t// (highest and lowest pitches tend to be most melodically significant)\n\t\t\tconst sorted = [...beatNotes].sort(\n\t\t\t\t(a, b) => pitchToMidi(a.pitch) - pitchToMidi(b.pitch)\n\t\t\t)\n\t\t\tconst kept = [sorted[0], sorted[sorted.length - 1]]\n\t\t\tif (maxSimultaneous > 2 && sorted.length > 2) {\n\t\t\t\tkept.push(sorted[Math.floor(sorted.length / 2)])\n\t\t\t}\n\n\t\t\tconst usedLanes = new Set<number>()\n\t\t\tfor (const note of kept.slice(0, maxSimultaneous)) {\n\t\t\t\tlet lane = note.lane\n\t\t\t\twhile (usedLanes.has(lane)) {\n\t\t\t\t\tlane = ((lane + 1) % 4) as 0 | 1 | 2 | 3\n\t\t\t\t}\n\t\t\t\tusedLanes.add(lane)\n\t\t\t\tresolvedNotes.push({ ...note, lane })\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort by beat\n\treturn resolvedNotes.sort((a, b) => a.beat - b.beat)\n}\n\n/**\n * Main lane assignment function\n * Takes raw notes (potentially without lane assignments) and returns\n * notes with optimized lane assignments for playability.\n */\nexport function assignLanes(\n\tnotes: MelodicNote[],\n\toptions: LaneAssignmentOptions = { strategy: 'pitch-range' }\n): MelodicNote[] {\n\tconst { strategy, maxSimultaneous = 2 } = options\n\n\tswitch (strategy) {\n\t\tcase 'pitch-range':\n\t\t\treturn assignByPitchRange(notes)\n\t\tcase 'complexity-aware':\n\t\t\treturn assignByComplexity(notes, maxSimultaneous)\n\t\tdefault:\n\t\t\treturn assignByPitchRange(notes)\n\t}\n}\n\n/**\n * Validate that a song's lane assignments are playable\n * Returns issues found, or empty array if valid\n */\nexport function validateLaneAssignments(notes: MelodicNote[]): string[] {\n\tconst issues: string[] = []\n\n\t// Check for too many simultaneous notes\n\tconst notesByBeat = new Map<number, MelodicNote[]>()\n\tfor (const note of notes) {\n\t\tconst beatKey = Math.round(note.beat * 1000)\n\t\tif (!notesByBeat.has(beatKey)) {\n\t\t\tnotesByBeat.set(beatKey, [])\n\t\t}\n\t\tnotesByBeat.get(beatKey)!.push(note)\n\t}\n\n\tfor (const [beat, beatNotes] of Array.from(notesByBeat.entries())) {\n\t\tif (beatNotes.length > 2) {\n\t\t\tissues.push(\n\t\t\t\t`Beat ${beat / 1000}: ${beatNotes.length} simultaneous notes (max recommended: 2)`\n\t\t\t)\n\t\t}\n\n\t\t// Check for duplicate lanes at same beat\n\t\tconst lanes = beatNotes.map(n => n.lane)\n\t\tconst uniqueLanes = new Set(lanes)\n\t\tif (lanes.length !== uniqueLanes.size) {\n\t\t\tissues.push(`Beat ${beat / 1000}: Multiple notes in same lane`)\n\t\t}\n\t}\n\n\t// Check for invalid lane values\n\tfor (const note of notes) {\n\t\tif (note.lane < 0 || note.lane > 3) {\n\t\t\tissues.push(`Beat ${note.beat}: Invalid lane ${note.lane}`)\n\t\t}\n\t}\n\n\treturn issues\n}\n\n/**\n * Balance lane distribution\n * Slightly adjusts assignments to ensure all lanes are used reasonably evenly\n */\nexport function balanceLaneDistribution(notes: MelodicNote[]): MelodicNote[] {\n\tif (notes.length < 8) return notes // Too few notes to balance\n\n\t// Count current distribution\n\tconst laneCounts = [0, 0, 0, 0]\n\tfor (const note of notes) {\n\t\tlaneCounts[note.lane]++\n\t}\n\n\tconst avgCount = notes.length / 4\n\tconst threshold = avgCount * 0.5 // Allow 50% deviation\n\n\t// Find underused and overused lanes\n\tconst underused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count < avgCount - threshold)\n\t\t.map(l => l.lane)\n\n\tconst overused: (0 | 1 | 2 | 3)[] = laneCounts\n\t\t.map((count, lane) => ({ lane: lane as 0 | 1 | 2 | 3, count }))\n\t\t.filter(l => l.count > avgCount + threshold)\n\t\t.map(l => l.lane)\n\n\tif (underused.length === 0 || overused.length === 0) return notes\n\n\t// Redistribute some notes from overused to underused lanes\n\tconst result = [...notes]\n\tfor (let i = 0; i < result.length && underused.length > 0; i++) {\n\t\tconst note = result[i]\n\t\tif (overused.includes(note.lane)) {\n\t\t\t// Don't move if it would create same-lane conflict at same beat\n\t\t\tconst sameBeatNotes = result.filter(\n\t\t\t\tn => Math.abs(n.beat - note.beat) < 0.01 && n !== note\n\t\t\t)\n\t\t\tconst sameBeatLanes = new Set(sameBeatNotes.map(n => n.lane))\n\n\t\t\tconst targetLane = underused.find(l => !sameBeatLanes.has(l)) as\n\t\t\t\t| (0 | 1 | 2 | 3)\n\t\t\t\t| undefined\n\t\t\tif (targetLane !== undefined) {\n\t\t\t\tresult[i] = { ...note, lane: targetLane }\n\t\t\t\tlaneCounts[note.lane]--\n\t\t\t\tlaneCounts[targetLane]++\n\n\t\t\t\t// Update underused/overused lists\n\t\t\t\tif (laneCounts[targetLane] >= avgCount - threshold) {\n\t\t\t\t\tunderused.splice(underused.indexOf(targetLane), 1)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result\n}\n","import * as Tone from 'tone'\nimport { LANE_PITCHES } from '../constants'\nimport { transposeOctave } from './laneAssigner'\n\nclass AudioManager {\n\tprivate synth: Tone.PolySynth | null = null\n\tprivate initialized = false\n\tprivate muted = false\n\n\t// Background beat synths\n\tprivate drumSynth: Tone.MembraneSynth | null = null\n\tprivate hiHatSynth: Tone.MetalSynth | null = null\n\tprivate snareSynth: Tone.NoiseSynth | null = null\n\tprivate bassLoop: Tone.Loop | null = null\n\tprivate hiHatLoop: Tone.Loop | null = null\n\tprivate snareLoop: Tone.Loop | null = null\n\tprivate isPlaying = false\n\n\tasync init(): Promise<void> {\n\t\tif (this.initialized) return\n\n\t\ttry {\n\t\t\t// Start Tone.js audio context\n\t\t\tawait Tone.start()\n\n\t\t\t// Create a polyphonic synth with nice settings\n\t\t\tthis.synth = new Tone.PolySynth(Tone.Synth, {\n\t\t\t\toscillator: {\n\t\t\t\t\ttype: 'sine',\n\t\t\t\t},\n\t\t\t\tenvelope: {\n\t\t\t\t\tattack: 0.01,\n\t\t\t\t\tdecay: 0.2,\n\t\t\t\t\tsustain: 0.3,\n\t\t\t\t\trelease: 0.5,\n\t\t\t\t},\n\t\t\t}).toDestination()\n\n\t\t\t// Set volume\n\t\t\tthis.synth.volume.value = -10\n\n\t\t\t// Initialize drum synths for background beat\n\t\t\tthis.initDrums()\n\n\t\t\tthis.initialized = true\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to initialize audio:', error)\n\t\t}\n\t}\n\n\tprivate initDrums(): void {\n\t\t// Kick drum\n\t\tthis.drumSynth = new Tone.MembraneSynth({\n\t\t\tpitchDecay: 0.05,\n\t\t\toctaves: 4,\n\t\t\toscillator: { type: 'sine' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.4, sustain: 0.01, release: 1.4 },\n\t\t}).toDestination()\n\t\tthis.drumSynth.volume.value = -8\n\n\t\t// Hi-hat\n\t\tthis.hiHatSynth = new Tone.MetalSynth({\n\t\t\tenvelope: { attack: 0.001, decay: 0.1, release: 0.01 },\n\t\t\tharmonicity: 5.1,\n\t\t\tmodulationIndex: 32,\n\t\t\tresonance: 4000,\n\t\t\toctaves: 1.5,\n\t\t}).toDestination()\n\t\tthis.hiHatSynth.volume.value = -20\n\n\t\t// Snare drum (noise-based)\n\t\tthis.snareSynth = new Tone.NoiseSynth({\n\t\t\tnoise: { type: 'white' },\n\t\t\tenvelope: { attack: 0.001, decay: 0.2, sustain: 0, release: 0.1 },\n\t\t}).toDestination()\n\t\tthis.snareSynth.volume.value = -12\n\t}\n\n\tstartBackgroundBeat(\n\t\tbpm: number,\n\t\ttrack: 'chill' | 'default' | 'upbeat',\n\t\tcycle: number = 0\n\t): void {\n\t\tif (this.isPlaying || this.muted) return\n\n\t\tTone.Transport.bpm.value = bpm\n\n\t\tif (track === 'chill') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Minimal pattern - kick on every beat, hi-hat sparse\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '2n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Lo-fi/Hip-hop - kick on 1, snare on 3, offbeat hi-hat\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '1n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '1n').start('2n')\n\n\t\t\t\t// Offbeat hi-hat (on the \"and\" of each beat)\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start('8n')\n\t\t\t}\n\t\t} else if (track === 'default') {\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Standard rock beat - kick 1&3, snare 2&4, hi-hat quarter notes\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '4n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Four-on-the-floor (disco/house) - kick every beat, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t} else {\n\t\t\t// Upbeat\n\t\t\tif (cycle === 0) {\n\t\t\t\t// CYCLE 0: Driving rock - kick 1&3, snare 2&4, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '2n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '2n').start('4n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t} else {\n\t\t\t\t// CYCLE 1+: Double-time punk - kick every beat, snare every offbeat, hi-hat 8n\n\t\t\t\tthis.bassLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted)\n\t\t\t\t\t\tthis.drumSynth?.triggerAttackRelease('C1', '8n', time)\n\t\t\t\t}, '4n').start(0)\n\n\t\t\t\tthis.snareLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.snareSynth?.triggerAttackRelease('8n', time)\n\t\t\t\t}, '4n').start('8n')\n\n\t\t\t\tthis.hiHatLoop = new Tone.Loop(time => {\n\t\t\t\t\tif (!this.muted) this.hiHatSynth?.triggerAttackRelease('32n', time)\n\t\t\t\t}, '8n').start(0)\n\t\t\t}\n\t\t}\n\n\t\tTone.Transport.start()\n\t\tthis.isPlaying = true\n\t}\n\n\tstopBackgroundBeat(): void {\n\t\tTone.Transport.stop()\n\t\tthis.bassLoop?.stop()\n\t\tthis.hiHatLoop?.stop()\n\t\tthis.snareLoop?.stop()\n\t\tthis.bassLoop?.dispose()\n\t\tthis.hiHatLoop?.dispose()\n\t\tthis.snareLoop?.dispose()\n\t\tthis.bassLoop = null\n\t\tthis.hiHatLoop = null\n\t\tthis.snareLoop = null\n\t\tthis.isPlaying = false\n\t}\n\n\tpauseBackgroundBeat(): void {\n\t\tif (this.isPlaying) {\n\t\t\tTone.Transport.pause()\n\t\t}\n\t}\n\n\tresumeBackgroundBeat(): void {\n\t\tif (this.isPlaying && !this.muted) {\n\t\t\tTone.Transport.start()\n\t\t}\n\t}\n\n\tupdateBpm(bpm: number): void {\n\t\tTone.Transport.bpm.value = bpm\n\t}\n\n\tplayNote(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\tconst pitch = LANE_PITCHES[lane]\n\t\tif (pitch) {\n\t\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t\t}\n\t}\n\n\tplayPerfect(lane: number): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the note with a sparkle effect (higher octave accent)\n\t\tconst basePitch = LANE_PITCHES[lane]\n\t\tif (basePitch) {\n\t\t\tthis.synth.triggerAttackRelease(basePitch, '8n')\n\t\t\t// Add sparkle with higher octave\n\t\t\tconst highPitch = basePitch.replace('4', '6')\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t\t}\n\t\t\t}, 50)\n\t\t}\n\t}\n\n\t// New melodic note methods for the Song System\n\n\t/**\n\t * Play a specific pitch for a melodic note hit\n\t */\n\tplayMelodicNote(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\t}\n\n\t/**\n\t * Play a melodic note with sparkle effect for perfect hits\n\t */\n\tplayMelodicNotePerfect(pitch: string): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play the base note\n\t\tthis.synth.triggerAttackRelease(pitch, '8n')\n\n\t\t// Add sparkle with higher octave\n\t\tconst highPitch = transposeOctave(pitch, 2)\n\t\tsetTimeout(() => {\n\t\t\tif (this.synth && !this.muted) {\n\t\t\t\tthis.synth.triggerAttackRelease(highPitch, '16n', undefined, 0.3)\n\t\t\t}\n\t\t}, 50)\n\t}\n\n\tplayMiss(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play a dissonant sound for miss\n\t\tthis.synth.triggerAttackRelease(['C3', 'Db3'], '16n', undefined, 0.3)\n\t}\n\n\tplayCombo(): void {\n\t\tif (!this.initialized || !this.synth || this.muted) return\n\n\t\t// Play ascending arpeggio for combo milestone\n\t\tconst notes = ['C5', 'E5', 'G5', 'C6']\n\t\tnotes.forEach((note, i) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.synth && !this.muted) {\n\t\t\t\t\tthis.synth.triggerAttackRelease(note, '16n', undefined, 0.4)\n\t\t\t\t}\n\t\t\t}, i * 50)\n\t\t})\n\t}\n\n\tsetMuted(muted: boolean): void {\n\t\tthis.muted = muted\n\t\tif (muted) {\n\t\t\tthis.pauseBackgroundBeat()\n\t\t} else if (this.isPlaying) {\n\t\t\tthis.resumeBackgroundBeat()\n\t\t}\n\t}\n\n\tisMuted(): boolean {\n\t\treturn this.muted\n\t}\n\n\tdispose(): void {\n\t\tthis.stopBackgroundBeat()\n\t\tif (this.synth) {\n\t\t\tthis.synth.dispose()\n\t\t\tthis.synth = null\n\t\t}\n\t\tif (this.drumSynth) {\n\t\t\tthis.drumSynth.dispose()\n\t\t\tthis.drumSynth = null\n\t\t}\n\t\tif (this.hiHatSynth) {\n\t\t\tthis.hiHatSynth.dispose()\n\t\t\tthis.hiHatSynth = null\n\t\t}\n\t\tif (this.snareSynth) {\n\t\t\tthis.snareSynth.dispose()\n\t\t\tthis.snareSynth = null\n\t\t}\n\t\tthis.initialized = false\n\t}\n}\n\n// Singleton instance\nexport const audioManager = new AudioManager()\n","// Twinkle Twinkle Little Star - Easy difficulty song\n// A recognizable classic melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\n// The melody: C C G G A A G | F F E E D D C\n// With lane assignments optimized for playability\n\nexport const twinkleStar: Song = {\n\tmetadata: {\n\t\tid: 'twinkle-star',\n\t\ttitle: 'Twinkle Twinkle',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 90,\n\t\tduration: 32, // seconds\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 3 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\t\t// Rest on beat 7\n\n\t\t// Phrase 2: \"little star\" - F F E E D D C\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t// Rest on beat 15\n\n\t\t// Phrase 3: \"How I wonder\" - G G F F E E D\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 23\n\n\t\t// Phrase 4: \"what you are\" - G G F F E E D\n\t\t{ beat: 24, pitch: 'G4', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 27, pitch: 'F4', lane: 1 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\t\t// Rest on beat 31\n\n\t\t// Verse 2 (repeat of verse 1 for longer gameplay)\n\t\t// Phrase 5: \"Twinkle twinkle\" - C C G G A A G\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t\t{ beat: 33, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 3 },\n\t\t{ beat: 37, pitch: 'A4', lane: 3 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 6: \"little star\" - F F E E D D C\n\t\t{ beat: 40, pitch: 'F4', lane: 1 },\n\t\t{ beat: 41, pitch: 'F4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2, // Play twice\n\t},\n}\n","// Mary Had a Little Lamb - Very Easy difficulty\n// A simple nursery rhyme perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const maryHadALittleLamb: Song = {\n\tmetadata: {\n\t\tid: 'mary-had-a-little-lamb',\n\t\ttitle: 'Mary Had a Little Lamb',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 85,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 2: \"little lamb, little lamb\" - D D D, E G G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// Phrase 3: \"Mary had a little lamb\" - E D C D E E E\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'D4', lane: 0 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// Phrase 4: \"fleece was white as snow\" - D D E D C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat for length\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 35, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'D4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Hot Cross Buns - Very Easy difficulty\n// One of the simplest melodies, great for absolute beginners\n\nimport type { Song } from './songTypes'\n\nexport const hotCrossBuns: Song = {\n\tmetadata: {\n\t\tid: 'hot-cross-buns',\n\t\ttitle: 'Hot Cross Buns',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 80,\n\t\tduration: 28,\n\t},\n\tnotes: [\n\t\t// Phrase 1: \"Hot cross buns\" - E D C\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 2: \"Hot cross buns\" - E D C\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 3: \"One a penny\" - C C C C\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'C4', lane: 0 },\n\n\t\t// Phrase 4: \"Two a penny\" - D D D D\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 5: \"Hot cross buns\" - E D C\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'D4', lane: 0 },\n\t\t{ beat: 36, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'C4', lane: 0 },\n\t\t{ beat: 50, pitch: 'C4', lane: 0 },\n\t\t{ beat: 51, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'D4', lane: 0 },\n\t\t{ beat: 54, pitch: 'D4', lane: 0 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 56, pitch: 'E4', lane: 1 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Jingle Bells (Simple Version) - Very Easy difficulty\n// The famous chorus melody simplified for beginners\n\nimport type { Song } from './songTypes'\n\nexport const jingleBells: Song = {\n\tmetadata: {\n\t\tid: 'jingle-bells',\n\t\ttitle: 'Jingle Bells',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 95,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"Jingle bells, jingle bells\" - E E E, E E E\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\n\t\t// \"Jingle all the way\" - E G C D E\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\n\t\t// \"Oh what fun it is to ride\" - F F F F F E E\n\t\t{ beat: 16, pitch: 'F4', lane: 2 },\n\t\t{ beat: 17, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 2 },\n\t\t{ beat: 20, pitch: 'F4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\n\t\t// \"In a one horse open sleigh\" - E D D E D G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'G4', lane: 2 },\n\n\t\t// Repeat chorus\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 48, pitch: 'F4', lane: 2 },\n\t\t{ beat: 49, pitch: 'F4', lane: 2 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 2 },\n\t\t{ beat: 52, pitch: 'F4', lane: 2 },\n\t\t{ beat: 53, pitch: 'E4', lane: 1 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 56, pitch: 'G4', lane: 2 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\t\t{ beat: 58, pitch: 'F4', lane: 2 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Row Row Row Your Boat - Very Easy difficulty\n// A simple round melody perfect for beginners\n\nimport type { Song } from './songTypes'\n\nexport const rowRowRow: Song = {\n\tmetadata: {\n\t\tid: 'row-row-row',\n\t\ttitle: 'Row Row Row Your Boat',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'very-easy',\n\t\tbpm: 88,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Row, row, row your boat\" - C C C D E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 2, pitch: 'C4', lane: 0 },\n\t\t{ beat: 3, pitch: 'D4', lane: 0 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\n\t\t// \"Gently down the stream\" - E D E F G\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'G4', lane: 2 },\n\n\t\t// \"Merrily merrily merrily merrily\" - C C C G G G E E E C C C\n\t\t{ beat: 12, pitch: 'C5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17, pitch: 'C4', lane: 0 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\n\t\t// \"Life is but a dream\" - G F E D C\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'D4', lane: 0 },\n\t\t{ beat: 22, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'C4', lane: 0 },\n\t\t{ beat: 27, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'D4', lane: 0 },\n\t\t{ beat: 32, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 41.5, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 42, pitch: 'G4', lane: 2 },\n\t\t{ beat: 43, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 2,\n\t},\n}\n","// Ode to Joy by Ludwig van Beethoven - Medium difficulty\n// A recognizable classical melody with moderate complexity\n\nimport type { Song } from './songTypes'\n\n// Main theme: E E F G | G F E D | C C D E | E D D\n// Second phrase: E E F G | G F E D | C C D E | D C C\n\nexport const odeToJoy: Song = {\n\tmetadata: {\n\t\tid: 'ode-to-joy',\n\t\ttitle: 'Ode to Joy',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'easy',\n\t\tbpm: 110,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// Phrase 1: E E F G | G F E D\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 3 },\n\t\t{ beat: 5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 2: C C D E | E D D\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 0 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 3: E E F G | G F E D (repeat)\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'F4', lane: 2 },\n\t\t{ beat: 19, pitch: 'G4', lane: 3 },\n\t\t{ beat: 20, pitch: 'G4', lane: 3 },\n\t\t{ beat: 21, pitch: 'F4', lane: 2 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Phrase 4: C C D E | D C C (ending variation)\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'C4', lane: 0 }, // Dotted rhythm\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\n\t\t// Bridge section (B section) - D D E C | D E F E C | D E F E D | C D G\n\t\t{ beat: 32, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'C4', lane: 0 },\n\t\t{ beat: 36, pitch: 'D4', lane: 0 },\n\t\t{ beat: 37, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C4', lane: 0 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\t\t{ beat: 45, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G3', lane: 0 },\n\n\t\t// Return to main theme\n\t\t// Phrase 5: E E F G | G F E D\n\t\t{ beat: 48, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 2 },\n\t\t{ beat: 51, pitch: 'G4', lane: 3 },\n\t\t{ beat: 52, pitch: 'G4', lane: 3 },\n\t\t{ beat: 53, pitch: 'F4', lane: 2 },\n\t\t{ beat: 54, pitch: 'E4', lane: 1 },\n\t\t{ beat: 55, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase: C C D E | D C C (with flourish)\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t\t{ beat: 57, pitch: 'C4', lane: 0 },\n\t\t{ beat: 58, pitch: 'D4', lane: 0 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 62, pitch: 'C4', lane: 0 },\n\t\t// Final sustained note\n\t\t{ beat: 63, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1, // Play once (already long enough)\n\t},\n}\n","// When the Saints Go Marching In - Easy difficulty\n// A classic gospel song with a steady marching rhythm\n\nimport type { Song } from './songTypes'\n\nexport const whenTheSaints: Song = {\n\tmetadata: {\n\t\tid: 'when-the-saints',\n\t\ttitle: 'When the Saints',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"Oh when the saints\" - C E F G\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'F4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\n\t\t// \"go marching in\" - C E F G\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\n\t\t// \"Oh when the saints go marching in\" - C E F G E C E D\n\t\t{ beat: 12, pitch: 'C4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'C4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'D4', lane: 0 },\n\n\t\t// \"Lord I want to be in that number\" - E E D C C E G G\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C4', lane: 0 },\n\t\t{ beat: 29, pitch: 'C4', lane: 0 },\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 31, pitch: 'G4', lane: 2 },\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\n\t\t// \"When the saints go marching in\" - G F E F G E C D C\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\t\t{ beat: 40, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t\t{ beat: 44, pitch: 'C4', lane: 0 },\n\n\t\t// Second verse\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'F4', lane: 1 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 54, pitch: 'C4', lane: 0 },\n\t\t{ beat: 55, pitch: 'E4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F4', lane: 1 },\n\t\t{ beat: 57, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t\t{ beat: 61, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'F4', lane: 1 },\n\t\t{ beat: 63, pitch: 'G4', lane: 2 },\n\t\t{ beat: 65, pitch: 'E4', lane: 1 },\n\t\t{ beat: 66, pitch: 'C4', lane: 0 },\n\t\t{ beat: 67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 68, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 72, pitch: 'E4', lane: 1 },\n\t\t{ beat: 73, pitch: 'E4', lane: 1 },\n\t\t{ beat: 74, pitch: 'D4', lane: 0 },\n\t\t{ beat: 75, pitch: 'C4', lane: 0 },\n\t\t{ beat: 77, pitch: 'C4', lane: 0 },\n\t\t{ beat: 78, pitch: 'E4', lane: 1 },\n\t\t{ beat: 79, pitch: 'G4', lane: 2 },\n\t\t{ beat: 80, pitch: 'G4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 84,\n\t\tcount: 1,\n\t},\n}\n","// Oh! Susanna - Easy difficulty\n// A classic American folk song by Stephen Foster\n\nimport type { Song } from './songTypes'\n\nexport const ohSusanna: Song = {\n\tmetadata: {\n\t\tid: 'oh-susanna',\n\t\ttitle: 'Oh! Susanna',\n\t\tartist: 'Stephen Foster',\n\t\tdifficulty: 'easy',\n\t\tbpm: 105,\n\t\tduration: 35,\n\t},\n\tnotes: [\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D C D\n\t\t{ beat: 6, pitch: 'C4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10, pitch: 'C4', lane: 0 },\n\t\t{ beat: 11, pitch: 'D4', lane: 0 },\n\n\t\t// \"I'm going to Louisiana\" - C D E G G A G E\n\t\t{ beat: 14, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\n\t\t// \"my true love for to see\" - C D E E D D C\n\t\t{ beat: 20, pitch: 'C4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 21, pitch: 'E4', lane: 1 },\n\t\t{ beat: 22, pitch: 'E4', lane: 1 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'C4', lane: 0 },\n\n\t\t// Chorus: \"Oh Susanna\" - A A C C D E E\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\n\t\t// \"don't you cry for me\" - E D C A G\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'A4', lane: 2 },\n\t\t{ beat: 40, pitch: 'G4', lane: 1 },\n\n\t\t// \"I come from Alabama\" - C D E G G A G E\n\t\t{ beat: 42, pitch: 'C4', lane: 0 },\n\t\t{ beat: 42.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 43, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47, pitch: 'E4', lane: 1 },\n\n\t\t// \"with a banjo on my knee\" - C D E E D D C\n\t\t{ beat: 48, pitch: 'C4', lane: 0 },\n\t\t{ beat: 48.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 49, pitch: 'E4', lane: 1 },\n\t\t{ beat: 50, pitch: 'E4', lane: 1 },\n\t\t{ beat: 51, pitch: 'D4', lane: 0 },\n\t\t{ beat: 52, pitch: 'D4', lane: 0 },\n\t\t{ beat: 53, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// London Bridge Is Falling Down - Easy difficulty\n// A classic English nursery rhyme\n\nimport type { Song } from './songTypes'\n\nexport const londonBridge: Song = {\n\tmetadata: {\n\t\tid: 'london-bridge',\n\t\ttitle: 'London Bridge',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 100,\n\t\tduration: 32,\n\t},\n\tnotes: [\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 0, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'F4', lane: 1 },\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G4', lane: 2 },\n\n\t\t// \"Falling down, falling down\" - D E F, E F G\n\t\t{ beat: 8, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'F4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'F4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 2 },\n\n\t\t// \"London Bridge is falling down\" - G A G F E F G\n\t\t{ beat: 16, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19, pitch: 'F4', lane: 1 },\n\t\t{ beat: 20, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'F4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 2 },\n\n\t\t// \"My fair lady\" - D G E C\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G4', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat\n\t\t{ beat: 32, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35, pitch: 'F4', lane: 1 },\n\t\t{ beat: 36, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'F4', lane: 1 },\n\t\t{ beat: 38, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 41, pitch: 'E4', lane: 1 },\n\t\t{ beat: 42, pitch: 'F4', lane: 1 },\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F4', lane: 1 },\n\t\t{ beat: 46, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49, pitch: 'A4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51, pitch: 'F4', lane: 1 },\n\t\t{ beat: 52, pitch: 'E4', lane: 1 },\n\t\t{ beat: 53, pitch: 'F4', lane: 1 },\n\t\t{ beat: 54, pitch: 'G4', lane: 2 },\n\n\t\t{ beat: 56, pitch: 'D4', lane: 0 },\n\t\t{ beat: 58, pitch: 'G4', lane: 2 },\n\t\t{ beat: 59, pitch: 'E4', lane: 1 },\n\t\t{ beat: 60, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 64,\n\t\tcount: 1,\n\t},\n}\n","// Happy Birthday - Easy difficulty\n// The most recognized song in the world\n\nimport type { Song } from './songTypes'\n\nexport const happyBirthday: Song = {\n\tmetadata: {\n\t\tid: 'happy-birthday',\n\t\ttitle: 'Happy Birthday',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'easy',\n\t\tbpm: 95,\n\t\tduration: 30,\n\t},\n\tnotes: [\n\t\t// \"Happy birthday to you\" - G G A G C B\n\t\t{ beat: 0, pitch: 'G4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 3, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'B4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - G G A G D C\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\n\t\t// \"Happy birthday dear [name]\" - G G G E C B A\n\t\t{ beat: 12, pitch: 'G4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\n\t\t// \"Happy birthday to you\" - F F E C D C\n\t\t{ beat: 18, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Repeat\n\t\t{ beat: 26, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'G4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39, pitch: 'G5', lane: 3 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'C5', lane: 2 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 2 },\n\n\t\t{ beat: 44, pitch: 'F5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 45, pitch: 'E5', lane: 3 },\n\t\t{ beat: 46, pitch: 'C5', lane: 2 },\n\t\t{ beat: 47, pitch: 'D5', lane: 3 },\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 52,\n\t\tcount: 1,\n\t},\n}\n","// Canon in D (Simplified) by Johann Pachelbel - Medium difficulty\n// A gentle, flowing melody to bridge between Ode to Joy and Fr Elise\n\nimport type { Song } from './songTypes'\n\n// Simplified version of the famous Canon melody\n\nexport const canonInD: Song = {\n\tmetadata: {\n\t\tid: 'canon-in-d',\n\t\ttitle: 'Canon in D',\n\t\tartist: 'Pachelbel',\n\t\tdifficulty: 'medium',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Main melodic phrase 1\n\t\t{ beat: 0, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 1, pitch: 'E5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 4, pitch: 'B4', lane: 1 },\n\t\t{ beat: 5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 6, pitch: 'B4', lane: 1 },\n\t\t{ beat: 7, pitch: 'C#5', lane: 1 },\n\n\t\t// Main melodic phrase 2\n\t\t{ beat: 8, pitch: 'D5', lane: 2 },\n\t\t{ beat: 9, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 10, pitch: 'B4', lane: 1 },\n\t\t{ beat: 11, pitch: 'A4', lane: 0 },\n\t\t{ beat: 12, pitch: 'G4', lane: 0 },\n\t\t{ beat: 13, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 14, pitch: 'G4', lane: 0 },\n\t\t{ beat: 15, pitch: 'A4', lane: 0 },\n\n\t\t// Variation with eighth notes\n\t\t{ beat: 16, pitch: 'B4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 17, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 19, pitch: 'G4', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 0 },\n\n\t\t{ beat: 20, pitch: 'E4', lane: 0 },\n\t\t{ beat: 20.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 21, pitch: 'G4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 22, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 22.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 23, pitch: 'A4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 1 },\n\n\t\t// Rising phrase\n\t\t{ beat: 24, pitch: 'G4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 0 },\n\t\t{ beat: 25, pitch: 'B4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 0 },\n\t\t{ beat: 26.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 27, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 28, pitch: 'B4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 29, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 2 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'E5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'F#5', lane: 3 },\n\n\t\t// Climax phrase\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\t\t{ beat: 33, pitch: 'E5', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 35, pitch: 'G5', lane: 3 },\n\t\t{ beat: 36, pitch: 'E5', lane: 2 },\n\t\t{ beat: 37, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 38, pitch: 'G5', lane: 3 },\n\t\t{ beat: 39, pitch: 'A5', lane: 3 },\n\n\t\t// Gentle descent\n\t\t{ beat: 40, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 41, pitch: 'E5', lane: 2 },\n\t\t{ beat: 42, pitch: 'D5', lane: 2 },\n\t\t{ beat: 43, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 44, pitch: 'B4', lane: 1 },\n\t\t{ beat: 45, pitch: 'A4', lane: 0 },\n\t\t{ beat: 46, pitch: 'B4', lane: 1 },\n\t\t{ beat: 47, pitch: 'C#5', lane: 1 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 50,\n\t\tcount: 1,\n\t},\n}\n","// The Entertainer by Scott Joplin - Medium difficulty\n// A classic ragtime piece with syncopated rhythms\n\nimport type { Song } from './songTypes'\n\n// Famous ragtime melody with characteristic syncopation\n\nexport const entertainer: Song = {\n\tmetadata: {\n\t\tid: 'entertainer',\n\t\ttitle: 'The Entertainer',\n\t\tartist: 'Scott Joplin',\n\t\tdifficulty: 'medium',\n\t\tbpm: 105,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro - the famous opening riff\n\t\t{ beat: 0, pitch: 'D4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme A - syncopated melody\n\t\t{ beat: 8, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\n\t\t// Theme A continued\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21, pitch: 'D5', lane: 2 },\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B - contrasting section\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 24.5, pitch: 'D#4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C5', lane: 2 },\n\n\t\t// Theme B continued\n\t\t{ beat: 32, pitch: 'A4', lane: 1 },\n\t\t{ beat: 32.5, pitch: 'G4', lane: 0 },\n\t\t{ beat: 33, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 34, pitch: 'C5', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 36, pitch: 'A4', lane: 1 },\n\n\t\t// Syncopated run\n\t\t{ beat: 38, pitch: 'D4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 41, pitch: 'D5', lane: 2 },\n\t\t{ beat: 42, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44, pitch: 'D5', lane: 2 },\n\t\t{ beat: 45, pitch: 'C5', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 48, pitch: 'C5', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 49.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 51.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 52.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 53.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 54, pitch: 'E5', lane: 3 },\n\n\t\t// Final phrase\n\t\t{ beat: 56, pitch: 'C5', lane: 2 },\n\t\t{ beat: 56.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 57, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 57.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 58.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 59.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 60.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 61, pitch: 'D5', lane: 2 },\n\t\t{ beat: 62, pitch: 'C5', lane: 2 },\n\n\t\t// Ending flourish\n\t\t{ beat: 64, pitch: 'G4', lane: 0 },\n\t\t{ beat: 64.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 65, pitch: 'B4', lane: 1 },\n\t\t{ beat: 65.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 66, pitch: 'D5', lane: 2 },\n\t\t{ beat: 66.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 67, pitch: 'F5', lane: 3 },\n\t\t{ beat: 68, pitch: 'E5', lane: 3 },\n\t\t{ beat: 69, pitch: 'D5', lane: 2 },\n\t\t{ beat: 70, pitch: 'C5', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'default',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 70,\n\t\tcount: 1,\n\t},\n}\n","// Minuet in G Major by J.S. Bach - Medium difficulty\n// A graceful dance piece with elegant phrasing\n\nimport type { Song } from './songTypes'\n\nexport const minuetInG: Song = {\n\tmetadata: {\n\t\tid: 'minuet-in-g',\n\t\ttitle: 'Minuet in G',\n\t\tartist: 'J.S. Bach',\n\t\tdifficulty: 'medium',\n\t\tbpm: 108,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// First phrase\n\t\t{ beat: 0, pitch: 'D5', lane: 2 },\n\t\t{ beat: 1, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'B4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4, pitch: 'G4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G4', lane: 1 },\n\n\t\t// Second phrase\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'C5', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 8, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 9, pitch: 'G5', lane: 3 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G4', lane: 1 },\n\n\t\t// Third phrase\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\t\t{ beat: 13, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 1 },\n\n\t\t// Fourth phrase\n\t\t{ beat: 18, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 20, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 21, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\n\t\t// Second half - repeat with variation\n\t\t{ beat: 24, pitch: 'D5', lane: 2 },\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 28, pitch: 'G4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 30, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'G5', lane: 3 },\n\t\t{ beat: 34, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'D5', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'B4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 40, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'A4', lane: 1 },\n\t\t{ beat: 41.5, pitch: 'G4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 43, pitch: 'C5', lane: 2 },\n\t\t{ beat: 43.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 44, pitch: 'A4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 45, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 46, pitch: 'G4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Turkish March (Rondo Alla Turca) by Mozart - Medium difficulty\n// A lively and recognizable classical piece\n\nimport type { Song } from './songTypes'\n\nexport const turkishMarch: Song = {\n\tmetadata: {\n\t\tid: 'turkish-march',\n\t\ttitle: 'Turkish March',\n\t\tartist: 'Mozart',\n\t\tdifficulty: 'medium',\n\t\tbpm: 115,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme A\n\t\t{ beat: 0, pitch: 'B4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 3 },\n\t\t{ beat: 4.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 6, pitch: 'E5', lane: 3 },\n\n\t\t// Theme continuation\n\t\t{ beat: 8, pitch: 'F5', lane: 3 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 12, pitch: 'C5', lane: 2 },\n\n\t\t// Theme repeat\n\t\t{ beat: 14, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 15, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18, pitch: 'B5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - more rhythmic\n\t\t{ beat: 22, pitch: 'C5', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 28, pitch: 'D5', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 30, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32, pitch: 'D5', lane: 2 },\n\n\t\t// Return to A\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 36, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\t\t{ beat: 39.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 40, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 42, pitch: 'F5', lane: 3 },\n\t\t{ beat: 42.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 43, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 43.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 44, pitch: 'B5', lane: 3 },\n\t\t{ beat: 44.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 45, pitch: 'G#5', lane: 3 },\n\t\t{ beat: 45.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 46, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 48,\n\t\tcount: 1,\n\t},\n}\n","// Greensleeves - Medium difficulty\n// A traditional English folk song with a beautiful flowing melody\n\nimport type { Song } from './songTypes'\n\nexport const greensleeves: Song = {\n\tmetadata: {\n\t\tid: 'greensleeves',\n\t\ttitle: 'Greensleeves',\n\t\tartist: 'Traditional',\n\t\tdifficulty: 'medium',\n\t\tbpm: 95,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// First phrase: \"Alas my love you do me wrong\"\n\t\t{ beat: 0, pitch: 'A4', lane: 1 },\n\t\t{ beat: 1, pitch: 'C5', lane: 2 },\n\t\t{ beat: 2, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3, pitch: 'F5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 4, pitch: 'D5', lane: 2 },\n\t\t{ beat: 5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"To cast me off discourteously\"\n\t\t{ beat: 8, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 12, pitch: 'E4', lane: 0 },\n\t\t{ beat: 14, pitch: 'A4', lane: 1 },\n\n\t\t// \"For I have loved you\"\n\t\t{ beat: 16, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"oh so long\"\n\t\t{ beat: 24, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 26, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'A4', lane: 1 },\n\n\t\t// Chorus: \"Greensleeves was all my joy\"\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 34, pitch: 'D5', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'G4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 37, pitch: 'B4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"Greensleeves was my delight\"\n\t\t{ beat: 38, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 40, pitch: 'A4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 42, pitch: 'E4', lane: 0 },\n\t\t{ beat: 44, pitch: 'G5', lane: 3 },\n\n\t\t// \"Greensleeves was my heart of gold\"\n\t\t{ beat: 46, pitch: 'G5', lane: 3 },\n\t\t{ beat: 46.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 47, pitch: 'E5', lane: 3 },\n\t\t{ beat: 47.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 48, pitch: 'D5', lane: 2 },\n\t\t{ beat: 49, pitch: 'B4', lane: 2 },\n\t\t{ beat: 50, pitch: 'G4', lane: 1 },\n\t\t{ beat: 50.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'C5', lane: 2 },\n\n\t\t// \"And who but my Lady Greensleeves\"\n\t\t{ beat: 52, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 53, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 53.5, pitch: 'F#4', lane: 0 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 58,\n\t\tcount: 1,\n\t},\n}\n","// Fr Elise (Opening Theme) by Ludwig van Beethoven - Medium difficulty\n// The iconic opening melody, serves as a bridge to harder songs\n\nimport type { Song } from './songTypes'\n\n// Famous opening: E D# E D# E B D C A (repeated with variations)\n\nexport const furElise: Song = {\n\tmetadata: {\n\t\tid: 'fur-elise',\n\t\ttitle: 'Fr Elise',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 100,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Main theme - first statement\n\t\t{ beat: 0, pitch: 'E5', lane: 3 },\n\t\t{ beat: 0.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 1, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'E5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 3, pitch: 'D5', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 4, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution phrase\n\t\t{ beat: 5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'A4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\n\t\t// Main theme - second statement\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 12, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13, pitch: 'B4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'A4', lane: 1 },\n\n\t\t// Resolution with ending\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'A4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20, pitch: 'A4', lane: 1 },\n\n\t\t// B section - contrasting melody\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 24, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 2 },\n\n\t\t{ beat: 27.5, pitch: 'F4', lane: 0 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 30, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 31, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 1 },\n\n\t\t// Return to main theme\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 34.5, pitch: 'D#5', lane: 2 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 1 },\n\t\t{ beat: 36, pitch: 'D5', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 37, pitch: 'A4', lane: 1 },\n\n\t\t// Final resolution\n\t\t{ beat: 38, pitch: 'C4', lane: 0 },\n\t\t{ beat: 38.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39, pitch: 'A4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 40.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 41, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42, pitch: 'A4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Moonlight Sonata (1st Movement Theme) by Beethoven - Hard difficulty\n// The haunting opening theme with flowing triplet patterns\n\nimport type { Song } from './songTypes'\n\nexport const moonlightSonata: Song = {\n\tmetadata: {\n\t\tid: 'moonlight-sonata',\n\t\ttitle: 'Moonlight Sonata',\n\t\tartist: 'Beethoven',\n\t\tdifficulty: 'hard',\n\t\tbpm: 60,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening triplet arpeggios with melody\n\t\t{ beat: 0, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 0.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 0.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 1.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 1.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 2.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 2.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 4, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 4.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 4.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 5.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 5.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 6.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'A4', lane: 2 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 8.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A3', lane: 0 },\n\t\t{ beat: 9.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 9.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A3', lane: 0 },\n\t\t{ beat: 10.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 10.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'F#4', lane: 2 },\n\n\t\t{ beat: 12, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 12.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 12.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 13.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 13.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'D#4', lane: 1 },\n\n\t\t// Rising melodic line\n\t\t{ beat: 16, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 16.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 16.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 18, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19, pitch: 'B4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'A3', lane: 0 },\n\t\t{ beat: 20.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 20.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'B4', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 3 },\n\n\t\t// Descending line\n\t\t{ beat: 24, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 24.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 24.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 27, pitch: 'B3', lane: 0 },\n\n\t\t// Repeat with variation\n\t\t{ beat: 28, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 28.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 28.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 29.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 29.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 31, pitch: 'G#4', lane: 2 },\n\n\t\t{ beat: 32, pitch: 'A3', lane: 0 },\n\t\t{ beat: 32.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 32.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 34, pitch: 'F#4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 35, pitch: 'D#4', lane: 1 },\n\n\t\t// Final cadence\n\t\t{ beat: 36, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 36.33, pitch: 'B#3', lane: 0 },\n\t\t{ beat: 36.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 37, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 37.33, pitch: 'C#4', lane: 1 },\n\t\t{ beat: 37.67, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'C#4', lane: 1 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'none',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 40,\n\t\tcount: 1,\n\t},\n}\n","// Hungarian Dance No. 5 by Brahms - Hard difficulty\n// A fiery and passionate dance with dramatic tempo changes\n\nimport type { Song } from './songTypes'\n\nexport const hungarianDance: Song = {\n\tmetadata: {\n\t\tid: 'hungarian-dance',\n\t\ttitle: 'Hungarian Dance No. 5',\n\t\tartist: 'Brahms',\n\t\tdifficulty: 'hard',\n\t\tbpm: 120,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - dramatic\n\t\t{ beat: 0, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 1, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'G4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 4, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'D4', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 7, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\n\t\t{ beat: 12, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 12.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\n\t\t// Fast running passage\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 16.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 17, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 18.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 19, pitch: 'F#4', lane: 1 },\n\n\t\t// Repeat with accents\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'C#5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23, pitch: 'C#5', lane: 2 },\n\n\t\t// B section - lyrical\n\t\t{ beat: 24, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 28, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31, pitch: 'A4', lane: 2 },\n\n\t\t// Climax passage\n\t\t{ beat: 32, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 33.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 1 },\n\t\t{ beat: 35.5, pitch: 'A4', lane: 2 },\n\n\t\t// Return to main theme\n\t\t{ beat: 36, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 37, pitch: 'A4', lane: 2 },\n\t\t{ beat: 37.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 38, pitch: 'G4', lane: 1 },\n\t\t{ beat: 38.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'D4', lane: 0 },\n\n\t\t// Final cadence - fast\n\t\t{ beat: 40, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 40.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 40.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 41, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 41.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 42, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// In the Hall of the Mountain King by Grieg - Hard difficulty\n// Starts slow and builds to a frantic climax\n\nimport type { Song } from './songTypes'\n\nexport const mountainKing: Song = {\n\tmetadata: {\n\t\tid: 'mountain-king',\n\t\ttitle: 'Hall of Mountain King',\n\t\tartist: 'Grieg',\n\t\tdifficulty: 'hard',\n\t\tbpm: 110,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Opening theme - creeping\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 1, pitch: 'C4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7, pitch: 'E4', lane: 1 },\n\n\t\t// Theme repeat\n\t\t{ beat: 8, pitch: 'A3', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 9, pitch: 'C4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D#4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'E4', lane: 1 },\n\t\t{ beat: 14.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 15, pitch: 'A3', lane: 0 },\n\n\t\t// Building section - faster feel\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 3 },\n\t\t{ beat: 17.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21.5, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 22, pitch: 'E5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E5', lane: 3 },\n\n\t\t// More intensity\n\t\t{ beat: 24, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.67, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 25.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.67, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.33, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 26.67, pitch: 'E5', lane: 3 },\n\n\t\t{ beat: 27, pitch: 'F5', lane: 3 },\n\t\t{ beat: 27.33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.67, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 28, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'A4', lane: 2 },\n\n\t\t// Climax - fastest\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.75, pitch: 'B4', lane: 2 },\n\n\t\t{ beat: 34, pitch: 'A4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 35.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'D#5', lane: 3 },\n\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 36.75, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37.25, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 37.75, pitch: 'C#5', lane: 2 },\n\n\t\t// Final rush\n\t\t{ beat: 38, pitch: 'D5', lane: 3 },\n\t\t{ beat: 38.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 38.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 38.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 39, pitch: 'G4', lane: 1 },\n\t\t{ beat: 39.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.75, pitch: 'D4', lane: 0 },\n\t\t{ beat: 40, pitch: 'C4', lane: 0 },\n\t\t{ beat: 40.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 41, pitch: 'A3', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 44,\n\t\tcount: 1,\n\t},\n}\n","// Habanera from Carmen by Bizet - Hard difficulty\n// A seductive and rhythmically complex aria\n\nimport type { Song } from './songTypes'\n\nexport const carmenHabanera: Song = {\n\tmetadata: {\n\t\tid: 'carmen-habanera',\n\t\ttitle: 'Habanera (Carmen)',\n\t\tartist: 'Bizet',\n\t\tdifficulty: 'hard',\n\t\tbpm: 72,\n\t\tduration: 50,\n\t},\n\tnotes: [\n\t\t// Opening descending chromatic line\n\t\t{ beat: 0, pitch: 'D5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 2, pitch: 'C5', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 4, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 6, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 9, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\n\t\t// Main theme with habanera rhythm\n\t\t{ beat: 16, pitch: 'D4', lane: 0 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 18, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 19, pitch: 'E4', lane: 1 },\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23, pitch: 'E4', lane: 1 },\n\n\t\t// Theme continuation\n\t\t{ beat: 24, pitch: 'D4', lane: 0 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26, pitch: 'E4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 28, pitch: 'D4', lane: 0 },\n\t\t{ beat: 28.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 29.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 30, pitch: 'D4', lane: 0 },\n\n\t\t// Second phrase - higher\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33, pitch: 'B4', lane: 2 },\n\t\t{ beat: 33.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 34, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 38, pitch: 'D#5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 39, pitch: 'B4', lane: 2 },\n\n\t\t// Descending again\n\t\t{ beat: 40, pitch: 'A4', lane: 2 },\n\t\t{ beat: 41, pitch: 'B4', lane: 2 },\n\t\t{ beat: 41.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 42, pitch: 'B4', lane: 2 },\n\t\t{ beat: 42.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 43, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 44, pitch: 'A4', lane: 2 },\n\t\t{ beat: 44.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 45, pitch: 'A4', lane: 2 },\n\t\t{ beat: 45.5, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 46, pitch: 'A4', lane: 2 },\n\n\t\t// Return to chromatic descent\n\t\t{ beat: 48, pitch: 'D5', lane: 3 },\n\t\t{ beat: 49, pitch: 'C#5', lane: 2 },\n\t\t{ beat: 50, pitch: 'C5', lane: 2 },\n\t\t{ beat: 51, pitch: 'B4', lane: 2 },\n\t\t{ beat: 52, pitch: 'A#4', lane: 2 },\n\t\t{ beat: 53, pitch: 'A4', lane: 2 },\n\t\t{ beat: 54, pitch: 'G#4', lane: 1 },\n\t\t{ beat: 55, pitch: 'G4', lane: 1 },\n\t\t{ beat: 56, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 57, pitch: 'F4', lane: 1 },\n\t\t{ beat: 58, pitch: 'E4', lane: 1 },\n\t\t{ beat: 59, pitch: 'D4', lane: 0 },\n\n\t\t// Final phrase with ornamentation\n\t\t{ beat: 60, pitch: 'D4', lane: 0 },\n\t\t{ beat: 60.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 61, pitch: 'F4', lane: 1 },\n\t\t{ beat: 61.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 62, pitch: 'D4', lane: 0 },\n\t\t{ beat: 62.5, pitch: 'C#4', lane: 0 },\n\t\t{ beat: 63, pitch: 'D4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'chill',\n\t},\n\tloop: {\n\t\tstartBeat: 0,\n\t\tendBeat: 66,\n\t\tcount: 1,\n\t},\n}\n","// Electronic Beat - Hard difficulty\n// An original synth melody with faster patterns and wider pitch range\n\nimport type { Song } from './songTypes'\n\n// A modern electronic melody with syncopation and faster note sequences\n\nexport const electronicBeat: Song = {\n\tmetadata: {\n\t\tid: 'electronic-beat',\n\t\ttitle: 'Neon Rush',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 128,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Intro riff - ascending synth line\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'C5', lane: 3 },\n\t\t{ beat: 3, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\n\t\t// Drop pattern - syncopated\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 7, pitch: 'G4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'E4', lane: 1 },\n\n\t\t// Build-up section - rapid notes\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 8.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 9, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\n\t\t// Peak - chord hits\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13, pitch: 'C4', lane: 0 },\n\t\t{ beat: 14, pitch: 'D4', lane: 0 },\n\t\t{ beat: 14.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'C5', lane: 3 },\n\n\t\t// Verse section - bouncy melody\n\t\t{ beat: 16, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17, pitch: 'E4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 18, pitch: 'D4', lane: 0 },\n\t\t{ beat: 18.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19, pitch: 'G4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 22, pitch: 'C5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 23, pitch: 'G4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'E4', lane: 1 },\n\n\t\t// Bridge - wider intervals\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'C5', lane: 3 },\n\t\t{ beat: 27, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28, pitch: 'B4', lane: 3 },\n\t\t{ beat: 29, pitch: 'D4', lane: 0 },\n\t\t{ beat: 30, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31, pitch: 'F4', lane: 1 },\n\n\t\t// Climax - fast descending runs\n\t\t{ beat: 32, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.25, pitch: 'B4', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 33, pitch: 'F4', lane: 1 },\n\t\t{ beat: 33.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 33.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 33.75, pitch: 'C4', lane: 0 },\n\n\t\t// Ascending response\n\t\t{ beat: 34, pitch: 'C4', lane: 0 },\n\t\t{ beat: 34.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 34.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 35, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 35.75, pitch: 'C5', lane: 3 },\n\n\t\t// Final drop hits\n\t\t{ beat: 36, pitch: 'C5', lane: 3 },\n\t\t{ beat: 36.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 37, pitch: 'C5', lane: 3 },\n\t\t{ beat: 37.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 38, pitch: 'C5', lane: 3 },\n\t\t{ beat: 38.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 39, pitch: 'E4', lane: 1 },\n\t\t{ beat: 39.5, pitch: 'G4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 40, pitch: 'C5', lane: 3 },\n\t\t{ beat: 41, pitch: 'G4', lane: 2 },\n\t\t{ beat: 42, pitch: 'E4', lane: 1 },\n\t\t{ beat: 43, pitch: 'C4', lane: 0 },\n\n\t\t// Repeat main hook for gameplay length\n\t\t// Second verse\n\t\t{ beat: 44, pitch: 'E4', lane: 1 },\n\t\t{ beat: 44.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 45, pitch: 'E4', lane: 1 },\n\t\t{ beat: 45.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 46, pitch: 'D4', lane: 0 },\n\t\t{ beat: 46.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 47, pitch: 'G4', lane: 2 },\n\t\t{ beat: 47.5, pitch: 'A4', lane: 3 },\n\n\t\t{ beat: 48, pitch: 'G4', lane: 2 },\n\t\t{ beat: 48.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 49, pitch: 'G4', lane: 2 },\n\t\t{ beat: 49.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 50, pitch: 'C5', lane: 3 },\n\t\t{ beat: 50.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 51, pitch: 'G4', lane: 2 },\n\t\t{ beat: 51.5, pitch: 'E4', lane: 1 },\n\n\t\t// Final flourish\n\t\t{ beat: 52, pitch: 'C4', lane: 0 },\n\t\t{ beat: 52.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 52.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 52.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 53, pitch: 'E5', lane: 3 },\n\t\t{ beat: 54, pitch: 'C5', lane: 3 },\n\t\t{ beat: 55, pitch: 'G4', lane: 2 },\n\t\t{ beat: 56, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 16,\n\t\tendBeat: 56,\n\t\tcount: 1,\n\t},\n}\n","// Neon Pulse - Very Hard difficulty\n// An intense electronic track with rapid synth patterns\n\nimport type { Song } from './songTypes'\n\nexport const neonPulse: Song = {\n\tmetadata: {\n\t\tid: 'neon-pulse',\n\t\ttitle: 'Neon Pulse',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 135,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Intro pulse\n\t\t{ beat: 0, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 2, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'G4', lane: 2 },\n\n\t\t// Build\n\t\t{ beat: 4, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'B4', lane: 3 },\n\t\t{ beat: 5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'C5', lane: 3 },\n\n\t\t// Drop - fast arpeggios\n\t\t{ beat: 8, pitch: 'E4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 8.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 8.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 9, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 9.5, pitch: 'E4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 10, pitch: 'A4', lane: 1 },\n\t\t{ beat: 10.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'C5', lane: 2 },\n\n\t\t// Synth stabs\n\t\t{ beat: 12, pitch: 'D4', lane: 0 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 13.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 13.75, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 14, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 15, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'B4', lane: 2 },\n\n\t\t// Melody section\n\t\t{ beat: 16, pitch: 'E5', lane: 3 },\n\t\t{ beat: 16.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 17, pitch: 'C5', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 19, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'C5', lane: 2 },\n\n\t\t{ beat: 20, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 21, pitch: 'C5', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 22, pitch: 'G4', lane: 1 },\n\t\t{ beat: 22.5, pitch: 'A4', lane: 1 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'E5', lane: 3 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'E4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 25.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'A4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'C6', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 27.75, pitch: 'C5', lane: 2 },\n\n\t\t// Final climb\n\t\t{ beat: 28, pitch: 'E4', lane: 0 },\n\t\t{ beat: 28.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 28.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 28.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C6', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31.75, pitch: 'A5', lane: 3 },\n\n\t\t// Outro hits\n\t\t{ beat: 32, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E4', lane: 0 },\n\t\t{ beat: 33.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 34, pitch: 'E5', lane: 3 },\n\t\t{ beat: 35, pitch: 'E4', lane: 0 },\n\t\t{ beat: 35.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 36, pitch: 'E5', lane: 3 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 36,\n\t\tcount: 1,\n\t},\n}\n","// Digital Storm - Very Hard difficulty\n// A chaotic electronic track with unpredictable patterns\n\nimport type { Song } from './songTypes'\n\nexport const digitalStorm: Song = {\n\tmetadata: {\n\t\tid: 'digital-storm',\n\t\ttitle: 'Digital Storm',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 140,\n\t\tduration: 42,\n\t},\n\tnotes: [\n\t\t// Glitchy intro\n\t\t{ beat: 0, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 0.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 1, pitch: 'C4', lane: 0 },\n\t\t{ beat: 1.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 1.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2, pitch: 'D4', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'F5', lane: 3 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 3, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'G5', lane: 3 },\n\n\t\t// Storm building\n\t\t{ beat: 4, pitch: 'C4', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 6, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 6.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 7, pitch: 'F4', lane: 1 },\n\t\t{ beat: 7.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 7.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 7.75, pitch: 'F5', lane: 3 },\n\n\t\t// Full storm - chaos\n\t\t{ beat: 8, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9, pitch: 'D4', lane: 0 },\n\t\t{ beat: 9.25, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 10, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10.25, pitch: 'F4', lane: 1 },\n\t\t{ beat: 10.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 11.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Descending chaos\n\t\t{ beat: 12, pitch: 'C6', lane: 3 },\n\t\t{ beat: 12.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 12.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 12.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 13, pitch: 'F5', lane: 3 },\n\t\t{ beat: 13.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'C5', lane: 2 },\n\t\t{ beat: 14, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 14.5, pitch: 'G4', lane: 1 },\n\t\t{ beat: 14.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 15, pitch: 'E4', lane: 1 },\n\t\t{ beat: 15.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 15.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 15.75, pitch: 'D4', lane: 0 },\n\n\t\t// Ascending storm\n\t\t{ beat: 16, pitch: 'C4', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 16.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.75, pitch: 'F4', lane: 1 },\n\t\t{ beat: 17, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'B4', lane: 3 },\n\t\t{ beat: 17.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 18, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18.25, pitch: 'E5', lane: 3 },\n\t\t{ beat: 18.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 18.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 19, pitch: 'A5', lane: 3 },\n\t\t{ beat: 19.25, pitch: 'B5', lane: 3 },\n\t\t{ beat: 19.5, pitch: 'C6', lane: 3 },\n\t\t{ beat: 19.75, pitch: 'B5', lane: 3 },\n\n\t\t// Stutter section\n\t\t{ beat: 20, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.25, pitch: 'C4', lane: 0 },\n\t\t{ beat: 21.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 22, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.25, pitch: 'D4', lane: 0 },\n\t\t{ beat: 23.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23.75, pitch: 'A5', lane: 3 },\n\n\t\t// Final wave\n\t\t{ beat: 24, pitch: 'C4', lane: 0 },\n\t\t{ beat: 24.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 24.5, pitch: 'C5', lane: 2 },\n\t\t{ beat: 24.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 25, pitch: 'C5', lane: 2 },\n\t\t{ beat: 25.25, pitch: 'G4', lane: 1 },\n\t\t{ beat: 25.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 25.75, pitch: 'G4', lane: 1 },\n\t\t{ beat: 26, pitch: 'D4', lane: 0 },\n\t\t{ beat: 26.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 27, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 27.75, pitch: 'A4', lane: 2 },\n\n\t\t// Outro\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'C4', lane: 0 },\n\t\t{ beat: 31, pitch: 'G5', lane: 3 },\n\t\t{ beat: 32, pitch: 'C4', lane: 0 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Cyber Chase - Very Hard difficulty\n// A high-speed electronic pursuit theme\n\nimport type { Song } from './songTypes'\n\nexport const cyberChase: Song = {\n\tmetadata: {\n\t\tid: 'cyber-chase',\n\t\ttitle: 'Cyber Chase',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 145,\n\t\tduration: 40,\n\t},\n\tnotes: [\n\t\t// Urgent opening\n\t\t{ beat: 0, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 0.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 1.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 2, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 2.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 2.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 3, pitch: 'E5', lane: 3 },\n\t\t{ beat: 3.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 3.75, pitch: 'C5', lane: 3 },\n\n\t\t// Chase begins\n\t\t{ beat: 4, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 4.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 4.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 5.5, pitch: 'A3', lane: 0 },\n\t\t{ beat: 5.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 6, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 6.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 6.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 7, pitch: 'B4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'F#4', lane: 1 },\n\n\t\t// Intensity increase\n\t\t{ beat: 8, pitch: 'C4', lane: 0 },\n\t\t{ beat: 8.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 8.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 9, pitch: 'C5', lane: 3 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'C4', lane: 0 },\n\t\t{ beat: 9.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 10, pitch: 'D4', lane: 0 },\n\t\t{ beat: 10.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 10.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 11, pitch: 'D5', lane: 3 },\n\t\t{ beat: 11.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 0 },\n\t\t{ beat: 11.75, pitch: 'A4', lane: 2 },\n\n\t\t// Escape sequence\n\t\t{ beat: 12, pitch: 'E4', lane: 1 },\n\t\t{ beat: 12.25, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 12.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13, pitch: 'B4', lane: 2 },\n\t\t{ beat: 13.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 13.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 13.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 15.75, pitch: 'E4', lane: 1 },\n\n\t\t// Counter attack\n\t\t{ beat: 16, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'A4', lane: 2 },\n\t\t{ beat: 17.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 18, pitch: 'B4', lane: 2 },\n\t\t{ beat: 18.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 19, pitch: 'B4', lane: 2 },\n\t\t{ beat: 19.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 19.5, pitch: 'F#4', lane: 1 },\n\n\t\t{ beat: 20, pitch: 'C5', lane: 3 },\n\t\t{ beat: 20.5, pitch: 'G5', lane: 3 },\n\t\t{ beat: 21, pitch: 'C5', lane: 3 },\n\t\t{ beat: 21.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'D5', lane: 3 },\n\t\t{ beat: 22.5, pitch: 'A5', lane: 3 },\n\t\t{ beat: 23, pitch: 'D5', lane: 3 },\n\t\t{ beat: 23.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 23.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.75, pitch: 'B4', lane: 2 },\n\n\t\t// Final pursuit\n\t\t{ beat: 24, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 24.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 24.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 25.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 26, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 26.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 26.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 27, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 27.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 27.75, pitch: 'E5', lane: 3 },\n\n\t\t// Climax\n\t\t{ beat: 28, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 28.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 28.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 29, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 29.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 30, pitch: 'B4', lane: 2 },\n\t\t{ beat: 30.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'B5', lane: 3 },\n\t\t{ beat: 31, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'F#4', lane: 1 },\n\n\t\t// End hit\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 4,\n\t\tendBeat: 32,\n\t\tcount: 1,\n\t},\n}\n","// Synth Wave - Very Hard difficulty\n// A retro-futuristic synthwave track with complex patterns\n\nimport type { Song } from './songTypes'\n\nexport const synthWave: Song = {\n\tmetadata: {\n\t\tid: 'synth-wave',\n\t\ttitle: 'Synth Wave',\n\t\tartist: 'Jalo Beats',\n\t\tdifficulty: 'very-hard',\n\t\tbpm: 130,\n\t\tduration: 45,\n\t},\n\tnotes: [\n\t\t// Retro intro arpeggio\n\t\t{ beat: 0, pitch: 'A3', lane: 0 },\n\t\t{ beat: 0.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 0.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 0.75, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1, pitch: 'C5', lane: 3 },\n\t\t{ beat: 1.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 1.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 1.75, pitch: 'C4', lane: 1 },\n\t\t{ beat: 2, pitch: 'G3', lane: 0 },\n\t\t{ beat: 2.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 2.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 2.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3, pitch: 'B4', lane: 2 },\n\t\t{ beat: 3.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 3.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 3.75, pitch: 'B3', lane: 0 },\n\n\t\t// Bass with melody\n\t\t{ beat: 4, pitch: 'F3', lane: 0 },\n\t\t{ beat: 4.25, pitch: 'A3', lane: 0 },\n\t\t{ beat: 4.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 4.75, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 5.25, pitch: 'F4', lane: 2 },\n\t\t{ beat: 5.5, pitch: 'C4', lane: 1 },\n\t\t{ beat: 5.75, pitch: 'A3', lane: 0 },\n\t\t{ beat: 6, pitch: 'E3', lane: 0 },\n\t\t{ beat: 6.25, pitch: 'G#3', lane: 0 },\n\t\t{ beat: 6.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 6.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7, pitch: 'G#4', lane: 2 },\n\t\t{ beat: 7.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 7.5, pitch: 'B3', lane: 0 },\n\t\t{ beat: 7.75, pitch: 'G#3', lane: 0 },\n\n\t\t// Main synth lead\n\t\t{ beat: 8, pitch: 'A4', lane: 2 },\n\t\t{ beat: 8.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9, pitch: 'E4', lane: 1 },\n\t\t{ beat: 9.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 9.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 9.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 10, pitch: 'B4', lane: 2 },\n\t\t{ beat: 10.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 11, pitch: 'G4', lane: 2 },\n\t\t{ beat: 11.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 11.5, pitch: 'D4', lane: 1 },\n\t\t{ beat: 11.75, pitch: 'E4', lane: 1 },\n\n\t\t{ beat: 12, pitch: 'A4', lane: 2 },\n\t\t{ beat: 12.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13, pitch: 'E4', lane: 1 },\n\t\t{ beat: 13.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 13.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 13.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 14, pitch: 'C5', lane: 3 },\n\t\t{ beat: 14.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 14.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 14.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 15, pitch: 'C5', lane: 3 },\n\t\t{ beat: 15.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 15.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 15.75, pitch: 'G4', lane: 2 },\n\n\t\t// Dual arpeggio section\n\t\t{ beat: 16, pitch: 'A3', lane: 0 },\n\t\t{ beat: 16.25, pitch: 'E4', lane: 1 },\n\t\t{ beat: 16.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 16.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 17, pitch: 'G3', lane: 0 },\n\t\t{ beat: 17.25, pitch: 'D4', lane: 1 },\n\t\t{ beat: 17.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 17.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 18, pitch: 'F3', lane: 0 },\n\t\t{ beat: 18.25, pitch: 'C4', lane: 1 },\n\t\t{ beat: 18.5, pitch: 'F4', lane: 2 },\n\t\t{ beat: 18.75, pitch: 'C5', lane: 3 },\n\t\t{ beat: 19, pitch: 'E3', lane: 0 },\n\t\t{ beat: 19.25, pitch: 'B3', lane: 0 },\n\t\t{ beat: 19.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 19.75, pitch: 'B4', lane: 2 },\n\n\t\t// High energy section\n\t\t{ beat: 20, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 20.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 20.75, pitch: 'E5', lane: 3 },\n\t\t{ beat: 21, pitch: 'A4', lane: 2 },\n\t\t{ beat: 21.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 21.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 21.75, pitch: 'G4', lane: 2 },\n\t\t{ beat: 22, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 22.5, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 22.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 23, pitch: 'B4', lane: 2 },\n\t\t{ beat: 23.25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 23.5, pitch: 'F#4', lane: 1 },\n\t\t{ beat: 23.75, pitch: 'A4', lane: 2 },\n\n\t\t// Breakdown\n\t\t{ beat: 24, pitch: 'C5', lane: 3 },\n\t\t{ beat: 24.5, pitch: 'B4', lane: 2 },\n\t\t{ beat: 25, pitch: 'A4', lane: 2 },\n\t\t{ beat: 25.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 26, pitch: 'F4', lane: 1 },\n\t\t{ beat: 26.5, pitch: 'E4', lane: 1 },\n\t\t{ beat: 27, pitch: 'D4', lane: 1 },\n\t\t{ beat: 27.5, pitch: 'C4', lane: 0 },\n\n\t\t// Build up\n\t\t{ beat: 28, pitch: 'E4', lane: 1 },\n\t\t{ beat: 28.25, pitch: 'G4', lane: 2 },\n\t\t{ beat: 28.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 28.75, pitch: 'B4', lane: 2 },\n\t\t{ beat: 29, pitch: 'C5', lane: 3 },\n\t\t{ beat: 29.25, pitch: 'D5', lane: 3 },\n\t\t{ beat: 29.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 29.75, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30, pitch: 'G5', lane: 3 },\n\t\t{ beat: 30.25, pitch: 'F#5', lane: 3 },\n\t\t{ beat: 30.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 30.75, pitch: 'D5', lane: 3 },\n\t\t{ beat: 31, pitch: 'C5', lane: 3 },\n\t\t{ beat: 31.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 31.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 31.75, pitch: 'G4', lane: 2 },\n\n\t\t// Final chorus\n\t\t{ beat: 32, pitch: 'A4', lane: 2 },\n\t\t{ beat: 32.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 32.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 32.75, pitch: 'A5', lane: 3 },\n\t\t{ beat: 33, pitch: 'E5', lane: 3 },\n\t\t{ beat: 33.25, pitch: 'C5', lane: 3 },\n\t\t{ beat: 33.5, pitch: 'A4', lane: 2 },\n\t\t{ beat: 33.75, pitch: 'E4', lane: 1 },\n\t\t{ beat: 34, pitch: 'G4', lane: 2 },\n\t\t{ beat: 34.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 34.5, pitch: 'D5', lane: 3 },\n\t\t{ beat: 34.75, pitch: 'G5', lane: 3 },\n\t\t{ beat: 35, pitch: 'D5', lane: 3 },\n\t\t{ beat: 35.25, pitch: 'B4', lane: 2 },\n\t\t{ beat: 35.5, pitch: 'G4', lane: 2 },\n\t\t{ beat: 35.75, pitch: 'D4', lane: 1 },\n\n\t\t// Ending\n\t\t{ beat: 36, pitch: 'A4', lane: 2 },\n\t\t{ beat: 36.5, pitch: 'E5', lane: 3 },\n\t\t{ beat: 37, pitch: 'A5', lane: 3 },\n\t\t{ beat: 38, pitch: 'A4', lane: 2 },\n\t],\n\tbackground: {\n\t\tdrumPattern: 'upbeat',\n\t},\n\tloop: {\n\t\tstartBeat: 8,\n\t\tendBeat: 38,\n\t\tcount: 1,\n\t},\n}\n","// Song Registry - Manages song loading and progression\n\nimport type { Song } from './songTypes'\n\n// Very Easy Songs\nimport { twinkleStar } from './twinkle-star'\nimport { maryHadALittleLamb } from './mary-had-a-little-lamb'\nimport { hotCrossBuns } from './hot-cross-buns'\nimport { jingleBells } from './jingle-bells'\nimport { rowRowRow } from './row-row-row'\n\n// Easy Songs\nimport { odeToJoy } from './ode-to-joy'\nimport { whenTheSaints } from './when-the-saints'\nimport { ohSusanna } from './oh-susanna'\nimport { londonBridge } from './london-bridge'\nimport { happyBirthday } from './happy-birthday'\n\n// Medium Songs\nimport { canonInD } from './canon-in-d'\nimport { entertainer } from './entertainer'\nimport { minuetInG } from './minuet-in-g'\nimport { turkishMarch } from './turkish-march'\nimport { greensleeves } from './greensleeves'\n\n// Hard Songs\nimport { furElise } from './fur-elise'\nimport { moonlightSonata } from './moonlight-sonata'\nimport { hungarianDance } from './hungarian-dance'\nimport { mountainKing } from './mountain-king'\nimport { carmenHabanera } from './carmen-habanera'\n\n// Very Hard Songs\nimport { electronicBeat } from './electronic-beat'\nimport { neonPulse } from './neon-pulse'\nimport { digitalStorm } from './digital-storm'\nimport { cyberChase } from './cyber-chase'\nimport { synthWave } from './synth-wave'\n\n// 5-tier difficulty system\nexport type Difficulty = 'very-easy' | 'easy' | 'medium' | 'hard' | 'very-hard'\n\n// Ordered difficulty levels for progression\nconst DIFFICULTIES: Difficulty[] = [\n\t'very-easy',\n\t'easy',\n\t'medium',\n\t'hard',\n\t'very-hard',\n]\n\n// All available songs (25 total - 5 per difficulty)\nexport const songLibrary: Song[] = [\n\t// Very Easy (5)\n\ttwinkleStar,\n\tmaryHadALittleLamb,\n\thotCrossBuns,\n\tjingleBells,\n\trowRowRow,\n\t// Easy (5)\n\todeToJoy,\n\twhenTheSaints,\n\tohSusanna,\n\tlondonBridge,\n\thappyBirthday,\n\t// Medium (5)\n\tcanonInD,\n\tentertainer,\n\tminuetInG,\n\tturkishMarch,\n\tgreensleeves,\n\t// Hard (5)\n\tfurElise,\n\tmoonlightSonata,\n\thungarianDance,\n\tmountainKing,\n\tcarmenHabanera,\n\t// Very Hard (5)\n\telectronicBeat,\n\tneonPulse,\n\tdigitalStorm,\n\tcyberChase,\n\tsynthWave,\n]\n\n// Songs organized by 5-tier difficulty (5 songs each)\nexport const songsByDifficulty: Record<Difficulty, Song[]> = {\n\t'very-easy': [\n\t\ttwinkleStar,\n\t\tmaryHadALittleLamb,\n\t\thotCrossBuns,\n\t\tjingleBells,\n\t\trowRowRow,\n\t],\n\teasy: [odeToJoy, whenTheSaints, ohSusanna, londonBridge, happyBirthday],\n\tmedium: [canonInD, entertainer, minuetInG, turkishMarch, greensleeves],\n\thard: [\n\t\tfurElise,\n\t\tmoonlightSonata,\n\t\thungarianDance,\n\t\tmountainKing,\n\t\tcarmenHabanera,\n\t],\n\t'very-hard': [electronicBeat, neonPulse, digitalStorm, cyberChase, synthWave],\n}\n\n// Get song for a specific level (auto-progression with random selection)\n// Level 1 = very-easy, Level 2 = easy, Level 3 = medium, Level 4 = hard, Level 5 = very-hard\n// Level 6+ = cycle repeats with speed increase\nexport function getSongForLevel(level: number): {\n\tsong: Song\n\tcycle: number\n\tspeedMultiplier: number\n\tdifficulty: Difficulty\n} {\n\t// Calculate which cycle we're on (5 levels per cycle)\n\tconst cycle = Math.floor((level - 1) / 5)\n\n\t// Calculate difficulty index (0-4) within current cycle\n\tconst difficultyIndex = (level - 1) % 5\n\tconst difficulty = DIFFICULTIES[difficultyIndex]\n\n\t// Get songs for this difficulty and pick one randomly\n\tconst songsInTier = songsByDifficulty[difficulty]\n\tconst randomIndex = Math.floor(Math.random() * songsInTier.length)\n\tconst song = songsInTier[randomIndex]\n\n\t// Speed multiplier increases each cycle\n\t// Cycle 0: 1.0x, Cycle 1: 1.1x, Cycle 2: 1.2x, etc.\n\tconst speedMultiplier = 1.0 + cycle * 0.1\n\n\treturn {\n\t\tsong,\n\t\tcycle,\n\t\tspeedMultiplier,\n\t\tdifficulty,\n\t}\n}\n\n// Get song by ID\nexport function getSongById(id: string): Song | undefined {\n\treturn songLibrary.find(s => s.metadata.id === id)\n}\n\n// Get all songs\nexport function getAllSongs(): Song[] {\n\treturn songLibrary\n}\n\n// Get song metadata list (for UI display)\nexport function getSongList(): Array<{\n\tid: string\n\ttitle: string\n\tartist: string\n\tdifficulty: Difficulty\n}> {\n\treturn songLibrary.map(s => ({\n\t\tid: s.metadata.id,\n\t\ttitle: s.metadata.title,\n\t\tartist: s.metadata.artist,\n\t\tdifficulty: s.metadata.difficulty,\n\t}))\n}\n\n// Re-export types\nexport type { Song, MelodicNote, SongMetadata } from './songTypes'\n","'use client'\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react'\nimport { GameHeader } from '../ui/GameHeader'\nimport { GameCanvas } from '../ui/GameCanvas'\nimport { GameOverlay } from '../ui/GameOverlay'\nimport { isMobile } from '../../../../utils/functions'\nimport type { RhythmHighwayProps, Note, HitEffect } from './types'\nimport {\n\tCANVAS_WIDTH,\n\tCANVAS_HEIGHT,\n\tLANE_COUNT,\n\tLANE_WIDTH,\n\tHIT_ZONE_Y,\n\tHIT_ZONE_HEIGHT,\n\tNOTE_HEIGHT,\n\tNOTE_RADIUS,\n\tPERFECT_WINDOW,\n\tGOOD_WINDOW,\n\tPERFECT_POINTS,\n\tGOOD_POINTS,\n\tMAX_COMBO_MULTIPLIER,\n\tDEFAULT_LANE_COLORS,\n\tLANE_KEYS,\n\tLANE_LABELS,\n\tHIT_EFFECT_DURATION,\n} from './constants'\nimport { audioManager } from './utils/audioManager'\nimport { getSongForLevel, type Song, type Difficulty } from './songs'\nimport type { DrumPattern } from './songs/songTypes'\n\n// Use a web-safe font that looks similar to Orbitron\nconst GAME_FONT_FAMILY = \"'Orbitron', 'Segoe UI', 'Arial Black', sans-serif\"\n\n// Speed by difficulty (pixels per frame at 60fps)\nconst SPEED_BY_DIFFICULTY: Record<string, number> = {\n\t'very-easy': 2,\n\teasy: 3,\n\tmedium: 5,\n\thard: 7,\n\t'very-hard': 9,\n}\n\n// Difficulty display names in Spanish\nconst DIFFICULTY_NAMES: Record<string, string> = {\n\t'very-easy': 'Muy Fcil',\n\teasy: 'Fcil',\n\tmedium: 'Medio',\n\thard: 'Difcil',\n\t'very-hard': 'Muy Difcil',\n}\n\nconst RhythmHighway: React.FC<RhythmHighwayProps> = ({\n\tsetGameOver,\n\tsetPointsEarned,\n\tbrandColor = '#8b5cf6',\n\tinitialLives = 3,\n\tgameTitle = 'RHYTHM HIGHWAY',\n\tbrandLogo,\n}) => {\n\tconst mobile = isMobile()\n\tconst canvasRef = useRef<HTMLCanvasElement>(null)\n\tconst animationFrameId = useRef<number | null>(null)\n\n\t// Game state\n\tconst [gameStarted, setGameStarted] = useState(false)\n\tconst [gamePaused, setGamePaused] = useState(false)\n\tconst [quitGame, setQuitGame] = useState(false)\n\tconst [wasGamePaused, setWasGamePaused] = useState(false)\n\tconst [instructionsStep, setInstructionsStep] = useState(0)\n\n\t// Level progression\n\tconst [level, setLevel] = useState(1)\n\tconst [showLevelUp, setShowLevelUp] = useState(false)\n\tconst [levelUpTimeout, setLevelUpTimeout] = useState<NodeJS.Timeout | null>(\n\t\tnull\n\t)\n\n\t// Score and progress\n\tconst [points, setPoints] = useState(0)\n\tconst [currentLives, setCurrentLives] = useState(initialLives)\n\tconst [combo, setCombo] = useState(0)\n\tconst [maxCombo, setMaxCombo] = useState(0)\n\n\t// Audio state\n\tconst [audioInitialized, setAudioInitialized] = useState(false)\n\tconst [audioMuted, setAudioMuted] = useState(false)\n\n\t// Game refs (to avoid closure issues in animation loop)\n\tconst notesRef = useRef<Note[]>([])\n\tconst hitEffectsRef = useRef<HitEffect[]>([])\n\tconst pointsRef = useRef(0)\n\tconst comboRef = useRef(0)\n\tconst livesRef = useRef(initialLives)\n\tconst lastBeatRef = useRef(-1)\n\tconst gameTimeRef = useRef(0)\n\tconst noteIdCounterRef = useRef(0)\n\tconst levelRef = useRef(1)\n\tconst currentSongRef = useRef<Song | null>(null)\n\tconst songNoteIndexRef = useRef(0) // Track which song note to spawn next\n\tconst songLoopCountRef = useRef(0) // Track song loops for level progression\n\tconst currentConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache current level config to prevent random song changes per frame\n\tconst nextLevelConfigRef = useRef<{\n\t\tsong: Song\n\t\tdifficulty: Difficulty\n\t\ttrack: DrumPattern\n\t\tspeedMultiplier: number\n\t\tcycle: number\n\t\tdisplayName: string\n\t} | null>(null) // Cache next level config for level-up overlay to ensure announced song matches played song\n\n\t// Get current level config with song data\n\tconst getLevelConfig = useCallback((lvl: number) => {\n\t\tconst { song, cycle, speedMultiplier } = getSongForLevel(lvl)\n\t\tconst difficulty = song.metadata.difficulty\n\t\tconst difficultyName = DIFFICULTY_NAMES[difficulty] || difficulty\n\n\t\treturn {\n\t\t\tsong,\n\t\t\tdifficulty,\n\t\t\ttrack: song.background.drumPattern,\n\t\t\tspeedMultiplier,\n\t\t\tcycle,\n\t\t\tdisplayName:\n\t\t\t\tcycle > 0\n\t\t\t\t\t? `${song.metadata.title} (${difficultyName}) x${cycle + 1}`\n\t\t\t\t\t: `${song.metadata.title} (${difficultyName})`,\n\t\t}\n\t}, [])\n\n\t// Current level configuration (for UI display)\n\tconst currentConfig = getLevelConfig(level)\n\n\t// Lane colors\n\tconst laneColors = DEFAULT_LANE_COLORS\n\n\t// Sync refs with state\n\tuseEffect(() => {\n\t\tpointsRef.current = points\n\t}, [points])\n\n\tuseEffect(() => {\n\t\tcomboRef.current = combo\n\t}, [combo])\n\n\tuseEffect(() => {\n\t\tlivesRef.current = currentLives\n\t}, [currentLives])\n\n\tuseEffect(() => {\n\t\tlevelRef.current = level\n\t}, [level])\n\n\t// Initialize audio\n\tuseEffect(() => {\n\t\tconst initAudio = async () => {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\t\tinitAudio()\n\n\t\treturn () => {\n\t\t\taudioManager.dispose()\n\t\t}\n\t}, [])\n\n\t// Handle game over\n\tuseEffect(() => {\n\t\tif (currentLives <= 0 && gameStarted) {\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tsetGameStarted(false)\n\t\t\tsetGameOver(true)\n\t\t\tsetPointsEarned(points)\n\t\t}\n\t}, [currentLives, gameStarted, points, setGameOver, setPointsEarned])\n\n\t// Handle pause/resume background beat\n\tuseEffect(() => {\n\t\tif (!gameStarted) return\n\t\tif (gamePaused || quitGame) {\n\t\t\taudioManager.pauseBackgroundBeat()\n\t\t} else {\n\t\t\taudioManager.resumeBackgroundBeat()\n\t\t}\n\t}, [gamePaused, quitGame, gameStarted])\n\n\t// Cleanup level up timeout\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (levelUpTimeout) {\n\t\t\t\tclearTimeout(levelUpTimeout)\n\t\t\t}\n\t\t}\n\t}, [levelUpTimeout])\n\n\t// Handle level up\n\tconst triggerLevelUp = useCallback(() => {\n\t\t// Pre-cache the next level config so overlay and actual transition use the same song\n\t\tconst nextConfig = getLevelConfig(levelRef.current + 1)\n\t\tnextLevelConfigRef.current = nextConfig\n\n\t\tsetShowLevelUp(true)\n\t\tsetGamePaused(true)\n\n\t\t// Play level up sound\n\t\tif (audioInitialized) {\n\t\t\taudioManager.playCombo()\n\t\t}\n\n\t\t// Auto-continue after showing level up message\n\t\tconst timeout = setTimeout(() => {\n\t\t\tconst newLevel = levelRef.current + 1\n\t\t\tsetLevel(newLevel)\n\t\t\tsetShowLevelUp(false)\n\t\t\tsetGamePaused(false)\n\t\t\tsongLoopCountRef.current = 0\n\t\t\tsongNoteIndexRef.current = 0\n\n\t\t\t// Clear notes for clean transition\n\t\t\tnotesRef.current = []\n\t\t\tlastBeatRef.current = -1\n\t\t\tgameTimeRef.current = 0\n\n\t\t\t// Use the pre-cached config instead of calling getLevelConfig again\n\t\t\t// This ensures the song announced in the overlay matches the song that plays\n\t\t\tconst newConfig = nextLevelConfigRef.current!\n\t\t\tcurrentConfigRef.current = newConfig\n\t\t\tconst newSong = newConfig.song\n\t\t\tcurrentSongRef.current = newSong\n\t\t\tconst newBpm = newSong.metadata.bpm\n\n\t\t\t// Clear the next level config cache\n\t\t\tnextLevelConfigRef.current = null\n\n\t\t\t// Restart beat with new song's BPM and drum pattern\n\t\t\taudioManager.stopBackgroundBeat()\n\t\t\tif (newSong.background.drumPattern !== 'none') {\n\t\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\t\tnewBpm,\n\t\t\t\t\tnewSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\t\tnewConfig.cycle\n\t\t\t\t)\n\t\t\t}\n\t\t}, 2000)\n\n\t\tsetLevelUpTimeout(timeout)\n\t}, [audioInitialized, getLevelConfig])\n\n\t// Check for hit\n\tconst checkHit = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\n\t\t\tconst notes = notesRef.current\n\t\t\tconst hitZoneCenter = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t// Find the closest unhit note in this lane\n\t\t\tlet closestNote: Note | null = null\n\t\t\tlet closestDistance = Infinity\n\n\t\t\tfor (const note of notes) {\n\t\t\t\tif (note.lane === lane && !note.hit && !note.missed) {\n\t\t\t\t\tconst noteCenter = note.y + NOTE_HEIGHT / 2\n\t\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\t\t\t\t\tif (distance < closestDistance) {\n\t\t\t\t\t\tclosestDistance = distance\n\t\t\t\t\t\tclosestNote = note\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (closestNote) {\n\t\t\t\tconst noteCenter = closestNote.y + NOTE_HEIGHT / 2\n\t\t\t\tconst distance = Math.abs(noteCenter - hitZoneCenter)\n\n\t\t\t\t// Convert pixel distance to time based on note speed\n\t\t\t\tconst currentSpeed =\n\t\t\t\t\tSPEED_BY_DIFFICULTY[getLevelConfig(levelRef.current).difficulty] *\n\t\t\t\t\tgetLevelConfig(levelRef.current).speedMultiplier\n\t\t\t\tconst timeDistance = (distance / currentSpeed) * (1000 / 60)\n\n\t\t\t\tif (timeDistance <= GOOD_WINDOW) {\n\t\t\t\t\tclosestNote.hit = true\n\t\t\t\t\tclosestNote.hitTime = Date.now()\n\n\t\t\t\t\tif (timeDistance <= PERFECT_WINDOW) {\n\t\t\t\t\t\t// Perfect hit\n\t\t\t\t\t\tclosestNote.hitType = 'perfect'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = PERFECT_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\tif (newCombo % 10 === 0 && audioInitialized) {\n\t\t\t\t\t\t\t\taudioManager.playCombo()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'perfect',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNotePerfect(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playPerfect(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Good hit\n\t\t\t\t\t\tclosestNote.hitType = 'good'\n\t\t\t\t\t\tconst multiplier = Math.min(\n\t\t\t\t\t\t\tcomboRef.current + 1,\n\t\t\t\t\t\t\tMAX_COMBO_MULTIPLIER\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst earnedPoints = GOOD_POINTS * multiplier\n\t\t\t\t\t\tsetPoints(prev => prev + earnedPoints)\n\t\t\t\t\t\tsetCombo(prev => {\n\t\t\t\t\t\t\tconst newCombo = prev + 1\n\t\t\t\t\t\t\tsetMaxCombo(max => Math.max(max, newCombo))\n\t\t\t\t\t\t\treturn newCombo\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\t\t\tid: Date.now(),\n\t\t\t\t\t\t\tlane,\n\t\t\t\t\t\t\ttype: 'good',\n\t\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\t\t// Play melodic note if available, otherwise fall back to lane pitch\n\t\t\t\t\t\t\tif (closestNote.pitch) {\n\t\t\t\t\t\t\t\taudioManager.playMelodicNote(closestNote.pitch)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudioManager.playNote(lane)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// No note to hit - miss effect (but no penalty for pressing when no note)\n\t\t\t\thitEffectsRef.current.push({\n\t\t\t\t\tid: Date.now(),\n\t\t\t\t\tlane,\n\t\t\t\t\ttype: 'miss',\n\t\t\t\t\ttime: Date.now(),\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t[gameStarted, gamePaused, audioInitialized, getLevelConfig]\n\t)\n\n\t// Keyboard controls\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tconst key = e.key.toLowerCase()\n\t\t\tconst laneIndex = LANE_KEYS.indexOf(key)\n\n\t\t\t// Prevent ALL default behaviors for game keys to avoid scrolling/jumping\n\t\t\tif (laneIndex !== -1 || key === 'p' || key === ' ' || key === 'escape') {\n\t\t\t\te.preventDefault()\n\t\t\t\te.stopPropagation()\n\t\t\t}\n\n\t\t\tif (!gameStarted) return\n\n\t\t\tif (laneIndex !== -1) {\n\t\t\t\tcheckHit(laneIndex)\n\t\t\t} else if (key === 'p' || key === ' ') {\n\t\t\t\tif (!quitGame && !showLevelUp) {\n\t\t\t\t\tsetGamePaused(prev => !prev)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDown, { passive: false })\n\t\treturn () => document.removeEventListener('keydown', handleKeyDown)\n\t}, [gameStarted, checkHit, quitGame, showLevelUp])\n\n\t// Touch controls\n\tconst handleLaneTouch = useCallback(\n\t\t(lane: number) => {\n\t\t\tif (!gameStarted || gamePaused) return\n\t\t\tcheckHit(lane)\n\t\t},\n\t\t[gameStarted, gamePaused, checkHit]\n\t)\n\n\t// Game loop\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas || !gameStarted) return\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tlet lastTime = performance.now()\n\n\t\tconst gameLoop = (currentTime: number) => {\n\t\t\tconst deltaTime = currentTime - lastTime\n\t\t\tlastTime = currentTime\n\n\t\t\tif (gamePaused || quitGame) {\n\t\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Use cached config to avoid random song selection every frame\n\t\t\t// If no config cached yet (shouldn't happen), initialize it\n\t\t\tif (!currentConfigRef.current) {\n\t\t\t\tcurrentConfigRef.current = getLevelConfig(levelRef.current)\n\t\t\t}\n\t\t\tconst config = currentConfigRef.current\n\t\t\tconst song = config.song\n\t\t\tconst currentBpm = song.metadata.bpm\n\t\t\tconst currentBeatDuration = 60000 / currentBpm\n\t\t\tconst currentNoteSpeed =\n\t\t\t\tSPEED_BY_DIFFICULTY[config.difficulty] * config.speedMultiplier\n\n\t\t\t// Update game time\n\t\t\tgameTimeRef.current += deltaTime\n\n\t\t\t// Calculate current beat position\n\t\t\tconst currentBeat = gameTimeRef.current / currentBeatDuration\n\t\t\tconst lastBeat = lastBeatRef.current\n\n\t\t\t// Determine loop boundaries from song\n\t\t\tconst loopStart = song.loop?.startBeat ?? 0\n\t\t\tconst loopEnd =\n\t\t\t\tsong.loop?.endBeat ?? Math.max(...song.notes.map(n => n.beat)) + 4\n\n\t\t\t// Check if we've passed the loop end point (for level progression)\n\t\t\tlet spawnBeat = currentBeat // Use this for note spawning (may be reset on loop)\n\n\t\t\tif (lastBeat > 0 && currentBeat >= loopEnd && lastBeat < loopEnd) {\n\t\t\t\tsongLoopCountRef.current++\n\t\t\t\tconst loopsNeeded = song.loop?.count || 1\n\n\t\t\t\tif (songLoopCountRef.current >= loopsNeeded) {\n\t\t\t\t\t// Trigger level up\n\t\t\t\t\tsetTimeout(() => triggerLevelUp(), 100)\n\t\t\t\t} else {\n\t\t\t\t\t// Loop the song - reset to loop start\n\t\t\t\t\tgameTimeRef.current = loopStart * currentBeatDuration\n\t\t\t\t\tsongNoteIndexRef.current = song.notes.findIndex(\n\t\t\t\t\t\tn => n.beat >= loopStart\n\t\t\t\t\t)\n\t\t\t\t\tif (songNoteIndexRef.current === -1) songNoteIndexRef.current = 0\n\t\t\t\t\t// Reset spawnBeat so we don't spawn all notes at once\n\t\t\t\t\tspawnBeat = loopStart\n\t\t\t\t\tlastBeatRef.current = loopStart - 0.1 // Prevent re-triggering\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Spawn notes from song in order\n\t\t\twhile (songNoteIndexRef.current < song.notes.length) {\n\t\t\t\tconst noteData = song.notes[songNoteIndexRef.current]\n\n\t\t\t\t// Check if this note should spawn now\n\t\t\t\tif (noteData.beat <= spawnBeat) {\n\t\t\t\t\tnotesRef.current.push({\n\t\t\t\t\t\tid: noteIdCounterRef.current++,\n\t\t\t\t\t\tlane: noteData.lane,\n\t\t\t\t\t\ty: -NOTE_HEIGHT,\n\t\t\t\t\t\tspeed: currentNoteSpeed,\n\t\t\t\t\t\thit: false,\n\t\t\t\t\t\tmissed: false,\n\t\t\t\t\t\tpitch: noteData.pitch, // Store the pitch for melodic playback\n\t\t\t\t\t})\n\t\t\t\t\tsongNoteIndexRef.current++\n\t\t\t\t} else {\n\t\t\t\t\tbreak // Wait for the right beat\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastBeatRef.current = currentBeat\n\n\t\t\t// Update notes\n\t\t\tconst now = Date.now()\n\t\t\tnotesRef.current = notesRef.current.filter(note => {\n\t\t\t\tif (note.hit) {\n\t\t\t\t\treturn now - (note.hitTime || 0) < 200\n\t\t\t\t}\n\n\t\t\t\t// Move note down with its own speed (important for level transitions)\n\t\t\t\tnote.y += note.speed * (deltaTime / 16.67)\n\n\t\t\t\t// Check if note passed the hit zone without being hit\n\t\t\t\tif (\n\t\t\t\t\tnote.y > HIT_ZONE_Y + HIT_ZONE_HEIGHT + NOTE_HEIGHT &&\n\t\t\t\t\t!note.missed\n\t\t\t\t) {\n\t\t\t\t\tnote.missed = true\n\t\t\t\t\tsetCombo(0)\n\t\t\t\t\tsetCurrentLives(prev => Math.max(0, prev - 1))\n\t\t\t\t\tif (audioInitialized) {\n\t\t\t\t\t\taudioManager.playMiss()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn note.y < CANVAS_HEIGHT + NOTE_HEIGHT\n\t\t\t})\n\n\t\t\t// Update hit effects\n\t\t\thitEffectsRef.current = hitEffectsRef.current.filter(\n\t\t\t\teffect => now - effect.time < HIT_EFFECT_DURATION\n\t\t\t)\n\n\t\t\t// Draw\n\t\t\tdraw(ctx, config, gameTimeRef.current, currentNoteSpeed, currentBpm)\n\n\t\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\t\t}\n\n\t\tconst draw = (\n\t\t\tctx: CanvasRenderingContext2D,\n\t\t\tconfig: ReturnType<typeof getLevelConfig>,\n\t\t\telapsedTime: number,\n\t\t\tnoteSpeed: number,\n\t\t\tbpm: number\n\t\t) => {\n\t\t\t// Clear canvas\n\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Perspective transformation helpers\n\t\t\tconst vanishY = -100 // Vanishing point Y (above canvas)\n\t\t\tconst vanishX = CANVAS_WIDTH / 2 // Center X\n\t\t\tconst bottomY = CANVAS_HEIGHT\n\n\t\t\t// Returns X position adjusted for perspective based on Y\n\t\t\tconst getPerspectiveX = (baseX: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn vanishX + (baseX - vanishX) * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Get width at a given Y (for notes)\n\t\t\tconst getPerspectiveWidth = (baseWidth: number, y: number): number => {\n\t\t\t\tconst perspectiveFactor = (y - vanishY) / (bottomY - vanishY)\n\t\t\t\treturn baseWidth * perspectiveFactor\n\t\t\t}\n\n\t\t\t// Draw background gradient - changes based on track\n\t\t\tconst bgGradient = ctx.createLinearGradient(0, 0, 0, CANVAS_HEIGHT)\n\t\t\tif (config.track === 'chill') {\n\t\t\t\tbgGradient.addColorStop(0, '#0a1a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#0a2e2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a1a1a')\n\t\t\t} else if (config.track === 'upbeat') {\n\t\t\t\tbgGradient.addColorStop(0, '#1a0a0a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#2e0a1a')\n\t\t\t\tbgGradient.addColorStop(1, '#1a0a0a')\n\t\t\t} else {\n\t\t\t\tbgGradient.addColorStop(0, '#0a0a1a')\n\t\t\t\tbgGradient.addColorStop(0.5, '#1a0a2e')\n\t\t\t\tbgGradient.addColorStop(1, '#0a0a1a')\n\t\t\t}\n\t\t\tctx.fillStyle = bgGradient\n\t\t\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n\t\t\t// Draw road edges with glow for depth\n\t\t\tctx.save()\n\t\t\tctx.strokeStyle = brandColor || '#8b5cf6'\n\t\t\tctx.lineWidth = 3\n\t\t\tctx.shadowColor = brandColor || '#8b5cf6'\n\t\t\tctx.shadowBlur = 10\n\n\t\t\t// Left edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(0, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(0, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\n\t\t\t// Right edge\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(getPerspectiveX(CANVAS_WIDTH, 0), 0)\n\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\tctx.stroke()\n\t\t\tctx.restore()\n\n\t\t\t// Draw beat markers with perspective-correct spacing\n\t\t\t// Work in depth space (0 = vanishing point, 1 = bottom of screen)\n\t\t\tconst beatInterval = 60000 / bpm\n\t\t\tconst pixelsPerBeat = (noteSpeed * beatInterval) / 16.67 // How far a beat travels in pixels\n\t\t\tconst depthPerBeat = pixelsPerBeat / (bottomY - vanishY) // Convert to depth space\n\t\t\tconst depthSpeed = noteSpeed / (bottomY - vanishY) // Convert pixel speed to depth speed\n\t\t\tconst depthOffset = ((elapsedTime * depthSpeed) / 16.67) % depthPerBeat\n\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.12)'\n\t\t\tctx.lineWidth = 1\n\n\t\t\t// Iterate through beats in depth space\n\t\t\tfor (let depth = depthOffset; depth <= 1.0; depth += depthPerBeat) {\n\t\t\t\t// Convert depth to screen Y\n\t\t\t\tconst y = vanishY + depth * (bottomY - vanishY)\n\n\t\t\t\t// Skip if above canvas\n\t\t\t\tif (y < 0) continue\n\n\t\t\t\t// Calculate perspective factor for dash scaling\n\t\t\t\tconst perspectiveFactor = depth // depth IS the perspective factor (0 to 1)\n\t\t\t\tconst dashSize = Math.max(2, 10 * perspectiveFactor)\n\t\t\t\tctx.setLineDash([dashSize, dashSize])\n\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(0, y), y)\n\t\t\t\tctx.lineTo(getPerspectiveX(CANVAS_WIDTH, y), y)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\tctx.setLineDash([]) // Reset dash\n\n\t\t\t// Draw lane separators with perspective\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.15)'\n\t\t\tctx.lineWidth = 1\n\t\t\tfor (let i = 0; i <= LANE_COUNT; i++) {\n\t\t\t\tconst baseX = i * LANE_WIDTH\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.moveTo(getPerspectiveX(baseX, 0), 0)\n\t\t\t\tctx.lineTo(getPerspectiveX(baseX, CANVAS_HEIGHT), CANVAS_HEIGHT)\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\t// Draw hit zone\n\t\t\tconst hitZoneGradient = ctx.createLinearGradient(\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y,\n\t\t\t\t0,\n\t\t\t\tHIT_ZONE_Y + HIT_ZONE_HEIGHT\n\t\t\t)\n\t\t\thitZoneGradient.addColorStop(0, 'rgba(255, 255, 255, 0.1)')\n\t\t\thitZoneGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.3)')\n\t\t\thitZoneGradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)')\n\t\t\tctx.fillStyle = hitZoneGradient\n\t\t\tctx.fillRect(0, HIT_ZONE_Y, CANVAS_WIDTH, HIT_ZONE_HEIGHT)\n\n\t\t\t// Draw hit zone line\n\t\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.8)'\n\t\t\tctx.lineWidth = 2\n\t\t\tctx.beginPath()\n\t\t\tctx.moveTo(0, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.lineTo(CANVAS_WIDTH, HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2)\n\t\t\tctx.stroke()\n\n\t\t\t// Draw lane buttons at bottom\n\t\t\tconst buttonY = CANVAS_HEIGHT - 60\n\t\t\tconst buttonHeight = 50\n\t\t\tfor (let i = 0; i < LANE_COUNT; i++) {\n\t\t\t\tconst x = i * LANE_WIDTH\n\t\t\t\tconst color = Object.values(laneColors)[i]\n\n\t\t\t\tctx.fillStyle = `${color}33`\n\t\t\t\tctx.fillRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.strokeStyle = color\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.strokeRect(x + 5, buttonY, LANE_WIDTH - 10, buttonHeight)\n\n\t\t\t\tctx.fillStyle = color\n\t\t\t\tctx.font = `bold 20px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'center'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText(\n\t\t\t\t\tLANE_LABELS[i],\n\t\t\t\t\tx + LANE_WIDTH / 2,\n\t\t\t\t\tbuttonY + buttonHeight / 2\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// Draw notes with perspective\n\t\t\tconst now = Date.now()\n\t\t\tfor (const note of notesRef.current) {\n\t\t\t\tconst color = Object.values(laneColors)[note.lane]\n\n\t\t\t\t// Calculate perspective-adjusted position and size\n\t\t\t\tconst laneBaseX = note.lane * LANE_WIDTH\n\t\t\t\tconst perspXStart = getPerspectiveX(laneBaseX + 10, note.y)\n\t\t\t\tconst perspXEnd = getPerspectiveX(laneBaseX + LANE_WIDTH - 10, note.y)\n\t\t\t\tconst noteWidth = perspXEnd - perspXStart\n\t\t\t\tconst noteHeight = getPerspectiveWidth(NOTE_HEIGHT, note.y)\n\t\t\t\tconst perspRadius = Math.max(\n\t\t\t\t\t2,\n\t\t\t\t\tgetPerspectiveWidth(NOTE_RADIUS, note.y)\n\t\t\t\t)\n\n\t\t\t\tif (note.hit) {\n\t\t\t\t\tconst elapsed = now - (note.hitTime || 0)\n\t\t\t\t\tconst progress = elapsed / 200\n\t\t\t\t\tconst alpha = 1 - progress\n\t\t\t\t\tconst scale = 1 + progress * 0.5\n\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.globalAlpha = alpha\n\t\t\t\t\tctx.translate(perspXStart + noteWidth / 2, note.y + noteHeight / 2)\n\t\t\t\t\tctx.scale(scale, scale)\n\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, noteHeight)\n\t\t\t\t\tgradient.addColorStop(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tnote.hitType === 'perfect' ? '#ffd700' : '#c0c0c0'\n\t\t\t\t\t)\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.fillRect(-noteWidth / 2, -noteHeight / 2, noteWidth, noteHeight)\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t} else {\n\t\t\t\t\tctx.save()\n\n\t\t\t\t\tctx.shadowColor = color\n\t\t\t\t\tctx.shadowBlur = 15\n\n\t\t\t\t\tctx.fillStyle = color\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(perspXStart, note.y, noteWidth, noteHeight, perspRadius)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tconst innerGradient = ctx.createLinearGradient(\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y,\n\t\t\t\t\t\tperspXStart,\n\t\t\t\t\t\tnote.y + noteHeight\n\t\t\t\t\t)\n\t\t\t\t\tinnerGradient.addColorStop(0, 'rgba(255, 255, 255, 0.4)')\n\t\t\t\t\tinnerGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.1)')\n\t\t\t\t\tinnerGradient.addColorStop(1, 'rgba(0, 0, 0, 0.2)')\n\t\t\t\t\tctx.fillStyle = innerGradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.roundRect(\n\t\t\t\t\t\tperspXStart + 2,\n\t\t\t\t\t\tnote.y + 2,\n\t\t\t\t\t\tnoteWidth - 4,\n\t\t\t\t\t\tnoteHeight - 4,\n\t\t\t\t\t\tMath.max(1, perspRadius - 2)\n\t\t\t\t\t)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.restore()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Draw hit effects\n\t\t\tfor (const effect of hitEffectsRef.current) {\n\t\t\t\tconst elapsed = now - effect.time\n\t\t\t\tconst progress = elapsed / HIT_EFFECT_DURATION\n\t\t\t\tconst alpha = 1 - progress\n\n\t\t\t\tconst x = effect.lane * LANE_WIDTH + LANE_WIDTH / 2\n\t\t\t\tconst y = HIT_ZONE_Y + HIT_ZONE_HEIGHT / 2\n\n\t\t\t\tctx.save()\n\t\t\t\tctx.globalAlpha = alpha\n\n\t\t\t\tif (effect.type === 'perfect') {\n\t\t\t\t\tconst sparkleSize = 30 + progress * 20\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#ffd700')\n\t\t\t\t\tgradient.addColorStop(0.5, '#ffaa00')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#ffd700'\n\t\t\t\t\tctx.font = `bold 16px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('PERFECTO!', x, y - 30 - progress * 20)\n\t\t\t\t} else if (effect.type === 'good') {\n\t\t\t\t\tconst sparkleSize = 20 + progress * 15\n\t\t\t\t\tconst gradient = ctx.createRadialGradient(x, y, 0, x, y, sparkleSize)\n\t\t\t\t\tgradient.addColorStop(0, '#c0c0c0')\n\t\t\t\t\tgradient.addColorStop(0.5, '#888888')\n\t\t\t\t\tgradient.addColorStop(1, 'transparent')\n\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, sparkleSize, 0, Math.PI * 2)\n\t\t\t\t\tctx.fill()\n\n\t\t\t\t\tctx.fillStyle = '#c0c0c0'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('BIEN', x, y - 25 - progress * 15)\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillStyle = '#ff4444'\n\t\t\t\t\tctx.font = `bold 14px ${GAME_FONT_FAMILY}`\n\t\t\t\t\tctx.textAlign = 'center'\n\t\t\t\t\tctx.fillText('FALLO', x, y - 20 - progress * 10)\n\t\t\t\t}\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\n\t\t\t// Draw combo counter in canvas (top-right)\n\t\t\tif (comboRef.current > 1) {\n\t\t\t\tctx.save()\n\n\t\t\t\t// Position in top-right corner\n\t\t\t\tconst comboX = CANVAS_WIDTH - 15\n\t\t\t\tconst comboY = 35\n\n\t\t\t\t// Background pill (wider to fit \"COMBO\")\n\t\t\t\tctx.fillStyle = 'rgba(202, 138, 4, 0.6)' // yellow-600 with transparency\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.roundRect(comboX - 95, comboY - 22, 105, 44, 8)\n\t\t\t\tctx.fill()\n\n\t\t\t\t// Border\n\t\t\t\tctx.strokeStyle = '#eab308' // yellow-500\n\t\t\t\tctx.lineWidth = 2\n\t\t\t\tctx.stroke()\n\n\t\t\t\t// \"COMBO\" label\n\t\t\t\tctx.fillStyle = '#fbbf24' // yellow-400\n\t\t\t\tctx.font = `bold 10px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.textAlign = 'right'\n\t\t\t\tctx.textBaseline = 'middle'\n\t\t\t\tctx.fillText('COMBO', comboX - 8, comboY - 8)\n\n\t\t\t\t// Multiplier number\n\t\t\t\tctx.fillStyle = '#fde047' // yellow-300\n\t\t\t\tctx.font = `bold 18px ${GAME_FONT_FAMILY}`\n\t\t\t\tctx.fillText(`x${comboRef.current}`, comboX - 8, comboY + 10)\n\n\t\t\t\tctx.restore()\n\t\t\t}\n\t\t}\n\n\t\tanimationFrameId.current = requestAnimationFrame(gameLoop)\n\n\t\treturn () => {\n\t\t\tif (animationFrameId.current) {\n\t\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t\t}\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tgameStarted,\n\t\tgamePaused,\n\t\tquitGame,\n\t\tlaneColors,\n\t\taudioInitialized,\n\t\tgetLevelConfig,\n\t\ttriggerLevelUp,\n\t])\n\n\t// Start game\n\tconst startGame = async () => {\n\t\tif (!audioInitialized) {\n\t\t\tawait audioManager.init()\n\t\t\tsetAudioInitialized(true)\n\t\t}\n\n\t\tsetInstructionsStep(0)\n\t\tsetLevel(1)\n\t\tsetPoints(0)\n\t\tsetCombo(0)\n\t\tsetMaxCombo(0)\n\t\tsetCurrentLives(initialLives)\n\t\tnotesRef.current = []\n\t\thitEffectsRef.current = []\n\t\tgameTimeRef.current = 0\n\t\tlastBeatRef.current = -1\n\t\tnoteIdCounterRef.current = 0\n\t\tsongLoopCountRef.current = 0\n\t\tsongNoteIndexRef.current = 0\n\t\tsetGamePaused(false)\n\t\tsetQuitGame(false)\n\t\tsetShowLevelUp(false)\n\t\tsetGameStarted(true)\n\n\t\t// Get initial song and start background beat\n\t\tconst initialConfig = getLevelConfig(1)\n\t\tcurrentConfigRef.current = initialConfig // Cache the config to prevent random song changes\n\t\tconst initialSong = initialConfig.song\n\t\tcurrentSongRef.current = initialSong\n\t\tconst initialBpm = initialSong.metadata.bpm\n\n\t\t// Start background beat with song's BPM and drum pattern\n\t\tif (initialSong.background.drumPattern !== 'none') {\n\t\t\taudioManager.startBackgroundBeat(\n\t\t\t\tinitialBpm,\n\t\t\t\tinitialSong.background.drumPattern as 'chill' | 'default' | 'upbeat',\n\t\t\t\tinitialConfig.cycle\n\t\t\t)\n\t\t}\n\t}\n\n\tconst cancelQuit = () => {\n\t\tsetQuitGame(false)\n\t\tsetGamePaused(wasGamePaused)\n\t}\n\n\tconst handleQuitConfirm = () => {\n\t\taudioManager.stopBackgroundBeat()\n\t\tsetPointsEarned(points)\n\t\tsetGameOver(true)\n\t\tsetGameStarted(false)\n\t\tif (animationFrameId.current) {\n\t\t\tcancelAnimationFrame(animationFrameId.current)\n\t\t}\n\t}\n\n\tconst toggleMute = () => {\n\t\tconst newMuted = !audioMuted\n\t\tsetAudioMuted(newMuted)\n\t\taudioManager.setMuted(newMuted)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"game-container\"\n\t\t\tstyle={{ backgroundColor: brandColor }}\n\t\t>\n\t\t\t{/* Game Header */}\n\t\t\t<GameHeader\n\t\t\t\tlevel={level}\n\t\t\t\tlives={currentLives}\n\t\t\t\tscore={points}\n\t\t\t\tonPause={\n\t\t\t\t\tgameStarted && !quitGame && !showLevelUp\n\t\t\t\t\t\t? () => setGamePaused(!gamePaused)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tisPaused={gamePaused}\n\t\t\t\tbrandColor={brandColor}\n\t\t\t\tisMobile={mobile}\n\t\t\t\tonQuit={() => {\n\t\t\t\t\tsetQuitGame(true)\n\t\t\t\t\tsetWasGamePaused(gamePaused)\n\t\t\t\t\tsetGamePaused(true)\n\t\t\t\t}}\n\t\t\t\tshowQuitButton={gameStarted}\n\t\t\t\tisQuitting={quitGame}\n\t\t\t/>\n\n\t\t\t{/* Game Container */}\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"game-board-inner\"\n\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'column', width: '100%', minHeight: '600px', maxWidth: '32rem', margin: '0 auto', backgroundColor: brandColor }}\n\t\t\t\t>\n\t\t\t\t\t{/* Game Canvas */}\n\t\t\t\t\t<GameCanvas\n\t\t\t\t\t\tref={canvasRef}\n\t\t\t\t\t\twidth={CANVAS_WIDTH}\n\t\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\t\tclassName=\"max-w-full max-h-full\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Touch controls overlay */}\n\t\t\t\t\t{mobile && gameStarted && !gamePaused && !quitGame && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, display: 'flex', pointerEvents: 'auto' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{[0, 1, 2, 3].map(lane => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={lane}\n\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, height: '100%', opacity: 0 }}\n\t\t\t\t\t\t\t\t\tonTouchStart={e => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\thandleLaneTouch(lane)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Start Screen */}\n\t\t\t\t\t{!gameStarted && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle={` ${gameTitle}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={\n\t\t\t\t\t\t\t\tinstructionsStep === 0\n\t\t\t\t\t\t\t\t\t? () => setInstructionsStep(1)\n\t\t\t\t\t\t\t\t\t: startGame\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionText={instructionsStep === 0 ? 'Siguiente ' : ' JUGAR'}\n\t\t\t\t\t\t\tshowPressToStart={false}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{brandLogo && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white\">por:</span>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={brandLogo}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Brand Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-auto w-48 h-auto !mb-4\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{instructionsStep === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center items-center gap-x-3 text-xs text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(DEFAULT_LANE_COLORS).map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t([key, color], i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex flex-col items-center gap-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-8 h-6 rounded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{LANE_LABELS[i]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center text-sm text-gray-300 mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Toca los carriles cuando las notas</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>lleguen a la lnea blanca</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> Usa D, F, J, K para los 4 carriles</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p> ESPACIO o P para pausar</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tOmitir\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-400 mt-3 p-2 bg-white/10 rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t Golpea las notas en el momento exacto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCada cancin tiene su meloda!\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tConforme avanzas se volver ms dificil\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> PERFECTO = 50 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> BIEN = 25 pts  combo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> FALLO = pierdes una vida</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Mantn el combo para ms puntos!</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setInstructionsStep(0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-gray-400 hover:text-white underline mt-2\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t Atrs\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Level Up Overlay */}\n\t\t\t\t\t{showLevelUp && nextLevelConfigRef.current && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\" NIVEL COMPLETADO!\"\n\t\t\t\t\t\t\tmessage={`Pasaste al Nivel ${level + 1}!`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg text-yellow-400 font-bold mb-2\">\n\t\t\t\t\t\t\t\t\t\t {nextLevelConfigRef.current.song.metadata.title}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-300 mb-1\">\n\t\t\t\t\t\t\t\t\t\tpor {nextLevelConfigRef.current.song.metadata.artist}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t{nextLevelConfigRef.current.cycle > 0\n\t\t\t\t\t\t\t\t\t\t\t? `Velocidad x${nextLevelConfigRef.current.cycle + 1}!`\n\t\t\t\t\t\t\t\t\t\t\t: `Nueva meloda: ${DIFFICULTY_NAMES[nextLevelConfigRef.current.difficulty]}`}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pause Overlay */}\n\t\t\t\t\t{gamePaused && !quitGame && !showLevelUp && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"pause\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}: ${currentConfig.displayName}`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tonAction={() => setGamePaused(false)}\n\t\t\t\t\t\t\tactionText=\" CONTINUAR\"\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={toggleMute}\n\t\t\t\t\t\t\t\t\tclassName=\"mt-4 px-4 py-2 bg-gray-700 text-white rounded text-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{audioMuted ? ' Sonido desactivado' : ' Sonido activado'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Quit Confirmation Overlay */}\n\t\t\t\t\t{quitGame && (\n\t\t\t\t\t\t<GameOverlay\n\t\t\t\t\t\t\ttype=\"custom\"\n\t\t\t\t\t\t\ttitle=\"Salir del Juego?\"\n\t\t\t\t\t\t\tmessage={`Nivel ${level}  ${points} puntos`}\n\t\t\t\t\t\t\tbrandColor={brandColor}\n\t\t\t\t\t\t\tcustomContent={\n\t\t\t\t\t\t\t\t<div className=\"game-quit-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={cancelQuit}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-cancel\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Cancelar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={handleQuitConfirm}\n\t\t\t\t\t\t\t\t\t\tclassName=\"game-quit-btn game-quit-btn-confirm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t Salir\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Stats bar when playing - always render container for consistent layout */}\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', padding: '0.5rem', backgroundColor: 'rgba(0,0,0,0.5)', color: 'white', fontSize: '0.75rem', minHeight: '32px' }}>\n\t\t\t\t{gameStarted && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{currentConfigRef.current?.displayName ||\n\t\t\t\t\t\t\t\tcurrentConfig.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>|</span>\n\t\t\t\t\t\t<span>Combo mximo: {maxCombo}</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RhythmHighway\n","'use client';\nimport { useRef, useState } from 'react';\nimport { GameCard } from './ui/GameCard';\nimport { GameOverlay } from './ui/GameOverlay';\nimport RacingGame from './racing/game';\nimport TetrisGame from './tetris/game';\nimport SnakeGame from './snake/index';\nimport FlappyBirdGame from './flappy-bird/index';\nimport BreakoutGame from './breakout/game';\nimport PenaltyShootoutGame from './penalty-shootout/index';\nimport CandyCrushGame from './candy-crush/index';\nimport RhythmHighway from './rhythm-highway/index';\nimport PageNavigation from '../PageNavigation/PageNavigation';\nimport { Language } from '../../../types/i18n';\nimport { getTranslations, interpolate } from '../../../i18n';\n\ninterface GameSelectorProps {\n  visitor: string;\n  setDialogText: (text: string) => void;\n  setCurrentAction: (action: string) => void;\n  lang: Language;\n}\n\nexport default function GameSelector({ visitor, setDialogText, setCurrentAction, lang }: GameSelectorProps) {\n  const t = getTranslations(lang);\n  const [selectedGame, setSelectedGame] = useState('');\n  const [pointsEarned, setPointsEarned] = useState<number>(0);\n  const [gameOver, setGameOver] = useState<boolean>(false);\n\n  const gameRef = useRef<any>(null);\n\n  if (gameOver) {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content\">\n          <GameOverlay\n            type=\"custom\"\n            title={pointsEarned > 0 ? ` ${t.games.congratulations}` : ` ${t.games.sorry}`}\n            message={pointsEarned > 0 ? interpolate(t.games.wonPoints, { points: pointsEarned }) : t.games.tryAgain}\n            brandColor=\"#00d26a\"\n            onAction={() => {\n              setGameOver(false);\n              setPointsEarned(0);\n              setSelectedGame('');\n            }}\n            actionText={t.games.backToMenu}\n            lang={lang}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (selectedGame !== '') {\n    return (\n      <div className=\"retro-page\">\n        <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n        <div className=\"page-content game-page-content\">\n          <div className=\"game-wrapper\" ref={gameRef}>\n            {selectedGame === 'races' && (\n              <RacingGame\n                laps={1}\n                track={1}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                showBillboardStats={false}\n                brandColor=\"#ef4444\"\n                gameTitle=\"MAW Racing\"\n                lang={lang}\n              />\n            )}\n            {selectedGame === 'tetris' && (\n              <TetrisGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#8b5cf6\"\n                gameTitle={t.games.tetris.title}\n              />\n            )}\n            {selectedGame === 'snake' && (\n              <SnakeGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#10b981\"\n                gameTitle={t.games.snake.title}\n              />\n            )}\n            {selectedGame === 'flappy-bird' && (\n              <FlappyBirdGame\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#00bfff\"\n                gameTitle={t.games.flappyBird.title}\n              />\n            )}\n            {selectedGame === 'breakout' && (\n              <BreakoutGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#f59e0b\"\n                gameTitle={t.games.breakout.title}\n              />\n            )}\n            {selectedGame === 'penalty-shootout' && (\n              <PenaltyShootoutGame\n                lives={5}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#1a472a\"\n                gameTitle={t.games.penaltyShootout.title}\n              />\n            )}\n            {selectedGame === 'candy-crush' && (\n              <CandyCrushGame\n                lives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#e91e63\"\n                gameTitle={t.games.candyCrush.title}\n              />\n            )}\n            {selectedGame === 'rhythm-highway' && (\n              <RhythmHighway\n                initialLives={3}\n                setGameOver={setGameOver}\n                setPointsEarned={setPointsEarned}\n                brandColor=\"#6366f1\"\n                gameTitle={t.games.rhythmHighway.title}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"retro-page\">\n      <PageNavigation currentSection=\"goTo-games\" onNavigate={setCurrentAction} lang={lang} />\n      <div className=\"page-content\">\n        <h1>{t.games.title}</h1>\n\n        <div className=\"retro-box\" style={{ textAlign: 'center', marginBottom: '20px' }}>\n          {t.games.subtitle}\n        </div>\n\n        <div className=\"game-selector-container\">\n          <div className=\"game-selector-grid\">\n            <GameCard\n              title={t.games.racing.title}\n              icon=\"\"\n              gradientFrom=\"#3b82f6\"\n              gradientTo=\"#2563eb\"\n              onClick={() => setSelectedGame('races')}\n              description={t.games.racing.description}\n            />\n            <GameCard\n              title={t.games.tetris.title}\n              icon=\"\"\n              gradientFrom=\"#8b5cf6\"\n              gradientTo=\"#7c3aed\"\n              onClick={() => setSelectedGame('tetris')}\n              description={t.games.tetris.description}\n            />\n            <GameCard\n              title={t.games.snake.title}\n              icon=\"\"\n              gradientFrom=\"#10b981\"\n              gradientTo=\"#059669\"\n              onClick={() => setSelectedGame('snake')}\n              description={t.games.snake.description}\n            />\n            <GameCard\n              title={t.games.flappyBird.title}\n              icon=\"\"\n              gradientFrom=\"#00bfff\"\n              gradientTo=\"#0099cc\"\n              onClick={() => setSelectedGame('flappy-bird')}\n              description={t.games.flappyBird.description}\n            />\n            <GameCard\n              title={t.games.breakout.title}\n              icon=\"\"\n              gradientFrom=\"#f59e0b\"\n              gradientTo=\"#d97706\"\n              onClick={() => setSelectedGame('breakout')}\n              description={t.games.breakout.description}\n            />\n            <GameCard\n              title={t.games.penaltyShootout.title}\n              icon=\"\"\n              gradientFrom=\"#1a472a\"\n              gradientTo=\"#0f2d1a\"\n              onClick={() => setSelectedGame('penalty-shootout')}\n              description={t.games.penaltyShootout.description}\n            />\n            <GameCard\n              title={t.games.candyCrush.title}\n              icon=\"\"\n              gradientFrom=\"#e91e63\"\n              gradientTo=\"#c2185b\"\n              onClick={() => setSelectedGame('candy-crush')}\n              description={t.games.candyCrush.description}\n            />\n            <GameCard\n              title={t.games.rhythmHighway.title}\n              icon=\"\"\n              gradientFrom=\"#6366f1\"\n              gradientTo=\"#4f46e5\"\n              onClick={() => setSelectedGame('rhythm-highway')}\n              description={t.games.rhythmHighway.description}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, lazy, Suspense, useEffect, useCallback, useMemo } from 'react';\nimport { ContentProps } from '../../types';\nimport BrowserWindow from './BrowserWindow/BrowserWindow';\nimport { getTranslations, interpolate } from '../../i18n';\nimport { useIsMobile, useAudio } from '../../hooks';\nimport { DELAYS, AUDIO_VOLUMES } from '../../constants';\n\nimport './Content.css';\nimport './Games/Games.css';\nimport GameSelector from './Games/game-selector';\nimport maduroImg from '../../img/maduro.webp';\n\nconst Avatar = lazy(() => import('./Avatar/Avatar'));\nconst Home = lazy(() => import('./Home/Home'));\nconst AboutMe = lazy(() => import('./AboutMe/AboutMe'));\nconst Work = lazy(() => import('./Work/Work'));\nconst Portfolio = lazy(() => import('./Portfolio/Portfolio'));\nconst Contact = lazy(() => import('./Contact/Contact'));\n\nconst Content: React.FC<ContentProps> = ({ name, lang }) => {\n  const t = getTranslations(lang);\n  const greetings = name !== ''\n    ? interpolate(t.avatar.dialogues.greetingWithName, { name })\n    : t.avatar.dialogues.greeting;\n  const [dialogText, setDialogText] = useState<string>(greetings);\n  const [currentAction, setCurrentAction] = useState<string>('');\n  const [browserOpen, setBrowserOpen] = useState<boolean>(false);\n  const [browserMinimized, setBrowserMinimized] = useState<boolean>(false);\n  const isMobile = useIsMobile();\n  const [pendingBrowserOpen, setPendingBrowserOpen] = useState<boolean>(false);\n  const { setVolume } = useAudio();\n\n  const handleNavigate = useCallback((action: string) => {\n    setCurrentAction(action);\n\n    // Only these actions should open the browser\n    const browserActions = [\n      'goTo-about',\n      'goTo-work',\n      'goTo-contact',\n      'goTo-portfolio',\n      'goTo-games',\n    ];\n\n    if (isMobile && browserActions.includes(action)) {\n      // For navigation actions on mobile, wait for dialog to complete\n      setPendingBrowserOpen(true);\n    } else if (!isMobile && browserActions.includes(action)) {\n      // On desktop, unminimize the browser immediately\n      setBrowserMinimized(false);\n    }\n    // Other actions (say-hi, say-meow, chatter, etc.) don't open the browser\n  }, [isMobile]);\n\n  const handleDialogComplete = useCallback(() => {\n    // Open browser after dialog completes on mobile\n    if (pendingBrowserOpen) {\n      setTimeout(() => {\n        setBrowserOpen(true);\n        setPendingBrowserOpen(false);\n      }, DELAYS.BROWSER_OPEN);\n    }\n  }, [pendingBrowserOpen]);\n\n  const renderRightSideComponent = () => {\n    const loader = (\n      <div id=\"loader\">\n        <i className=\"spinner icon\"></i>\n      </div>\n    );\n    switch (currentAction) {\n      case 'goTo-about':\n        return (\n          <Suspense fallback={loader}>\n            <AboutMe setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-work':\n        return (\n          <Suspense fallback={loader}>\n            <Work setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-portfolio':\n        return (\n          <Suspense fallback={loader}>\n            <Portfolio setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n      case 'goTo-contact':\n        return (\n          <Suspense fallback={loader}>\n            <Contact\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      case 'goTo-games':\n        return (\n          <Suspense fallback={loader}>\n            <GameSelector\n              visitor={name}\n              setDialogText={setDialogText}\n              setCurrentAction={handleNavigate}\n              lang={lang}\n            />\n          </Suspense>\n        );\n      default:\n        return (\n          <Suspense fallback={loader}>\n            <Home setDialogText={setDialogText} setCurrentAction={handleNavigate} lang={lang} />\n          </Suspense>\n        );\n    }\n  };\n\n  useEffect(() => {\n    setVolume('bgMusic', AUDIO_VOLUMES.BACKGROUND_MUSIC);\n  }, [setVolume]);\n\n  return (\n    <Suspense\n      fallback={\n        <div id=\"loader\">\n          <i className=\"spinner icon\"></i>\n        </div>\n      }\n    >\n      <div className=\"ui container main\">\n        <div className=\"ui stackable grid\">\n          <div className=\"seven wide column\">\n            <div className=\"left-side-wrapper\">\n              <Avatar\n                visitor={name}\n                dialogText={dialogText}\n                setDialogText={setDialogText}\n                currentAction={currentAction}\n                setCurrentAction={handleNavigate}\n                onDialogComplete={handleDialogComplete}\n                onOpenBrowser={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(true);\n                  } else {\n                    setBrowserMinimized(false);\n                  }\n                }, [isMobile])}\n                lang={lang}\n              />\n            </div>\n          </div>\n          <div className={`nine wide column ${browserOpen ? 'browser-open' : ''}`}>\n            <div className=\"right-side-wrapper\">\n              {!isMobile && browserMinimized && (\n                <div className=\"easter-egg-container\">\n                  <img src={maduroImg} alt=\"\" className=\"easter-egg-image\" />\n                </div>\n              )}\n              <BrowserWindow\n                currentSection={currentAction}\n                onNavigate={handleNavigate}\n                onMinimize={useMemo(() => () => {\n                  if (isMobile) {\n                    setBrowserOpen(false);\n                  } else {\n                    setBrowserMinimized(true);\n                  }\n                }, [isMobile])}\n                onOpen={() => setBrowserOpen(true)}\n                isMobile={isMobile}\n                browserOpen={browserOpen}\n                browserMinimized={browserMinimized}\n                lang={lang}\n              >\n                {renderRightSideComponent()}\n              </BrowserWindow>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default Content;\n"],"names":["_ref","currentSection","onNavigate","lang","t","getTranslations","navItems","id","label","navigation","home","icon","about","work","portfolio","contact","games","_jsx","className","children","map","item","_jsxs","concat","itemId","onClick","undefined","candyCrushAudio","constructor","initialized","muted","lastBassTime","lastNoiseTime","lastUiTime","MIN_TIME_GAP","uiSynth","popSynth","bassSynth","bellSynth","noiseSynth","melodySynth","init","this","Tone","oscillator","type","envelope","attack","decay","sustain","release","volume","toDestination","pitchDecay","octaves","noise","getSafeTime","lastTime","synthKey","now","minNextTime","safeTime","Math","max","playSelect","time","triggerAttackRelease","playSwap","time1","time2","playInvalidMove","noiseTime","bassTime","playMatch3","playMatch4","playMatch5","playMatchSound","length","playBombExplode","note","sparkleNotes","playCombo","chainLevel","baseNotes","numNotes","min","notes","slice","forEach","i","playScorePopup","playWin","playLose","setMuted","isMuted","dispose","_this$uiSynth","_this$popSynth","_this$bassSynth","_this$bellSynth","_this$noiseSynth","_this$melodySynth","GAME_WIDTH","GAME_HEIGHT","GRID","size","cellSize","offsetX","offsetY","gap","GRID_PIXEL_SIZE","LEVELS","level","moves","targetScore","candyTypes","bombConfig","spawnChance","matchSpawnChance","SCORING","match3","match4","match5","matchLT","chainBonus","movesBonus","BOMB_FRAMES","cross","radius","BOMB_SCORING","crossActivation","radiusActivation","perCandyCleared","ANIMATION","swapDuration","clearDuration","dropDurationPerRow","fillDuration","selectScale","selectDuration","scorePopupDuration","chainIndicatorDuration","CANDY_COLORS","COLORS","background","gridBackground","gridBorder","textPrimary","textSecondary","scorePopup","chainIndicator","headerPanel","headerBorder","statCardBg","targetAccent","scoreAccent","movesAccent","UI","header","x","y","width","height","borderRadius","padding","statCard","accentHeight","scoreDisplay","movesDisplay","targetDisplay","progressBar","CANDY_SPRITE","displaySize","specialOverlaySize","baseScale","BackIcon","viewBox","fill","d","ForwardIcon","RefreshIcon","stroke","strokeWidth","strokeLinecap","points","StopIcon","HomeIcon","currentTheme","onSelectTheme","themes","variant","classic","vaporwave","terminal","onMinimize","onOpen","isMobile","browserOpen","browserMinimized","isMaximized","setIsMaximized","useState","showBSOD","setShowBSOD","setCurrentTheme","localStorage","getItem","menubarThemeOpen","setMenubarThemeOpen","statusbarThemeOpen","setStatusbarThemeOpen","menubarRef","useRef","statusbarRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","setTheme","useCallback","theme","source","setItem","toggleMenubarTheme","prev","toggleStatusbarTheme","handleMenubarThemeSelect","handleStatusbarThemeSelect","handleBrowserClick","onDoubleClick","section","browser","titles","e","stopPropagation","menus","file","edit","view","favorites","ref","ThemeDropdown","help","handleBack","disabled","handleHome","value","getSectionUrl","readOnly","bsod","title","mainText","collectingError","errorCode","stopCode","clickToRestart","statusDone","statusZone","GameCard","color","gradientFrom","gradientTo","description","bgStyle","backgroundColor","style","GameOverlay","message","score","brandColor","onAction","actionText","customContent","showPressToStart","showBlink","setShowBlink","interval","setInterval","clearInterval","displayTitle","start","pause","gameOver","levelComplete","custom","toLocaleString","opacity","KEY","ROAD","NONE","SHORT","MEDIUM","LONG","LOW","HIGH","EASY","HARD","SKY","TREE","FOG","LIGHT","road","grass","rumble","lane","DARK","START","FINISH","BACKGROUND","w","h","SPRITES_DEF","PALM_TREE","BILLBOARD08","TREE1","DEAD_TREE1","BILLBOARD09","BOULDER3","COLUMN","BILLBOARD01","BILLBOARD06","BILLBOARD05","BILLBOARD07","BOULDER2","TREE2","BILLBOARD04","DEAD_TREE2","BOULDER1","BUSH1","CACTUS","BUSH2","BILLBOARD03","BILLBOARD02","STUMP","SEMI","TRUCK","CAR03","CAR02","CAR04","CAR01","PLAYER_UPHILL_LEFT","PLAYER_UPHILL_STRAIGHT","PLAYER_UPHILL_RIGHT","PLAYER_RIGHT","PLAYER_STRAIGHT","PLAYER_LEFT","COIN","SPRITES","_objectSpread","SCALE","BILLBOARDS","PLANTS","CARS","DEFAULT_CONFIG","fps","roadWidth","segmentLength","rumbleLength","lanes","fieldOfView","cameraHeight","drawDistance","fogDensity","centrifugal","skySpeed","hillSpeed","treeSpeed","totalCars","MathUtils","timestamp","performance","toInt","obj","def","arguments","parseInt","String","isNaN","toFloat","parseFloat","limit","randomInt","round","interpolate","random","randomChoice","options","percentRemaining","n","total","accelerate","v","accel","dt","a","b","percent","easeIn","pow","easeOut","easeInOut","cos","PI","exponentialFog","distance","density","E","increase","increment","result","overlap","x1","w1","x2","w2","half1","half2","project","p","cameraX","cameraY","cameraZ","cameraDepth","camera","world","z","screen","scale","RoadEngine","segments","trackLength","billboardPlacements","Map","billboardImpressions","billboardInstances","nextBillboardId","getSegments","getTrackLength","getBillboardPlacements","getBillboardImpressions","recordBillboardImpression","segmentIndex","offset","billboardName","currentLap","instances","get","instance","find","inst","abs","seenInLaps","has","add","set","getBillboardStats","totalLaps","placements","impressions","maxPossibleImpressions","count","name","realisticTrackLength","totalSegments","findSegment","floor","lastY","p2","addSegment","curve","push","index","p1","sprites","cars","addSprite","sprite","spriteInstance","getBillboardName","billboardId","Set","addRoad","enter","hold","leave","startY","endY","addStraight","num","addHill","addCurve","addLowRollingHills","addSCurves","addBumps","addDownhillToEnd","reset","track","playerZ","resetSprites","playerSegment","clear","billboard","LANE_POSITIONS","removeAllCoins","segment","filter","resetCars","maxSpeed","car","speed","PhysicsEngine","config","breaking","decel","offRoadDecel","offRoadLimit","updateTrackLength","updatePlayer","playerX","position","inputState","_findSegment","canvasWidth","canvasHeight","playerW","speedPercent","dx","coinCollected","crashPosition","pointsEarned","crashed","left","right","faster","slower","spriteW","coinW","splice","carW","updateCars","playerSpeed","oldSegment","updateCarOffset","newSegment","indexOf","carSegment","calculateAvoidanceDirection","otherCar","otherCarW","obstacleX","carX","updateScrollOffsets","skyOffset","hillOffset","treeOffset","startPosition","deltaPosition","RenderEngine","ctx","resolution","setCameraDepth","depth","updateDimensions","clearRect","polygon","y1","y2","x3","y3","x4","y4","fillStyle","beginPath","moveTo","lineTo","closePath","fog","r1","rumbleWidth","r2","l1","laneMarkerWidth","l2","fillRect","lanew1","lanew2","lanex1","lanex2","layer","rotation","imageW","imageH","sourceX","sourceY","sourceW","sourceH","destY","destW","destH","drawImage","destX","clipY","clipH","player","steer","updown","bounce","globalAlpha","projectedRoadWidth","renderCars","baseSegmentIndex","spriteScale","spriteX","spriteY","clip","renderSprites","renderObjects","onBillboardRender","renderCoinAnimations","animations","currentTime","save","anim","elapsed","startTime","progress","alpha","particleCount","particleRadius","burstRadius","angle","sin","arc","font","strokeStyle","lineWidth","text","textY","strokeText","fillText","restore","renderCrashAnimations","shakeX","shakeY","textX","GameLoop","update","render","isRunning","animationFrameId","lastTimestamp","accumulator","targetFps","fixedTimeStep","maxFrameTime","frameCount","lastFpsUpdate","currentFps","loop","frameTime","interpolation","updateFpsCounter","requestAnimationFrame","stop","cancelAnimationFrame","getFps","ImageLoader","loadImages","names","basePath","skin","promises","loadSingleImage","Promise","all","resolve","reject","img","Image","onload","onerror","Error","src","InputManager","keys","keyHandlers","handleKeyDown","keyCode","triggerKeyHandlers","includes","preventDefault","handleKeyUp","setupKeyboardListeners","destroy","setKeyHandlers","handlers","isKeyPressed","mode","handler","action","setupTouchControls","_isMobile","getKeyCodeForDirection","direction","window","isMobileUserAgent","test","navigator","userAgent","isMobileWidth","matchMedia","matches","moreThanOneTouchPoint","maxTouchPoints","HUD","availableLaps","hud","gameState","getSpeedometerRotation","_Fragment","alt","current_lap_time","cx","cy","r","BillboardStats","isVisible","stats","setStats","newStats","billboards","Object","sort","fontSize","borderBottom","textAlign","paddingBottom","placed","shown","maxPossible","percentage","toFixed","paddingTop","replace","fontWeight","borderTop","values","reduce","marginTop","GameCanvas","forwardRef","imageRendering","displayName","GameControls","onControl","onControlEnd","showActionButton","layout","actionLabel","actionIcon","action2Label","action2Icon","preventSelectStyles","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","touchAction","WebkitTouchCallout","handleContextMenu","onTouchStart","onContextMenu","onTouchEnd","onMouseDown","onMouseUp","laps","setPointsEarned","setGameOver","gameTitle","brandLogo","showBillboardStats","mobile","gameStarted","setGameStarted","canvasRef","startGame","togglePause","handleTouchControl","setGameState","gameStateRef","setCurrentLap","setPoints","setHud","coinAnimationsRef","crashAnimationsRef","roadEngineRef","physicsEngineRef","renderEngineRef","gameLoopRef","inputManagerRef","gameWorldRef","currentLapTime","hasRendered","inputStateRef","configRef","tan","formatTime","minutes","seconds","tenths","updateHud","key","prevHud","initializeEngines","canvas","getContext","loadAssets","async","images","error","console","resetGame","physics","playerUpdate","Date","scrollUpdate","_interpolation","renderer","baseSegment","basePercent","playerPercent","playerY","maxy","looped","_gameLoopRef$current","_gameLoopRef$current2","stopGame","_gameLoopRef$current3","_inputManagerRef$curr","_gameLoopRef$current4","_inputManagerRef$curr2","isPressed","useCarGame","handleControl","handleControlEnd","display","flexDirection","justifyContent","alignItems","racing","startRacing","marginBottom","margin","useTouchControls","useKeyboard","turnLeft","turnRight","brake","or","collectCoins","pressEscContinue","continue","maxWidth","visibility","useBoard","resetPlayer","_player$pos","_player$pos2","board","setBoard","React","createBoard","rowsCleared","setRowsCleared","clearingRows","setClearingRows","pos","updateBoard","prevBoard","newBoard","row","cell","tetromino","collided","rowsToRemove","every","setTimeout","updatedBoard","acc","unshift","Array","sweepRows","GameHeader","lives","onPause","isPaused","customItems","onQuit","showQuitButton","isQuitting","shouldShowQuit","tetrisAudio","lastMoveTime","MIN_MOVE_GAP","moveSynth","rotateSynth","lockSynth","lineSynth","tetrisSynth","gameOverSynth","playMove","playRotate","playLock","playLineClear","playTetris","playGameOver","_this$moveSynth","_this$rotateSynth","_this$lockSynth","_this$lineSynth","_this$tetrisSynth","_this$gameOverSynth","BOARD_WIDTH","TETROMINOS","shape","I","J","L","O","S","T","Z","from","randomTetromino","tetrominos","randTetromino","isColliding","moveX","moveY","Cell","_ref2","isClearing","isEmpty","borderColor","boxShadow","Board","_ref3","NextPiece","_ref4","_shape$","gridTemplateColumns","gridTemplateRows","border","_ref5","gamePaused","setGamePaused","setGameOverState","quitGame","setQuitGame","wasGamePaused","setWasGamePaused","currentLives","setCurrentLives","setLevel","setTotalLinesCleared","nextPiece","setNextPiece","dropTime","setDropTime","intervalSpeed","setIntervalSpeed","updatePlayerPos","playerRotate","usePlayer","setPlayer","stage","clonedPlayer","JSON","parse","stringify","matrix","_","column","reverse","posX","resetPlayerWithNextPiece","touchTimeoutRef","movePlayer","dir","keyUp","_ref6","move","_ref7","repeat","preventDefaultForScrollKeys","useInterval","callback","delay","savedCallback","tick","newTotal","newLevel","newSpeed","timeoutRef","clearTimeout","onKeyDown","onKeyUp","objectFit","cancelQuit","handleQuitConfirm","FOOD_TYPES","rarity","specialEffect","snakeAudio","lastSynthTime","playEatFood","playEatBoost","playEatDiet","playSpeedUp","onScoreUpdate","onGameOver","boardSize","snake","setSnake","food","setFood","setDirection","nextDirection","setNextDirection","setSpeed","lastUpdateTime","currentScore","boostActive","setBoostActive","boostTimer","setBoostTimer","boostMultiplier","hasCollided","canvasSize","getRandomPosition","generatePosition","some","getRandomFood","totalWeight","sum","selectedFood","foodType","startsWith","moveSnake","currentSnake","newSnake","head","f","segmentsToRemove","pop","actualScore","gameLoop","foodImage","headImage","headUp","headDown","headLeft","headRight","tail","apple","banana","cherries","grapes","boost","diet","strokeRect","shadowColor","shadowBlur","initialLives","maxPoints","containerRef","imagesLoading","imagesError","setImages","loading","setLoading","setError","loadImage","imagePath","catch","err","loadAllImages","useImageLoader","setScore","setLives","setIsPaused","isGameStarted","setIsGameStarted","isGameOver","setIsGameOver","setWindowSize","showSpeedBoost","setShowSpeedBoost","speedBoostText","setSpeedBoostText","totalScore","setTotalScore","collisionCount","setCollisionCount","isMobileDevice","handleResize","innerWidth","innerHeight","handleKeyPress","handleGameOver","newLives","handleScoreUpdate","newScore","speedThresholds","oldThreshold","handleVirtualControl","KeyboardEvent","charAt","toUpperCase","bubbles","dispatchEvent","aspectRatio","transform","getCanvasScale","controlsHeight","scaleX","scaleY","transformOrigin","SnakeGameCore","onLivesUpdate","flappyBirdAudio","lastFlapTime","MIN_FLAP_GAP","flapSynth","scoreSynth","collisionSynth","playFlap","playScore","playCollision","_this$flapSynth","_this$scoreSynth","_this$collisionSynth","FRAME_TIME","countCollisions","setCountCollisions","currentGap","setCurrentGap","isOnTheFloor","birdY","birdVelocity","pipesArray","passed","lastFrameTime","birdRotation","tap","moveUp","delayFrameCount","upMovement","collision","_config$functions$onL","_config$functions","newCollisions","functions","call","draw","context","bird","foreground","pipeNorth","pipeSouth","coin","heart","assets","gravity","currentLevel","pipeMovement","pipes","difficultyFactor","minY","maxY","lastPipeY","baseY","newY","baseSpacing","spacing","birdX","pointsPerObstacle","_config$functions$onS","_config$functions2","_config$functions$onS2","_config$functions3","gapReduction","newGap","hasHitFloor","hasHitCeiling","birdLeft","birdRight","birdTop","birdBottom","pipeLeft","pipeRight","pipeTopBottom","pipeBottomTop","hasHitPipe","translate","BIRD_WIDTH","BIRD_HEIGHT","rotate","hideOverlays","titleWidth","measureText","titleX","difficultyLevel","levelText","frameId","imageSmoothingEnabled","skinPath","useFlappyAnimation","useCanvas","handleClick","gameContainerRef","showLevelUp","setShowLevelUp","levelUpText","setLevelUpText","coreGameOver","setCoreGameOver","finalGameOver","handlePointsEarned","containerWidth","containerHeight","FlappyBirdCore","top","breakoutAudio","lastBounceTime","MIN_BOUNCE_GAP","bounceSynth","brickSynth","powerUpSynth","loseSynth","levelSynth","playPaddleHit","playWallHit","playBrickBreak","playPowerUpCollect","playLoseLife","playLevelUp","_this$bounceSynth","_this$brickSynth","_this$powerUpSynth","_this$loseSynth","_this$levelSynth","CANVAS_WIDTH","CANVAS_HEIGHT","PADDLE_COLOR","BALL_COLOR","BRICK_TYPES","hitsToBreak","LEVEL_THEMES","brickColors","POWER_UP_DURATION","POWER_UP_CONFIG","getBrickTypeForPosition","typeIndex","colorOverride","distanceFromCenter","BRICK_ROW_COUNT","strengthIndex","baseTypeIndex","getRandomPowerUpType","types","weights","createBricks","bricks","powerUpChance","c","hasPowerUp","powerUpType","status","calculatePaddleWidth","calculateBallSpeed","collisionDetection","ball","paddle","spawnPowerUp","pointsToAdd","lifeLost","nextBallX","nextBallY","dy","brick","overlapX","overlapY","collidePoint","angleRad","ballLaunched","setBallLaunched","instructionsStep","setInstructionsStep","activePowerUpsState","setActivePowerUpsState","leftPressedRef","rightPressedRef","touchStartX","originalPaddleWidth","backgroundImageRef","ballRef","paddleRef","bricksRef","powerUpsRef","extraBallsRef","activePowerUpsRef","resetBallAndPaddle","paddleWidth","ballSpeed","levelUp","loseLife","launchBall","launchAngle","POWER_UP_SIZE","active","activatePowerUp","endTime","currentSpeed","sqrt","updatePowerUps","powerUp","activePowerUp","keyDownHandler","keyUpHandler","touchMoveHandler","touches","touch","rect","getBoundingClientRect","touchX","clientX","nextPaddleX","devicePixelRatio","touchStartHandler","touchEndHandler","passive","deltaTime","drawBricks","quadraticCurveTo","textBaseline","drawPaddle","drawBall","drawExtraBalls","extraBalls","drawPowerUps","powerUps","split","powerUpToSpawn","newMainBall","remaining","ceil","cursor","PenaltyShootoutCore","lazy","LoadingFallback","setRound","gameResult","setGameResult","handleRoundComplete","roundNum","_result","handleGameOverFromPhaser","finalGoals","goals","won","maxHeight","Suspense","fallback","onRoundComplete","totalRounds","handleContinue","CandyCrushCore","gameKey","setGameKey","setCurrentLevel","levelConfig","setMoves","livesRemaining","setLivesRemaining","isRoundComplete","setIsRoundComplete","roundWon","setRoundWon","allLevelsComplete","setAllLevelsComplete","scoreRef","totalScoreRef","currentLevelRef","livesRemainingRef","retryRound","finalScore","handleMovesUpdate","newMoves","handleGameComplete","_finalScore","handleNextLevel","nextLevel","nextLevelConfig","onMovesUpdate","onGameComplete","LANE_WIDTH","HIT_ZONE_Y","HIT_ZONE_HEIGHT","NOTE_HEIGHT","DEFAULT_LANE_COLORS","lane0","lane1","lane2","lane3","LANE_KEYS","LANE_LABELS","LANE_PITCHES","NOTE_NAMES","pitchToMidi","pitch","match","accidental","octaveStr","octave","noteIndex","transposePitch","semitones","midi","midiToPitch","audioManager","synth","drumSynth","hiHatSynth","snareSynth","bassLoop","hiHatLoop","snareLoop","isPlaying","initDrums","harmonicity","modulationIndex","resonance","startBackgroundBeat","bpm","cycle","_this$drumSynth","_this$hiHatSynth","_this$drumSynth2","_this$snareSynth","_this$hiHatSynth2","_this$drumSynth3","_this$snareSynth2","_this$hiHatSynth3","_this$drumSynth4","_this$snareSynth3","_this$hiHatSynth4","_this$drumSynth5","_this$snareSynth4","_this$hiHatSynth5","_this$drumSynth6","_this$snareSynth5","_this$hiHatSynth6","stopBackgroundBeat","_this$bassLoop","_this$hiHatLoop","_this$snareLoop","_this$bassLoop2","_this$hiHatLoop2","_this$snareLoop2","pauseBackgroundBeat","resumeBackgroundBeat","updateBpm","playNote","playPerfect","basePitch","highPitch","playMelodicNote","playMelodicNotePerfect","transposeOctave","playMiss","twinkleStar","metadata","artist","difficulty","duration","beat","drumPattern","startBeat","endBeat","maryHadALittleLamb","hotCrossBuns","jingleBells","rowRowRow","odeToJoy","whenTheSaints","ohSusanna","londonBridge","happyBirthday","canonInD","entertainer","minuetInG","turkishMarch","greensleeves","furElise","moonlightSonata","hungarianDance","mountainKing","carmenHabanera","electronicBeat","neonPulse","digitalStorm","cyberChase","synthWave","DIFFICULTIES","songsByDifficulty","easy","medium","hard","GAME_FONT_FAMILY","SPEED_BY_DIFFICULTY","DIFFICULTY_NAMES","_currentConfigRef$cur","levelUpTimeout","setLevelUpTimeout","combo","setCombo","maxCombo","setMaxCombo","audioInitialized","setAudioInitialized","audioMuted","setAudioMuted","notesRef","hitEffectsRef","pointsRef","comboRef","livesRef","lastBeatRef","gameTimeRef","noteIdCounterRef","levelRef","currentSongRef","songNoteIndexRef","songLoopCountRef","currentConfigRef","nextLevelConfigRef","getLevelConfig","lvl","song","speedMultiplier","songsInTier","getSongForLevel","difficultyName","currentConfig","laneColors","initAudio","triggerLevelUp","nextConfig","timeout","newConfig","newSong","newBpm","checkHit","closestNote","closestDistance","Infinity","hit","missed","noteCenter","timeDistance","hitTime","hitType","earnedPoints","newCombo","toLowerCase","laneIndex","handleLaneTouch","_song$loop$startBeat","_song$loop","_song$loop$endBeat","_song$loop2","currentBpm","currentBeatDuration","currentNoteSpeed","currentBeat","lastBeat","loopStart","loopEnd","spawnBeat","_song$loop3","loopsNeeded","findIndex","noteData","effect","elapsedTime","noteSpeed","vanishY","getPerspectiveX","baseX","getPerspectiveWidth","baseWidth","bgGradient","createLinearGradient","addColorStop","depthPerBeat","depthOffset","perspectiveFactor","dashSize","setLineDash","hitZoneGradient","buttonY","laneBaseX","perspXStart","noteWidth","noteHeight","perspRadius","gradient","createRadialGradient","roundRect","innerGradient","sparkleSize","comboX","comboY","initialConfig","initialSong","initialBpm","minHeight","inset","pointerEvents","flex","entries","toggleMute","newMuted","GameSelector","visitor","setDialogText","setCurrentAction","selectedGame","setSelectedGame","gameRef","PageNavigation","congratulations","sorry","wonPoints","tryAgain","backToMenu","RacingGame","TetrisGame","tetris","SnakeGame","FlappyBirdGame","flappyBird","BreakoutGame","breakout","PenaltyShootoutGame","penaltyShootout","CandyCrushGame","candyCrush","RhythmHighway","rhythmHighway","subtitle","Avatar","Home","AboutMe","Work","Portfolio","Contact","greetings","avatar","dialogues","greetingWithName","greeting","dialogText","currentAction","setBrowserOpen","setBrowserMinimized","useIsMobile","pendingBrowserOpen","setPendingBrowserOpen","setVolume","useAudio","handleNavigate","browserActions","handleDialogComplete","DELAYS","BROWSER_OPEN","AUDIO_VOLUMES","BACKGROUND_MUSIC","onDialogComplete","onOpenBrowser","useMemo","maduroImg","BrowserWindow","renderRightSideComponent","loader"],"sourceRoot":""}