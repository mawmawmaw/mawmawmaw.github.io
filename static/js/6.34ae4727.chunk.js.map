{"version":3,"sources":["components/Content/DialogBox/utils.js","components/Content/DialogBox/DialogBox.js","img/maw/maw_walking.gif","img/maw/maw_waving.gif","img/maw/maw_standing.gif","img/maw/maw_poked.gif","img/cat.gif","components/Content/Avatar/Avatar.js"],"names":["delay","time","this","timeout","close","Promise","resolve","reject","setTimeout","clearTimeout","isCanceled","DialogBox","state","text","blink","hideCursor","animate","typeSpeedDelay","looping","runAnimation","str","a","textArr","trim","split","setState","props","typeSpeed","char","length","getPromise","document","querySelector","play","pause","animateText","loop","hideCursorAfterText","error","cancel","className","style","textStyle","backgroundColor","Component","Avatar","visitor","dialogText","setDialogText","currentAction","setCurrentAction","maw","useRef","ralph","atreyu","actions","useState","userEngaged","setUserEngaged","mawState","setMawState","focusedActionNumber","setFocusedActionNumber","pokeCount","setPokeCount","handleAction","e","volume","target","id","window","location","replace","referrer","callCats","useEffect","makeJoke","Math","floor","random","fetch","res","json","data","value","joke","headers","getFact","current","src","maw_waving","maw_standing","logout","resetTimer","onload","onmousemove","onkeypress","inactivityTime","transform","duration","fill","addEventListener","keyCode","children","focus","ref","maw_talking","alt","onClick","maw_poked","display","maw_walking","cat1_walking","cat2_walking","borderImageSource","border","renderDialogBoxText"],"mappings":"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","file":"static/js/6.34ae4727.chunk.js","sourcesContent":["export class delay {\r\n  constructor(time) {\r\n    this.time = time;\r\n    this.timeout = null;\r\n    this.close = null;\r\n  }\r\n  getPromise() {\r\n    return new Promise((resolve, reject) => {\r\n      this.close = reject;\r\n      this.timeout = setTimeout(() => {\r\n        resolve();\r\n      }, this.time);\r\n    });\r\n  }\r\n  cancel() {\r\n    this.timeout && clearTimeout(this.timeout);\r\n    this.close && this.close(\"unmounted\");\r\n    return { isCanceled: true };\r\n  }\r\n}\r\nexport class makeCancelable {\r\n  constructor(promise) {\r\n    this.promise = promise;\r\n    this.close = null;\r\n  }\r\n  getPromise() {\r\n    return new Promise((resolve, reject) => {\r\n      this.close = reject(\"rejected promise\");\r\n      this.promise()\r\n        .then((val) => resolve(val))\r\n        .catch((err) => reject(err));\r\n    });\r\n  }\r\n  cancel() {\r\n    this.close && this.close();\r\n    //throw new Error(\"error\");\r\n    return { isCanceled: true };\r\n  }\r\n}\r\n  \r\nexport const propTypeValidation = {\r\n  typeSpeed: (props, propName) => {\r\n    if (props[propName] && typeof props[propName] != \"number\")\r\n      return new Error(\r\n        `Invalid ${propName} supplied to react-typeWriter component.`\r\n      );\r\n  },\r\n  startDelay: (props, propName) => {\r\n    if (props[propName] && typeof props[propName] != \"number\")\r\n      return new Error(\r\n        `Invalid ${propName} supplied to react-typeWriter component.`\r\n      );\r\n  },\r\n  text: (props, propName) => {\r\n    if (!props[\"multiText\"] && typeof props[propName] != \"string\")\r\n      return new Error(\r\n        `Invalid ${propName} supplied to react-typeWriter component!`\r\n      );\r\n  }\r\n};","import React, { Component } from \"react\";\r\nimport { delay, propTypeValidation } from \"./utils\";\r\nimport \"./DialogBox.css\";\r\n\r\nclass DialogBox extends Component {\r\n  state = {\r\n    text: \"\",\r\n    blink: false,\r\n    hideCursor: true,\r\n    animate: false,\r\n    typeSpeedDelay: null,\r\n    looping: false,\r\n  };\r\n\r\n  runAnimation = async (str) => {\r\n    const textArr = typeof str == \"string\" && str.trim().split(\"\");\r\n    if (textArr) {\r\n      this.setState({\r\n        blink: false\r\n      });\r\n      let text = \"\";\r\n      const typeSpeedDelay = new delay(this.props.typeSpeed || 15);\r\n      this.setState({\r\n        typeSpeedDelay\r\n      });\r\n      for (let char = 0; char < textArr.length; char++) {\r\n        await typeSpeedDelay.getPromise();\r\n        if(str!==this.state.text){\r\n          document.querySelector(\"#typingSound\").play();\r\n          text += textArr[char];\r\n          this.setState({\r\n            text,\r\n          });\r\n        }else{ \r\n          if(this.state!==true){\r\n            document.querySelector(\"#typingSound\").pause();\r\n            this.setState({\r\n              blink: true\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  animateText = async () => {\r\n    try {\r\n      if (!this.state.animate) {\r\n        this.setState({\r\n          animate: true,\r\n        });\r\n        const looping = this.props.loop ? this.props.loop : true;\r\n        this.setState(\r\n          {\r\n            hideCursor: false,\r\n            looping,\r\n          },\r\n          async () => {\r\n            do {\r\n              await this.runAnimation(this.props.text);\r\n            } while (this.state.looping);\r\n\r\n            this.props.hideCursorAfterText &&\r\n              this.setState({\r\n                hideCursor: true,\r\n              });\r\n          }\r\n        );\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.animateText();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ looping: false });\r\n    this.state.typeSpeedDelay && this.state.typeSpeedDelay.cancel();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"dialog-box-wrap\"}>\r\n        <div style={{ ...this.props.textStyle }} className=\"dialog-box-text\">\r\n          <p>{this.state.text}</p>\r\n          <div className={`dialog-box-pointer ${this.state.blink && \"animate-pointer\"} ${this.state.hideCursor ? \"hide-pointer\" : \"\"}`} style={{ backgroundColor: \"rgba(0,0,0,.87)\" }}></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDialogBox.propTypes = propTypeValidation;\r\n\r\nexport default DialogBox;","export default __webpack_public_path__ + \"static/media/maw_walking.8ed401cf.gif\";","export default __webpack_public_path__ + \"static/media/maw_waving.c1f9aef7.gif\";","export default __webpack_public_path__ + \"static/media/maw_standing.b737e7eb.gif\";","export default __webpack_public_path__ + \"static/media/maw_poked.91d8a70a.gif\";","export default \"data:image/gif;base64,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\"","import React, {useState, useRef, useEffect} from 'react';\r\nimport DialogBox from '../DialogBox/DialogBox';\r\n\r\nimport './Avatar.css';\r\n\r\nimport border from '../../../img/border.svg';\r\nimport maw_walking from '../../../img/maw/maw_walking.gif';\r\nimport maw_waving from '../../../img/maw/maw_waving.gif';\r\nimport maw_standing from '../../../img/maw/maw_standing.gif';\r\nimport maw_talking from '../../../img/maw/maw_talking.gif';\r\nimport maw_poked from '../../../img/maw/maw_poked.gif';\r\nimport cat1_walking from '../../../img/cat.gif';\r\nimport cat2_walking from '../../../img/cat.gif';\r\n\r\nconst Avatar = ({visitor, dialogText, setDialogText, currentAction, setCurrentAction}) => {\r\n\r\n    const maw = useRef();\r\n    const ralph = useRef();\r\n    const atreyu = useRef();\r\n    const actions = useRef();\r\n    const [userEngaged,setUserEngaged] = useState(false);\r\n    const [mawState,setMawState] = useState('talking');\r\n    const [focusedActionNumber,setFocusedActionNumber] = useState(0);\r\n    const [pokeCount,setPokeCount] = useState(0);\r\n\r\n    const renderVisitorAvailableActions = () => {\r\n        if(!userEngaged){\r\n            return (\r\n                <>\r\n                <button \r\n                    id=\"action-say-hi\" \r\n                    className=\"visitor-action\"\r\n                    onClick={handleAction}\r\n                >Say Hi\r\n                </button>\r\n                <button \r\n                    id=\"action-say-meow\" \r\n                    className=\"visitor-action\"\r\n                    onClick={handleAction}\r\n                >Meow!\r\n                </button>\r\n                <button \r\n                    id=\"action-say-bye\" \r\n                    className=\"visitor-action\"\r\n                    onClick={handleAction}\r\n                >Leave\r\n                </button>\r\n                </>\r\n            )\r\n        }else{\r\n            if(currentAction==='say-hi'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-chatter\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >I'm doing fine, thanks.\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='say-meow'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='chatter'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-joke\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >I wanna hear a joke!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Gimme a random fact!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-joke'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Gimme a random fact!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-fact'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-joke\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >I wanna hear a joke!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-work'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-portfolio\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Can I see your portfolio?\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me something interesting!\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-about'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me something interesting!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-joke\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >I wanna hear a joke!\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-contact'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-joke\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >I wanna hear a joke!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me something interesting!\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n            if(currentAction==='goTo-portfolio'){\r\n                return (\r\n                    <>\r\n                    <button \r\n                        id=\"action-goTo-work\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Let's talk about work!\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-about\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me more about yourself\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-contact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >How can I contact you?\r\n                    </button>\r\n                    <button \r\n                        id=\"action-goTo-fact\" \r\n                        className=\"visitor-action\" \r\n                        onClick={handleAction}\r\n                    >Tell me something interesting!\r\n                    </button>\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleAction = (e) => {\r\n        document.querySelector(\"#clickSound\").volume = 0.4;\r\n        document.querySelector(\"#clickSound\").play();\r\n        switch(e.target.id){\r\n            case 'action-say-hi':\r\n                setCurrentAction(\"say-hi\");\r\n                setUserEngaged(true);\r\n                setDialogText(`How are you doing today${visitor&&', '+visitor}? Can I help you with anything?`);\r\n                break;\r\n            case 'action-say-bye':    \r\n                setCurrentAction(\"say-bye\");\r\n                setDialogText(\"Well... Goodbye!\");\r\n                setTimeout(()=>{window.location.replace(document.referrer)},2000)\r\n                break;\r\n            case 'action-say-meow':    \r\n                setCurrentAction(\"say-meow\");\r\n                setUserEngaged(true);\r\n                setDialogText(\"So, you like cats? These are Ralph and Atreyu\");\r\n                callCats();\r\n                break;\r\n            case 'action-chatter':\r\n                setCurrentAction(\"chatter\");\r\n                setDialogText(\"I'm really glad you're doing fine. :~<\");\r\n                break;\r\n            case 'action-goTo-fact':\r\n                setCurrentAction(\"goTo-fact\");\r\n                break;\r\n            case 'action-goTo-joke':\r\n                setCurrentAction(\"goTo-joke\");\r\n                setDialogText(\"Hmmmmm... let me see...\");\r\n                break;\r\n            case 'action-goTo-about':\r\n                setCurrentAction(\"goTo-about\");\r\n                setDialogText(\"Sure, you can read more about me on that board! :~\");\r\n                break;\r\n            case 'action-goTo-work':\r\n                setCurrentAction(\"goTo-work\");\r\n                setDialogText(\"Sure, take a look at the board over there.\");\r\n                break;\r\n            case 'action-goTo-contact':\r\n                setCurrentAction(\"goTo-contact\");\r\n                setDialogText(\"You can reach me through any of the links at the top. Or you can also drop me a line in the contact form on that board!\");\r\n                break;\r\n            case 'action-goTo-portfolio':\r\n                setCurrentAction(\"goTo-portfolio\");\r\n                setDialogText(\"These are some of the projects I've worked on recently.\");\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n    \r\n    const renderDialogBoxText = (dialogText) => {\r\n        document.querySelector(\"#typingSound\").volume = 0.4;\r\n        return (\r\n            <DialogBox\r\n                text={dialogText}\r\n            />\r\n        )\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const makeJoke = async () => {\r\n            if(Math.floor(Math.random() * Math.floor(2))){\r\n                const res = await fetch('https://api.icndb.com/jokes/random');\r\n                const data = await res.json();\r\n                setDialogText(data.value.joke);\r\n            }else{\r\n                const res = await fetch('https://icanhazdadjoke.com/',{\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'User-Agent': 'MAWMAWMAW (https://github.com/mawmawmaw/mawmawmaw.github.io) https://mawmawmaw.github.io/'\r\n                  }\r\n                });\r\n                const data = await res.json();\r\n                setDialogText(data.joke);\r\n            }\r\n        }\r\n        const getFact = async () => {\r\n            const res = await fetch('https://uselessfacts.jsph.pl/random.json?language=en');\r\n            const data = await res.json();\r\n            setDialogText(data.text);\r\n        }\r\n        if(currentAction === 'goTo-joke'){\r\n            makeJoke();\r\n        }\r\n        if(currentAction === 'goTo-fact'){\r\n            getFact();\r\n        }\r\n    },[currentAction,setDialogText])\r\n\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            if(mawState==='talking' && !userEngaged){\r\n                maw.current.src = maw_waving;\r\n                setMawState('waving');\r\n            }\r\n            if(mawState==='waving' && userEngaged){\r\n                maw.current.src = maw_standing;\r\n                setMawState('standing');\r\n            }\r\n        },1000);\r\n    },[mawState,userEngaged])\r\n\r\n    useEffect(()=>{\r\n        var inactivityTime = () => {\r\n            var time;\r\n            const logout = () => {\r\n                window.location.replace(document.referrer);\r\n            }\r\n            const resetTimer = () => {\r\n                clearTimeout(time);\r\n                time = setTimeout(logout, 300000)\r\n            }\r\n            window.onload = resetTimer;\r\n            document.onmousemove = resetTimer;\r\n            document.onkeypress = resetTimer;\r\n        };\r\n        inactivityTime();\r\n    },[])\r\n\r\n    const pokeMaw = () => {\r\n        if(pokeCount<=4){\r\n            document.querySelector(\"#pokeSound\").volume = 0.1;\r\n            document.querySelector(\"#pokeSound\").play();\r\n            maw.current.src = maw_poked;\r\n            setDialogText(`Please don't poke me${visitor&&', '+visitor}!`);\r\n            setPokeCount(pokeCount+1);\r\n            setTimeout(()=>{\r\n                maw.current.src = maw_standing;\r\n                setMawState('standing');\r\n            },1000)\r\n        }else{\r\n            setDialogText(\"Ok, this is not fun, I'm leaving.\");\r\n            document.querySelector('#bgMusic').pause();\r\n            document.querySelector(\"#lostSound\").volume = 0.1;\r\n            document.querySelector(\"#lostSound\").play();\r\n            document.querySelector(\"#player-controls\").style.display = 'none';\r\n            document.querySelector(\"#actions-wrapper\").style.display = 'none';\r\n            document.querySelector(\".right-side-wrapper\").style.display = 'none';\r\n            setTimeout(()=>{\r\n                maw.current.src = maw_walking;\r\n                document.querySelector(\"#dialog-box-container\").style.display = 'none';\r\n                document.querySelector(\".avatar-shadow\").style.display = 'none';\r\n                maw.current.animate([\r\n                    { transform: 'translateX(0px)' },\r\n                    { transform: 'translateX(3000px)' }\r\n                  ], {\r\n                    duration: 5000\r\n                  });\r\n            },2000)\r\n            setTimeout(()=>{\r\n                window.location.replace(document.referrer);\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    const callCats = () => {\r\n        ralph.current.animate([\r\n            { transform: 'translateX(600px)' },\r\n            { transform: 'translateX(0px)' }\r\n          ], {\r\n            duration: 2000,\r\n            fill: 'forwards'\r\n          });\r\n          \r\n        atreyu.current.animate([\r\n            { transform: 'translateX(800px)' },\r\n            { transform: 'translateX(-10px)' }\r\n          ], {\r\n            duration: 2200,\r\n            fill: 'forwards'\r\n          });\r\n    }\r\n    \r\n    const handleKeyboard = e => {\r\n        if(e.keyCode===38){\r\n            if(focusedActionNumber>0) setFocusedActionNumber(focusedActionNumber-1)\r\n        }\r\n        if(e.keyCode===40){\r\n            if(focusedActionNumber<actions.current.children.length-1) setFocusedActionNumber(focusedActionNumber+1)\r\n        }\r\n    }\r\n    document.addEventListener(\"keydown\",handleKeyboard);\r\n\r\n    useEffect(()=>{\r\n        actions.current.children[focusedActionNumber].focus();\r\n    },[focusedActionNumber])\r\n\r\n    return (\r\n        <>\r\n            <div id=\"avatar-container\">\r\n                <img ref={maw} id=\"avatar\" src={maw_talking} alt=\"Maw\" onClick={pokeMaw}/>\r\n                <div id=\"cats\">\r\n                    <img ref={ralph} id=\"ralph\" src={cat1_walking} alt=\"Ralph\"/>\r\n                    <img ref={atreyu} id=\"atreyu\" src={cat2_walking} alt=\"Atreyu\"/>\r\n                </div>\r\n                <div className=\"avatar-shadow\"></div>\r\n            </div>\r\n            <div id=\"dialog-box-container\">\r\n                <div id=\"dialog-box\" style={{borderImageSource: `url(${border})`}}>\r\n                    {renderDialogBoxText(dialogText)}\r\n                </div>\r\n            </div>\r\n            <div id=\"actions-wrapper\" style={{borderImageSource: `url(${border})`}}>\r\n                <div id=\"action-suggestion\">\r\n                    <p>Choose an option</p>\r\n                </div>\r\n                <div id=\"actions\" ref={actions}>\r\n                    {renderVisitorAvailableActions()}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Avatar;"],"sourceRoot":""}