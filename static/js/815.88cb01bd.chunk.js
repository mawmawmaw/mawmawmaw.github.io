"use strict";(self.webpackChunkmawmawmaw=self.webpackChunkmawmawmaw||[]).push([[815],{1568:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);var n=a(8419),i=a(579);const l=e=>{let{currentSection:t,onNavigate:a,lang:l="en"}=e;const s=(0,n.$)(l),c=[{id:"",label:s.navigation.home,icon:"\ud83c\udfe0"},{id:"goTo-about",label:s.navigation.about,icon:"\ud83d\udc64"},{id:"goTo-work",label:s.navigation.work,icon:"\ud83d\udcbe"},{id:"goTo-portfolio",label:s.navigation.portfolio,icon:"\ud83d\udcbc"},{id:"goTo-contact",label:s.navigation.contact,icon:"\u2709\ufe0f"},{id:"goTo-games",label:s.navigation.games,icon:"\ud83c\udfae"}];return(0,i.jsx)("div",{className:"page-navigation",children:(0,i.jsx)("div",{className:"nav-container",children:c.map(e=>{return(0,i.jsxs)("button",{className:"nav-item ".concat((n=e.id,t===n?"active":"")),onClick:()=>a(e.id),"aria-current":t===e.id?"page":void 0,children:[(0,i.jsx)("span",{className:"nav-icon",children:e.icon}),(0,i.jsx)("span",{className:"nav-label",children:e.label})]},e.id);var n})})})}},3746:(e,t,a)=>{a.d(t,{V:()=>i});var n=a(1416);const i=new class{constructor(){this.initialized=!1,this.muted=!1,this.lastBassTime=0,this.lastNoiseTime=0,this.lastUiTime=0,this.MIN_TIME_GAP=.015,this.uiSynth=null,this.popSynth=null,this.bassSynth=null,this.bellSynth=null,this.noiseSynth=null,this.melodySynth=null}async init(){this.initialized||(await n.ni(),this.uiSynth=new n.RG({oscillator:{type:"triangle"},envelope:{attack:.001,decay:.05,sustain:0,release:.05},volume:-12}).toDestination(),this.popSynth=new n.Bh(n.RG,{oscillator:{type:"sine"},envelope:{attack:.001,decay:.15,sustain:0,release:.1},volume:-8}).toDestination(),this.bassSynth=new n.sy({pitchDecay:.05,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:0,release:.4},volume:-6}).toDestination(),this.bellSynth=new n.Bh(n.RG,{oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:.1,release:.5},volume:-10}).toDestination(),this.noiseSynth=new n.LJ({noise:{type:"pink"},envelope:{attack:.005,decay:.1,sustain:0,release:.1},volume:-20}).toDestination(),this.melodySynth=new n.Bh(n.RG,{oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.3,release:.5},volume:-8}).toDestination(),this.initialized=!0)}getSafeTime(e,t){const a=n.tB(),i=e+this.MIN_TIME_GAP,l=Math.max(a,i);return"bass"===t?this.lastBassTime=l:"noise"===t?this.lastNoiseTime=l:"ui"===t&&(this.lastUiTime=l),l}playSelect(){if(!this.initialized||this.muted||!this.uiSynth)return;const e=this.getSafeTime(this.lastUiTime,"ui");this.uiSynth.triggerAttackRelease("C6","32n",e)}playSwap(){if(!this.initialized||this.muted||!this.uiSynth)return;const e=this.getSafeTime(this.lastUiTime,"ui"),t=e+.05;this.lastUiTime=t,this.uiSynth.triggerAttackRelease("G5","32n",e),this.uiSynth.triggerAttackRelease("E5","32n",t)}playInvalidMove(){if(!this.initialized||this.muted)return;const e=this.getSafeTime(this.lastNoiseTime,"noise"),t=this.getSafeTime(this.lastBassTime,"bass");this.noiseSynth&&this.noiseSynth.triggerAttackRelease("16n",e),this.bassSynth&&this.bassSynth.triggerAttackRelease("E2","16n",t)}playMatch3(){this.initialized&&!this.muted&&this.popSynth&&this.popSynth.triggerAttackRelease("E5","16n")}playMatch4(){if(!this.initialized||this.muted||!this.popSynth)return;const e=n.tB();this.popSynth.triggerAttackRelease("C5","16n",e),this.popSynth.triggerAttackRelease("G5","32n",e+.05)}playMatch5(){if(!this.initialized||this.muted)return;const e=this.getSafeTime(this.lastBassTime,"bass");this.bassSynth&&this.bassSynth.triggerAttackRelease("C2","8n",e),this.bellSynth&&this.bellSynth.triggerAttackRelease(["C4","E4","G4"],"8n",e+.05)}playMatchSound(e){e>=5?this.playMatch5():4===e?this.playMatch4():this.playMatch3()}playBombExplode(e){if(!this.initialized||this.muted)return;const t=this.getSafeTime(this.lastBassTime,"bass"),a=this.getSafeTime(this.lastNoiseTime,"noise");if(this.bassSynth){const a="cross"===e?"C1":"E1";this.bassSynth.triggerAttackRelease(a,"4n",t)}if(this.noiseSynth&&this.noiseSynth.triggerAttackRelease("8n",a),this.bellSynth){const a="cross"===e?["G5","B5","D6"]:["E5","G5","B5"];this.bellSynth.triggerAttackRelease(a,"16n",t+.1)}}playCombo(e){if(!this.initialized||this.muted||!this.bellSynth)return;const t=["C5","E5","G5","B5","D6","F6"],a=Math.min(e,t.length),i=t.slice(0,a),l=n.tB();i.forEach((e,t)=>{this.bellSynth.triggerAttackRelease(e,"16n",l+.08*t)})}playScorePopup(){this.initialized&&!this.muted&&this.bellSynth&&this.bellSynth.triggerAttackRelease("G6","32n")}playWin(){if(!this.initialized||this.muted||!this.melodySynth)return;const e=n.tB();["C4","E4","G4","C5","E5","G5"].forEach((t,a)=>{this.melodySynth.triggerAttackRelease(t,"16n",e+.1*a)}),this.melodySynth.triggerAttackRelease(["C5","E5","G5","C6"],"4n",e+.7)}playLose(){if(!this.initialized||this.muted||!this.melodySynth)return;const e=n.tB();["E4","D4","C4","B3"].forEach((t,a)=>{this.melodySynth.triggerAttackRelease(t,"8n",e+.25*a)})}setMuted(e){this.muted=e}isMuted(){return this.muted}dispose(){var e,t,a,n,i,l;this.initialized&&(null===(e=this.uiSynth)||void 0===e||e.dispose(),null===(t=this.popSynth)||void 0===t||t.dispose(),null===(a=this.bassSynth)||void 0===a||a.dispose(),null===(n=this.bellSynth)||void 0===n||n.dispose(),null===(i=this.noiseSynth)||void 0===i||i.dispose(),null===(l=this.melodySynth)||void 0===l||l.dispose(),this.uiSynth=null,this.popSynth=null,this.bassSynth=null,this.bellSynth=null,this.noiseSynth=null,this.melodySynth=null,this.initialized=!1)}}},4224:(e,t,a)=>{a.d(t,{A_:()=>c,CG:()=>n,Nl:()=>d,Rs:()=>p,UI:()=>u,Z:()=>l,Zf:()=>h,eU:()=>o,eZ:()=>s,lm:()=>b,m1:()=>r,pF:()=>i,qn:()=>m});const n=400,i=600,l={size:8,cellSize:44,offsetX:20,offsetY:132,gap:1},s=l.size*l.cellSize+(l.size-1)*l.gap,c=[{level:1,moves:30,targetScore:800,candyTypes:5},{level:2,moves:30,targetScore:1200,candyTypes:5},{level:3,moves:28,targetScore:1500,candyTypes:6,bombConfig:{spawnChance:.02,matchSpawnChance:.15}},{level:4,moves:25,targetScore:1800,candyTypes:6,bombConfig:{spawnChance:.03,matchSpawnChance:.2}},{level:5,moves:22,targetScore:2e3,candyTypes:7,bombConfig:{spawnChance:.04,matchSpawnChance:.25}}],r={match3:30,match4:60,match5:100,matchLT:80,chainBonus:10,movesBonus:20},o={cross:7,radius:8},h={crossActivation:150,radiusActivation:100,perCandyCleared:10},p={swapDuration:200,clearDuration:150,dropDurationPerRow:80,fillDuration:150,selectScale:1.15,selectDuration:100,scorePopupDuration:800,chainIndicatorDuration:1e3},d=[15277667,16750592,16771899,5025616,2201331,10233776,48340,7951688,6323595],b={background:1710638,gridBackground:1450302,gridBorder:996448,textPrimary:16777215,textSecondary:15287648,scorePopup:16766720,chainIndicator:16739179,headerPanel:1450302,headerBorder:996448,statCardBg:1710638,targetAccent:15287648,scoreAccent:16766720,movesAccent:5227511},u={header:{x:10,y:10,width:s+20,height:88,borderRadius:16,padding:12},statCard:{width:108,height:64,borderRadius:12,gap:10,accentHeight:18},scoreDisplay:{x:n/2,y:63},movesDisplay:{x:10+s+20-12-54,y:63},targetDisplay:{x:76,y:63},progressBar:{x:10,y:106,width:s+20,height:8,borderRadius:4}},m={size:84,displaySize:42,specialOverlaySize:42,baseScale:.5}},9387:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$t});var n=a(5043),i=a(8419),l=a(579);const s=()=>(0,l.jsxs)("svg",{viewBox:"0 0 16 16",width:"14",height:"14",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M10 3L5 8l5 5V3z"}),(0,l.jsx)("rect",{x:"3",y:"7",width:"8",height:"2"})]}),c=()=>(0,l.jsxs)("svg",{viewBox:"0 0 16 16",width:"14",height:"14",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M6 3l5 5-5 5V3z"}),(0,l.jsx)("rect",{x:"5",y:"7",width:"8",height:"2"})]}),r=()=>(0,l.jsxs)("svg",{viewBox:"0 0 16 16",width:"14",height:"14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,l.jsx)("path",{d:"M14 8a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 5.5 3.5",strokeLinecap:"round"}),(0,l.jsx)("polyline",{points:"11 2 14 2 14 5"})]}),o=()=>(0,l.jsx)("svg",{viewBox:"0 0 16 16",width:"14",height:"14",fill:"currentColor",children:(0,l.jsx)("rect",{x:"4",y:"4",width:"8",height:"8"})}),h=()=>(0,l.jsxs)("svg",{viewBox:"0 0 16 16",width:"14",height:"14",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M2 8l6-5 6 5v5a1 1 0 0 1-1 1H9v-4H7v4H3a1 1 0 0 1-1-1V8z"}),(0,l.jsx)("polygon",{points:"8,1 1,7 2,8 8,3 14,8 15,7"})]}),p=e=>{let{currentTheme:t,onSelectTheme:a,themes:n,variant:i="menubar"}=e;const s="statusbar"===i?"status-theme-dropdown":"theme-dropdown";return(0,l.jsxs)("div",{className:s,children:[(0,l.jsx)("button",{className:"classic"===t?"active":"",onClick:()=>a("classic"),children:n.classic}),(0,l.jsx)("button",{className:"vaporwave"===t?"active":"",onClick:()=>a("vaporwave"),children:n.vaporwave}),(0,l.jsx)("button",{className:"terminal"===t?"active":"",onClick:()=>a("terminal"),children:n.terminal})]})},d=e=>{let{lang:t,mode:a,onSelectLang:n,onSelectMode:i,onChangeName:s,onShowWelcome:c,translations:r}=e;return(0,l.jsxs)("div",{className:"settings-dropdown",children:[(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("div",{className:"settings-section-header",children:r.language}),(0,l.jsx)("button",{className:"en"===t?"active":"",onClick:()=>n("en"),children:"English"}),(0,l.jsx)("button",{className:"es"===t?"active":"",onClick:()=>n("es"),children:"Espa\xf1ol"})]}),(0,l.jsx)("div",{className:"settings-separator"}),(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("div",{className:"settings-section-header",children:r.theme}),(0,l.jsx)("button",{className:"day"===a?"active":"",onClick:()=>i("day"),children:r.dayMode}),(0,l.jsx)("button",{className:"night"===a?"active":"",onClick:()=>i("night"),children:r.nightMode})]}),(0,l.jsx)("div",{className:"settings-separator"}),(0,l.jsx)("button",{onClick:s,children:r.changeName}),(0,l.jsx)("div",{className:"settings-separator"}),(0,l.jsx)("button",{onClick:c,children:r.showWelcome})]})},b=e=>{let{isOpen:t,currentName:a,onSave:s,onClose:c,lang:r}=e;const[o,h]=(0,n.useState)(a),p=(0,n.useRef)(null),d=(0,i.$)(r);(0,n.useEffect)(()=>{t&&(h(a),setTimeout(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},100))},[t,a]);return t?(0,l.jsx)("div",{className:"name-modal-overlay",onClick:c,children:(0,l.jsxs)("div",{className:"name-modal",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"name-modal-titlebar",children:[(0,l.jsx)("span",{children:d.browser.settings.changeName}),(0,l.jsx)("button",{className:"name-modal-close",onClick:c,children:"\xd7"})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(o),c()},className:"name-modal-content",children:[(0,l.jsx)("label",{htmlFor:"name-input",children:d.welcome.nameLabel}),(0,l.jsx)("input",{ref:p,type:"text",id:"name-input",value:o,onChange:e=>h(e.target.value),placeholder:d.welcome.namePlaceholder}),(0,l.jsxs)("div",{className:"name-modal-buttons",children:[(0,l.jsx)("button",{type:"submit",className:"name-modal-ok",children:"OK"}),(0,l.jsx)("button",{type:"button",className:"name-modal-cancel",onClick:c,children:"Cancel"})]})]})]})}):null},u=e=>{let{currentSection:t,children:a,onNavigate:u,onMinimize:m,onOpen:g,isMobile:x=!1,browserOpen:y=!0,browserMinimized:f=!1,lang:v,mode:C,setMode:w,setLang:S,visitorName:E,setName:j,onShowWelcome:k}=e;const A=(0,i.$)(v),[D,B]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),[M,R]=(0,n.useState)(()=>localStorage.getItem("browserTheme")||"classic"),[G,L]=(0,n.useState)(!1),[F,I]=(0,n.useState)(!1),[P,O]=(0,n.useState)(!1),[z,U]=(0,n.useState)(!1),H=(0,n.useRef)(null),W=(0,n.useRef)(null),_=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&L(!1),W.current&&!W.current.contains(e.target)&&I(!1),_.current&&!_.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{x&&y&&B(!0)},[x,y]);const q=(0,n.useCallback)((e,t)=>{R(e),localStorage.setItem("browserTheme",e),"menubar"===t?L(!1):I(!1)},[]),Y=(0,n.useCallback)(()=>{L(e=>!e)},[]),J=(0,n.useCallback)(()=>{I(e=>!e)},[]),Z=(0,n.useCallback)(e=>q(e,"menubar"),[q]),K=(0,n.useCallback)(e=>q(e,"statusbar"),[q]),V=(0,n.useCallback)(()=>{O(e=>!e)},[]),Q=(0,n.useCallback)(e=>{S(e),O(!1)},[S]),X=(0,n.useCallback)(e=>{w(e),O(!1)},[w]),$=(0,n.useCallback)(()=>{O(!1),U(!0)},[]),ee=(0,n.useCallback)(e=>{j(e),document.cookie="name=".concat(e)},[j]),te=(0,n.useCallback)(()=>{O(!1),k()},[k]);return(0,l.jsxs)("div",{className:"browser-window ".concat(D?"maximized":""," ").concat(f?"minimized":""),onClick:()=>{x&&!y&&(null===g||void 0===g||g(),B(!0))},children:[(0,l.jsxs)("div",{className:"browser-titlebar",onDoubleClick:()=>{x||B(!D)},children:[(0,l.jsxs)("div",{className:"browser-titlebar-text",children:[(0,l.jsx)("span",{className:"browser-icon",children:"\ud83c\udf10"}),(ae=t,{"":A.browser.titles.home,"goTo-about":A.browser.titles.about,"goTo-work":A.browser.titles.work,"goTo-portfolio":A.browser.titles.portfolio,"goTo-contact":A.browser.titles.contact,"goTo-games":A.browser.titles.games}[ae]||A.browser.titles.home)]}),(0,l.jsxs)("div",{className:"browser-titlebar-controls",children:[(0,l.jsx)("button",{className:"titlebar-button minimize","aria-label":"Minimize",onClick:e=>{e.stopPropagation(),x?D&&(B(!1),null===m||void 0===m||m()):null===m||void 0===m||m()},children:"_"}),(0,l.jsx)("button",{className:"titlebar-button maximize","aria-label":"Maximize",onClick:e=>{if(e.stopPropagation(),x){if(D)return;B(!0),null===g||void 0===g||g()}else B(!D)},children:"\u25a1"}),(0,l.jsx)("button",{className:"titlebar-button close","aria-label":"Close",onClick:e=>{e.stopPropagation(),x&&!D||T(!0)},children:"\xd7"})]})]}),(0,l.jsxs)("div",{className:"browser-menubar",children:[(0,l.jsx)("span",{className:"menu-item",children:A.browser.menus.file}),(0,l.jsx)("span",{className:"menu-item",children:A.browser.menus.edit}),(0,l.jsx)("span",{className:"menu-item",children:A.browser.menus.view}),(0,l.jsx)("span",{className:"menu-item",children:A.browser.menus.favorites}),(0,l.jsxs)("div",{className:"menu-item-wrapper",ref:H,children:[(0,l.jsx)("span",{className:"menu-item",onClick:Y,children:A.browser.menus.themes}),G&&(0,l.jsx)(p,{currentTheme:M,onSelectTheme:Z,themes:A.browser.themes,variant:"menubar"})]}),(0,l.jsxs)("div",{className:"menu-item-wrapper",ref:_,children:[(0,l.jsx)("span",{className:"menu-item",onClick:V,children:A.browser.settings.title}),P&&(0,l.jsx)(d,{lang:v,mode:C,onSelectLang:Q,onSelectMode:X,onChangeName:$,onShowWelcome:te,translations:A.browser.settings})]}),(0,l.jsx)("span",{className:"menu-item",children:A.browser.menus.help})]}),(0,l.jsxs)("div",{className:"browser-navbar",children:[(0,l.jsxs)("div",{className:"nav-buttons",children:[(0,l.jsx)("button",{className:"nav-button back",onClick:()=>{u("")},disabled:""===t,"aria-label":"Back",children:(0,l.jsx)(s,{})}),(0,l.jsx)("button",{className:"nav-button forward",disabled:!0,"aria-label":"Forward",children:(0,l.jsx)(c,{})}),(0,l.jsx)("button",{className:"nav-button refresh","aria-label":"Refresh",children:(0,l.jsx)(r,{})}),(0,l.jsx)("button",{className:"nav-button stop","aria-label":"Stop",children:(0,l.jsx)(o,{})}),(0,l.jsx)("button",{className:"nav-button home",onClick:()=>{u("")},"aria-label":"Home",children:(0,l.jsx)(h,{})})]}),(0,l.jsx)("div",{className:"nav-addressbar",children:(0,l.jsx)("input",{type:"text",value:(e=>({"":"http://maw.dev/index.html","goTo-about":"http://maw.dev/about-me.htm","goTo-work":"http://maw.dev/work/tech-stack.html","goTo-portfolio":"http://maw.dev/portfolio/gallery.cgi","goTo-contact":"http://maw.dev/contact/guestbook.php"}[e]||"http://maw.dev/"))(t),readOnly:!0,className:"addressbar-input"})}),(0,l.jsx)("button",{className:"nav-button go",children:"Go"})]}),(0,l.jsx)("div",{className:"browser-content",children:(0,l.jsx)("div",{className:"browser-viewport theme-".concat(M),children:a})}),N&&(0,l.jsx)("div",{className:"bsod-overlay",onClick:()=>T(!1),children:(0,l.jsxs)("div",{className:"bsod-content",children:[(0,l.jsx)("h1",{children:A.browser.bsod.title}),(0,l.jsx)("p",{className:"bsod-main-text",children:A.browser.bsod.mainText}),(0,l.jsx)("p",{children:A.browser.bsod.collectingError}),(0,l.jsx)("p",{className:"bsod-error",children:A.browser.bsod.errorCode}),(0,l.jsx)("p",{className:"bsod-code",children:A.browser.bsod.stopCode}),(0,l.jsx)("p",{className:"bsod-hint",children:A.browser.bsod.clickToRestart})]})}),(0,l.jsxs)("div",{className:"browser-statusbar",children:[(0,l.jsx)("div",{className:"status-text",children:A.browser.statusDone}),(0,l.jsxs)("div",{className:"status-icons",children:[(0,l.jsxs)("div",{className:"status-theme-selector",ref:W,children:[(0,l.jsxs)("button",{className:"status-theme-button",onClick:J,"aria-label":A.browser.menus.themes,children:["\ud83c\udfa8 ",A.browser.themes[M]||M]}),F&&(0,l.jsx)(p,{currentTheme:M,onSelectTheme:K,themes:A.browser.themes,variant:"statusbar"})]}),(0,l.jsx)("span",{className:"status-icon",children:"\ud83d\udd12"}),(0,l.jsx)("span",{className:"status-zone",children:A.browser.statusZone})]})]}),(0,l.jsx)(b,{isOpen:z,currentName:E,onSave:ee,onClose:()=>U(!1),lang:v})]});var ae};var m=a(2432),g=a(7764);const x=e=>{let{title:t,icon:a,color:n,gradientFrom:i,gradientTo:s,onClick:c,description:r,disabled:o=!1}=e;const h=i&&s?{background:"linear-gradient(135deg, ".concat(i," 0%, ").concat(s," 100%)")}:{backgroundColor:n||"#4b5563"};return(0,l.jsxs)("button",{onClick:c,disabled:o,className:"game-card",style:h,children:[(0,l.jsx)("div",{className:"game-card-overlay"}),(0,l.jsxs)("div",{className:"game-card-content",children:[a&&(0,l.jsx)("div",{className:"game-card-icon",children:a}),(0,l.jsx)("h3",{className:"game-card-title",children:t}),r&&(0,l.jsx)("p",{className:"game-card-description",children:r})]}),(0,l.jsx)("div",{className:"game-card-accent-top",children:(0,l.jsx)("div",{className:"game-card-accent-triangle"})}),(0,l.jsx)("div",{className:"game-card-accent-bottom"})]})},y=e=>{let{type:t,title:a,message:i,score:s,level:c,brandColor:r="#00d26a",onAction:o,actionText:h,customContent:p,showPressToStart:d=!0}=e;const[b,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{if(d&&"start"===t){const e=setInterval(()=>{u(e=>!e)},500);return()=>clearInterval(e)}},[d,t]);const m=a||{start:"\ud83c\udfae LISTO PARA JUGAR",pause:"\u23f8\ufe0f PAUSA",gameOver:"\ud83e\udd73 GAME OVER",levelComplete:"\ud83c\udf89 \xa1NIVEL COMPLETADO!",custom:""}[t];return(0,l.jsxs)("div",{className:"game-overlay",children:[(0,l.jsx)("div",{className:"game-overlay-bg"}),(0,l.jsxs)("div",{className:"game-overlay-card",children:[(0,l.jsx)("div",{className:"game-overlay-glow",style:{backgroundColor:r}}),(0,l.jsxs)("div",{className:"game-overlay-content",children:[m&&(0,l.jsx)("h2",{className:"game-overlay-title",children:m}),void 0!==s&&(0,l.jsxs)("div",{className:"game-overlay-score",children:[(0,l.jsx)("p",{className:"game-overlay-score-label",children:"Puntuaci\xf3n Final"}),(0,l.jsx)("p",{className:"game-overlay-score-value",children:s.toLocaleString()})]}),void 0!==c&&"levelComplete"===t&&(0,l.jsxs)("div",{className:"game-overlay-level",children:[(0,l.jsx)("p",{className:"game-overlay-level-label",children:"Nivel"}),(0,l.jsx)("p",{className:"game-overlay-level-value",children:c})]}),i&&(0,l.jsx)("p",{className:"game-overlay-message",children:i}),p,"start"===t&&d&&!o?(0,l.jsx)("p",{className:"game-overlay-blink",style:{color:r,opacity:b?1:0},children:"PRESIONA ESPACIO PARA COMENZAR"}):o&&h?(0,l.jsx)("button",{onClick:o,className:"game-overlay-button",style:{backgroundColor:r},children:h}):null]})]})]})};var f=a(9379);const v=37,C=38,w=39,S=40,E=65,j=68,k=83,A=87,D={NONE:0,SHORT:25,MEDIUM:50,LONG:100},B={NONE:0,LOW:20,MEDIUM:40,HIGH:60},N={NONE:0,EASY:2,MEDIUM:4,HARD:6},T={SKY:"#72D7EE",TREE:"#005108",FOG:"#005108",LIGHT:{road:"#6B6B6B",grass:"#10AA10",rumble:"#555555",lane:"#CCCCCC"},DARK:{road:"#696969",grass:"#009A00",rumble:"#BBBBBB"},START:{road:"white",grass:"white",rumble:"white"},FINISH:{road:"black",grass:"black",rumble:"black"}},M={x:5,y:5,w:1280,h:480},R={x:5,y:495,w:1280,h:480},G={x:5,y:985,w:1280,h:480},L={PALM_TREE:{x:5,y:5,w:215,h:540},BILLBOARD08:{x:230,y:5,w:385,h:265},TREE1:{x:625,y:5,w:360,h:360},DEAD_TREE1:{x:5,y:555,w:135,h:332},BILLBOARD09:{x:150,y:555,w:328,h:282},BOULDER3:{x:230,y:280,w:320,h:220},COLUMN:{x:995,y:5,w:200,h:315},BILLBOARD01:{x:625,y:375,w:300,h:170},BILLBOARD06:{x:488,y:555,w:298,h:190},BILLBOARD05:{x:5,y:897,w:298,h:190},BILLBOARD07:{x:313,y:897,w:298,h:190},BOULDER2:{x:621,y:897,w:298,h:140},TREE2:{x:1205,y:5,w:282,h:295},BILLBOARD04:{x:1205,y:310,w:268,h:170},DEAD_TREE2:{x:1205,y:490,w:150,h:260},BOULDER1:{x:1205,y:760,w:168,h:248},BUSH1:{x:5,y:1097,w:240,h:155},CACTUS:{x:929,y:897,w:235,h:118},BUSH2:{x:255,y:1097,w:232,h:152},BILLBOARD03:{x:5,y:1262,w:230,h:220},BILLBOARD02:{x:245,y:1262,w:215,h:220},STUMP:{x:995,y:330,w:195,h:140},SEMI:{x:1365,y:490,w:122,h:144},TRUCK:{x:1365,y:644,w:100,h:78},CAR03:{x:1383,y:760,w:88,h:55},CAR02:{x:1383,y:825,w:80,h:59},CAR04:{x:1383,y:894,w:80,h:57},CAR01:{x:1205,y:1018,w:80,h:56},PLAYER_UPHILL_LEFT:{x:1383,y:961,w:80,h:45},PLAYER_UPHILL_STRAIGHT:{x:1295,y:1018,w:80,h:45},PLAYER_UPHILL_RIGHT:{x:1385,y:1018,w:80,h:45},PLAYER_RIGHT:{x:995,y:480,w:80,h:41},PLAYER_STRAIGHT:{x:1085,y:480,w:80,h:41},PLAYER_LEFT:{x:995,y:531,w:80,h:41},COIN:{x:1395,y:1092,w:60,h:60}},F=(0,f.A)((0,f.A)({},L),{},{SCALE:1/L.PLAYER_STRAIGHT.w*.3,BILLBOARDS:[L.BILLBOARD01,L.BILLBOARD02,L.BILLBOARD03,L.BILLBOARD04,L.BILLBOARD05,L.BILLBOARD06,L.BILLBOARD07,L.BILLBOARD08,L.BILLBOARD09],PLANTS:[L.TREE1,L.TREE2,L.DEAD_TREE1,L.DEAD_TREE2,L.PALM_TREE,L.BUSH1,L.BUSH2,L.CACTUS,L.STUMP,L.BOULDER1,L.BOULDER2,L.BOULDER3],CARS:[L.CAR01,L.CAR02,L.CAR03,L.CAR04,L.SEMI,L.TRUCK]}),I={fps:60,width:720,height:960,roadWidth:2e3,segmentLength:200,rumbleLength:3,lanes:3,fieldOfView:100,cameraHeight:1e3,drawDistance:300,fogDensity:5,centrifugal:.3,skySpeed:.001,hillSpeed:.002,treeSpeed:.003,totalCars:200};class P{static timestamp(){return performance.now()}static toInt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null!==e&&void 0!==e){const t=parseInt(String(e),10);if(!isNaN(t))return t}return t}static toFloat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null!==e&&void 0!==e){const t=parseFloat(String(e));if(!isNaN(t))return t}return t}static limit(e,t,a){return Math.max(t,Math.min(e,a))}static randomInt(e,t){return Math.round(this.interpolate(e,t,Math.random()))}static randomChoice(e){return e[this.randomInt(0,e.length-1)]}static percentRemaining(e,t){return e%t/t}static accelerate(e,t,a){return e+t*a}static interpolate(e,t,a){return e+(t-e)*a}static easeIn(e,t,a){return e+(t-e)*Math.pow(a,2)}static easeOut(e,t,a){return e+(t-e)*(1-Math.pow(1-a,2))}static easeInOut(e,t,a){return e+(t-e)*(-Math.cos(a*Math.PI)/2+.5)}static exponentialFog(e,t){return 1/Math.pow(Math.E,e*e*t)}static increase(e,t,a){let n=e+t;for(;n>=a;)n-=a;for(;n<0;)n+=a;return n}static overlap(e,t,a,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const l=.5*i,s=.5*i;return!(e+t*l<a-n*s||e-t*l>a+n*s)}static project(e,t,a,n,i,l,s,c){e.camera.x=(e.world.x||0)-t,e.camera.y=(e.world.y||0)-a,e.camera.z=(e.world.z||0)-n,e.screen.scale=i/e.camera.z,e.screen.x=Math.round(l/2+e.screen.scale*e.camera.x*l/2),e.screen.y=Math.round(s/2-e.screen.scale*e.camera.y*s/2),e.screen.w=Math.round(e.screen.scale*c*l/2)}}Math.PI,Math.PI;class O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;this.segments=[],this.segmentLength=void 0,this.rumbleLength=void 0,this.trackLength=0,this.billboardPlacements=new Map,this.billboardImpressions=new Map,this.billboardInstances=new Map,this.nextBillboardId=0,this.segmentLength=e,this.rumbleLength=t}getSegments(){return this.segments}getTrackLength(){return this.trackLength}getBillboardPlacements(){return new Map(this.billboardPlacements)}getBillboardImpressions(){return new Map(this.billboardImpressions)}recordBillboardImpression(e,t,a,n){const i=this.billboardInstances.get(a);if(!i)return;const l=i.find(a=>a.segmentIndex===e&&Math.abs(a.offset-t)<.1);if(l&&!l.seenInLaps.has(n)){l.seenInLaps.add(n);const e=this.billboardImpressions.get(a)||0;this.billboardImpressions.set(a,e+1)}}getBillboardStats(e){const t={},a={},n={};this.billboardPlacements.forEach((a,i)=>{t[i]=a,n[i]=a*e}),this.billboardImpressions.forEach((e,t)=>{a[t]=e});const i=Math.round(.65*this.segments.length);return{placements:t,impressions:a,maxPossibleImpressions:n,trackLength:i,totalSegments:this.segments.length,totalLaps:e}}findSegment(e){return this.segments[Math.floor(e/this.segmentLength)%this.segments.length]}lastY(){return 0===this.segments.length?0:this.segments[this.segments.length-1].p2.world.y}addSegment(e,t){const a=this.segments.length;this.segments.push({index:a,p1:{world:{y:this.lastY(),z:a*this.segmentLength},camera:{x:0,y:0,z:0},screen:{x:0,y:0,w:0,scale:0}},p2:{world:{y:t,z:(a+1)*this.segmentLength},camera:{x:0,y:0,z:0},screen:{x:0,y:0,w:0,scale:0}},curve:e,sprites:[],cars:[],color:Math.floor(a/this.rumbleLength)%2?T.DARK:T.LIGHT})}addSprite(e,t,a){if(this.segments[e]){const n={source:t,offset:a},i=this.getBillboardName(t);if(i){const t="".concat(i,"_").concat(this.nextBillboardId++);n.billboardId=t,this.billboardInstances.has(i)||this.billboardInstances.set(i,[]),this.billboardInstances.get(i).push({segmentIndex:e,offset:a,seenInLaps:new Set})}this.segments[e].sprites.push(n)}}addRoad(e,t,a,n,i){const l=this.lastY(),s=l+P.toInt(i,0)*this.segmentLength,c=e+t+a;for(let r=0;r<e;r++)this.addSegment(P.easeIn(0,n,r/e),P.easeInOut(l,s,r/c));for(let r=0;r<t;r++)this.addSegment(n,P.easeInOut(l,s,(e+r)/c));for(let r=0;r<a;r++)this.addSegment(P.easeInOut(n,0,r/a),P.easeInOut(l,s,(e+t+r)/c))}addStraight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.MEDIUM;this.addRoad(e,e,e,0,0)}addHill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.MEDIUM,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.MEDIUM;this.addRoad(e,e,e,0,t)}addCurve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.MEDIUM,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.MEDIUM,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.NONE;this.addRoad(e,e,e,t,a)}addLowRollingHills(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.SHORT,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.LOW;this.addRoad(e,e,e,0,t/2),this.addRoad(e,e,e,0,-t),this.addRoad(e,e,e,N.EASY,t),this.addRoad(e,e,e,0,0),this.addRoad(e,e,e,-N.EASY,t/2),this.addRoad(e,e,e,0,0)}addSCurves(){this.addRoad(D.MEDIUM,D.MEDIUM,D.MEDIUM,-N.EASY,B.NONE),this.addRoad(D.MEDIUM,D.MEDIUM,D.MEDIUM,N.MEDIUM,B.MEDIUM),this.addRoad(D.MEDIUM,D.MEDIUM,D.MEDIUM,N.EASY,-B.LOW),this.addRoad(D.MEDIUM,D.MEDIUM,D.MEDIUM,-N.EASY,B.MEDIUM),this.addRoad(D.MEDIUM,D.MEDIUM,D.MEDIUM,-N.MEDIUM,-B.MEDIUM)}addBumps(){this.addRoad(10,10,10,0,5),this.addRoad(10,10,10,0,-2),this.addRoad(10,10,10,0,-5),this.addRoad(10,10,10,0,8),this.addRoad(10,10,10,0,5),this.addRoad(10,10,10,0,-7),this.addRoad(10,10,10,0,5),this.addRoad(10,10,10,0,-2)}addDownhillToEnd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;this.addRoad(e,e,e,-N.EASY,-this.lastY()/this.segmentLength)}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(this.segments=[],e){case 1:this.addStraight(D.LONG),this.addCurve(D.SHORT,N.EASY,B.NONE),this.addStraight(2*D.LONG),this.addCurve(D.SHORT,-N.EASY,B.NONE),this.addStraight(D.LONG),this.addHill(D.MEDIUM,B.LOW),this.addStraight(D.LONG),this.addCurve(D.MEDIUM,N.MEDIUM,B.NONE),this.addStraight(2*D.LONG),this.addCurve(D.SHORT,-N.HARD,B.NONE),this.addStraight(D.MEDIUM),this.addDownhillToEnd();break;case 2:this.addHill(D.SHORT,B.MEDIUM),this.addCurve(D.MEDIUM,N.HARD,B.HIGH),this.addHill(D.LONG,-B.MEDIUM),this.addSCurves(),this.addHill(D.MEDIUM,B.HIGH),this.addCurve(D.LONG,-N.MEDIUM,-B.LOW),this.addBumps(),this.addHill(D.LONG,B.MEDIUM),this.addCurve(D.MEDIUM,N.EASY,-B.HIGH),this.addSCurves(),this.addHill(D.SHORT,-B.MEDIUM),this.addDownhillToEnd();break;case 3:this.addStraight(D.SHORT),this.addSCurves(),this.addCurve(D.MEDIUM,N.HARD,B.NONE),this.addCurve(D.MEDIUM,-N.HARD,B.NONE),this.addSCurves(),this.addCurve(D.SHORT,N.EASY,B.LOW),this.addCurve(D.SHORT,-N.EASY,-B.LOW),this.addBumps(),this.addSCurves(),this.addCurve(D.LONG,N.MEDIUM,B.MEDIUM),this.addStraight(D.SHORT),this.addSCurves(),this.addDownhillToEnd();break;default:this.addStraight(D.SHORT),this.addLowRollingHills(),this.addSCurves(),this.addCurve(D.MEDIUM,N.MEDIUM,B.LOW),this.addBumps(),this.addLowRollingHills(),this.addCurve(2*D.LONG,N.MEDIUM,B.MEDIUM),this.addStraight(),this.addHill(D.MEDIUM,B.HIGH),this.addSCurves(),this.addCurve(D.LONG,-N.MEDIUM,B.NONE),this.addHill(D.LONG,B.HIGH),this.addCurve(D.LONG,N.MEDIUM,-B.LOW),this.addBumps(),this.addHill(D.LONG,-B.MEDIUM),this.addStraight(),this.addSCurves(),this.addDownhillToEnd()}this.resetSprites();const a=this.findSegment(t);this.segments[a.index+2].color=T.START,this.segments[a.index+3].color=T.START;for(let n=0;n<this.rumbleLength;n++)this.segments[this.segments.length-1-n].color=T.FINISH;this.trackLength=this.segments.length*this.segmentLength}resetSprites(){this.billboardPlacements.clear(),this.billboardImpressions.clear(),this.billboardInstances.clear(),this.nextBillboardId=0;for(let t=20;t<this.segments.length-50;t+=60){const e=P.randomChoice([...F.BILLBOARDS]),a=this.getBillboardName(e);if(a){const e=this.billboardPlacements.get(a)||0;this.billboardPlacements.set(a,e+1)}this.addSprite(t+P.randomInt(0,50),e,P.randomChoice([1,-1,1.1,-1.1,1.2,-1.2]));for(let n=0;n<20;n++)this.addSprite(t+P.randomInt(0,50),P.randomChoice([...F.PLANTS]),P.randomChoice([1.1,-1.1])*(1+Math.random()))}for(let t=10;t<this.segments.length;t+=3+Math.floor(t/100))this.addSprite(t,P.randomChoice([...F.PLANTS]),P.randomChoice([1,-1])*(1+5*Math.random()));for(let t=120;t<this.segments.length;t+=30+Math.floor(t/20))this.addSprite(t,F.COLUMN,P.randomChoice([1,-1])*(1+5*Math.random()));const e=[-.5,0,.5];for(let t=0;t<this.segments.length;t+=30)this.addSprite(t,F.COIN,P.randomChoice(e))}removeAllCoins(){for(const e of this.segments)e.sprites=e.sprites.filter(e=>e.source!==F.COIN)}resetCars(e,t){for(const n of this.segments)n.cars=[];const a=[];for(let n=0;n<e;n++){const e=Math.random()*P.randomChoice([-.8,.8]),n=Math.floor(Math.random()*this.segments.length)*this.segmentLength,i=P.randomChoice([...F.CARS]),l={offset:e,z:n,sprite:i,speed:t/4+Math.random()*t/(i===F.SEMI?4:2),percent:P.percentRemaining(n,this.segmentLength)};this.findSegment(l.z).cars.push(l),a.push(l)}return a}getBillboardName(e){return e===F.BILLBOARD01?"BILLBOARD01":e===F.BILLBOARD02?"BILLBOARD02":e===F.BILLBOARD03?"BILLBOARD03":e===F.BILLBOARD04?"BILLBOARD04":e===F.BILLBOARD05?"BILLBOARD05":e===F.BILLBOARD06?"BILLBOARD06":e===F.BILLBOARD07?"BILLBOARD07":e===F.BILLBOARD08?"BILLBOARD08":e===F.BILLBOARD09?"BILLBOARD09":null}}class z{constructor(e){this.maxSpeed=void 0,this.accel=void 0,this.breaking=void 0,this.decel=void 0,this.offRoadDecel=void 0,this.offRoadLimit=void 0,this.centrifugal=void 0,this.trackLength=void 0,this.maxSpeed=e.maxSpeed,this.accel=e.accel,this.breaking=e.breaking,this.decel=e.decel,this.offRoadDecel=e.offRoadDecel,this.offRoadLimit=e.offRoadLimit,this.centrifugal=e.centrifugal,this.trackLength=e.trackLength}updateTrackLength(e){this.trackLength=e}updatePlayer(e,t,a,n,i,l,s){let c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:720,r=arguments.length>8&&void 0!==arguments[8]?arguments[8]:960;const o=F.PLAYER_STRAIGHT.w*F.SCALE,h=t/this.maxSpeed,p=2*l*h;let d,b,u=0,m=!1;if(n.left?e-=p:n.right&&(e+=p),e-=p*h*i.curve*this.centrifugal,t=n.faster?P.accelerate(t,this.accel,l):n.slower?P.accelerate(t,this.breaking,l):P.accelerate(t,this.decel,l),e<-1||e>1){t>this.offRoadLimit&&(t=P.accelerate(t,this.offRoadDecel,l));for(const n of i.sprites){const l=n.source.w*F.SCALE;if(P.overlap(e,o,n.offset+l/2*(n.offset>0?1:-1),l)){t=this.maxSpeed/5,a=P.increase(i.p1.world.z,-o,this.trackLength);break}}}for(let g=i.sprites.length-1;g>=0;g--){const a=i.sprites[g];if(a.source===F.COIN){const n=a.source.w*F.SCALE;P.overlap(e,o,a.offset+n/10*(a.offset>0?1:-1),n)&&(d={x:c/2+a.offset*c*.3,y:r/2-100},i.sprites.splice(g,1),u=Math.round(t/1e3))}}for(const g of i.cars){const n=g.sprite.w*F.SCALE;if(t>g.speed&&P.overlap(e,o,g.offset,n,.6)){t=g.speed*(g.speed/t),a=P.increase(g.z,-o,this.trackLength),u=-3,m=!0,b={x:c/2+g.offset*c*.3,y:r/2-50};break}}return{playerX:e=P.limit(e,-3,3),speed:t=P.limit(t,0,this.maxSpeed),position:a,pointsEarned:u,crashed:m,coinCollected:d,crashPosition:b}}updateCars(e,t,a,n,i,l,s,c){const r=F.PLAYER_STRAIGHT.w*F.SCALE;for(const o of e){const e=s(o.z);o.z=P.increase(o.z,t*o.speed,this.trackLength),o.percent=P.percentRemaining(o.z,200),o.offset+=this.updateCarOffset(o,e,a,r,n,i,l,c);const h=s(o.z);if(e!==h){const t=e.cars.indexOf(o);-1!==t&&(e.cars.splice(t,1),h.cars.push(o))}}}updateCarOffset(e,t,a,n,i,l,s,c){const r=e.sprite.w*F.SCALE;if(t.index-a.index>s)return 0;for(let o=1;o<20;o++){const s=c[(t.index+o)%c.length];if(s===a&&e.speed>l&&P.overlap(i,n,e.offset,r,1.2)){return 1*this.calculateAvoidanceDirection(i,e.offset)/o*(e.speed-l)/this.maxSpeed}for(const t of s.cars){const a=t.sprite.w*F.SCALE;if(e.speed>t.speed&&P.overlap(e.offset,r,t.offset,a,1.2)){return 1*this.calculateAvoidanceDirection(t.offset,e.offset)/o*(e.speed-t.speed)/this.maxSpeed}}}return e.offset<-.9?.1:e.offset>.9?-.1:0}calculateAvoidanceDirection(e,t){return e>.5?-1:e<-.5||t>e?1:-1}updateScrollOffsets(e,t,a,n,i,l,s,c,r,o){const h=l-i;return{skyOffset:e=P.increase(e,c*n.curve*h/s,1),hillOffset:t=P.increase(t,r*n.curve*h/s,1),treeOffset:a=P.increase(a,o*n.curve*h/s,1)}}}class U{constructor(e,t,a){this.ctx=void 0,this.width=void 0,this.height=void 0,this.resolution=void 0,this.cameraDepth=.84,this.ctx=e,this.width=t,this.height=a,this.resolution=a/480}setCameraDepth(e){this.cameraDepth=e}updateDimensions(e,t){this.width=e,this.height=t,this.resolution=t/480}clear(){this.ctx.clearRect(0,0,this.width,this.height)}polygon(e,t,a,n,i,l,s,c,r){this.ctx.fillStyle=r,this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(a,n),this.ctx.lineTo(i,l),this.ctx.lineTo(s,c),this.ctx.closePath(),this.ctx.fill()}segment(e,t,a,n,i,l,s,c,r){const o=this.rumbleWidth(n,e),h=this.rumbleWidth(s,e),p=this.laneMarkerWidth(n,e),d=this.laneMarkerWidth(s,e);if(this.ctx.fillStyle=r.grass,this.ctx.fillRect(0,l,this.width,a-l),this.polygon(t-n-o,a,t-n,a,i-s,l,i-s-h,l,r.rumble),this.polygon(t+n+o,a,t+n,a,i+s,l,i+s+h,l,r.rumble),this.polygon(t-n,a,t+n,a,i+s,l,i-s,l,r.road),r.lane){const c=2*n/e,o=2*s/e;let h=t-n+c,b=i-s+o;for(let t=1;t<e;t++)this.polygon(h-p/2,a,h+p/2,a,b+d/2,l,b-d/2,l,r.lane),h+=c,b+=o}this.fog(0,a,this.width,l-a,c)}background(e,t,a,n){a=a||0,n=n||0;const i=t.w/2,l=t.h,s=t.x+Math.floor(t.w*a)%t.w,c=t.y,r=Math.min(i,t.w-(s-t.x)),o=l,h=Math.floor(n),p=Math.floor(this.width*(r/i)),d=this.height;this.ctx.drawImage(e,s,c,r,o,0,h,p,d),r<i&&this.ctx.drawImage(e,t.x,c,i-r,o,p-1,h,this.width-p,d)}sprite(e,t,a,n,i,l){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,r=arguments.length>8?arguments[8]:void 0;const o=a.w*n*this.width/2*(F.SCALE*e),h=a.h*n*this.width/2*(F.SCALE*e);i+=o*s,l+=h*c;const p=r?Math.max(0,l+h-r):0;p<h&&this.ctx.drawImage(t,a.x,a.y,a.w,a.h-a.h*p/h,i,l,o,h-p)}player(e,t,a,n,i,l,s,c){const r=1.5*Math.random()*a*this.resolution*P.randomChoice([-1,1]);let o;o=s<0?c>0?F.PLAYER_UPHILL_LEFT:F.PLAYER_LEFT:s>0?c>0?F.PLAYER_UPHILL_RIGHT:F.PLAYER_RIGHT:c>0?F.PLAYER_UPHILL_STRAIGHT:F.PLAYER_STRAIGHT,this.sprite(e,t,o,n,i,l+r,-.5,-1)}fog(e,t,a,n,i){i<1&&i>.01&&(this.ctx.globalAlpha=1-i,this.ctx.fillStyle=T.FOG,this.ctx.fillRect(e,t,a,n),this.ctx.globalAlpha=1)}rumbleWidth(e,t){return e/Math.max(6,2*t)}laneMarkerWidth(e,t){return e/Math.max(32,8*t)}renderCars(e,t,a,n,i){for(let l=a-1;l>0;l--){const a=e[(t+l)%e.length];for(const e of a.cars){const t=P.interpolate(a.p1.screen.scale,a.p2.screen.scale,e.percent||0),l=P.interpolate(a.p1.screen.x,a.p2.screen.x,e.percent||0)+t*e.offset*n*this.width/2,s=P.interpolate(a.p1.screen.y,a.p2.screen.y,e.percent||0);this.sprite(n,i,e.sprite,t,l,s,-.5,-1,a.clip)}}}renderSprites(e,t,a,n,i){for(let l=a-1;l>0;l--){const a=e[(t+l)%e.length];for(const e of a.sprites){const t=a.p1.screen.scale,l=a.p1.screen.x+t*e.offset*n*this.width/2,s=a.p1.screen.y;this.sprite(n,i,e.source,t,l,s,e.offset<0?-1:0,-1,a.clip)}}}renderObjects(e,t,a,n,i,l){for(let s=a-1;s>0;s--){const a=e[(t+s)%e.length];for(const e of a.sprites){const t=a.p1.screen.scale,s=a.p1.screen.x+t*e.offset*n*this.width/2,c=a.p1.screen.y;a.clip&&a.p1.camera.z>this.cameraDepth&&c<a.clip&&l&&l(e.source,a.index,e.offset),this.sprite(n,i,e.source,t,s,c,e.offset<0?-1:0,-1,a.clip)}for(const e of a.cars){const t=P.interpolate(a.p1.screen.scale,a.p2.screen.scale,e.percent||0),l=P.interpolate(a.p1.screen.x,a.p2.screen.x,e.percent||0)+t*e.offset*n*this.width/2,s=P.interpolate(a.p1.screen.y,a.p2.screen.y,e.percent||0);this.sprite(n,i,e.sprite,t,l,s,-.5,-1,a.clip)}}}renderCoinAnimations(e,t){const a=this.ctx;a.save();for(const n of e){const e=t-n.startTime,i=Math.min(e/500,1);if(i>=1)continue;const l=1-i,s=6,c=3,r=50*i;a.globalAlpha=.8*l,a.fillStyle="#FFD700";for(let t=0;t<s;t++){const e=t/s*Math.PI*2,i=n.x+Math.cos(e)*r,l=n.y+Math.sin(e)*r;a.beginPath(),a.arc(i,l,c,0,2*Math.PI),a.fill()}a.globalAlpha=l,a.font="bold 24px Arial",a.fillStyle="#FFD700",a.strokeStyle="#000000",a.lineWidth=3;const o="+".concat(n.points," puntos"),h=n.y-30*i;a.strokeText(o,n.x-40,h),a.fillText(o,n.x-40,h)}a.restore()}renderCrashAnimations(e,t){const a=this.ctx;a.save();for(const n of e){const e=t-n.startTime,i=Math.min(e/500,1);if(i>=1)continue;const l=10*(Math.random()-.5)*(1-i),s=10*(Math.random()-.5)*(1-i),c=1-i,r=8,o=4,h=60*i;a.globalAlpha=.9*c;for(let t=0;t<r;t++){const e=t/r*Math.PI*2,c=n.x+Math.cos(e)*h+l,p=n.y+Math.sin(e)*h+s,d=t%2===0?"#FF0000":"#FF6600";a.fillStyle=d,a.beginPath(),a.arc(c,p,o*(1-.5*i),0,2*Math.PI),a.fill()}a.globalAlpha=c,a.font="bold 28px Arial",a.fillStyle="#FF0000",a.strokeStyle="#000000",a.lineWidth=4;const p="-3 puntos",d=n.x-50+l,b=n.y-20*i+s;a.strokeText(p,d,b),a.fillText(p,d,b),i<.1&&(a.globalAlpha=.5*(1-10*i),a.fillStyle="#FFFFFF",a.beginPath(),a.arc(n.x,n.y,50,0,2*Math.PI),a.fill())}a.restore()}}class H{constructor(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;this.update=e,this.render=t,this.isRunning=!1,this.animationFrameId=null,this.lastTimestamp=0,this.accumulator=0,this.targetFps=void 0,this.fixedTimeStep=void 0,this.maxFrameTime=void 0,this.frameCount=0,this.lastFpsUpdate=0,this.currentFps=0,this.loop=()=>{if(!this.isRunning)return;const e=P.timestamp();let t=(e-this.lastTimestamp)/1e3;for(t=Math.min(t,this.maxFrameTime),this.lastTimestamp=e,this.accumulator+=t;this.accumulator>=this.fixedTimeStep;)this.update(this.fixedTimeStep),this.accumulator-=this.fixedTimeStep;const a=this.accumulator/this.fixedTimeStep;this.render(a),this.updateFpsCounter(),this.animationFrameId=requestAnimationFrame(this.loop)},this.targetFps=a,this.fixedTimeStep=1/a,this.maxFrameTime=5*this.fixedTimeStep}start(){this.isRunning||(this.isRunning=!0,this.lastTimestamp=P.timestamp(),this.accumulator=0,this.loop())}stop(){this.isRunning=!1,null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}getFps(){return this.currentFps}updateFpsCounter(){this.frameCount++;const e=P.timestamp();e-this.lastFpsUpdate>=1e3&&(this.currentFps=Math.round(1e3*this.frameCount/(e-this.lastFpsUpdate)),this.frameCount=0,this.lastFpsUpdate=e)}}class W{static async loadImages(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";const n=e.map(e=>this.loadSingleImage(e,t,a));return Promise.all(n)}static loadSingleImage(e,t,a){return new Promise((n,i)=>{const l=new Image;l.onload=()=>n(l),l.onerror=()=>i(new Error("Failed to load image: ".concat(e))),l.src="default"===a?"".concat(t,"/").concat(e,".webp"):"".concat(t,"/skins/").concat(a,"/").concat(e,".webp")})}}class _{constructor(){this.keys={},this.keyHandlers=[],this.handleKeyDown=e=>{this.keys[e.keyCode]=!0,this.triggerKeyHandlers(e.keyCode,"down");[37,38,39,40].includes(e.keyCode)&&e.preventDefault()},this.handleKeyUp=e=>{this.keys[e.keyCode]=!1,this.triggerKeyHandlers(e.keyCode,"up")},this.setupKeyboardListeners()}setupKeyboardListeners(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}destroy(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}setKeyHandlers(e){this.keyHandlers=e}isKeyPressed(e){return this.keys[e]||!1}triggerKeyHandlers(e,t){for(const a of this.keyHandlers)a.mode===t&&a.keys.includes(e)&&a.action()}setupTouchControls(e){}getKeyCodeForDirection(e){switch(e){case"left":return 37;case"up":return 38;case"right":return 39;case"down":return 40;default:return 0}}}const q=()=>{if("undefined"!==typeof window){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=window.matchMedia("only screen and (max-width: 768px)").matches,a=navigator.maxTouchPoints>1;return t&&e&&a}return!1};const Y=e=>{let{currentLap:t,availableLaps:a,points:n,hud:i,gameState:s}=e;const c=()=>(parseInt(i.speed||"0")||0)/100*180-90;return"playing"!==s&&"paused"!==s&&"loading"!==s?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"hud-top",children:[(0,l.jsxs)("span",{className:"hud-lap-counter",children:[(0,l.jsx)("img",{className:"hud-lap-icon",src:"/games/racing/images/flag-laps.webp",alt:"laps"}),(0,l.jsxs)("span",{className:"hud-lap-text",children:[t,"/",a]})]}),(0,l.jsxs)("span",{className:"hud-time",children:[(0,l.jsx)("img",{className:"hud-lap-icon",src:"/games/racing/images/cronometer.webp",alt:"time"}),(0,l.jsx)("span",{className:"hud-lap-text",children:i.current_lap_time})]}),(0,l.jsxs)("span",{className:"hud-score",children:[(0,l.jsx)("img",{className:"hud-lap-icon",src:"/games/racing/images/coin.webp",alt:"points"}),(0,l.jsx)("span",{className:"hud-score-value",children:n})]})]}),(0,l.jsx)("div",{className:"hud-bottom",children:(0,l.jsxs)("div",{className:"hud-speed",children:[(0,l.jsxs)("svg",{className:"hud-speedometer",viewBox:"0 0 200 200",children:[(0,l.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"#444",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M 30 170 A 85 85 0 0 1 170 170",fill:"none",stroke:"#888",strokeWidth:"8"}),[0,25,50,75,100].map((e,t)=>{const a=(180*t/4-90)*(Math.PI/180),n=100+70*Math.cos(a),i=100+70*Math.sin(a),s=100+80*Math.cos(a),c=100+80*Math.sin(a);return(0,l.jsx)("line",{x1:n,y1:i,x2:s,y2:c,stroke:"#ccc",strokeWidth:"2"},e)}),(0,l.jsx)("line",{x1:"100",y1:"100",x2:100+65*Math.cos((c()-90)*(Math.PI/180)),y2:100+65*Math.sin((c()-90)*(Math.PI/180)),stroke:"#ff4444",strokeWidth:"4",strokeLinecap:"round"}),(0,l.jsx)("circle",{cx:"100",cy:"100",r:"5",fill:"#ff4444"})]}),(0,l.jsxs)("div",{className:"hud-speed-text",children:[i.speed," mph"]})]})})]})},J=e=>{let{getBillboardStats:t,isVisible:a=!1}=e;const[i,s]=(0,n.useState)(null);if((0,n.useEffect)(()=>{if(a){const e=setInterval(()=>{const e=t();e&&s(e)},1e3);return()=>clearInterval(e)}},[t,a]),!a||!i)return null;const c=Object.keys(i.placements).sort();return(0,l.jsxs)("div",{className:"billboard-stats",children:[(0,l.jsx)("h4",{className:"billboard-title",children:"Billboard Analytics"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"billboard-stat",children:[(0,l.jsx)("span",{className:"billboard-stat-label",children:"Track:"}),(0,l.jsxs)("span",{className:"billboard-stat-value",children:[i.trackLength,"m"]})]}),(0,l.jsxs)("div",{className:"billboard-stat",children:[(0,l.jsx)("span",{className:"billboard-stat-label",children:"Laps:"}),(0,l.jsx)("span",{className:"billboard-stat-value",children:i.totalLaps})]})]}),(0,l.jsxs)("table",{style:{width:"100%",fontSize:"0.75rem"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{borderBottom:"1px solid #4b5563"},children:[(0,l.jsx)("th",{style:{textAlign:"left",paddingBottom:"0.125rem"},children:"Billboard"}),(0,l.jsx)("th",{style:{textAlign:"center",paddingBottom:"0.125rem"},children:"Placed"}),(0,l.jsx)("th",{style:{textAlign:"center",paddingBottom:"0.125rem"},children:"Shown"}),(0,l.jsx)("th",{style:{textAlign:"right",paddingBottom:"0.125rem"},children:"%"})]})}),(0,l.jsx)("tbody",{children:c.map(e=>{const t=i.placements[e]||0,a=i.impressions[e]||0,n=i.maxPossibleImpressions[e]||0,s=n>0?(a/n*100).toFixed(0):"0";return(0,l.jsxs)("tr",{style:{borderBottom:"1px solid #374151"},children:[(0,l.jsx)("td",{style:{paddingTop:"0.125rem",paddingBottom:"0.125rem",fontSize:"0.625rem"},children:e.replace("BILLBOARD","B")}),(0,l.jsx)("td",{style:{textAlign:"center",paddingTop:"0.125rem",paddingBottom:"0.125rem"},children:t}),(0,l.jsx)("td",{style:{textAlign:"center",paddingTop:"0.125rem",paddingBottom:"0.125rem"},children:a}),(0,l.jsxs)("td",{style:{textAlign:"right",paddingTop:"0.125rem",paddingBottom:"0.125rem"},children:[s,"%"]})]},e)})}),(0,l.jsx)("tfoot",{children:(0,l.jsxs)("tr",{style:{fontWeight:"bold",borderTop:"1px solid #6b7280"},children:[(0,l.jsx)("td",{style:{paddingTop:"0.25rem",fontSize:"0.75rem"},children:"TOTAL"}),(0,l.jsx)("td",{style:{textAlign:"center",paddingTop:"0.25rem"},children:Object.values(i.placements).reduce((e,t)=>e+t,0)}),(0,l.jsx)("td",{style:{textAlign:"center",paddingTop:"0.25rem"},children:Object.values(i.impressions).reduce((e,t)=>e+t,0)}),(0,l.jsxs)("td",{style:{textAlign:"right",paddingTop:"0.25rem"},children:[Object.values(i.maxPossibleImpressions).reduce((e,t)=>e+t,0)>0?(Object.values(i.impressions).reduce((e,t)=>e+t,0)/Object.values(i.maxPossibleImpressions).reduce((e,t)=>e+t,0)*100).toFixed(0):"0","%"]})]})})]}),(0,l.jsx)("div",{style:{marginTop:"0.25rem",fontSize:"0.625rem",color:"#9ca3af"},children:(0,l.jsxs)("p",{children:["% = Shown vs Max Possible (",i.totalLaps," laps)"]})})]})},Z=(0,n.forwardRef)((e,t)=>{let{width:a,height:n,className:i="",onClick:s,style:c}=e;return(0,l.jsxs)("div",{className:"game-canvas-wrapper",children:[(0,l.jsx)("div",{className:"game-canvas-accent game-canvas-accent-tl"}),(0,l.jsx)("div",{className:"game-canvas-accent game-canvas-accent-tr"}),(0,l.jsx)("div",{className:"game-canvas-accent game-canvas-accent-bl"}),(0,l.jsx)("div",{className:"game-canvas-accent game-canvas-accent-br"}),(0,l.jsx)("canvas",{ref:t,width:a,height:n,onClick:s,className:"game-canvas ".concat(i),style:(0,f.A)({imageRendering:"pixelated"},c)})]})});Z.displayName="GameCanvas";const K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";if("vibrate"in navigator){const t="light"===e?10:"medium"===e?20:30;navigator.vibrate(t)}},V=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:(0,l.jsx)("polyline",{points:"6 15 12 9 18 15"})})},Q=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:(0,l.jsx)("polyline",{points:"6 9 12 15 18 9"})})},X=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:(0,l.jsx)("polyline",{points:"15 6 9 12 15 18"})})},$=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:(0,l.jsx)("polyline",{points:"9 6 15 12 9 18"})})},ee=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[(0,l.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,l.jsx)("path",{d:"M3 3v5h5"})]})},te=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:(0,l.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})},ae=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[(0,l.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),(0,l.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"})]})},ne=e=>{let{size:t=24,color:a="currentColor",className:n}=e;return(0,l.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})},ie=e=>{let{onControl:t,onControlEnd:a,layout:n="dpad",showRotateButton:i=!1,onRotate:s,showLaunchButton:c=!1,onLaunch:r}=e;const o={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",WebkitTouchCallout:"none"},h=e=>(e.preventDefault(),!1),p=function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light";e.preventDefault(),K(n),t(a)},d=(e,t)=>{e.preventDefault(),null===a||void 0===a||a(t)},b=e=>{t(e)},u=e=>{null===a||void 0===a||a(e)};return"horizontal"===n?(0,l.jsxs)("div",{className:"game-controls-horizontal",children:[(0,l.jsxs)("button",{onTouchStart:e=>p(e,"left"),onTouchEnd:e=>d(e,"left"),onMouseDown:()=>b("left"),onMouseUp:()=>u("left"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-paddle",style:o,children:[(0,l.jsx)(X,{size:24}),(0,l.jsx)("span",{className:"game-controls-btn-label",children:"Izquierda"})]}),c&&(0,l.jsxs)("button",{onTouchStart:e=>{e.preventDefault(),K("medium"),null===r||void 0===r||r()},onClick:()=>null===r||void 0===r?void 0:r(),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-green game-controls-btn-launch",style:o,children:[(0,l.jsx)(ne,{size:24}),(0,l.jsx)("span",{className:"game-controls-btn-label",children:"Lanzar"})]}),(0,l.jsxs)("button",{onTouchStart:e=>p(e,"right"),onTouchEnd:e=>d(e,"right"),onMouseDown:()=>b("right"),onMouseUp:()=>u("right"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-paddle",style:o,children:[(0,l.jsx)($,{size:24}),(0,l.jsx)("span",{className:"game-controls-btn-label",children:"Derecha"})]})]}):"racing"===n?(0,l.jsxs)("div",{className:"game-controls-racing",children:[(0,l.jsxs)("div",{className:"game-controls-racing-steering",children:[(0,l.jsx)("button",{onTouchStart:e=>p(e,"left"),onTouchEnd:e=>d(e,"left"),onMouseDown:()=>b("left"),onMouseUp:()=>u("left"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-steering",style:o,children:(0,l.jsx)(X,{size:28})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"right"),onTouchEnd:e=>d(e,"right"),onMouseDown:()=>b("right"),onMouseUp:()=>u("right"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-steering",style:o,children:(0,l.jsx)($,{size:28})})]}),(0,l.jsxs)("div",{className:"game-controls-racing-actions",children:[(0,l.jsxs)("button",{onTouchStart:e=>p(e,"up","medium"),onTouchEnd:e=>d(e,"up"),onMouseDown:()=>b("up"),onMouseUp:()=>u("up"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-green game-controls-btn-gas",style:o,children:[(0,l.jsx)(te,{size:20}),(0,l.jsx)("span",{className:"game-controls-btn-label",children:"Gas"})]}),(0,l.jsxs)("button",{onTouchStart:e=>p(e,"down","medium"),onTouchEnd:e=>d(e,"down"),onMouseDown:()=>b("down"),onMouseUp:()=>u("down"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-red game-controls-btn-brake",style:o,children:[(0,l.jsx)(ae,{size:20}),(0,l.jsx)("span",{className:"game-controls-btn-label",children:"Freno"})]})]})]}):"tetris"===n||"arrows"===n&&i?(0,l.jsxs)("div",{className:"game-controls-tetris",children:[(0,l.jsxs)("div",{className:"game-controls-dpad-modern",children:[(0,l.jsx)("button",{onTouchStart:e=>p(e,"up"),onTouchEnd:e=>d(e,"up"),onMouseDown:()=>b("up"),onMouseUp:()=>u("up"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-up",style:o,children:(0,l.jsx)(V,{size:24})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"left"),onTouchEnd:e=>d(e,"left"),onMouseDown:()=>b("left"),onMouseUp:()=>u("left"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-left",style:o,children:(0,l.jsx)(X,{size:24})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"right"),onTouchEnd:e=>d(e,"right"),onMouseDown:()=>b("right"),onMouseUp:()=>u("right"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-right",style:o,children:(0,l.jsx)($,{size:24})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"down"),onTouchEnd:e=>d(e,"down"),onMouseDown:()=>b("down"),onMouseUp:()=>u("down"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-down",style:o,children:(0,l.jsx)(Q,{size:24})})]}),(0,l.jsxs)("button",{onTouchStart:e=>{e.preventDefault(),K("medium"),s?s():t("up")},onClick:()=>{s?s():t("up")},onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-purple game-controls-rotate-btn",style:o,children:[(0,l.jsx)(ee,{size:32}),(0,l.jsx)("span",{className:"game-controls-rotate-label",children:"Rotar"})]})]}):"arrows"===n?(0,l.jsx)("div",{className:"game-controls-snake",children:(0,l.jsxs)("div",{className:"game-controls-dpad-modern",children:[(0,l.jsx)("button",{onTouchStart:e=>p(e,"up"),onTouchEnd:e=>d(e,"up"),onMouseDown:()=>b("up"),onMouseUp:()=>u("up"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-up",style:o,children:(0,l.jsx)(V,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"left"),onTouchEnd:e=>d(e,"left"),onMouseDown:()=>b("left"),onMouseUp:()=>u("left"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-left",style:o,children:(0,l.jsx)(X,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"right"),onTouchEnd:e=>d(e,"right"),onMouseDown:()=>b("right"),onMouseUp:()=>u("right"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-right",style:o,children:(0,l.jsx)($,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"down"),onTouchEnd:e=>d(e,"down"),onMouseDown:()=>b("down"),onMouseUp:()=>u("down"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-down",style:o,children:(0,l.jsx)(Q,{size:26})})]})}):(0,l.jsx)("div",{className:"game-controls-container",children:(0,l.jsxs)("div",{className:"game-controls-dpad-modern",children:[(0,l.jsx)("button",{onTouchStart:e=>p(e,"up"),onTouchEnd:e=>d(e,"up"),onMouseDown:()=>b("up"),onMouseUp:()=>u("up"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-up",style:o,children:(0,l.jsx)(V,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"right"),onTouchEnd:e=>d(e,"right"),onMouseDown:()=>b("right"),onMouseUp:()=>u("right"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-right",style:o,children:(0,l.jsx)($,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"down"),onTouchEnd:e=>d(e,"down"),onMouseDown:()=>b("down"),onMouseUp:()=>u("down"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-down",style:o,children:(0,l.jsx)(Q,{size:26})}),(0,l.jsx)("button",{onTouchStart:e=>p(e,"left"),onTouchEnd:e=>d(e,"left"),onMouseDown:()=>b("left"),onMouseUp:()=>u("left"),onContextMenu:h,className:"game-controls-btn-modern game-controls-btn-left",style:o,children:(0,l.jsx)(X,{size:26})})]})})},le=e=>{let{laps:t,setPointsEarned:a,setGameOver:s,track:c=0,skin:r="default",gameTitle:o="JALO Racing",brandColor:h="#00d26a",brandLogo:p,showBillboardStats:d=!1,lang:b="en"}=e;const u=(0,i.$)(b),m=q(),g=t||3,[x,D]=(0,n.useState)(!1),{canvasRef:B,gameState:N,currentLap:T,points:L,hud:F,startGame:K,togglePause:V,setupTouchControls:Q,handleTouchControl:X,getBillboardStats:$}=function(e,t,a,i,l){const s=q(),[c,r]=(0,n.useState)("loading"),o=(0,n.useRef)(c),[h,p]=(0,n.useState)(1),[d,b]=(0,n.useState)(0),[u,m]=(0,n.useState)({speed:"0",current_lap_time:"00:00:0"}),g=(0,n.useRef)([]),x=(0,n.useRef)([]);(0,n.useEffect)(()=>{o.current=c},[c]);const y=(0,n.useRef)(null),D=(0,n.useRef)(null),B=(0,n.useRef)(null),N=(0,n.useRef)(null),T=(0,n.useRef)(null),L=(0,n.useRef)(null),F=(0,n.useRef)({position:0,speed:0,playerX:0,playerZ:0,currentLapTime:0,cars:[],skyOffset:0,hillOffset:0,treeOffset:0,background:null,sprites:null,hasRendered:!1}),Y=(0,n.useRef)({left:!1,right:!1,faster:!1,slower:!1}),J=(0,n.useRef)((0,f.A)((0,f.A)({},I),{},{cameraDepth:1/Math.tan(I.fieldOfView/2*Math.PI/180),maxSpeed:I.segmentLength/(1/I.fps*1.2),accel:0,breaking:0,decel:0,offRoadDecel:0,offRoadLimit:0,playerZ:0}));(0,n.useEffect)(()=>{const e=J.current;e.playerZ=e.cameraHeight*e.cameraDepth,e.maxSpeed=e.segmentLength/(1/e.fps*1.2),e.accel=e.maxSpeed/5,e.breaking=-e.maxSpeed,e.decel=-e.maxSpeed/5,e.offRoadDecel=-e.maxSpeed/2,e.offRoadLimit=e.maxSpeed/4},[]);const Z=(0,n.useCallback)(e=>{const t=Math.floor(e/60),a=Math.floor(e-60*t),n=Math.floor(10*(e-Math.floor(e)));return t>0&&t<10?"0".concat(t,":").concat(a<10?"0":"").concat(a,":").concat(n):t>0&&t>=10?"".concat(t,":").concat(a<10?"0":"").concat(a,":").concat(n):"00:".concat(a<10?"0":"").concat(a,":").concat(n<10?"0":"").concat(n)},[]),K=(0,n.useCallback)((e,t)=>{m(a=>a[e]!==t?(0,f.A)((0,f.A)({},a),{},{[e]:t}):a)},[]),V=(0,n.useCallback)(()=>{const e=y.current;if(!e)return;const t=J.current;e.width=t.width,e.height=t.height;const a=e.getContext("2d");return a?(D.current=new O(t.segmentLength,t.rumbleLength),B.current=new z({maxSpeed:t.maxSpeed,accel:t.accel,breaking:t.breaking,decel:t.decel,offRoadDecel:t.offRoadDecel,offRoadLimit:t.offRoadLimit,centrifugal:t.centrifugal,trackLength:0}),N.current=new U(a,t.width,t.height),N.current.setCameraDepth(t.cameraDepth),L.current=new _,L.current.setKeyHandlers([{keys:[v,E],mode:"down",action:()=>{Y.current.left=!0}},{keys:[w,j],mode:"down",action:()=>{Y.current.right=!0}},{keys:[C,A],mode:"down",action:()=>{Y.current.faster=!0}},{keys:[S,k],mode:"down",action:()=>{Y.current.slower=!0}},{keys:[v,E],mode:"up",action:()=>{Y.current.left=!1}},{keys:[w,j],mode:"up",action:()=>{Y.current.right=!1}},{keys:[C,A],mode:"up",action:()=>{Y.current.faster=!1}},{keys:[S,k],mode:"up",action:()=>{Y.current.slower=!1}}]),!0):void 0},[]),Q=(0,n.useCallback)(async()=>{try{const e=await W.loadImages(["background","sprites"],"/games/racing/images",a);return F.current.background=e[0],F.current.sprites=e[1],!0}catch(e){return console.error("Failed to load game assets:",e),!1}},[a]),X=(0,n.useCallback)(()=>{const e=J.current,a=F.current;if(a.position=0,a.speed=0,a.playerX=0,a.currentLapTime=0,a.skyOffset=0,a.hillOffset=0,a.treeOffset=0,D.current&&B.current){D.current.reset(t,e.playerZ);const n=D.current.getTrackLength();B.current.updateTrackLength(n),a.cars=D.current.resetCars(e.totalCars,e.maxSpeed)}p(1),b(0),g.current=[],x.current=[],K("speed","0"),K("current_lap_time","00:00:0")},[t,K]),$=(0,n.useCallback)(e=>{if("playing"!==o.current)return;const t=J.current,a=F.current,n=B.current,i=D.current;if(!n||!i)return;const l=i.findSegment(a.position+t.playerZ),s=a.position,c=n.updatePlayer(a.playerX,a.speed,a.position,Y.current,l,e,e=>i.findSegment(e),t.width,t.height);a.playerX=c.playerX,a.speed=c.speed,a.position=P.increase(a.position,e*a.speed,i.getTrackLength()),0!==c.pointsEarned&&b(e=>Math.max(e+c.pointsEarned,0)),c.coinCollected&&c.pointsEarned>0&&g.current.push({x:c.coinCollected.x,y:c.coinCollected.y,points:c.pointsEarned,startTime:Date.now()}),c.crashPosition&&c.crashed&&x.current.push({x:c.crashPosition.x,y:c.crashPosition.y,startTime:Date.now()}),n.updateCars(a.cars,e,l,a.playerX,a.speed,t.drawDistance,e=>i.findSegment(e),i.getSegments());const r=n.updateScrollOffsets(a.skyOffset,a.hillOffset,a.treeOffset,l,s,a.position,t.segmentLength,t.skySpeed,t.hillSpeed,t.treeSpeed);a.skyOffset=r.skyOffset,a.hillOffset=r.hillOffset,a.treeOffset=r.treeOffset,a.position>t.playerZ&&(a.currentLapTime&&s<t.playerZ?(p(e=>e+1),i.removeAllCoins(),a.currentLapTime=0):a.currentLapTime+=e),K("speed",String(5*Math.round(a.speed/500))),K("current_lap_time",Z(a.currentLapTime))},[Z,K]),ee=(0,n.useCallback)(e=>{if("playing"!==o.current)return;const t=J.current,a=F.current,n=N.current,i=D.current;if(!n||!i||!a.background||!a.sprites)return;n.clear();const l=i.findSegment(a.position),s=P.percentRemaining(a.position,t.segmentLength),c=i.findSegment(a.position+t.playerZ),r=P.percentRemaining(a.position+t.playerZ,t.segmentLength),p=P.interpolate(c.p1.world.y,c.p2.world.y,r);let d=0,b=-l.curve*s,u=t.height;n.background(a.background,R,a.skyOffset,n.resolution*t.skySpeed*p),n.background(a.background,M,a.hillOffset,n.resolution*t.hillSpeed*p),n.background(a.background,G,a.treeOffset,n.resolution*t.treeSpeed*p);const m=i.getSegments();for(let o=0;o<t.drawDistance;o++){const e=m[(l.index+o)%m.length];e.looped=e.index<l.index,e.fog=P.exponentialFog(o/t.drawDistance,t.fogDensity),e.clip=u,P.project(e.p1,a.playerX*t.roadWidth-d,p+t.cameraHeight,a.position-(e.looped?i.getTrackLength():0),t.cameraDepth,t.width,t.height,t.roadWidth),P.project(e.p2,a.playerX*t.roadWidth-d-b,p+t.cameraHeight,a.position-(e.looped?i.getTrackLength():0),t.cameraDepth,t.width,t.height,t.roadWidth),d+=b,b+=e.curve,e.p1.camera.z<=t.cameraDepth||e.p2.screen.y>=e.p1.screen.y||e.p2.screen.y>=u||(n.segment(t.lanes,e.p1.screen.x,e.p1.screen.y,e.p1.screen.w,e.p2.screen.x,e.p2.screen.y,e.p2.screen.w,e.fog,e.color),u=e.p1.screen.y)}n.renderObjects(m,l.index,t.drawDistance,t.roadWidth,a.sprites,(e,t,a)=>{if(i.getBillboardName){const n=i.getBillboardName(e);n&&i.recordBillboardImpression(t,a,n,h)}}),n.player(t.roadWidth,a.sprites,a.speed/t.maxSpeed,t.cameraDepth/t.playerZ,t.width/2,t.height/2-t.cameraDepth/t.playerZ*P.interpolate(c.p1.camera.y,c.p2.camera.y,r)*t.height/2,a.speed*(Y.current.left?-1:Y.current.right?1:0),c.p2.world.y-c.p1.world.y);const y=Date.now();n.renderCoinAnimations(g.current,y),n.renderCrashAnimations(x.current,y),g.current=g.current.filter(e=>y-e.startTime<500),x.current=x.current.filter(e=>y-e.startTime<500)},[h]),te=(0,n.useCallback)(async()=>{r("loading"),V()?await Q()?(X(),T.current=new H($,ee,I.fps),T.current.start(),r("playing")):console.error("Failed to load game assets"):console.error("Failed to initialize game engines")},[V,Q,X,$,ee]),ae=(0,n.useCallback)(()=>{var e;if("playing"===c)r("paused"),null===(e=T.current)||void 0===e||e.stop();else if("paused"===c){var t;r("playing"),null===(t=T.current)||void 0===t||t.start()}},[c]),ne=(0,n.useCallback)(()=>{var e,t;null===(e=T.current)||void 0===e||e.stop(),null===(t=L.current)||void 0===t||t.destroy(),r("gameover")},[]);(0,n.useEffect)(()=>{h>e&&(i(d),l(!0),ne())},[h,e,d,i,l,ne]);const ie=(0,n.useCallback)(e=>{L.current&&L.current.setupTouchControls(e)},[]);(0,n.useEffect)(()=>{"playing"===c&&L.current&&L.current.setupTouchControls(s)},[c,s]),(0,n.useEffect)(()=>()=>{var e,t;null===(e=T.current)||void 0===e||e.stop(),null===(t=L.current)||void 0===t||t.destroy()},[]);const le=(0,n.useCallback)((e,t)=>{switch(e){case"left":Y.current.left=t;break;case"right":Y.current.right=t;break;case"up":Y.current.faster=t;break;case"down":Y.current.slower=t}},[]),se=(0,n.useCallback)(()=>D.current?D.current.getBillboardStats(e):null,[e]);return{canvasRef:y,gameState:c,currentLap:h,points:d,hud:u,availableLaps:e,startGame:te,togglePause:ae,stopGame:ne,setupTouchControls:ie,handleTouchControl:le,getBillboardStats:se}}(g,c,r,a,s);(0,n.useEffect)(()=>{B.current&&(B.current.width=720,B.current.height=960)},[B]),(0,n.useEffect)(()=>{m&&"playing"===N&&Q(!0)},[m,N,Q]);const ee=(0,n.useCallback)(e=>{"playing"===N&&X(e,!0)},[N,X]),te=(0,n.useCallback)(e=>{X(e,!1)},[X]);return(0,n.useEffect)(()=>{const e=e=>{if({37:1,38:1,39:1,40:1}[e.keyCode])return e.preventDefault(),!1;!x||"Escape"!==e.key&&" "!==e.key||(e.preventDefault(),V())};return window.addEventListener("keydown",e,!1),()=>{window.removeEventListener("keydown",e,!1)}},[x,V]),(0,l.jsx)("div",{style:{width:"100%",position:"relative"},children:(0,l.jsxs)("div",{style:{width:"100%",position:"relative",display:"flex",flexDirection:"column",gap:"0.25rem",justifyContent:"center",alignItems:"center"},children:[!x&&(0,l.jsx)(y,{type:"custom",title:o,brandColor:h,onAction:async()=>{D(!0),await K()},actionText:u.games.racing.startRacing,lang:b,customContent:(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{fontSize:"0.75rem",color:"white"},children:"por:"}),(0,l.jsx)("img",{src:p,alt:"Brand Logo",style:{margin:"0 auto",width:"12rem",height:"auto",marginBottom:"1rem"}})]}),(0,l.jsx)("p",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:m?u.games.racing.useTouchControls:u.games.racing.useKeyboard}),(0,l.jsx)("div",{style:{marginTop:"0.5rem"},children:m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.5rem 0.75rem",backgroundColor:"#374151",borderRadius:"0.25rem",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:"\u2190"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.turnLeft})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.5rem 0.75rem",backgroundColor:"#374151",borderRadius:"0.25rem",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:"\u2192"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.turnRight})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.5rem 0.75rem",backgroundColor:"#059669",borderRadius:"0.25rem",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:"\ud83c\udfc1"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.accelerate})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.5rem 0.75rem",backgroundColor:"#dc2626",borderRadius:"0.25rem",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:"\ud83d\uded1"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.brake})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"\u2190"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.or}),(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"A"}),(0,l.jsxs)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:["- ",u.games.racing.turnLeft]})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"\u2192"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.or}),(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"D"}),(0,l.jsxs)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:["- ",u.games.racing.turnRight]})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"\u2191"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.or}),(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"W"}),(0,l.jsxs)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:["- ",u.games.racing.accelerate]})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"\u2193"}),(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:u.games.racing.or}),(0,l.jsx)("kbd",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem",color:"white"},children:"S"}),(0,l.jsxs)("span",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:["- ",u.games.racing.brake]})]})]})}),(0,l.jsx)("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"1rem"},children:u.games.racing.collectCoins})]})}),"paused"===N&&(0,l.jsx)(y,{type:"pause",title:"\u23f8\ufe0f ".concat(u.games.pause),message:u.games.racing.pressEscContinue,onAction:V,actionText:u.games.continue,brandColor:h,lang:b}),(0,l.jsxs)("div",{id:"racer",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:["gameover"===N&&(0,l.jsx)(y,{type:"gameOver",score:L,brandColor:h,lang:b}),(0,l.jsxs)("div",{style:{position:"relative",padding:0,margin:0,width:"100%",maxWidth:"360px",height:"480px",display:"gameover"===N?"none":"block",visibility:"ready"===N?"hidden":"visible"},children:[(0,l.jsx)(Y,{currentLap:T,availableLaps:g,points:L,hud:F,gameState:N}),(0,l.jsx)(Z,{ref:B,width:720,height:960,style:{backgroundColor:"#35cafa",width:"100%",height:"100%"}})]})]}),(0,l.jsx)(J,{getBillboardStats:$,isVisible:d&&"playing"===N&&!m}),m&&"playing"===N&&(0,l.jsx)(ie,{onControl:ee,onControlEnd:te,layout:"racing",brandColor:h,actionIcon:"\ud83c\udfc1",action2Icon:"\ud83d\uded1"})]})})},se=(e,t)=>{var a,i;const[l,s]=n.useState(de()),[c,r]=n.useState(0),[o,h]=n.useState([]);return n.useEffect(()=>{if(!e.pos)return;r(0);const a=a=>{const n=a.map(e=>e.map(e=>"clear"===e[1]?[0,"clear"]:e));return e.tetromino.forEach((t,a)=>{t.forEach((t,i)=>{0!==t&&(n[a+e.pos.y][i+e.pos.x]=[t,"".concat(e.collided?"merged":"clear")])})}),e.collided?(t(),(e=>{let t=0;const a=[];e.forEach((e,n)=>{e.every(e=>0!==e[0])&&(a.push(n),t+=1)}),a.length>0&&(h(a),setTimeout(()=>{h([])},300));const n=e.reduce((t,n,i)=>(a.includes(i)?t.unshift(new Array(e[0].length).fill([0,"clear"])):t.push(n),t),[]);return r(t),n})(n)):n};s(e=>a(e))},[e.collided,null===(a=e.pos)||void 0===a?void 0:a.x,null===(i=e.pos)||void 0===i?void 0:i.y,e.tetromino]),{board:l,setBoard:s,rowsCleared:c,clearingRows:o}},ce=e=>{let{level:t,lives:a,score:n,onPause:i,isPaused:s=!1,customItems:c,brandColor:r="#00d26a",isMobile:o,onQuit:h,showQuitButton:p=!1,isQuitting:d=!1}=e;const b=p&&h&&!d;return(0,l.jsxs)("div",{className:"game-header",children:[(0,l.jsxs)("div",{className:"game-header-stats",children:[void 0!==t&&(0,l.jsxs)("div",{className:"game-header-stat-box",children:[(0,l.jsx)("span",{className:"game-header-stat-label",children:"Nivel"}),(0,l.jsx)("span",{className:"game-header-stat-value",children:t})]}),void 0!==a&&(0,l.jsxs)("div",{className:"game-header-stat-box",children:[(0,l.jsx)("span",{className:"game-header-stat-icon",children:"\u2764\ufe0f"}),(0,l.jsx)("span",{className:"game-header-stat-value",children:a})]}),(0,l.jsxs)("div",{className:"game-header-stat-box",children:[(0,l.jsx)("span",{className:"game-header-stat-icon",children:"\ud83e\ude99"}),(0,l.jsx)("span",{className:"game-header-stat-value",children:n.toLocaleString()})]}),c]}),(0,l.jsxs)("div",{className:"game-header-buttons",children:[i&&!d&&(0,l.jsx)("button",{onClick:i,className:"game-header-btn",style:{backgroundColor:r},children:s?"\u25b6\ufe0f ".concat(o?"":"Continuar"):"\u23f8\ufe0f ".concat(o?"":"Pausar")}),b&&(0,l.jsx)("button",{onClick:h,className:"game-header-btn game-header-quit-btn",style:{backgroundColor:r},children:o?"\u23f9\ufe0f":"\u23f9\ufe0f Salir"})]})]})};var re=a(1416);const oe=new class{constructor(){this.initialized=!1,this.muted=!1,this.lastMoveTime=0,this.MIN_MOVE_GAP=.04,this.moveSynth=null,this.rotateSynth=null,this.lockSynth=null,this.lineSynth=null,this.tetrisSynth=null,this.gameOverSynth=null}async init(){this.initialized||(await re.ni(),this.moveSynth=new re.RG({oscillator:{type:"square"},envelope:{attack:.001,decay:.03,sustain:0,release:.02},volume:-18}).toDestination(),this.rotateSynth=new re.RG({oscillator:{type:"sine"},envelope:{attack:.001,decay:.08,sustain:0,release:.05},volume:-12}).toDestination(),this.lockSynth=new re.sy({pitchDecay:.02,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.15,sustain:0,release:.1},volume:-10}).toDestination(),this.lineSynth=new re.Bh(re.RG,{oscillator:{type:"triangle"},envelope:{attack:.01,decay:.15,sustain:.1,release:.3},volume:-8}).toDestination(),this.tetrisSynth=new re.Bh(re.RG,{oscillator:{type:"sawtooth"},envelope:{attack:.01,decay:.2,sustain:.2,release:.5},volume:-6}).toDestination(),this.gameOverSynth=new re.RG({oscillator:{type:"triangle"},envelope:{attack:.01,decay:.3,sustain:0,release:.3},volume:-8}).toDestination(),this.initialized=!0)}playMove(){if(!this.initialized||this.muted||!this.moveSynth)return;const e=re.tB();e-this.lastMoveTime<this.MIN_MOVE_GAP||(this.lastMoveTime=e,this.moveSynth.triggerAttackRelease("G5","64n",e))}playRotate(){if(!this.initialized||this.muted||!this.rotateSynth)return;const e=re.tB();this.rotateSynth.triggerAttackRelease("C5","32n",e),this.rotateSynth.triggerAttackRelease("E5","32n",e+.02)}playLock(){if(!this.initialized||this.muted||!this.lockSynth)return;const e=re.tB();this.lockSynth.triggerAttackRelease("C3","8n",e)}playLineClear(e){if(!this.initialized||this.muted||!this.lineSynth)return;if(e>=4)return void this.playTetris();const t=re.tB();[["C5"],["C5","E5"],["C5","E5","G5"]][Math.min(e-1,2)].forEach((e,a)=>{this.lineSynth.triggerAttackRelease(e,"8n",t+.08*a)})}playTetris(){if(!this.initialized||this.muted||!this.tetrisSynth)return;const e=re.tB();[{notes:["C4","E4","G4"],time:0},{notes:["E4","G4","B4"],time:.1},{notes:["G4","B4","D5"],time:.2},{notes:["C5","E5","G5","C6"],time:.35}].forEach(t=>{let{notes:a,time:n}=t;this.tetrisSynth.triggerAttackRelease(a,"4n",e+n)})}playGameOver(){if(!this.initialized||this.muted||!this.gameOverSynth)return;const e=re.tB();["E4","D4","C4","B3","A3","G3"].forEach((t,a)=>{this.gameOverSynth.triggerAttackRelease(t,"8n",e+.2*a)})}setMuted(e){this.muted=e}isMuted(){return this.muted}dispose(){var e,t,a,n,i,l;this.initialized&&(null===(e=this.moveSynth)||void 0===e||e.dispose(),null===(t=this.rotateSynth)||void 0===t||t.dispose(),null===(a=this.lockSynth)||void 0===a||a.dispose(),null===(n=this.lineSynth)||void 0===n||n.dispose(),null===(i=this.tetrisSynth)||void 0===i||i.dispose(),null===(l=this.gameOverSynth)||void 0===l||l.dispose(),this.moveSynth=null,this.rotateSynth=null,this.lockSynth=null,this.lineSynth=null,this.tetrisSynth=null,this.gameOverSynth=null,this.initialized=!1)}},he=10,pe={0:{shape:[[0]],color:"#000000"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#50e3e4"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#245fdf"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#dfad24"},O:{shape:[["O","O"],["O","O"]],color:"#dfd924"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#30d934"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#843dc6"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#e34e4e"}},de=()=>Array.from(Array(20),()=>Array(he).fill([0,"clear"])),be=()=>{const e=["I","J","L","O","S","T","Z"],t=e[Math.floor(Math.random()*e.length)];return pe[t]},ue=(e,t,a)=>{let{x:n,y:i}=a;for(let l=0;l<e.tetromino.length;l+=1)for(let a=0;a<e.tetromino[l].length;a+=1)if(0!==e.tetromino[l][a]&&(!t[l+e.pos.y+i]||!t[l+e.pos.y+i][a+e.pos.x+n]||"clear"!==t[l+e.pos.y+i][a+e.pos.x+n][1]))return!0},me=e=>{let{type:t,isClearing:a}=e;const n=pe[t].color,i=0===t;return(0,l.jsx)("div",{className:"game-cell ".concat(i?"":"game-cell-filled"," ").concat(a?"game-cell-clearing":""),style:{backgroundColor:i?"transparent":a?"#ffffff":n,borderColor:i?"rgba(255, 255, 255, 0.1)":a?"#ffffff":"".concat(n,"88"),boxShadow:i?"none":"inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)"}})},ge=e=>{let{board:t,clearingRows:a=[]}=e;return(0,l.jsx)("div",{className:"game-board-tetris",children:t.map((e,t)=>e.map((e,n)=>(0,l.jsx)(me,{type:e[0],isClearing:a.includes(t)},"".concat(t,"-").concat(n))))})},xe=e=>{var t;let{shape:a,color:n}=e;return(0,l.jsx)("div",{className:"game-board-tetris",style:{gridTemplateColumns:"repeat(".concat((null===(t=a[0])||void 0===t?void 0:t.length)||0,", 1fr)"),gridTemplateRows:"repeat(".concat(a.length,", 1fr)"),padding:"0.5rem",border:"1px solid #4b5563"},children:a.map((e,t)=>e.map((e,a)=>(0,l.jsx)("div",{className:"game-cell ".concat(0!==e?"game-cell-filled":""),style:{backgroundColor:0!==e?n:"transparent",borderColor:0!==e?"".concat(n,"88"):"rgba(255, 255, 255, 0.1)",boxShadow:0!==e?"inset 0 1px 2px rgba(255,255,255,0.3), inset 0 -1px 2px rgba(0,0,0,0.3)":"none"}},"".concat(t,"-").concat(a))))})},ye=e=>{let{lives:t,setPointsEarned:a,setGameOver:i,brandColor:s,skin:c="default",gameTitle:r="TETRIS",brandLogo:o}=e;const h=q(),[p,d]=(0,n.useState)(!1),[b,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[S,E]=(0,n.useState)(t),[j,k]=(0,n.useState)(0),[A,D]=(0,n.useState)(1),[,B]=(0,n.useState)(0),[N,T]=(0,n.useState)(be()),[M,R]=(0,n.useState)(null),[G,L]=(0,n.useState)(1e3),{player:F,updatePlayerPos:I,resetPlayer:P,playerRotate:O}=(()=>{const[e,t]=(0,n.useState)({}),a=(0,n.useCallback)(e=>t({pos:{x:he/2-2,y:0},tetromino:e||be().shape,collided:!1}),[]);return{player:e,updatePlayerPos:e=>{let{x:a,y:n,collided:i}=e;t(e=>(0,f.A)((0,f.A)({},e),{},{pos:{x:e.pos.x+a,y:e.pos.y+n},collided:i}))},resetPlayer:a,playerRotate:a=>{const n=JSON.parse(JSON.stringify(e));var i;n.tetromino=(i=n.tetromino).map((e,t)=>i.map(e=>e[t])).map(e=>e.reverse());const l=n.pos.x;let s=1;for(;ue(n,a,{x:0,y:0});)if(n.pos.x+=s,s=-(s+(s>0?1:-1)),s>n.tetromino[0].length)return void(n.pos.x=l);t(n)}}})(),{board:z,setBoard:U,rowsCleared:H,clearingRows:W}=se(F,()=>{Y()}),_=(0,n.useRef)(null),Y=(0,n.useCallback)(()=>{N&&(P(N.shape),T(be()))},[N,P]),J=(0,n.useCallback)(e=>{ue(F,z,{x:e,y:0})||(I({x:e,y:0,collided:!1}),oe.playMove())},[F,z,I]),Z=(0,n.useCallback)(e=>{if(!m&&!b)switch(e){case"up":O(z),oe.playRotate();break;case"down":R(30);break;case"left":J(-1);break;case"right":J(1)}},[m,b,z,O,J]),K=(0,n.useCallback)(e=>{"down"===e&&R(G)},[G]),V=e=>{let{keyCode:t}=e;m||40===t&&R(G)},Q=e=>{let{keyCode:t,repeat:a}=e;if(!b||m)if(37===t)J(-1);else if(39===t)J(1);else if(40===t){if(a)return;R(30)}else 38===t&&(O(z),oe.playRotate())},X=e=>{if(1==={37:1,38:1,39:1,40:1}[e.keyCode])return e.preventDefault(),!1};return(0,n.useEffect)(()=>(window.addEventListener("keydown",X,!1),oe.init(),()=>{oe.dispose()}),[]),((e,t)=>{const a=(0,n.useRef)(e);(0,n.useEffect)(()=>{a.current=e},[e]),(0,n.useEffect)(()=>{if(null!==t){const e=setInterval(()=>{a.current&&a.current()},t);return()=>clearInterval(e)}},[t])})(()=>{!p||m||b||(ue(F,z,{x:0,y:1})?F.pos.y<1?(E(S-1),S-1<=0?(g(!0),i(!0),a(j),R(null),oe.playGameOver()):U(de())):(I({x:0,y:0,collided:!0}),oe.playLock()):I({x:0,y:1,collided:!1}))},M),(0,n.useEffect)(()=>{if(H>0){let e=0;switch(H){case 1:e=100*A;break;case 2:e=300*A;break;case 3:e=500*A;break;case 4:e=800*A;break;default:e=100*A*H}oe.playLineClear(H),k(t=>t+e),B(e=>{const t=e+H,a=Math.floor(t/10)+1;return a>A&&D(a),t}),R(G)}},[H,A,G]),(0,n.useEffect)(()=>{const e=Math.max(100,1e3-50*(A-1));L(e)},[A]),(0,n.useEffect)(()=>{R(G)},[G]),(0,n.useEffect)(()=>{const e=e=>Q(e),t=e=>V(e);return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[b,m,F,z,G,J,O]),(0,n.useEffect)(()=>{const e=_.current;return()=>{e&&clearTimeout(e)}},[]),(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s||"#111827"},children:[(0,l.jsx)(ce,{level:A,lives:S,score:j,onPause:()=>u(!b),isPaused:b,brandColor:s,isMobile:h,onQuit:()=>{v(!0),w(b),u(!0)},showQuitButton:p,isQuitting:x}),(0,l.jsx)("div",{className:"game-board",children:(0,l.jsxs)("div",{className:"game-board-inner",children:[(0,l.jsx)("div",{className:"game-board-content",onKeyDown:Q,onKeyUp:V,children:(0,l.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsx)(ge,{board:z,clearingRows:W})}),(0,l.jsxs)("div",{className:"game-next-piece",children:[(0,l.jsx)("h3",{className:"game-next-piece-title",children:"SIGUIENTE"}),(0,l.jsx)("div",{className:"game-next-piece-box",children:(0,l.jsx)(xe,{shape:N.shape,color:N.color})}),"default"!==c&&(0,l.jsx)("div",{style:{width:"100%",marginTop:"1.5rem",color:"#9ca3af"},children:(0,l.jsx)("img",{src:"/games/tetris/skins/".concat(c,"/ad.webp"),alt:"".concat(c," skin - Ad 200x600"),style:{width:"96%",margin:"0 auto",objectFit:"contain"}})})]})]})}),b&&!x&&(0,l.jsx)(y,{type:"pause",brandColor:s,onAction:()=>u(!1)}),x&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(j,") y perder\xe1s las vidas restantes."),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{v(!1),u(C)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{a(j),i(!0),d(!1),R(null)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir Ahora"})]})}),m&&(0,l.jsx)(y,{type:"gameOver",score:j,brandColor:s}),!p&&(0,l.jsx)(y,{type:"custom",brandColor:s,onAction:()=>{d(!0),U(de()),R(G),T(be()),Y(),g(!1),k(0),E(t),D(1),B(0),v(!1)},actionText:"\ud83c\udfae JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#a855f7",marginBottom:"0.5rem"},children:r}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{fontSize:"0.75rem",color:"white"},children:"por:"}),(0,l.jsx)("img",{src:o,alt:"Brand Logo",style:{margin:"0 auto",width:"12rem",height:"auto",marginBottom:"1rem"}})]}),(0,l.jsxs)("div",{style:{color:"#d1d5db",fontSize:"0.875rem"},children:[(0,l.jsx)("p",{children:"\ud83e\udde9 Completa l\xedneas horizontales"}),(0,l.jsx)("p",{children:"\u2b06\ufe0f Rota las piezas con flecha arriba"}),(0,l.jsx)("p",{children:"\u2b07\ufe0f Acelera la ca\xedda con flecha abajo"})]}),(0,l.jsx)("div",{style:{fontSize:"0.875rem",color:"#9ca3af",marginTop:"1rem"},children:(0,l.jsx)("p",{children:"Usa las flechas del teclado o los controles t\xe1ctiles"})})]})})]})}),h&&p&&(0,l.jsx)(ie,{onControl:Z,onControlEnd:K,layout:"arrows",brandColor:s,showRotateButton:!0,onRotate:()=>{m||b||(O(z),oe.playRotate())}})]})},fe=[{type:"apple",points:1,rarity:.3},{type:"banana",points:2,rarity:.25},{type:"cherries",points:3,rarity:.2},{type:"grapes",points:5,rarity:.15},{type:"boost",points:1,specialEffect:"boost",rarity:.05},{type:"diet",points:0,specialEffect:"diet",rarity:.05}];const ve=new class{constructor(){this.initialized=!1,this.muted=!1,this.lastSynthTime=0,this.lastNoiseTime=0,this.MIN_TIME_GAP=.015,this.popSynth=null,this.bellSynth=null,this.bassSynth=null,this.noiseSynth=null,this.melodySynth=null}async init(){this.initialized||(await re.ni(),this.popSynth=new re.RG({oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.1},volume:-8}).toDestination(),this.bellSynth=new re.Bh(re.RG,{oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:.1,release:.4},volume:-10}).toDestination(),this.bassSynth=new re.sy({pitchDecay:.05,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:0,release:.4},volume:-6}).toDestination(),this.noiseSynth=new re.LJ({noise:{type:"pink"},envelope:{attack:.005,decay:.15,sustain:0,release:.1},volume:-18}).toDestination(),this.melodySynth=new re.Bh(re.RG,{oscillator:{type:"triangle"},envelope:{attack:.01,decay:.15,sustain:.2,release:.3},volume:-10}).toDestination(),this.initialized=!0)}getSafeTime(e,t){const a=re.tB(),n=e+this.MIN_TIME_GAP,i=Math.max(a,n);return"synth"===t?this.lastSynthTime=i:"noise"===t&&(this.lastNoiseTime=i),i}playEatFood(){if(!this.initialized||this.muted||!this.popSynth)return;const e=this.getSafeTime(this.lastSynthTime,"synth");this.popSynth.triggerAttackRelease("C5","16n",e)}playEatBoost(){if(!this.initialized||this.muted||!this.bellSynth)return;const e=re.tB();["E5","G5","B5","E6"].forEach((t,a)=>{this.bellSynth.triggerAttackRelease(t,"16n",e+.05*a)})}playEatDiet(){if(!this.initialized||this.muted||!this.popSynth)return;const e=this.getSafeTime(this.lastSynthTime,"synth");this.popSynth.triggerAttackRelease("G4","16n",e),this.popSynth.triggerAttackRelease("D4","16n",e+.05),this.lastSynthTime=e+.05}playGameOver(){if(!this.initialized||this.muted)return;const e=this.getSafeTime(this.lastSynthTime,"synth"),t=this.getSafeTime(this.lastNoiseTime,"noise");if(this.bassSynth&&this.bassSynth.triggerAttackRelease("C2","4n",e),this.noiseSynth&&this.noiseSynth.triggerAttackRelease("8n",t),this.melodySynth){["E4","D4","C4","B3"].forEach((t,a)=>{this.melodySynth.triggerAttackRelease(t,"8n",e+.2+.2*a)})}}playSpeedUp(){if(!this.initialized||this.muted||!this.melodySynth)return;const e=re.tB();["C5","E5","G5"].forEach((t,a)=>{this.melodySynth.triggerAttackRelease(t,"32n",e+.06*a)})}setMuted(e){this.muted=e}isMuted(){return this.muted}dispose(){var e,t,a,n,i;this.initialized&&(null===(e=this.popSynth)||void 0===e||e.dispose(),null===(t=this.bellSynth)||void 0===t||t.dispose(),null===(a=this.bassSynth)||void 0===a||a.dispose(),null===(n=this.noiseSynth)||void 0===n||n.dispose(),null===(i=this.melodySynth)||void 0===i||i.dispose(),this.popSynth=null,this.bellSynth=null,this.bassSynth=null,this.noiseSynth=null,this.melodySynth=null,this.initialized=!1)}},Ce=e=>{let{images:t,onScoreUpdate:a,onGameOver:i,isPaused:s,boardSize:c=20,cellSize:r=20}=e;const o=(0,n.useRef)(null),[h,p]=(0,n.useState)([{x:10,y:10}]),[d,b]=(0,n.useState)({position:{x:15,y:15},points:1,type:"apple"}),[u,m]=(0,n.useState)("RIGHT"),[g,x]=(0,n.useState)("RIGHT"),[y,v]=(0,n.useState)(200),C=(0,n.useRef)(0),w=(0,n.useRef)(0),S=(0,n.useRef)(0),[E,j]=(0,n.useState)(!1),[k,A]=(0,n.useState)(0),D=(0,n.useRef)(1),B=(0,n.useRef)(!1),N=c*r;(0,n.useEffect)(()=>(B.current=!1,ve.init(),()=>{B.current=!1,ve.dispose()}),[]);const T=(0,n.useCallback)(()=>{const e=()=>({x:Math.floor(Math.random()*c),y:Math.floor(Math.random()*c)});let t=e();for(;h.some(e=>e.x===t.x&&e.y===t.y);)t=e();return t},[c,h]),M=(0,n.useCallback)(()=>{const e=fe.reduce((e,t)=>e+(t.rarity||0),0);let t=Math.random()*e,a=fe[0];for(const n of fe)if(t-=n.rarity||0,t<=0){a=n;break}return{position:T(),points:a.points,type:a.type}},[T]),R=(0,n.useCallback)(e=>{if(!s)switch(e.key.startsWith("Arrow")&&e.preventDefault(),e.key){case"ArrowUp":"DOWN"!==u&&x("UP");break;case"ArrowDown":"UP"!==u&&x("DOWN");break;case"ArrowLeft":"RIGHT"!==u&&x("LEFT");break;case"ArrowRight":"LEFT"!==u&&x("RIGHT")}},[s,u]);(0,n.useEffect)(()=>(window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)),[R]);const G=(0,n.useCallback)(()=>{s||(m(g),p(e=>{const t=[...e],n=(0,f.A)({},t[0]);switch(g){case"UP":n.y-=1;break;case"DOWN":n.y+=1;break;case"LEFT":n.x-=1;break;case"RIGHT":n.x+=1}if(n.x<0&&(n.x=c-1),n.x>=c&&(n.x=0),n.y<0&&(n.y=c-1),n.y>=c&&(n.y=0),t.some(e=>e.x===n.x&&e.y===n.y))return B.current||(B.current=!0,ve.playGameOver(),setTimeout(()=>{i()},0)),e;if(t.unshift(n),n.x===d.position.x&&n.y===d.position.y){const e=fe.find(e=>e.type===d.type);if("boost"===(null===e||void 0===e?void 0:e.specialEffect))j(!0),A(1e4),D.current=2,ve.playEatBoost();else if("diet"===(null===e||void 0===e?void 0:e.specialEffect)&&t.length>1){const e=Math.min(3,t.length-1);for(let a=0;a<e;a++)t.pop();ve.playEatDiet()}else ve.playEatFood();const n=d.points*D.current;S.current+=n,setTimeout(()=>{a(n)},0),b(M()),S.current%25===0&&(v(e=>Math.max(40,e-10)),ve.playSpeedUp())}else t.pop();return t}))},[s,g,c,d,M,i]);return(0,n.useEffect)(()=>{if(E&&k>0){const e=setInterval(()=>{A(e=>e<=100?(j(!1),D.current=1,0):e-100)},100);return()=>clearInterval(e)}},[E,k]),(0,n.useEffect)(()=>{const e=t=>{t-C.current>=y&&(G(),C.current=t),w.current=requestAnimationFrame(e)};return w.current=requestAnimationFrame(e),()=>{w.current&&cancelAnimationFrame(w.current)}},[G,y]),(0,n.useEffect)(()=>{const e=o.current;if(!e)return;const a=e.getContext("2d");if(!a)return;a.clearRect(0,0,N,N),a.drawImage(t.background,0,0,N,N),a.strokeStyle="rgba(255, 255, 255, 0.1)",a.lineWidth=.5;for(let t=0;t<=c;t++)a.beginPath(),a.moveTo(t*r,0),a.lineTo(t*r,N),a.moveTo(0,t*r),a.lineTo(N,t*r),a.stroke();let n;switch(h.forEach((e,n)=>{if(0===n){let n;switch(u){case"UP":n=t.headUp;break;case"DOWN":n=t.headDown;break;case"LEFT":n=t.headLeft;break;case"RIGHT":n=t.headRight}a.drawImage(n,e.x*r,e.y*r,r,r)}else a.drawImage(t.tail,e.x*r,e.y*r,r,r)}),d.type){case"apple":n=t.apple;break;case"banana":n=t.banana;break;case"cherries":n=t.cherries;break;case"grapes":n=t.grapes;break;case"boost":n=t.boost;break;case"diet":n=t.diet}a.drawImage(n,d.position.x*r,d.position.y*r,r,r),E&&(a.strokeStyle="#FFD700",a.lineWidth=4,a.strokeRect(2,2,N-4,N-4),a.fillStyle="#FFD700",a.font="bold 16px Arial",a.shadowColor="black",a.shadowBlur=2,a.fillText("Boost: ".concat((k/1e3).toFixed(1),"s"),10,25),a.shadowBlur=0)},[h,d,u,t,c,r,N,E,k]),(0,l.jsx)(Z,{ref:o,width:N,height:N,className:"border-4 border-green-500/50 rounded-lg shadow-2xl",style:{imageRendering:"auto"}})},we=e=>{let{initialLives:t,setGameOver:a,setPointsEarned:i,brandColor:s="#10b981",skin:c,gameTitle:r="SNAKE",maxPoints:o,brandLogo:h}=e;const p=(0,n.useRef)(null),[d,b,u]=(e=>{const[t,a]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[s,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{const t=e=>new Promise((t,a)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>a(new Error("Failed to load image: ".concat(e))),n.src=e});(async()=>{try{l(!0),c(null);const n="/games/space-snake/img/",i=e?"skins/".concat(e,"/"):"",[s,r,o,h,p,d,b,u,m,g,x,y]=await Promise.all([t("".concat(n).concat(i,"head-up.webp")),t("".concat(n).concat(i,"head-down.webp")),t("".concat(n).concat(i,"head-left.webp")),t("".concat(n).concat(i,"head-right.webp")),t("".concat(n).concat(i,"tail.webp")),t("".concat(n).concat(i,"apple.webp")),t("".concat(n).concat(i,"banana.webp")),t("".concat(n).concat(i,"cherries.webp")),t("".concat(n).concat(i,"grapes.webp")),t("".concat(n).concat(i,"boost.webp")).catch(()=>t("".concat(n).concat(i,"grapes.webp"))),t("".concat(n).concat(i,"diet.webp")).catch(()=>t("".concat(n).concat(i,"apple.webp"))),t("".concat(n).concat(i,"bg.webp"))]);a({headUp:s,headDown:r,headLeft:o,headRight:h,tail:p,apple:d,banana:b,cherries:u,grapes:m,boost:g,diet:x,background:y})}catch(n){c(n instanceof Error?n.message:"Failed to load images")}finally{l(!1)}})()},[e]),[t,i,s]})(c),[m,g]=(0,n.useState)(0),[x,f]=(0,n.useState)(t),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),[E,j]=(0,n.useState)(!1),[k,A]=(0,n.useState)(!1),[D,B]=(0,n.useState)(!1),[,N]=(0,n.useState)({width:0,height:0}),[T,M]=(0,n.useState)(!1),[R,G]=(0,n.useState)(""),[L,F]=(0,n.useState)(0),[I,P]=(0,n.useState)(0),O=q();(0,n.useEffect)(()=>{const e=()=>{N({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{const e=e=>{" "!==e.key&&"Escape"!==e.key||(e.preventDefault(),w&&!E&&z())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[w,E]);const z=(0,n.useCallback)(()=>{w&&!E&&C(e=>!e)},[w,E]),U=(0,n.useCallback)(()=>{!w&&d&&(S(!0),j(!1),g(0),F(0),f(t),A(!1))},[w,d,t]),H=(0,n.useCallback)(()=>{if(!E){const e=x-1;f(e),e<=0?(j(!0),a(!0),i(L)):P(e=>e+1)}},[E,x,L,a,i]),W=(0,n.useCallback)(e=>{const t=L+e;if(F(t),g(t),o&&t>=o)return j(!0),a(!0),void i(t);const n=[50,100,200,300,500],l=n.filter(e=>L>=e).length;n.filter(e=>t>=e).length>l&&(G("\xa1Velocidad Aumentada!"),M(!0),setTimeout(()=>M(!1),1500))},[L,o,a,i]),_=(0,n.useCallback)(e=>{if(w&&!v&&!E){const t=new KeyboardEvent("keydown",{key:"Arrow".concat(e.charAt(0).toUpperCase()+e.slice(1)),bubbles:!0});window.dispatchEvent(t)}},[w,v,E]);return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s||"#111827"},ref:p,children:[(0,l.jsx)(ce,{lives:x,score:m,onPause:z,isPaused:v,brandColor:s,isMobile:O,onQuit:()=>{A(!0),B(v),C(!0)},showQuitButton:w,isQuitting:k}),(0,l.jsx)("div",{className:"game-board",style:{aspectRatio:"1"},children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[b&&(0,l.jsx)("div",{className:"game-loading",children:(0,l.jsx)("div",{children:"Cargando..."})}),u&&(0,l.jsx)("div",{className:"game-error",children:(0,l.jsxs)("div",{children:["Error al cargar im\xe1genes: ",u]})}),d&&w&&!E&&(0,l.jsx)("div",{style:{transform:"scale(".concat((()=>{const e=O?16:32,t=O?160:0,a=(window.innerWidth-2*e)/400,n=(window.innerHeight-80-t-20)/400;let i=Math.min(a,n);return O?(i=Math.min(i,1.2),Math.max(i,.5)):Math.min(i,1)})(),")"),transformOrigin:"center"},children:(0,l.jsx)(Ce,{images:d,onScoreUpdate:W,onLivesUpdate:f,onGameOver:H,isPaused:v},I)}),T&&w&&!E&&(0,l.jsx)("div",{className:"game-notification",children:(0,l.jsx)("div",{className:"game-notification-content",children:(0,l.jsx)("p",{className:"game-notification-text",children:R})})}),!w&&d&&(0,l.jsx)(y,{type:"custom",brandColor:s,onAction:U,actionText:"\ud83c\udfae JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",color:"#4ade80"},children:r}),h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{fontSize:"0.75rem",color:"white"},children:"por:"}),(0,l.jsx)("img",{src:h,alt:"Brand Logo",style:{margin:"0 auto",width:"12rem",height:"auto",marginBottom:"1rem"}})]}),(0,l.jsxs)("div",{style:{color:"#d1d5db",fontSize:"0.875rem"},children:[(0,l.jsx)("p",{children:"\ud83d\udc0d Mueve la serpiente con las flechas"}),(0,l.jsx)("p",{children:"\ud83c\udf4e Recolecta los items para crecer"}),(0,l.jsx)("p",{children:"\u26a1 La velocidad aumenta con los puntos"}),(0,l.jsx)("p",{children:"\ud83d\udca5 No choques contigo mismo"})]}),(0,l.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.75rem"},children:(0,l.jsx)("p",{children:"Usa las flechas del teclado o los controles t\xe1ctiles"})})]})}),v&&!E&&(0,l.jsx)(y,{type:"pause",brandColor:s,onAction:z}),E&&(0,l.jsx)(y,{type:"gameOver",score:m,brandColor:s}),k&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(L,") y perder\xe1s las vidas restantes."),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{A(!1),C(D)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{i(L),a(!0),S(!1),j(!0)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir Ahora"})]})})]})}),O&&w&&!E&&(0,l.jsx)(ie,{onControl:_,brandColor:s,layout:"arrows",showActionButton:!1})]})};const Se=new class{constructor(){this.initialized=!1,this.muted=!1,this.lastFlapTime=0,this.MIN_FLAP_GAP=.08,this.flapSynth=null,this.scoreSynth=null,this.collisionSynth=null,this.gameOverSynth=null}async init(){this.initialized||(await re.ni(),this.flapSynth=new re.RG({oscillator:{type:"sine"},envelope:{attack:.001,decay:.08,sustain:0,release:.05},volume:-10}).toDestination(),this.scoreSynth=new re.Bh(re.RG,{oscillator:{type:"sine"},envelope:{attack:.01,decay:.15,sustain:.1,release:.3},volume:-8}).toDestination(),this.collisionSynth=new re.sy({pitchDecay:.03,octaves:3,oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:0,release:.1},volume:-6}).toDestination(),this.gameOverSynth=new re.Bh(re.RG,{oscillator:{type:"triangle"},envelope:{attack:.01,decay:.25,sustain:0,release:.3},volume:-8}).toDestination(),this.initialized=!0)}playFlap(){if(!this.initialized||this.muted||!this.flapSynth)return;const e=re.tB();e-this.lastFlapTime<this.MIN_FLAP_GAP||(this.lastFlapTime=e,this.flapSynth.triggerAttackRelease("C5","32n",e),this.flapSynth.triggerAttackRelease("E5","32n",e+.03))}playScore(){if(!this.initialized||this.muted||!this.scoreSynth)return;const e=re.tB();this.scoreSynth.triggerAttackRelease(["E5","G5"],"8n",e)}playCollision(){if(!this.initialized||this.muted||!this.collisionSynth)return;const e=re.tB();this.collisionSynth.triggerAttackRelease("C2","8n",e)}playGameOver(){if(!this.initialized||this.muted||!this.gameOverSynth)return;const e=re.tB();["E4","D4","C4","B3","G3"].forEach((t,a)=>{this.gameOverSynth.triggerAttackRelease(t,"8n",e+.18*a)})}setMuted(e){this.muted=e}isMuted(){return this.muted}dispose(){var e,t,a,n;this.initialized&&(null===(e=this.flapSynth)||void 0===e||e.dispose(),null===(t=this.scoreSynth)||void 0===t||t.dispose(),null===(a=this.collisionSynth)||void 0===a||a.dispose(),null===(n=this.gameOverSynth)||void 0===n||n.dispose(),this.flapSynth=null,this.scoreSynth=null,this.collisionSynth=null,this.gameOverSynth=null,this.initialized=!1)}},Ee=1e3/60,je=e=>{const[t,a]=(0,n.useState)(0),[i,l]=(0,n.useState)((null===e||void 0===e?void 0:e.options.lives)||3),[s,c]=(0,n.useState)(0),[r,o]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),[d,b]=(0,n.useState)((null===e||void 0===e?void 0:e.options.gap)||500),u=(0,n.useRef)(!1),m=(0,n.useRef)(0),g=(0,n.useRef)(150),x=(0,n.useRef)(0),y=(0,n.useRef)([{x:288,y:0,passed:!1}]),f=(0,n.useRef)(0),v=(0,n.useRef)(0);(0,n.useEffect)(()=>(Se.init(),()=>{Se.dispose()}),[]);const C=(0,n.useCallback)(()=>{e&&(r?r&&!h?w():m.current>e.options.delayFrameCount&&u.current&&E():S())},[e,r,h]),w=(0,n.useCallback)(()=>{e&&(x.current=-e.options.upMovement/2.8,Se.playFlap())},[e]),S=(0,n.useCallback)(()=>{o(!0),p(!1),a(0),l((null===e||void 0===e?void 0:e.options.lives)||3),c(0),g.current=150,x.current=0,v.current=0,y.current=[{x:288,y:0,passed:!1}],b((null===e||void 0===e?void 0:e.options.gap)||500),m.current=0},[e]),E=(0,n.useCallback)(()=>{g.current=150,x.current=0,v.current=0,y.current=[{x:288,y:0,passed:!1}],m.current=0,i<=0||s>=((null===e||void 0===e?void 0:e.options.lives)||3)?S():(o(!0),p(!1))},[i,s,e,S]),j=(0,n.useCallback)(()=>{var a,n;const r=s+1,o=i-1;c(r),l(o),null===e||void 0===e||null===(a=(n=e.functions).onLivesUpdate)||void 0===a||a.call(n,o),Se.playCollision(),o<=0||r>=((null===e||void 0===e?void 0:e.options.lives)||3)?(p(!0),null===e||void 0===e||e.functions.setGameOver(!0),null===e||void 0===e||e.functions.setPointsEarned(t),Se.playGameOver()):E()},[s,i,e,t,E]),k=(0,n.useCallback)(n=>{if(!e)return;const l=performance.now();if(l-f.current<Ee)return;f.current=l;const s=n.canvas,{bird:c,foreground:o,background:C,pipeNorth:w,pipeSouth:S,coin:E,heart:k}=e.assets,{gravity:A}=e.options,D=Math.floor(t/200)+1,B=h?0:2+.2*(D-1),N=y.current;if(n.clearRect(0,0,s.width,s.height),n.drawImage(C,0,0),r&&!h&&!e.options.isPaused){x.current+=A/6,x.current=Math.min(x.current,8),g.current+=x.current,v.current=Math.min(Math.max(3*x.current,-25),90);for(let i=N.length-1;i>=0;i--){if(N[i].x<-52){N.splice(i,1);continue}if(n.drawImage(w,N[i].x,N[i].y),n.drawImage(S,N[i].x,N[i].y+d),N[i].x-=B,i===N.length-1&&N[i].x<=s.width-140&&!h){const e=Math.min(t/100,1.5),a=80-w.height,n=s.height-o.height-d-80,l=N[i].y,c=Math.floor(Math.random()*(n-a))+a;let r=c;Math.abs(c-l)<50&&(r=c+(Math.random()>.5?60:-60)*e,r=Math.max(a,Math.min(n,r)));const h=180-5*Math.floor(t/100),p=Math.floor(30*Math.random())+Math.max(150,h);N.push({x:N[i].x+p,y:r,passed:!1})}if(!N[i].passed&&N[i].x+52<e.options.birdX&&!h){N[i].passed=!0;const n=Math.floor(t/200)+1,l=e.options.pointsPerObstacle+5*(n-1),s=t+l;if(Se.playScore(),e.options.maxPoints&&e.options.maxPoints>0&&s>=e.options.maxPoints){var T,M;a(e.options.maxPoints),null===(T=(M=e.functions).onScoreUpdate)||void 0===T||T.call(M,e.options.maxPoints),p(!0),e.functions.setGameOver(!0),e.functions.setPointsEarned(e.options.maxPoints)}else{var R,G;a(s),null===(R=(G=e.functions).onScoreUpdate)||void 0===R||R.call(G,s);const t=6*Math.floor(s/20),n=Math.max(e.options.gap-t,350);b(n)}}const l=g.current+24>=s.height-o.height+20,c=g.current<=0,r=e.options.birdX+8,m=e.options.birdX+34-8,x=g.current+8,y=g.current+24-8,f=N[i].x+2,v=N[i].x+52-2,C=N[i].y+w.height-5,E=N[i].y+d+5,k=m>f&&r<v&&(x<C||y>E);u.current=l,(k||l||c)&&j()}n.save(),n.translate(e.options.birdX+17,g.current+12),n.rotate(v.current*Math.PI/180),n.drawImage(c,-17,-12),n.restore()}if(n.drawImage(o,0,s.height-o.height+20),h&&!e.options.hideOverlays)m.current++,n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,0,s.width,s.height),n.font="48px 'Tahoma'",n.fillStyle="#fff",n.strokeStyle="#000",n.lineWidth=4,n.strokeText("Game Over",24,260),n.fillText("Game Over",24,260),u.current&&(n.font="bold 16px 'Tahoma'",n.strokeStyle="#000",n.lineWidth=3,n.strokeText("Haz clic para comenzar",54,460),n.fillStyle="#fff",n.fillText("Haz clic para comenzar",54,460));else{if(!r){if(m.current++,!e.options.hideOverlays){n.fillStyle="rgba(0, 0, 0, 0.3)",n.fillRect(0,0,s.width,s.height),n.font="42px 'Tahoma'",n.fillStyle="#fff",n.strokeStyle="#000",n.lineWidth=4;const t=n.measureText(e.options.gameTitle).width,a=(s.width-t)/2;n.strokeText(e.options.gameTitle,a,160),n.fillText(e.options.gameTitle,a,160)}const t=Math.abs(Math.sin(.03*m.current));n.font="bold 18px 'Tahoma'",n.strokeStyle="#000",n.lineWidth=3,n.globalAlpha=t,n.strokeText("Haz clic para comenzar",44,460),n.fillStyle="#fff",n.fillText("Haz clic para comenzar",44,460),n.globalAlpha=1}if(r&&!e.options.hideOverlays){n.drawImage(E,20,20,32,32),n.fillStyle="#fff",n.strokeStyle="#000",n.lineWidth=3,n.font="bold 32px 'Tahoma'",n.strokeText("".concat(t),70,50),n.fillText("".concat(t),70,50),n.drawImage(k,200,20,32,32),n.strokeText("".concat(i),250,50),n.fillText("".concat(i),250,50);const e=Math.floor(t/200)+1;if(e>1){n.font="bold 14px 'Tahoma'",n.strokeStyle="#000",n.lineWidth=2,n.fillStyle="#ff0";const t="Nivel ".concat(e);n.strokeText(t,20,80),n.fillText(t,20,80)}}}},[e,r,h,t,i,d,j]);return(0,n.useEffect)(()=>{(i<=0||s>=((null===e||void 0===e?void 0:e.options.lives)||3))&&(p(!0),null===e||void 0===e||e.functions.setGameOver(!0),null===e||void 0===e||e.functions.setPointsEarned(t))},[s,i,e,t]),[C,k]},ke=e=>{const t=(0,n.useRef)(null),a=(0,n.useRef)(0),i=(0,n.useRef)(0);return(0,n.useEffect)(()=>{if(!e)return;const n=t.current;if(!n)return;const l=n.getContext("2d",{alpha:!1});if(!l)return;l.imageSmoothingEnabled=!1;const s=()=>{a.current++,e(l,a.current),i.current=window.requestAnimationFrame(s)};return s(),()=>{i.current&&window.cancelAnimationFrame(i.current)}},[e]),t},Ae=e=>{let{lives:t,setGameOver:a,setPointsEarned:i,skin:s,gameTitle:c="FLAPPY CAT",hideOverlays:r=!1,onScoreUpdate:o,onLivesUpdate:h,isPaused:p=!1,maxPoints:d}=e;const[b,u,m]=(e=>{const[t,a]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[s,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{const t=e=>new Promise((t,a)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>a(new Error("Failed to load image: ".concat(e))),n.src=e});(async()=>{try{l(!0),c(null);const n="/games/flappy-bird/",i=e?"skins/".concat(e,"/"):"",[s,r,o,h,p,d,b]=await Promise.all([t("".concat(n).concat(i,"bird.webp")),t("".concat(n).concat(i,"bg.webp")),t("".concat(n).concat(i,"fg.webp")),t("".concat(n).concat(i,"pipeNorth.webp")),t("".concat(n).concat(i,"pipeSouth.webp")),t("".concat(n).concat(i,"coin.webp")),t("".concat(n).concat(i,"heart.webp"))]);a({bird:s,background:r,foreground:o,pipeNorth:h,pipeSouth:p,coin:d,heart:b})}catch(n){c(n instanceof Error?n.message:"Failed to load images")}finally{l(!1)}})()},[e]),[t,i,s]})(s),g=n.useMemo(()=>b?{assets:b,options:{gameTitle:c,delayFrameCount:5,birdX:50,gap:480,upMovement:18,gravity:2.5,pointsPerObstacle:10,lives:t,hideOverlays:r,isPaused:p,maxPoints:d},functions:{setGameOver:a,setPointsEarned:i,onScoreUpdate:o,onLivesUpdate:h}}:null,[b,c,t,a,i,r,o,h,p,d]),[x,y]=je(g),f=ke(y);return u?(0,l.jsx)("div",{className:"flex items-center justify-center w-72 h-[512px] bg-slate-800 rounded-lg",children:(0,l.jsxs)("div",{className:"text-white text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("p",{children:"Cargando juego..."})]})}):m?(0,l.jsx)("div",{className:"flex items-center justify-center w-72 h-[512px] bg-red-900 rounded-lg",children:(0,l.jsxs)("div",{className:"text-white text-center p-4",children:[(0,l.jsx)("p",{className:"font-bold mb-2",children:"Error al cargar el juego"}),(0,l.jsx)("p",{className:"text-sm",children:m})]})}):(0,l.jsx)(Z,{ref:f,width:288,height:512,onClick:()=>{if(!g)return;const e=f.current;(null===e||void 0===e?void 0:e.getContext("2d"))&&x()},className:"cursor-pointer rounded-lg shadow-xl"})},De=e=>{let{initialLives:t,setGameOver:a,setPointsEarned:i,brandColor:s="#00bfff",skin:c,gameTitle:r="FLAPPY BIRD",maxPoints:o,brandLogo:h}=e;const p=(0,n.useRef)(null),d=(0,n.useRef)(null),[b,u]=(0,n.useState)(0),[m,g]=(0,n.useState)(t),[x,f]=(0,n.useState)(1),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(""),[E,j]=(0,n.useState)(!1),[k,A]=(0,n.useState)(!1),[D,B]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),[M,R]=(0,n.useState)(!1),[G,L]=(0,n.useState)(!1),[,F]=(0,n.useState)({width:0,height:0}),I=q();(0,n.useEffect)(()=>{const e=()=>{F({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{const e=e=>{" "!==e.key&&"Escape"!==e.key||(e.preventDefault(),k&&!D&&P())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[k,D]);const P=(0,n.useCallback)(()=>{k&&!D&&j(e=>!e)},[k,D]),O=(0,n.useCallback)(()=>{k||(A(!0),B(!1),T(!1),u(0),g(t),R(!1))},[k,t]),z=(0,n.useCallback)(e=>{e&&!D&&(T(!0),B(!0),a(!0))},[D,a]),U=(0,n.useCallback)(e=>{u(e),i(e)},[i]),H=(0,n.useCallback)(e=>{u(e);const t=Math.floor(e/100)+1;t>x&&(f(t),S("\xa1Nivel ".concat(t,"!")),C(!0),setTimeout(()=>C(!1),800))},[x]);return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s||"#111827"},ref:p,children:[(0,l.jsx)(ce,{level:x,lives:m,score:b,onPause:P,isPaused:E,brandColor:s,isMobile:I,onQuit:()=>{R(!0),L(E),j(!0)},showQuitButton:k,isQuitting:M}),(0,l.jsx)("div",{className:"game-board",children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"512px"},ref:d,children:[k&&!N&&(0,l.jsx)("div",{style:{transform:"scale(".concat((()=>{const e=I?16:32,t=I?160:0,a=window.innerWidth-2*e,n=window.innerHeight-80-t-20,i=a/288,l=Math.min(n,600)/512;let s=Math.min(i,l);return I?(s=Math.min(s,.85),Math.max(s,.4)):Math.min(s,.9)})(),")"),transformOrigin:"center"},children:(0,l.jsx)(Ae,{lives:t,setGameOver:z,setPointsEarned:U,skin:c,gameTitle:"FLAPPY CAT",hideOverlays:!0,onScoreUpdate:H,onLivesUpdate:g,isPaused:E,maxPoints:o})}),v&&k&&!D&&(0,l.jsx)("div",{className:"game-notification",style:{top:"25%"},children:(0,l.jsx)("div",{className:"game-notification-content",style:{backgroundColor:"#eab308",color:"black"},children:(0,l.jsx)("p",{className:"game-notification-text",children:w})})}),!k&&(0,l.jsx)(y,{type:"custom",brandColor:s,onAction:O,actionText:"\ud83c\udfae JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#38bdf8",marginBottom:"0.5rem"},children:r}),h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{fontSize:"0.75rem",color:"white"},children:"por:"}),(0,l.jsx)("img",{src:h,alt:"Brand Logo",style:{margin:"0 auto",width:"12rem",height:"auto",marginBottom:"1rem"}})]}),(0,l.jsxs)("div",{style:{color:"#d1d5db",fontSize:"1rem"},children:[(0,l.jsx)("p",{children:"\ud83d\udc31 Toca para volar"}),(0,l.jsx)("p",{children:"\ud83d\udea7 Evita los obst\xe1culos"}),(0,l.jsx)("p",{children:"\u2b50 Gana puntos al pasar"})]}),(0,l.jsx)("div",{style:{fontSize:"0.875rem",color:"#9ca3af",marginTop:"1rem"},children:(0,l.jsx)("p",{children:"Usa la barra espaciadora o toca la pantalla"})})]})}),E&&!D&&(0,l.jsx)(y,{type:"pause",brandColor:s,onAction:P}),D&&(0,l.jsx)(y,{type:"gameOver",score:b,brandColor:s}),M&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(b,") y perder\xe1s las vidas restantes."),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{R(!1),j(G)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{i(b),a(!0),A(!1),B(!0),T(!0)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir Ahora"})]})})]})})]})};const Be=new class{constructor(){this.initialized=!1,this.muted=!1,this.lastBounceTime=0,this.MIN_BOUNCE_GAP=.03,this.bounceSynth=null,this.brickSynth=null,this.powerUpSynth=null,this.loseSynth=null,this.levelSynth=null}async init(){this.initialized||(await re.ni(),this.bounceSynth=new re.RG({oscillator:{type:"sine"},envelope:{attack:.001,decay:.05,sustain:0,release:.05},volume:-10}).toDestination(),this.brickSynth=new re.Bh(re.RG,{oscillator:{type:"square"},envelope:{attack:.001,decay:.08,sustain:0,release:.05},volume:-12}).toDestination(),this.powerUpSynth=new re.Bh(re.RG,{oscillator:{type:"sine"},envelope:{attack:.01,decay:.2,sustain:.1,release:.4},volume:-8}).toDestination(),this.loseSynth=new re.RG({oscillator:{type:"triangle"},envelope:{attack:.01,decay:.3,sustain:0,release:.3},volume:-8}).toDestination(),this.levelSynth=new re.Bh(re.RG,{oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.3,release:.5},volume:-8}).toDestination(),this.initialized=!0)}playPaddleHit(){if(!this.initialized||this.muted||!this.bounceSynth)return;const e=re.tB();e-this.lastBounceTime<this.MIN_BOUNCE_GAP||(this.lastBounceTime=e,this.bounceSynth.triggerAttackRelease("G4","32n",e))}playWallHit(){if(!this.initialized||this.muted||!this.bounceSynth)return;const e=re.tB();e-this.lastBounceTime<this.MIN_BOUNCE_GAP||(this.lastBounceTime=e,this.bounceSynth.triggerAttackRelease("C5","32n",e))}playBrickBreak(){if(!this.initialized||this.muted||!this.brickSynth)return;const e=re.tB();this.brickSynth.triggerAttackRelease("E5","32n",e),this.brickSynth.triggerAttackRelease("G4","32n",e+.02)}playPowerUpCollect(){if(!this.initialized||this.muted||!this.powerUpSynth)return;const e=re.tB();["C5","E5","G5","C6"].forEach((t,a)=>{this.powerUpSynth.triggerAttackRelease(t,"16n",e+.06*a)})}playLoseLife(){if(!this.initialized||this.muted||!this.loseSynth)return;const e=re.tB();["E4","D4","C4"].forEach((t,a)=>{this.loseSynth.triggerAttackRelease(t,"8n",e+.2*a)})}playLevelUp(){if(!this.initialized||this.muted||!this.levelSynth)return;const e=re.tB();["C4","E4","G4","C5"].forEach((t,a)=>{this.levelSynth.triggerAttackRelease(t,"16n",e+.08*a)}),this.levelSynth.triggerAttackRelease(["C5","E5","G5"],"4n",e+.4)}setMuted(e){this.muted=e}isMuted(){return this.muted}dispose(){var e,t,a,n,i;this.initialized&&(null===(e=this.bounceSynth)||void 0===e||e.dispose(),null===(t=this.brickSynth)||void 0===t||t.dispose(),null===(a=this.powerUpSynth)||void 0===a||a.dispose(),null===(n=this.loseSynth)||void 0===n||n.dispose(),null===(i=this.levelSynth)||void 0===i||i.dispose(),this.bounceSynth=null,this.brickSynth=null,this.powerUpSynth=null,this.loseSynth=null,this.levelSynth=null,this.initialized=!1)}},Ne=800,Te=600,Me="hsl(240, 5%, 80%)",Re="hsl(181, 100%, 74%)",Ge=[{color:"hsl(60, 70%, 60%)",points:10,hitsToBreak:1},{color:"hsl(120, 70%, 60%)",points:20,hitsToBreak:1},{color:"hsl(180, 70%, 60%)",points:30,hitsToBreak:2},{color:"hsl(0, 70%, 60%)",points:50,hitsToBreak:2},{color:"hsl(300, 70%, 60%)",points:100,hitsToBreak:3},{color:"hsl(30, 90%, 50%)",points:200,hitsToBreak:4}],Le=[{name:"Classic",brickColors:["hsl(60, 70%, 60%)","hsl(120, 70%, 60%)","hsl(180, 70%, 60%)","hsl(0, 70%, 60%)","hsl(300, 70%, 60%)"]},{name:"Ocean",brickColors:["hsl(200, 70%, 70%)","hsl(210, 70%, 60%)","hsl(190, 70%, 50%)","hsl(220, 70%, 40%)","hsl(180, 70%, 30%)"]},{name:"Sunset",brickColors:["hsl(50, 90%, 70%)","hsl(30, 90%, 60%)","hsl(15, 90%, 50%)","hsl(0, 80%, 40%)","hsl(340, 70%, 30%)"]},{name:"Forest",brickColors:["hsl(100, 60%, 70%)","hsl(120, 60%, 50%)","hsl(140, 60%, 40%)","hsl(30, 40%, 40%)","hsl(160, 50%, 30%)"]},{name:"Galaxy",brickColors:["hsl(280, 80%, 70%)","hsl(270, 70%, 60%)","hsl(260, 60%, 50%)","hsl(240, 50%, 40%)","hsl(320, 60%, 40%)"]},{name:"Fire",brickColors:["hsl(60, 100%, 60%)","hsl(40, 100%, 50%)","hsl(20, 100%, 50%)","hsl(0, 100%, 45%)","hsl(0, 80%, 30%)"]},{name:"Arctic",brickColors:["hsl(200, 30%, 90%)","hsl(200, 40%, 80%)","hsl(200, 50%, 70%)","hsl(210, 60%, 60%)","hsl(220, 70%, 50%)"]},{name:"Neon",brickColors:["hsl(60, 100%, 50%)","hsl(120, 100%, 50%)","hsl(180, 100%, 50%)","hsl(300, 100%, 50%)","hsl(0, 100%, 50%)"]},{name:"Desert",brickColors:["hsl(40, 50%, 80%)","hsl(30, 60%, 70%)","hsl(20, 70%, 60%)","hsl(10, 60%, 50%)","hsl(0, 50%, 40%)"]},{name:"Pastel",brickColors:["hsl(60, 50%, 80%)","hsl(120, 50%, 80%)","hsl(180, 50%, 80%)","hsl(300, 50%, 80%)","hsl(0, 50%, 80%)"]}],Fe=1e4,Ie={"paddle-grow":{color:"hsl(120, 70%, 50%)",label:"\ud83d\udd35 Agrandar Paleta",description:"Aumenta el tama\xf1o de la paleta"},"paddle-shrink":{color:"hsl(0, 70%, 50%)",label:"\ud83d\udd34 Reducir Paleta",description:"Reduce el tama\xf1o de la paleta (malo)"},"ball-speed":{color:"hsl(200, 70%, 50%)",label:"\u26a1 Pelota Lenta",description:"Reduce la velocidad de la pelota"},"multi-ball":{color:"hsl(40, 70%, 50%)",label:"\u2b50 Multi-Pelota",description:"Crea m\xfaltiples pelotas"},"extra-life":{color:"hsl(300, 70%, 50%)",label:"\u2764\ufe0f Vida Extra",description:"\xa1Gana una vida adicional!"}},Pe=(e,t)=>{const a=Le[(t-1)%Le.length];if(t%3===0){const n=e%2===0!==(t%2===0)?Math.min(2+Math.floor(t/5),Ge.length-1):Math.min(1+Math.floor(t/8),Ge.length-2);return{type:Ge[n],colorOverride:a.brickColors[e%a.brickColors.length]}}if(t%5===0){const t=Math.abs(e-Math.floor(2.5)),n=Math.max(0,Math.min(Ge.length-1,Ge.length-1-t));return{type:Ge[n],colorOverride:a.brickColors[e%a.brickColors.length]}}{const n=Math.floor(e/5*3),i=Math.min(n+Math.floor(t/4),3);return{type:Ge[Math.min(i,Ge.length-1)],colorOverride:a.brickColors[e%a.brickColors.length]}}},Oe=()=>{const e=["paddle-grow","paddle-shrink","ball-speed","multi-ball","extra-life"],t=[30,10,25,25,10],a=t.reduce((e,t)=>e+t,0);let n=Math.random()*a;for(let i=0;i<e.length;i++)if(n-=t[i],n<=0)return e[i];return e[0]},ze=e=>{const t=[],a=Math.min(.15+.01*e,.3);for(let n=0;n<9;n++)t[n]=[];for(let n=0;n<5;n++)for(let i=0;i<9;i++){const{type:l,colorOverride:s}=Pe(n,e),c=Math.random()<a,r=c?Oe():void 0,o=85*i+22.5,h=30*n+50;t[i][n]={x:o,y:h,width:75,height:20,color:s||l.color,points:l.points,status:l.hitsToBreak,hitsToBreak:l.hitsToBreak,hasPowerUp:c,powerUpType:r}}return t},Ue=e=>Math.max(60,120-5*(e-1)),He=e=>Math.min(20,5+1*(e-1));function We(e,t,a,n,i){let l,s=0,c=!1;const r=e.x+e.dx,o=e.y+e.dy;for(let h=0;h<t.length;h++)for(let a=0;a<t[h].length;a++){const n=t[h][a];if(n.status>0&&r+e.radius>n.x&&r-e.radius<n.x+n.width&&o+e.radius>n.y&&o-e.radius<n.y+n.height){n.status-=1,0===n.status&&(s+=n.points,n.hasPowerUp&&n.powerUpType&&(l={x:n.x+n.width/2,y:n.y+n.height/2,type:n.powerUpType}));const t=Math.min(e.x+e.radius-n.x,n.x+n.width-(e.x-e.radius)),a=Math.min(e.y+e.radius-n.y,n.y+n.height-(e.y-e.radius));return a<=t?(e.dy=-e.dy,e.y+=e.dy>0?-a:a):(e.dx=-e.dx,e.x+=e.dx>0?-t:t),{pointsToAdd:s,lifeLost:c,spawnPowerUp:l}}}if(o+e.radius>a.y&&e.y-e.radius<a.y+a.height&&r+e.radius>a.x&&r-e.radius<a.x+a.width&&e.dy>0){let t=(e.x-(a.x+a.width/2))/(a.width/2);t=Math.max(-.95,Math.min(.95,t));const n=t*(Math.PI/3);e.dx=e.speed*Math.sin(n),e.dy=-Math.abs(e.speed*Math.cos(n)),e.y=a.y-e.radius-.1}return(r>i-e.radius||r<e.radius)&&(e.dx=-e.dx,r>i-e.radius?e.x=i-e.radius:e.x=e.radius),o<e.radius&&(e.dy=-e.dy,e.y=e.radius),e.y>n+e.radius&&(c=!0),{pointsToAdd:s,lifeLost:c,spawnPowerUp:l}}const _e=e=>{let{lives:t,setPointsEarned:a,setGameOver:i,brandColor:s="hsl(142, 71%, 45%)",skin:c="default",gameTitle:r="\ud83c\udfae ROMPE BLOQUES",brandLogo:o}=e;const h=q(),[p,d]=(0,n.useState)(!1),[b,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(0),[E,j]=(0,n.useState)(1),[k,A]=(0,n.useState)(0),[D,B]=(0,n.useState)(t),[N,T]=(0,n.useState)([]),M=(0,n.useRef)(null),R=(0,n.useRef)(null),G=(0,n.useRef)(!1),L=(0,n.useRef)(!1),F=(0,n.useCallback)(e=>{b||("left"===e?(G.current=!0,setTimeout(()=>{G.current=!1},100)):"right"===e&&(L.current=!0,setTimeout(()=>{L.current=!1},100)))},[b]),I=(0,n.useRef)(null),P=(0,n.useRef)(Ue(1)),O=(0,n.useRef)(null),z=(0,n.useRef)({x:400,y:570,dx:0,dy:0,radius:10,speed:He(1),color:Re}),U=(0,n.useRef)({x:(Ne-Ue(1))/2,y:575,width:Ue(1),height:15,speed:10,color:Me}),H=(0,n.useRef)(ze(1)),W=(0,n.useRef)([]),_=(0,n.useRef)([]),Y=(0,n.useRef)([]),J=(0,n.useCallback)(()=>{const e=Ue(E),t=He(E);U.current={x:(Ne-e)/2,y:575,width:e,height:15,speed:10,color:Me},z.current={x:400,y:570,dx:0,dy:0,radius:10,speed:t,color:Re},C(!1)},[E]),K=(0,n.useCallback)(()=>{const e=E+1;j(e),H.current=ze(e),J(),Be.playLevelUp()},[E,J]),V=(0,n.useCallback)(()=>{B(e=>e-1),J(),Be.playLoseLife()},[J]),Q=(0,n.useCallback)(()=>{if(!v&&p&&!b){const e=Math.random()*Math.PI/3-Math.PI/6;z.current.dx=z.current.speed*Math.sin(e),z.current.dy=-z.current.speed*Math.cos(e),C(!0)}},[v,p,b]),X=(0,n.useCallback)((e,t,a)=>{const n=Ie[a];W.current.push({x:e-10,y:t-10,width:20,height:20,type:a,speed:3,color:n.color,active:!0})},[]),$=(0,n.useCallback)(e=>{const t=Date.now();switch(e){case"paddle-grow":P.current=U.current.width,U.current.width=Math.min(1.5*U.current.width,240),U.current.x=Math.max(0,Math.min(Ne-U.current.width,U.current.x)),Y.current.push({type:e,endTime:t+Fe});break;case"paddle-shrink":P.current=U.current.width,U.current.width=Math.max(.7*U.current.width,60),U.current.x=Math.max(0,Math.min(Ne-U.current.width,U.current.x)),Y.current.push({type:e,endTime:t+Fe});break;case"ball-speed":{z.current.speed=.7*z.current.speed;const a=Math.sqrt(z.current.dx**2+z.current.dy**2);z.current.dx=z.current.dx/a*z.current.speed,z.current.dy=z.current.dy/a*z.current.speed,Y.current.push({type:e,endTime:t+Fe});break}case"multi-ball":for(let e=0;e<2;e++){const e=Math.random()*Math.PI/2-Math.PI/4;_.current.push({x:z.current.x,y:z.current.y,dx:z.current.speed*Math.sin(e),dy:-Math.abs(z.current.speed*Math.cos(e)),radius:10,speed:z.current.speed,color:Re})}break;case"extra-life":B(e=>e+1)}},[]),ee=(0,n.useCallback)(()=>{const e=Date.now();W.current=W.current.filter(e=>!!e.active&&(e.y+=e.speed,e.y+e.height>U.current.y&&e.x<U.current.x+U.current.width&&e.x+e.width>U.current.x?($(e.type),Be.playPowerUpCollect(),!1):e.y<Te)),Y.current=Y.current.filter(t=>{if(e>t.endTime){switch(t.type){case"paddle-grow":case"paddle-shrink":U.current.width=Ue(E),U.current.x=Math.max(0,Math.min(Ne-U.current.width,U.current.x));break;case"ball-speed":{z.current.speed=He(E);const e=Math.sqrt(z.current.dx**2+z.current.dy**2);z.current.dx=z.current.dx/e*z.current.speed,z.current.dy=z.current.dy/e*z.current.speed;break}}return!1}return!0}),T([...Y.current])},[$,E]);(0,n.useEffect)(()=>(Be.init(),()=>{Be.dispose()}),[]),(0,n.useEffect)(()=>{const e=new Image;e.src="default"!==c?"/games/breakout/skins/".concat(c,"/bg.webp"):"/games/breakout/bg.webp",e.onload=()=>{O.current=e}},[]),(0,n.useEffect)(()=>{D<=0&&p&&(d(!1),i(!0),a(k))},[D,p,k,i,a]),(0,n.useEffect)(()=>{const e=e=>{"Right"===e.key||"ArrowRight"===e.key?L.current=!0:"Left"===e.key||"ArrowLeft"===e.key?G.current=!0:" "===e.key&&p&&!v?(e.preventDefault(),Q()):" "===e.key&&p&&v?(e.preventDefault(),u(e=>!e)):"p"!==e.key&&"P"!==e.key||p&&v&&u(e=>!e)},t=e=>{"Right"===e.key||"ArrowRight"===e.key?L.current=!1:"Left"!==e.key&&"ArrowLeft"!==e.key||(G.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[p,v,Q]),(0,n.useEffect)(()=>{const e=M.current;if(!e||!h||!p)return;const t=t=>{if(p&&!b&&t.touches.length>0){t.preventDefault();const a=t.touches[0],n=e.getBoundingClientRect(),i=a.clientX-n.left,l=Math.max(0,Math.min(n.width-U.current.width,i));U.current.x=l*window.devicePixelRatio,v||(z.current.x=U.current.x+U.current.width/2)}},a=e=>{b||(v||(e.preventDefault(),Q()),e.touches.length>0&&(I.current=e.touches[0].clientX))},n=()=>{I.current=null};return e.addEventListener("touchmove",t,{passive:!1}),e.addEventListener("touchstart",a,{passive:!1}),e.addEventListener("touchend",n),()=>{e.removeEventListener("touchmove",t),e.removeEventListener("touchstart",a),e.removeEventListener("touchend",n)}},[h,p,b,v,Q]),(0,n.useEffect)(()=>{const e=M.current;if(!e||!p)return;const t=e.getContext("2d");if(!t)return;let a=performance.now();const n=()=>{const e=performance.now(),i=(e-a)/1e3;if(a=e,b||m)R.current=requestAnimationFrame(n);else{if(t.clearRect(0,0,Ne,Te),O.current?(t.drawImage(O.current,0,0,Ne,Te),t.fillStyle="rgba(0, 0, 0, 0.3)",t.fillRect(0,0,Ne,Te)):(t.fillStyle="#1a1a1a",t.fillRect(0,0,Ne,Te)),((e,t)=>{t.forEach(t=>{t.forEach(t=>{if(t.status>0){e.beginPath();const a=3;e.moveTo(t.x+a,t.y),e.lineTo(t.x+t.width-a,t.y),e.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+a),e.lineTo(t.x+t.width,t.y+t.height-a),e.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-a,t.y+t.height),e.lineTo(t.x+a,t.y+t.height),e.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-a),e.lineTo(t.x,t.y+a),e.quadraticCurveTo(t.x,t.y,t.x+a,t.y);const n=t.status/t.hitsToBreak;e.fillStyle=t.color,e.globalAlpha=.5+.5*n,e.fill(),e.globalAlpha=1,t.status<t.hitsToBreak&&(e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=2,e.stroke()),t.hasPowerUp&&t.powerUpType&&(e.fillStyle="rgba(255,255,255,0.8)",e.font="12px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("\u2728",t.x+t.width/2,t.y+t.height/2)),e.closePath()}})})})(t,H.current),((e,t)=>{e.beginPath(),e.moveTo(t.x+5,t.y),e.lineTo(t.x+t.width-5,t.y),e.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+5),e.lineTo(t.x+t.width,t.y+t.height-5),e.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-5,t.y+t.height),e.lineTo(t.x+5,t.y+t.height),e.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-5),e.lineTo(t.x,t.y+5),e.quadraticCurveTo(t.x,t.y,t.x+5,t.y),e.fillStyle=t.color,e.fill(),e.closePath()})(t,U.current),((e,t)=>{e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fillStyle=t.color,e.shadowBlur=15,e.shadowColor=t.color,e.fill(),e.closePath(),e.shadowBlur=0,e.shadowColor="transparent"})(t,z.current),((e,t)=>{t.forEach(t=>{e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fillStyle=t.color,e.shadowBlur=10,e.shadowColor=t.color,e.fill(),e.closePath(),e.shadowBlur=0,e.shadowColor="transparent"})})(t,_.current),((e,t)=>{t.forEach(t=>{e.beginPath(),e.arc(t.x+t.width/2,t.y+t.height/2,t.width/2,0,2*Math.PI),e.fillStyle=t.color,e.shadowBlur=20,e.shadowColor=t.color,e.fill(),e.closePath(),e.fillStyle="white",e.font="14px Arial",e.textAlign="center",e.textBaseline="middle";const a=Ie[t.type].label.split(" ")[0];e.fillText(a,t.x+t.width/2,t.y+t.height/2),e.shadowBlur=0,e.shadowColor="transparent"})})(t,W.current),v){L.current&&U.current.x<Ne-U.current.width?U.current.x+=U.current.speed*i*60:G.current&&U.current.x>0&&(U.current.x-=U.current.speed*i*60),ee();const{pointsToAdd:e,lifeLost:t,spawnPowerUp:a}=We(z.current,H.current,U.current,Te,Ne);if(a&&X(a.x,a.y,a.type),e>0&&Be.playBrickBreak(),_.current=_.current.filter(e=>{const t=We(e,H.current,U.current,Te,Ne);return t.pointsToAdd>0&&A(e=>e+t.pointsToAdd),t.spawnPowerUp&&X(t.spawnPowerUp.x,t.spawnPowerUp.y,t.spawnPowerUp.type),e.x+=e.dx*i*60,e.y+=e.dy*i*60,!t.lifeLost}),e>0&&A(t=>t+e),t){if(!(_.current.length>0))return V(),_.current=[],W.current=[],void(Y.current=[]);{const e=_.current.pop();z.current.x=e.x,z.current.y=e.y,z.current.dx=e.dx,z.current.dy=e.dy}}if(H.current.every(e=>e.every(e=>0===e.status)))return K(),_.current=[],W.current=[],void(Y.current=[]);z.current.x+=z.current.dx*i*60,z.current.y+=z.current.dy*i*60}else z.current.x=U.current.x+U.current.width/2,z.current.y=U.current.y-10,L.current&&U.current.x<Ne-U.current.width?U.current.x+=U.current.speed*i*60:G.current&&U.current.x>0&&(U.current.x-=U.current.speed*i*60);R.current=requestAnimationFrame(n)}};return n(),()=>{R.current&&cancelAnimationFrame(R.current)}},[p,b,m,v,E,V,K,ee,X]);const te=()=>{S(0),j(1),A(0),B(t),H.current=ze(1),J(),W.current=[],_.current=[],Y.current=[],u(!1),g(!1),d(!0),C(!1)};return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s},children:[(0,l.jsx)(ce,{level:E,lives:D,score:k,onPause:p&&v&&!m?()=>u(!b):void 0,isPaused:b,brandColor:s,isMobile:h,onQuit:()=>{g(!0),f(b),u(!0)},showQuitButton:p,isQuitting:m}),(0,l.jsx)("div",{className:"game-board",style:{aspectRatio:"1"},children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:s},children:[(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3rem",padding:"0.25rem 1rem"},children:p&&N.length>0&&(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,l.jsx)("span",{style:{fontSize:"0.875rem",color:"white",fontWeight:600},children:"Power-ups:"}),N.map((e,t)=>{const a=Ie[e.type],n=Math.ceil((e.endTime-Date.now())/1e3);return(0,l.jsxs)("div",{className:"game-header-stat-box",style:{borderColor:a.color},children:[(0,l.jsx)("span",{style:{fontSize:"1.125rem"},children:a.label.split(" ")[0]}),(0,l.jsxs)("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"white"},children:[n,"s"]})]},t)})]})}),(0,l.jsx)(Z,{ref:M,width:Ne,height:Te,className:"max-w-full max-h-full",style:{cursor:p&&!b&&v?"none":"default"}}),!p&&(0,l.jsx)(y,{type:"custom",title:r,brandColor:s,onAction:0===w?()=>S(1):1===w?()=>S(2):te,actionText:0===w?"Siguiente \u2192":1===w?"Power-ups \u2192":"\ud83c\udfae JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{className:"space-y-3",children:[o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-xs text-white",children:"por:"}),(0,l.jsx)("img",{src:o,alt:"Brand Logo",className:"mx-auto w-48 h-auto !mb-4"})]}),0===w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-center items-center gap-x-3 text-xs text-gray-300",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-6 h-2 bg-gray-300 rounded-sm"}),(0,l.jsx)("span",{className:"text-xs",children:"Paleta"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{style:{backgroundColor:Re},className:"w-2 h-2 rounded-full"}),(0,l.jsx)("span",{className:"text-xs",children:"Pelota"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[Ge.slice(0,2).map(e=>(0,l.jsx)("div",{style:{backgroundColor:e.color},className:"w-4 h-2 rounded-sm"},e.color)),(0,l.jsx)("span",{className:"text-xs",children:"Bloques"})]})]}),(0,l.jsx)("div",{className:"text-center text-sm text-gray-300",children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"\ud83d\udc46 Desliza para mover"}),(0,l.jsx)("p",{children:"\ud83d\udc46 Toca para lanzar"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"\u2b05\ufe0f\u27a1\ufe0f Flechas para mover"}),(0,l.jsx)("p",{children:"\u23f8 ESPACIO para lanzar/pausar"})]})}),(0,l.jsx)("button",{onClick:te,className:"text-xs text-gray-400 hover:text-white underline",children:"Omitir"})]}):1===w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-sm text-gray-300 space-y-1",children:[(0,l.jsx)("p",{children:"\ud83c\udfaf Destruye bloques para ganar puntos"}),(0,l.jsx)("p",{children:"\ud83c\udfc6 Completa niveles limpiando todos"}),(0,l.jsx)("p",{children:"\u2764\ufe0f No dejes caer la pelota"}),(0,l.jsx)("p",{children:"\ud83d\udccf La paleta se achica cada nivel"})]}),(0,l.jsx)("button",{onClick:()=>S(0),className:"text-xs text-gray-400 hover:text-white underline",children:"\u2190 Atr\xe1s"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-xs text-gray-300 space-y-1",children:[(0,l.jsx)("p",{className:"font-bold text-sm mb-2",children:"\u2728 Power-ups disponibles:"}),(0,l.jsxs)("p",{children:["\ud83d\udd35"," ",(0,l.jsx)("span",{className:"text-green-400",children:"Paleta Grande"})," ","- Aumenta tama\xf1o"]}),(0,l.jsxs)("p",{children:["\u26a1 ",(0,l.jsx)("span",{className:"text-blue-400",children:"Bola Lenta"})," - Facilita el juego"]}),(0,l.jsxs)("p",{children:["\u2b50 ",(0,l.jsx)("span",{className:"text-yellow-400",children:"Multi-Bola"})," ","- 3 bolas a la vez"]}),(0,l.jsxs)("p",{children:["\u2764\ufe0f ",(0,l.jsx)("span",{className:"text-red-400",children:"Vida Extra"})," - +1 vida"]}),(0,l.jsx)("p",{className:"text-xs mt-2 text-gray-400",children:"Nivel 4+: \ud83d\udd34 Paleta peque\xf1a (cuidado!)"}),(0,l.jsx)("p",{className:"text-xs italic",children:"Los bloques con \u2728 contienen power-ups"})]}),(0,l.jsx)("button",{onClick:()=>S(1),className:"text-xs text-gray-400 hover:text-white underline",children:"\u2190 Atr\xe1s"})]})]})}),b&&!m&&(0,l.jsx)(y,{type:"pause",message:"Juego pausado. \xbfListo para seguir?",brandColor:s,onAction:()=>u(!1),actionText:"\u25b6\ufe0f CONTINUAR"}),m&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(k,") y perder\xe1s las vidas restantes."),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{g(!1),u(x)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{a(k),i(!0),d(!1),C(!1),R.current&&cancelAnimationFrame(R.current)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir Ahora"})]})})]})}),h&&p&&(0,l.jsx)(ie,{onControl:F,layout:"horizontal",brandColor:s,showLaunchButton:!v,onLaunch:Q})]})},qe=(0,n.lazy)(()=>Promise.all([a.e(289),a.e(849)]).then(a.bind(a,4849))),Ye=()=>(0,l.jsx)("div",{className:"game-loading",children:(0,l.jsx)("div",{children:"Cargando..."})}),Je=e=>{let{lives:t=5,setGameOver:a,setPointsEarned:i,brandColor:s="#1a472a",skin:c,gameTitle:r="PENALES",brandLogo:o}=e;const h=(0,n.useRef)(null),[p,d]=(0,n.useState)(0),[b,u]=(0,n.useState)(1),[m,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(null),E=q(),j=(0,n.useCallback)(()=>{m||(g(!0),f(!1),d(0),u(1),C(!1),S(null))},[m]),k=(0,n.useCallback)(e=>{d(e)},[]),A=(0,n.useCallback)((e,t)=>{u(e+1)},[]),D=(0,n.useCallback)((e,a)=>{f(!0),S({goals:e,score:a,won:e>=Math.ceil(t/2)})},[t]);return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s,maxWidth:"32rem",margin:"0 auto"},ref:h,children:[(0,l.jsx)(ce,{score:p,lives:t-b+1,brandColor:s,isMobile:E,onQuit:()=>C(!0),showQuitButton:m&&!x,isQuitting:v}),(0,l.jsx)("div",{className:"game-board",children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",alignItems:"center",justifyContent:"center",aspectRatio:"400/600",maxHeight:"70vh"},children:[!m&&!x&&(0,l.jsx)(y,{type:"custom",brandColor:s,onAction:j,actionText:"\u26bd JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",color:"#4ade80"},children:r}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{fontSize:"0.75rem",color:"white"},children:"por:"}),(0,l.jsx)("img",{src:o,alt:"Brand Logo",style:{margin:"0 auto",width:"12rem",height:"auto",marginBottom:"1rem"}})]}),(0,l.jsxs)("div",{style:{color:"#d1d5db",fontSize:"0.875rem"},children:[(0,l.jsxs)("p",{children:["\u26bd Tira ",t," penales contra el portero"]}),(0,l.jsx)("p",{children:"\ud83d\udc46 Desliza desde el bal\xf3n hacia la porter\xeda"}),(0,l.jsx)("p",{children:"\ud83c\udf00 Curva tu tiro para enga\xf1ar al portero"}),(0,l.jsxs)("p",{children:["\ud83c\udfc6 Anota ",Math.ceil(t/2),"+ goles para ganar"]})]}),(0,l.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.75rem"},children:(0,l.jsx)("p",{children:"Tiros curvos = +25 pts | Esquinas = +50 pts"})})]})}),m&&!x&&(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(Ye,{}),children:(0,l.jsx)(qe,{onScoreUpdate:k,onRoundComplete:A,onGameOver:D,brandColor:s,totalRounds:t,skin:c})}),x&&w&&(0,l.jsx)(y,{type:"custom",brandColor:s,onAction:()=>{i(p),a(!0)},actionText:"Continuar",customContent:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:w.won?"#4ade80":"#f87171"},children:w.won?"\xa1VICTORIA!":"DERROTA"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",margin:"1rem 0"},children:Array.from({length:t}).map((e,t)=>(0,l.jsx)("span",{style:{fontSize:"1.5rem",opacity:t<w.goals?1:.3},children:"\u26bd"},t))}),(0,l.jsxs)("p",{style:{fontSize:"1.25rem",color:"white"},children:[w.goals," de ",t," goles"]}),(0,l.jsxs)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#facc15"},children:[w.score," puntos"]}),w.goals===t&&(0,l.jsx)("p",{style:{fontSize:"1.125rem",color:"#fde047"},children:"\xa1Puntuaci\xf3n perfecta! \ud83c\udf1f"})]})}),v&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(p,") y terminar\xe1s la partida."),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{C(!1)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{i(p),a(!0),g(!1),f(!0)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir"})]})})]})})]})};var Ze=a(4224),Ke=a(3746);const Ve=(0,n.lazy)(()=>Promise.all([a.e(289),a.e(404)]).then(a.bind(a,8404))),Qe=()=>(0,l.jsx)("div",{className:"game-loading",children:(0,l.jsx)("div",{children:"Cargando..."})}),Xe=e=>{let{lives:t=3,level:a=1,setGameOver:i,setPointsEarned:s,brandColor:c="#e91e63",skin:r,gameTitle:o="CANDY CRUSH",brandLogo:h}=e;const p=(0,n.useRef)(null),[d,b]=(0,n.useState)(0),[u,m]=(0,n.useState)(Math.min(Math.max(a,1),Ze.A_.length)),[g,x]=(0,n.useState)(0),f=Ze.A_[u-1],[v,C]=(0,n.useState)(0),[w,S]=(0,n.useState)(f.moves),[E,j]=(0,n.useState)(t),[k,A]=(0,n.useState)(!1),[D,B]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),[M,R]=(0,n.useState)(!1),[G,L]=(0,n.useState)(!1),[F,I]=(0,n.useState)(!1),P=(0,n.useRef)(v),O=(0,n.useRef)(g),z=(0,n.useRef)(u),U=(0,n.useRef)(E);(0,n.useEffect)(()=>()=>{Ke.V.dispose()},[]),(0,n.useEffect)(()=>{P.current=v},[v]),(0,n.useEffect)(()=>{O.current=g},[g]),(0,n.useEffect)(()=>{z.current=u},[u]),(0,n.useEffect)(()=>{U.current=E},[E]);const H=q(),W=(0,n.useCallback)(async()=>{k||(await Ke.V.init(),A(!0),B(!1),T(!1),R(!1),C(0),S(f.moves),L(!1),b(e=>e+1))},[k,f.moves]),_=(0,n.useCallback)(()=>{B(!1),T(!1),C(0),S(f.moves),b(e=>e+1)},[f.moves]),Y=(0,n.useCallback)(()=>{const e=O.current+P.current;s(e),i(!0),A(!1),R(!0)},[s,i]),J=(0,n.useCallback)(e=>{C(e)},[]),Z=(0,n.useCallback)(e=>{S(e)},[]),K=(0,n.useCallback)((e,t)=>{if(T(e),B(!0),e)z.current>=Ze.A_.length&&(x(e=>e+P.current),I(!0),R(!0));else{const e=U.current-1;j(e),e<=0&&R(!0)}},[]),V=(0,n.useCallback)(()=>{x(e=>e+v);const e=u+1,t=Ze.A_[e-1];m(e),B(!1),T(!1),C(0),S(t.moves),b(e=>e+1)},[u,v]),Q=()=>{s(g+v),i(!0)};return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:c,maxWidth:"32rem",margin:"0 auto"},ref:p,children:[(0,l.jsx)(ce,{level:u,score:g+v,lives:E,brandColor:c,isMobile:H,onQuit:()=>L(!0),showQuitButton:k&&!D&&!M,isQuitting:G}),(0,l.jsx)("div",{className:"game-board",children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",alignItems:"center",justifyContent:"center",aspectRatio:"400/600",maxHeight:"70vh"},children:[!k&&!M&&(0,l.jsx)(y,{type:"custom",brandColor:c,onAction:W,actionText:"\ud83c\udf6c JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{className:"text-center space-y-2 md:space-y-3",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-pink-400 animate-pulse",children:o}),h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-xs text-white",children:"por:"}),(0,l.jsx)("img",{src:h,alt:"Brand Logo",className:"mx-auto w-48 h-auto !mb-4"})]}),(0,l.jsxs)("p",{className:"text-lg font-bold text-white",children:["Nivel ",u," de ",Ze.A_.length]}),(0,l.jsxs)("div",{className:"space-y-1 md:space-y-2 text-gray-300 text-sm md:text-md",children:[(0,l.jsxs)("p",{children:["\ud83c\udfaf Meta: ",f.targetScore," puntos"]}),(0,l.jsxs)("p",{children:["\ud83d\udd04 Movimientos: ",f.moves]}),(0,l.jsxs)("p",{children:["\u2764\ufe0f Vidas: ",t]}),(0,l.jsx)("p",{children:"\ud83d\udc46 Desliza para intercambiar dulces"})]}),(0,l.jsx)("div",{className:"text-xs md:text-sm text-gray-400 mt-2 md:mt-3",children:(0,l.jsx)("p",{children:"Combina 3+ dulces del mismo color"})})]})}),k&&!D&&(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(Qe,{}),children:(0,l.jsx)(Ve,{onScoreUpdate:J,onMovesUpdate:Z,onGameComplete:K,brandColor:c,skin:r,lives:E,levelConfig:f},d)}),D&&N&&!F&&(0,l.jsx)(y,{type:"custom",brandColor:c,onAction:V,actionText:"Siguiente Nivel \u27a1\ufe0f",customContent:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-green-400",children:["\xa1Nivel ",u," Completado!"]}),(0,l.jsx)("div",{className:"text-6xl animate-bounce",children:"\ud83c\udf89"}),(0,l.jsx)("p",{className:"text-xl text-white",children:"Alcanzaste la meta"}),(0,l.jsxs)("div",{className:"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base",children:[(0,l.jsxs)("div",{className:"flex justify-between text-white/80",children:[(0,l.jsx)("span",{children:"Puntuaci\xf3n base:"}),(0,l.jsx)("span",{children:v-w*Ze.m1.movesBonus})]}),w>0&&(0,l.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,l.jsx)("span",{children:"Bonus por turnos:"}),(0,l.jsxs)("span",{children:[w," \xd7 ",Ze.m1.movesBonus," = +",w*Ze.m1.movesBonus]})]}),(0,l.jsxs)("div",{className:"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold",children:[(0,l.jsx)("span",{children:"Total nivel:"}),(0,l.jsx)("span",{children:v})]})]}),(0,l.jsxs)("p",{className:"text-md text-gray-300",children:["Puntuaci\xf3n acumulada:"," ",(0,l.jsx)("span",{className:"text-yellow-400 font-bold",children:g+v})]})]})}),D&&N&&F&&(0,l.jsx)(y,{type:"custom",brandColor:c,onAction:Q,actionText:"\ud83c\udfc6 Finalizar",customContent:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400",children:"\xa1VICTORIA TOTAL!"}),(0,l.jsx)("div",{className:"text-6xl animate-bounce",children:"\ud83c\udfc6"}),(0,l.jsxs)("p",{className:"text-xl text-white",children:["\xa1Completaste los ",Ze.A_.length," niveles!"]}),(0,l.jsxs)("div",{className:"bg-black/30 rounded-lg p-4 space-y-2 text-sm md:text-base",children:[(0,l.jsxs)("div",{className:"flex justify-between text-white/80",children:[(0,l.jsxs)("span",{children:["Puntuaci\xf3n base (nivel ",u,"):"]}),(0,l.jsx)("span",{children:v-w*Ze.m1.movesBonus})]}),w>0&&(0,l.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,l.jsx)("span",{children:"Bonus por turnos:"}),(0,l.jsxs)("span",{children:[w," \xd7 ",Ze.m1.movesBonus," = +",w*Ze.m1.movesBonus]})]}),(0,l.jsxs)("div",{className:"border-t border-white/20 pt-2 flex justify-between text-white/80",children:[(0,l.jsxs)("span",{children:["Total nivel ",u,":"]}),(0,l.jsx)("span",{children:v})]}),(0,l.jsxs)("div",{className:"flex justify-between text-white/80",children:[(0,l.jsx)("span",{children:"Niveles anteriores:"}),(0,l.jsx)("span",{children:g})]}),(0,l.jsxs)("div",{className:"border-t border-white/20 pt-2 flex justify-between text-yellow-400 font-bold text-lg",children:[(0,l.jsx)("span",{children:"Puntuaci\xf3n final:"}),(0,l.jsx)("span",{children:g+v})]})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-400",children:["Vidas restantes: ",E]})]})}),D&&!N&&!M&&(0,l.jsx)(y,{type:"custom",brandColor:c,onAction:_,actionText:"\ud83d\udd04 Reintentar",customContent:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-orange-400",children:"\xa1Casi!"}),(0,l.jsx)("div",{className:"text-5xl",children:"\ud83d\ude22"}),(0,l.jsxs)("p",{className:"text-xl text-white",children:[v," / ",f.targetScore," puntos"]}),(0,l.jsx)("div",{className:"flex justify-center gap-2 my-4",children:Array.from({length:t}).map((e,t)=>(0,l.jsx)("span",{className:"text-2xl ".concat(t<E?"opacity-100":"opacity-30"),children:"\u2764\ufe0f"},t))}),(0,l.jsxs)("p",{className:"text-sm text-gray-300",children:["Vidas restantes: ",E]})]})}),M&&!N&&(0,l.jsx)(y,{type:"custom",brandColor:c,onAction:Q,actionText:"Continuar",customContent:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-red-400",children:"GAME OVER"}),(0,l.jsx)("div",{className:"text-5xl",children:"\ud83d\udc94"}),(0,l.jsx)("p",{className:"text-xl text-white",children:"Se acabaron las vidas"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-yellow-400",children:[v," puntos"]})]})}),G&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"\xbfSeguro? Registrar\xe1s tus puntos actuales (".concat(g+v,") y terminar\xe1s la partida."),brandColor:c,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{L(!1)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:Y,className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir"})]})})]})}),(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsx)("img",{src:"/games/candy-crush/sprites/ad-bottom.png",alt:"Advertisement",style:{width:"100%",height:"auto"}})})]})},$e=400,et=600,tt=100,at=520,nt=20,it=30,lt={lane0:"#00ffff",lane1:"#ff00ff",lane2:"#ffff00",lane3:"#00ff00"},st=["d","f","j","k"],ct=["D","F","J","K"],rt=["C4","E4","G4","B4"],ot=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function ht(e){const t=e.match(/^([A-G])([#b]?)(\d+)$/);if(!t)return 60;const[,a,n,i]=t,l=parseInt(i,10);let s=ot.indexOf(a);return"#"===n&&s++,"b"===n&&s--,12*(l+1)+s}function pt(e,t){return function(e){const t=Math.floor(e/12)-1;return"".concat(ot[e%12]).concat(t)}(ht(e)+t)}const dt=new class{constructor(){this.synth=null,this.initialized=!1,this.muted=!1,this.drumSynth=null,this.hiHatSynth=null,this.snareSynth=null,this.bassLoop=null,this.hiHatLoop=null,this.snareLoop=null,this.isPlaying=!1}async init(){if(!this.initialized)try{await re.ni(),this.synth=new re.Bh(re.RG,{oscillator:{type:"sine"},envelope:{attack:.01,decay:.2,sustain:.3,release:.5}}).toDestination(),this.synth.volume.value=-10,this.initDrums(),this.initialized=!0}catch(e){console.error("Failed to initialize audio:",e)}}initDrums(){this.drumSynth=new re.sy({pitchDecay:.05,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4}}).toDestination(),this.drumSynth.volume.value=-8,this.hiHatSynth=new re.ib({envelope:{attack:.001,decay:.1,release:.01},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination(),this.hiHatSynth.volume.value=-20,this.snareSynth=new re.LJ({noise:{type:"white"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}}).toDestination(),this.snareSynth.volume.value=-12}startBackgroundBeat(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.isPlaying||this.muted||(re.oK.bpm.value=e,"chill"===t?0===a?(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"4n").start(0),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"2n").start(0)):(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"1n").start(0),this.snareLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.snareSynth)||void 0===t||t.triggerAttackRelease("8n",e)},"1n").start("2n"),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"4n").start("8n")):"default"===t?0===a?(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"2n").start(0),this.snareLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.snareSynth)||void 0===t||t.triggerAttackRelease("8n",e)},"2n").start("4n"),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"4n").start(0)):(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"4n").start(0),this.snareLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.snareSynth)||void 0===t||t.triggerAttackRelease("8n",e)},"2n").start("4n"),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"8n").start(0)):0===a?(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"2n").start(0),this.snareLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.snareSynth)||void 0===t||t.triggerAttackRelease("8n",e)},"2n").start("4n"),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"8n").start(0)):(this.bassLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.drumSynth)||void 0===t||t.triggerAttackRelease("C1","8n",e)},"4n").start(0),this.snareLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.snareSynth)||void 0===t||t.triggerAttackRelease("8n",e)},"4n").start("8n"),this.hiHatLoop=new re.FZ(e=>{var t;this.muted||null===(t=this.hiHatSynth)||void 0===t||t.triggerAttackRelease("32n",e)},"8n").start(0)),re.oK.start(),this.isPlaying=!0)}stopBackgroundBeat(){var e,t,a,n,i,l;re.oK.stop(),null===(e=this.bassLoop)||void 0===e||e.stop(),null===(t=this.hiHatLoop)||void 0===t||t.stop(),null===(a=this.snareLoop)||void 0===a||a.stop(),null===(n=this.bassLoop)||void 0===n||n.dispose(),null===(i=this.hiHatLoop)||void 0===i||i.dispose(),null===(l=this.snareLoop)||void 0===l||l.dispose(),this.bassLoop=null,this.hiHatLoop=null,this.snareLoop=null,this.isPlaying=!1}pauseBackgroundBeat(){this.isPlaying&&re.oK.pause()}resumeBackgroundBeat(){this.isPlaying&&!this.muted&&re.oK.start()}updateBpm(e){re.oK.bpm.value=e}playNote(e){if(!this.initialized||!this.synth||this.muted)return;const t=rt[e];t&&this.synth.triggerAttackRelease(t,"8n")}playPerfect(e){if(!this.initialized||!this.synth||this.muted)return;const t=rt[e];if(t){this.synth.triggerAttackRelease(t,"8n");const e=t.replace("4","6");setTimeout(()=>{this.synth&&!this.muted&&this.synth.triggerAttackRelease(e,"16n",void 0,.3)},50)}}playMelodicNote(e){this.initialized&&this.synth&&!this.muted&&this.synth.triggerAttackRelease(e,"8n")}playMelodicNotePerfect(e){if(!this.initialized||!this.synth||this.muted)return;this.synth.triggerAttackRelease(e,"8n");const t=function(e,t){return pt(e,12*t)}(e,2);setTimeout(()=>{this.synth&&!this.muted&&this.synth.triggerAttackRelease(t,"16n",void 0,.3)},50)}playMiss(){this.initialized&&this.synth&&!this.muted&&this.synth.triggerAttackRelease(["C3","Db3"],"16n",void 0,.3)}playCombo(){if(!this.initialized||!this.synth||this.muted)return;["C5","E5","G5","C6"].forEach((e,t)=>{setTimeout(()=>{this.synth&&!this.muted&&this.synth.triggerAttackRelease(e,"16n",void 0,.4)},50*t)})}setMuted(e){this.muted=e,e?this.pauseBackgroundBeat():this.isPlaying&&this.resumeBackgroundBeat()}isMuted(){return this.muted}dispose(){this.stopBackgroundBeat(),this.synth&&(this.synth.dispose(),this.synth=null),this.drumSynth&&(this.drumSynth.dispose(),this.drumSynth=null),this.hiHatSynth&&(this.hiHatSynth.dispose(),this.hiHatSynth=null),this.snareSynth&&(this.snareSynth.dispose(),this.snareSynth=null),this.initialized=!1}},bt={metadata:{id:"twinkle-star",title:"Twinkle Twinkle",artist:"Traditional",difficulty:"very-easy",bpm:90,duration:32},notes:[{beat:0,pitch:"C4",lane:0},{beat:1,pitch:"C4",lane:0},{beat:2,pitch:"G4",lane:2},{beat:3,pitch:"G4",lane:2},{beat:4,pitch:"A4",lane:3},{beat:5,pitch:"A4",lane:3},{beat:6,pitch:"G4",lane:2},{beat:8,pitch:"F4",lane:1},{beat:9,pitch:"F4",lane:1},{beat:10,pitch:"E4",lane:1},{beat:11,pitch:"E4",lane:1},{beat:12,pitch:"D4",lane:0},{beat:13,pitch:"D4",lane:0},{beat:14,pitch:"C4",lane:0},{beat:16,pitch:"G4",lane:2},{beat:17,pitch:"G4",lane:2},{beat:18,pitch:"F4",lane:1},{beat:19,pitch:"F4",lane:1},{beat:20,pitch:"E4",lane:1},{beat:21,pitch:"E4",lane:1},{beat:22,pitch:"D4",lane:0},{beat:24,pitch:"G4",lane:2},{beat:25,pitch:"G4",lane:2},{beat:26,pitch:"F4",lane:1},{beat:27,pitch:"F4",lane:1},{beat:28,pitch:"E4",lane:1},{beat:29,pitch:"E4",lane:1},{beat:30,pitch:"D4",lane:0},{beat:32,pitch:"C4",lane:0},{beat:33,pitch:"C4",lane:0},{beat:34,pitch:"G4",lane:2},{beat:35,pitch:"G4",lane:2},{beat:36,pitch:"A4",lane:3},{beat:37,pitch:"A4",lane:3},{beat:38,pitch:"G4",lane:2},{beat:40,pitch:"F4",lane:1},{beat:41,pitch:"F4",lane:1},{beat:42,pitch:"E4",lane:1},{beat:43,pitch:"E4",lane:1},{beat:44,pitch:"D4",lane:0},{beat:45,pitch:"D4",lane:0},{beat:46,pitch:"C4",lane:0}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:48,count:2}},ut={metadata:{id:"mary-had-a-little-lamb",title:"Mary Had a Little Lamb",artist:"Traditional",difficulty:"very-easy",bpm:85,duration:30},notes:[{beat:0,pitch:"E4",lane:1},{beat:1,pitch:"D4",lane:0},{beat:2,pitch:"C4",lane:0},{beat:3,pitch:"D4",lane:0},{beat:4,pitch:"E4",lane:1},{beat:5,pitch:"E4",lane:1},{beat:6,pitch:"E4",lane:1},{beat:8,pitch:"D4",lane:0},{beat:9,pitch:"D4",lane:0},{beat:10,pitch:"D4",lane:0},{beat:12,pitch:"E4",lane:1},{beat:13,pitch:"G4",lane:2},{beat:14,pitch:"G4",lane:2},{beat:16,pitch:"E4",lane:1},{beat:17,pitch:"D4",lane:0},{beat:18,pitch:"C4",lane:0},{beat:19,pitch:"D4",lane:0},{beat:20,pitch:"E4",lane:1},{beat:21,pitch:"E4",lane:1},{beat:22,pitch:"E4",lane:1},{beat:24,pitch:"D4",lane:0},{beat:25,pitch:"D4",lane:0},{beat:26,pitch:"E4",lane:1},{beat:27,pitch:"D4",lane:0},{beat:28,pitch:"C4",lane:0},{beat:32,pitch:"E4",lane:1},{beat:33,pitch:"D4",lane:0},{beat:34,pitch:"C4",lane:0},{beat:35,pitch:"D4",lane:0},{beat:36,pitch:"E4",lane:1},{beat:37,pitch:"E4",lane:1},{beat:38,pitch:"E4",lane:1},{beat:40,pitch:"D4",lane:0},{beat:41,pitch:"D4",lane:0},{beat:42,pitch:"D4",lane:0},{beat:44,pitch:"E4",lane:1},{beat:45,pitch:"G4",lane:2},{beat:46,pitch:"G4",lane:2}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:48,count:2}},mt={metadata:{id:"hot-cross-buns",title:"Hot Cross Buns",artist:"Traditional",difficulty:"very-easy",bpm:80,duration:28},notes:[{beat:0,pitch:"E4",lane:1},{beat:2,pitch:"D4",lane:0},{beat:4,pitch:"C4",lane:0},{beat:8,pitch:"E4",lane:1},{beat:10,pitch:"D4",lane:0},{beat:12,pitch:"C4",lane:0},{beat:16,pitch:"C4",lane:0},{beat:17,pitch:"C4",lane:0},{beat:18,pitch:"C4",lane:0},{beat:19,pitch:"C4",lane:0},{beat:20,pitch:"D4",lane:0},{beat:21,pitch:"D4",lane:0},{beat:22,pitch:"D4",lane:0},{beat:23,pitch:"D4",lane:0},{beat:24,pitch:"E4",lane:1},{beat:26,pitch:"D4",lane:0},{beat:28,pitch:"C4",lane:0},{beat:32,pitch:"E4",lane:1},{beat:34,pitch:"D4",lane:0},{beat:36,pitch:"C4",lane:0},{beat:40,pitch:"E4",lane:1},{beat:42,pitch:"D4",lane:0},{beat:44,pitch:"C4",lane:0},{beat:48,pitch:"C4",lane:0},{beat:49,pitch:"C4",lane:0},{beat:50,pitch:"C4",lane:0},{beat:51,pitch:"C4",lane:0},{beat:52,pitch:"D4",lane:0},{beat:53,pitch:"D4",lane:0},{beat:54,pitch:"D4",lane:0},{beat:55,pitch:"D4",lane:0},{beat:56,pitch:"E4",lane:1},{beat:58,pitch:"D4",lane:0},{beat:60,pitch:"C4",lane:0}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:64,count:1}},gt={metadata:{id:"jingle-bells",title:"Jingle Bells",artist:"Traditional",difficulty:"very-easy",bpm:95,duration:32},notes:[{beat:0,pitch:"E4",lane:1},{beat:1,pitch:"E4",lane:1},{beat:2,pitch:"E4",lane:1},{beat:4,pitch:"E4",lane:1},{beat:5,pitch:"E4",lane:1},{beat:6,pitch:"E4",lane:1},{beat:8,pitch:"E4",lane:1},{beat:9,pitch:"G4",lane:2},{beat:10,pitch:"C4",lane:0},{beat:11,pitch:"D4",lane:0},{beat:12,pitch:"E4",lane:1},{beat:16,pitch:"F4",lane:2},{beat:17,pitch:"F4",lane:2},{beat:18,pitch:"F4",lane:2},{beat:19,pitch:"F4",lane:2},{beat:20,pitch:"F4",lane:2},{beat:21,pitch:"E4",lane:1},{beat:22,pitch:"E4",lane:1},{beat:24,pitch:"E4",lane:1},{beat:25,pitch:"D4",lane:0},{beat:26,pitch:"D4",lane:0},{beat:27,pitch:"E4",lane:1},{beat:28,pitch:"D4",lane:0},{beat:30,pitch:"G4",lane:2},{beat:32,pitch:"E4",lane:1},{beat:33,pitch:"E4",lane:1},{beat:34,pitch:"E4",lane:1},{beat:36,pitch:"E4",lane:1},{beat:37,pitch:"E4",lane:1},{beat:38,pitch:"E4",lane:1},{beat:40,pitch:"E4",lane:1},{beat:41,pitch:"G4",lane:2},{beat:42,pitch:"C4",lane:0},{beat:43,pitch:"D4",lane:0},{beat:44,pitch:"E4",lane:1},{beat:48,pitch:"F4",lane:2},{beat:49,pitch:"F4",lane:2},{beat:50,pitch:"F4",lane:2},{beat:51,pitch:"F4",lane:2},{beat:52,pitch:"F4",lane:2},{beat:53,pitch:"E4",lane:1},{beat:54,pitch:"E4",lane:1},{beat:56,pitch:"G4",lane:2},{beat:57,pitch:"G4",lane:2},{beat:58,pitch:"F4",lane:2},{beat:59,pitch:"D4",lane:0},{beat:60,pitch:"C4",lane:0}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:64,count:1}},xt={metadata:{id:"row-row-row",title:"Row Row Row Your Boat",artist:"Traditional",difficulty:"very-easy",bpm:88,duration:30},notes:[{beat:0,pitch:"C4",lane:0},{beat:1,pitch:"C4",lane:0},{beat:2,pitch:"C4",lane:0},{beat:3,pitch:"D4",lane:0},{beat:4,pitch:"E4",lane:1},{beat:6,pitch:"E4",lane:1},{beat:7,pitch:"D4",lane:0},{beat:8,pitch:"E4",lane:1},{beat:9,pitch:"F4",lane:1},{beat:10,pitch:"G4",lane:2},{beat:12,pitch:"C5",lane:3},{beat:12.5,pitch:"C5",lane:3},{beat:13,pitch:"C5",lane:3},{beat:13.5,pitch:"G4",lane:2},{beat:14,pitch:"G4",lane:2},{beat:14.5,pitch:"G4",lane:2},{beat:15,pitch:"E4",lane:1},{beat:15.5,pitch:"E4",lane:1},{beat:16,pitch:"E4",lane:1},{beat:16.5,pitch:"C4",lane:0},{beat:17,pitch:"C4",lane:0},{beat:17.5,pitch:"C4",lane:0},{beat:18,pitch:"G4",lane:2},{beat:19,pitch:"F4",lane:1},{beat:20,pitch:"E4",lane:1},{beat:21,pitch:"D4",lane:0},{beat:22,pitch:"C4",lane:0},{beat:24,pitch:"C4",lane:0},{beat:25,pitch:"C4",lane:0},{beat:26,pitch:"C4",lane:0},{beat:27,pitch:"D4",lane:0},{beat:28,pitch:"E4",lane:1},{beat:30,pitch:"E4",lane:1},{beat:31,pitch:"D4",lane:0},{beat:32,pitch:"E4",lane:1},{beat:33,pitch:"F4",lane:1},{beat:34,pitch:"G4",lane:2},{beat:36,pitch:"C5",lane:3},{beat:36.5,pitch:"C5",lane:3},{beat:37,pitch:"C5",lane:3},{beat:37.5,pitch:"G4",lane:2},{beat:38,pitch:"G4",lane:2},{beat:38.5,pitch:"G4",lane:2},{beat:39,pitch:"E4",lane:1},{beat:39.5,pitch:"E4",lane:1},{beat:40,pitch:"E4",lane:1},{beat:40.5,pitch:"C4",lane:0},{beat:41,pitch:"C4",lane:0},{beat:41.5,pitch:"C4",lane:0},{beat:42,pitch:"G4",lane:2},{beat:43,pitch:"F4",lane:1},{beat:44,pitch:"E4",lane:1},{beat:45,pitch:"D4",lane:0},{beat:46,pitch:"C4",lane:0}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:48,count:2}},yt={metadata:{id:"ode-to-joy",title:"Ode to Joy",artist:"Beethoven",difficulty:"easy",bpm:110,duration:35},notes:[{beat:0,pitch:"E4",lane:1},{beat:1,pitch:"E4",lane:1},{beat:2,pitch:"F4",lane:2},{beat:3,pitch:"G4",lane:3},{beat:4,pitch:"G4",lane:3},{beat:5,pitch:"F4",lane:2},{beat:6,pitch:"E4",lane:1},{beat:7,pitch:"D4",lane:0},{beat:8,pitch:"C4",lane:0},{beat:9,pitch:"C4",lane:0},{beat:10,pitch:"D4",lane:0},{beat:11,pitch:"E4",lane:1},{beat:12,pitch:"E4",lane:1},{beat:12.5,pitch:"D4",lane:0},{beat:14,pitch:"D4",lane:0},{beat:16,pitch:"E4",lane:1},{beat:17,pitch:"E4",lane:1},{beat:18,pitch:"F4",lane:2},{beat:19,pitch:"G4",lane:3},{beat:20,pitch:"G4",lane:3},{beat:21,pitch:"F4",lane:2},{beat:22,pitch:"E4",lane:1},{beat:23,pitch:"D4",lane:0},{beat:24,pitch:"C4",lane:0},{beat:25,pitch:"C4",lane:0},{beat:26,pitch:"D4",lane:0},{beat:27,pitch:"E4",lane:1},{beat:28,pitch:"D4",lane:0},{beat:28.5,pitch:"C4",lane:0},{beat:30,pitch:"C4",lane:0},{beat:32,pitch:"D4",lane:0},{beat:33,pitch:"D4",lane:0},{beat:34,pitch:"E4",lane:1},{beat:35,pitch:"C4",lane:0},{beat:36,pitch:"D4",lane:0},{beat:37,pitch:"E4",lane:1},{beat:37.5,pitch:"F4",lane:2},{beat:38,pitch:"E4",lane:1},{beat:39,pitch:"C4",lane:0},{beat:40,pitch:"D4",lane:0},{beat:41,pitch:"E4",lane:1},{beat:41.5,pitch:"F4",lane:2},{beat:42,pitch:"E4",lane:1},{beat:43,pitch:"D4",lane:0},{beat:44,pitch:"C4",lane:0},{beat:45,pitch:"D4",lane:0},{beat:46,pitch:"G3",lane:0},{beat:48,pitch:"E4",lane:1},{beat:49,pitch:"E4",lane:1},{beat:50,pitch:"F4",lane:2},{beat:51,pitch:"G4",lane:3},{beat:52,pitch:"G4",lane:3},{beat:53,pitch:"F4",lane:2},{beat:54,pitch:"E4",lane:1},{beat:55,pitch:"D4",lane:0},{beat:56,pitch:"C4",lane:0},{beat:57,pitch:"C4",lane:0},{beat:58,pitch:"D4",lane:0},{beat:59,pitch:"E4",lane:1},{beat:60,pitch:"D4",lane:0},{beat:60.5,pitch:"C4",lane:0},{beat:62,pitch:"C4",lane:0},{beat:63,pitch:"C5",lane:2}],background:{drumPattern:"default"},loop:{startBeat:0,endBeat:64,count:1}},ft={metadata:{id:"when-the-saints",title:"When the Saints",artist:"Traditional",difficulty:"easy",bpm:100,duration:35},notes:[{beat:0,pitch:"C4",lane:0},{beat:1,pitch:"E4",lane:1},{beat:2,pitch:"F4",lane:1},{beat:3,pitch:"G4",lane:2},{beat:6,pitch:"C4",lane:0},{beat:7,pitch:"E4",lane:1},{beat:8,pitch:"F4",lane:1},{beat:9,pitch:"G4",lane:2},{beat:12,pitch:"C4",lane:0},{beat:13,pitch:"E4",lane:1},{beat:14,pitch:"F4",lane:1},{beat:15,pitch:"G4",lane:2},{beat:17,pitch:"E4",lane:1},{beat:18,pitch:"C4",lane:0},{beat:19,pitch:"E4",lane:1},{beat:20,pitch:"D4",lane:0},{beat:24,pitch:"E4",lane:1},{beat:25,pitch:"E4",lane:1},{beat:26,pitch:"D4",lane:0},{beat:27,pitch:"C4",lane:0},{beat:29,pitch:"C4",lane:0},{beat:30,pitch:"E4",lane:1},{beat:31,pitch:"G4",lane:2},{beat:32,pitch:"G4",lane:2},{beat:34,pitch:"G4",lane:2},{beat:35,pitch:"F4",lane:1},{beat:36,pitch:"E4",lane:1},{beat:37,pitch:"F4",lane:1},{beat:38,pitch:"G4",lane:2},{beat:40,pitch:"E4",lane:1},{beat:41,pitch:"C4",lane:0},{beat:42,pitch:"D4",lane:0},{beat:44,pitch:"C4",lane:0},{beat:48,pitch:"C4",lane:0},{beat:49,pitch:"E4",lane:1},{beat:50,pitch:"F4",lane:1},{beat:51,pitch:"G4",lane:2},{beat:54,pitch:"C4",lane:0},{beat:55,pitch:"E4",lane:1},{beat:56,pitch:"F4",lane:1},{beat:57,pitch:"G4",lane:2},{beat:60,pitch:"C4",lane:0},{beat:61,pitch:"E4",lane:1},{beat:62,pitch:"F4",lane:1},{beat:63,pitch:"G4",lane:2},{beat:65,pitch:"E4",lane:1},{beat:66,pitch:"C4",lane:0},{beat:67,pitch:"E4",lane:1},{beat:68,pitch:"D4",lane:0},{beat:72,pitch:"E4",lane:1},{beat:73,pitch:"E4",lane:1},{beat:74,pitch:"D4",lane:0},{beat:75,pitch:"C4",lane:0},{beat:77,pitch:"C4",lane:0},{beat:78,pitch:"E4",lane:1},{beat:79,pitch:"G4",lane:2},{beat:80,pitch:"G4",lane:2}],background:{drumPattern:"default"},loop:{startBeat:0,endBeat:84,count:1}},vt={metadata:{id:"oh-susanna",title:"Oh! Susanna",artist:"Stephen Foster",difficulty:"easy",bpm:105,duration:35},notes:[{beat:0,pitch:"C4",lane:0},{beat:.5,pitch:"D4",lane:0},{beat:1,pitch:"E4",lane:1},{beat:2,pitch:"G4",lane:2},{beat:3,pitch:"G4",lane:2},{beat:3.5,pitch:"A4",lane:2},{beat:4,pitch:"G4",lane:2},{beat:5,pitch:"E4",lane:1},{beat:6,pitch:"C4",lane:0},{beat:6.5,pitch:"D4",lane:0},{beat:7,pitch:"E4",lane:1},{beat:8,pitch:"E4",lane:1},{beat:9,pitch:"D4",lane:0},{beat:10,pitch:"C4",lane:0},{beat:11,pitch:"D4",lane:0},{beat:14,pitch:"C4",lane:0},{beat:14.5,pitch:"D4",lane:0},{beat:15,pitch:"E4",lane:1},{beat:16,pitch:"G4",lane:2},{beat:17,pitch:"G4",lane:2},{beat:17.5,pitch:"A4",lane:2},{beat:18,pitch:"G4",lane:2},{beat:19,pitch:"E4",lane:1},{beat:20,pitch:"C4",lane:0},{beat:20.5,pitch:"D4",lane:0},{beat:21,pitch:"E4",lane:1},{beat:22,pitch:"E4",lane:1},{beat:23,pitch:"D4",lane:0},{beat:24,pitch:"D4",lane:0},{beat:25,pitch:"C4",lane:0},{beat:28,pitch:"A4",lane:2},{beat:29,pitch:"A4",lane:2},{beat:30,pitch:"C5",lane:3},{beat:31,pitch:"C5",lane:3},{beat:32,pitch:"D5",lane:3},{beat:33,pitch:"E5",lane:3},{beat:34,pitch:"E5",lane:3},{beat:36,pitch:"E5",lane:3},{beat:37,pitch:"D5",lane:3},{beat:38,pitch:"C5",lane:2},{beat:39,pitch:"A4",lane:2},{beat:40,pitch:"G4",lane:1},{beat:42,pitch:"C4",lane:0},{beat:42.5,pitch:"D4",lane:0},{beat:43,pitch:"E4",lane:1},{beat:44,pitch:"G4",lane:2},{beat:45,pitch:"G4",lane:2},{beat:45.5,pitch:"A4",lane:2},{beat:46,pitch:"G4",lane:2},{beat:47,pitch:"E4",lane:1},{beat:48,pitch:"C4",lane:0},{beat:48.5,pitch:"D4",lane:0},{beat:49,pitch:"E4",lane:1},{beat:50,pitch:"E4",lane:1},{beat:51,pitch:"D4",lane:0},{beat:52,pitch:"D4",lane:0},{beat:53,pitch:"C4",lane:0}],background:{drumPattern:"default"},loop:{startBeat:0,endBeat:56,count:1}},Ct={metadata:{id:"london-bridge",title:"London Bridge",artist:"Traditional",difficulty:"easy",bpm:100,duration:32},notes:[{beat:0,pitch:"G4",lane:2},{beat:1,pitch:"A4",lane:2},{beat:2,pitch:"G4",lane:2},{beat:3,pitch:"F4",lane:1},{beat:4,pitch:"E4",lane:1},{beat:5,pitch:"F4",lane:1},{beat:6,pitch:"G4",lane:2},{beat:8,pitch:"D4",lane:0},{beat:9,pitch:"E4",lane:1},{beat:10,pitch:"F4",lane:1},{beat:12,pitch:"E4",lane:1},{beat:13,pitch:"F4",lane:1},{beat:14,pitch:"G4",lane:2},{beat:16,pitch:"G4",lane:2},{beat:17,pitch:"A4",lane:2},{beat:18,pitch:"G4",lane:2},{beat:19,pitch:"F4",lane:1},{beat:20,pitch:"E4",lane:1},{beat:21,pitch:"F4",lane:1},{beat:22,pitch:"G4",lane:2},{beat:24,pitch:"D4",lane:0},{beat:26,pitch:"G4",lane:2},{beat:27,pitch:"E4",lane:1},{beat:28,pitch:"C4",lane:0},{beat:32,pitch:"G4",lane:2},{beat:33,pitch:"A4",lane:2},{beat:34,pitch:"G4",lane:2},{beat:35,pitch:"F4",lane:1},{beat:36,pitch:"E4",lane:1},{beat:37,pitch:"F4",lane:1},{beat:38,pitch:"G4",lane:2},{beat:40,pitch:"D4",lane:0},{beat:41,pitch:"E4",lane:1},{beat:42,pitch:"F4",lane:1},{beat:44,pitch:"E4",lane:1},{beat:45,pitch:"F4",lane:1},{beat:46,pitch:"G4",lane:2},{beat:48,pitch:"G4",lane:2},{beat:49,pitch:"A4",lane:2},{beat:50,pitch:"G4",lane:2},{beat:51,pitch:"F4",lane:1},{beat:52,pitch:"E4",lane:1},{beat:53,pitch:"F4",lane:1},{beat:54,pitch:"G4",lane:2},{beat:56,pitch:"D4",lane:0},{beat:58,pitch:"G4",lane:2},{beat:59,pitch:"E4",lane:1},{beat:60,pitch:"C4",lane:0}],background:{drumPattern:"default"},loop:{startBeat:0,endBeat:64,count:1}},wt={metadata:{id:"happy-birthday",title:"Happy Birthday",artist:"Traditional",difficulty:"easy",bpm:95,duration:30},notes:[{beat:0,pitch:"G4",lane:1},{beat:.5,pitch:"G4",lane:1},{beat:1,pitch:"A4",lane:2},{beat:2,pitch:"G4",lane:1},{beat:3,pitch:"C5",lane:3},{beat:4,pitch:"B4",lane:2},{beat:6,pitch:"G4",lane:1},{beat:6.5,pitch:"G4",lane:1},{beat:7,pitch:"A4",lane:2},{beat:8,pitch:"G4",lane:1},{beat:9,pitch:"D5",lane:3},{beat:10,pitch:"C5",lane:3},{beat:12,pitch:"G4",lane:1},{beat:12.5,pitch:"G4",lane:1},{beat:13,pitch:"G5",lane:3},{beat:14,pitch:"E5",lane:3},{beat:15,pitch:"C5",lane:2},{beat:16,pitch:"B4",lane:2},{beat:17,pitch:"A4",lane:2},{beat:18,pitch:"F5",lane:3},{beat:18.5,pitch:"F5",lane:3},{beat:19,pitch:"E5",lane:3},{beat:20,pitch:"C5",lane:2},{beat:21,pitch:"D5",lane:3},{beat:22,pitch:"C5",lane:2},{beat:26,pitch:"G4",lane:1},{beat:26.5,pitch:"G4",lane:1},{beat:27,pitch:"A4",lane:2},{beat:28,pitch:"G4",lane:1},{beat:29,pitch:"C5",lane:3},{beat:30,pitch:"B4",lane:2},{beat:32,pitch:"G4",lane:1},{beat:32.5,pitch:"G4",lane:1},{beat:33,pitch:"A4",lane:2},{beat:34,pitch:"G4",lane:1},{beat:35,pitch:"D5",lane:3},{beat:36,pitch:"C5",lane:3},{beat:38,pitch:"G4",lane:1},{beat:38.5,pitch:"G4",lane:1},{beat:39,pitch:"G5",lane:3},{beat:40,pitch:"E5",lane:3},{beat:41,pitch:"C5",lane:2},{beat:42,pitch:"B4",lane:2},{beat:43,pitch:"A4",lane:2},{beat:44,pitch:"F5",lane:3},{beat:44.5,pitch:"F5",lane:3},{beat:45,pitch:"E5",lane:3},{beat:46,pitch:"C5",lane:2},{beat:47,pitch:"D5",lane:3},{beat:48,pitch:"C5",lane:2}],background:{drumPattern:"default"},loop:{startBeat:0,endBeat:52,count:1}},St={metadata:{id:"canon-in-d",title:"Canon in D",artist:"Pachelbel",difficulty:"medium",bpm:72,duration:50},notes:[{beat:0,pitch:"F#5",lane:3},{beat:1,pitch:"E5",lane:2},{beat:2,pitch:"D5",lane:2},{beat:3,pitch:"C#5",lane:1},{beat:4,pitch:"B4",lane:1},{beat:5,pitch:"A4",lane:0},{beat:6,pitch:"B4",lane:1},{beat:7,pitch:"C#5",lane:1},{beat:8,pitch:"D5",lane:2},{beat:9,pitch:"C#5",lane:1},{beat:10,pitch:"B4",lane:1},{beat:11,pitch:"A4",lane:0},{beat:12,pitch:"G4",lane:0},{beat:13,pitch:"F#4",lane:0},{beat:14,pitch:"G4",lane:0},{beat:15,pitch:"A4",lane:0},{beat:16,pitch:"B4",lane:1},{beat:16.5,pitch:"C#5",lane:1},{beat:17,pitch:"D5",lane:2},{beat:17.5,pitch:"C#5",lane:1},{beat:18,pitch:"B4",lane:1},{beat:18.5,pitch:"A4",lane:0},{beat:19,pitch:"G4",lane:0},{beat:19.5,pitch:"F#4",lane:0},{beat:20,pitch:"E4",lane:0},{beat:20.5,pitch:"F#4",lane:0},{beat:21,pitch:"G4",lane:0},{beat:21.5,pitch:"A4",lane:0},{beat:22,pitch:"F#4",lane:0},{beat:22.5,pitch:"G4",lane:0},{beat:23,pitch:"A4",lane:0},{beat:23.5,pitch:"B4",lane:1},{beat:24,pitch:"G4",lane:0},{beat:24.5,pitch:"A4",lane:0},{beat:25,pitch:"B4",lane:1},{beat:25.5,pitch:"C#5",lane:1},{beat:26,pitch:"A4",lane:0},{beat:26.5,pitch:"B4",lane:1},{beat:27,pitch:"C#5",lane:1},{beat:27.5,pitch:"D5",lane:2},{beat:28,pitch:"B4",lane:1},{beat:28.5,pitch:"C#5",lane:1},{beat:29,pitch:"D5",lane:2},{beat:29.5,pitch:"E5",lane:2},{beat:30,pitch:"C#5",lane:1},{beat:30.5,pitch:"D5",lane:2},{beat:31,pitch:"E5",lane:2},{beat:31.5,pitch:"F#5",lane:3},{beat:32,pitch:"D5",lane:2},{beat:33,pitch:"E5",lane:2},{beat:34,pitch:"F#5",lane:3},{beat:35,pitch:"G5",lane:3},{beat:36,pitch:"E5",lane:2},{beat:37,pitch:"F#5",lane:3},{beat:38,pitch:"G5",lane:3},{beat:39,pitch:"A5",lane:3},{beat:40,pitch:"F#5",lane:3},{beat:41,pitch:"E5",lane:2},{beat:42,pitch:"D5",lane:2},{beat:43,pitch:"C#5",lane:1},{beat:44,pitch:"B4",lane:1},{beat:45,pitch:"A4",lane:0},{beat:46,pitch:"B4",lane:1},{beat:47,pitch:"C#5",lane:1},{beat:48,pitch:"D5",lane:2}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:50,count:1}},Et={metadata:{id:"entertainer",title:"The Entertainer",artist:"Scott Joplin",difficulty:"medium",bpm:105,duration:45},notes:[{beat:0,pitch:"D4",lane:0},{beat:.5,pitch:"D#4",lane:0},{beat:1,pitch:"E4",lane:1},{beat:2,pitch:"C5",lane:3},{beat:3,pitch:"E4",lane:1},{beat:4,pitch:"C5",lane:3},{beat:5,pitch:"E4",lane:1},{beat:6,pitch:"C5",lane:3},{beat:8,pitch:"C5",lane:3},{beat:8.5,pitch:"D5",lane:3},{beat:9,pitch:"D#5",lane:3},{beat:9.5,pitch:"E5",lane:3},{beat:10.5,pitch:"G5",lane:3},{beat:11.5,pitch:"E5",lane:3},{beat:12.5,pitch:"C5",lane:2},{beat:13.5,pitch:"D5",lane:2},{beat:14,pitch:"E5",lane:3},{beat:16,pitch:"C5",lane:2},{beat:16.5,pitch:"D5",lane:2},{beat:17,pitch:"D#5",lane:3},{beat:17.5,pitch:"E5",lane:3},{beat:18.5,pitch:"G5",lane:3},{beat:19.5,pitch:"E5",lane:3},{beat:20.5,pitch:"C5",lane:2},{beat:21,pitch:"D5",lane:2},{beat:22,pitch:"C5",lane:2},{beat:24,pitch:"D4",lane:0},{beat:24.5,pitch:"D#4",lane:0},{beat:25,pitch:"E4",lane:1},{beat:26,pitch:"C5",lane:2},{beat:27,pitch:"E4",lane:1},{beat:28,pitch:"C5",lane:2},{beat:29,pitch:"E4",lane:1},{beat:30,pitch:"C5",lane:2},{beat:32,pitch:"A4",lane:1},{beat:32.5,pitch:"G4",lane:0},{beat:33,pitch:"F#4",lane:0},{beat:33.5,pitch:"A4",lane:1},{beat:34,pitch:"C5",lane:2},{beat:34.5,pitch:"E5",lane:3},{beat:35,pitch:"D5",lane:2},{beat:35.5,pitch:"C5",lane:2},{beat:36,pitch:"A4",lane:1},{beat:38,pitch:"D4",lane:0},{beat:38.5,pitch:"E4",lane:1},{beat:39,pitch:"F#4",lane:1},{beat:39.5,pitch:"A4",lane:1},{beat:40,pitch:"C5",lane:2},{beat:40.5,pitch:"E5",lane:3},{beat:41,pitch:"D5",lane:2},{beat:42,pitch:"C5",lane:2},{beat:43,pitch:"A4",lane:1},{beat:44,pitch:"D5",lane:2},{beat:45,pitch:"C5",lane:2},{beat:48,pitch:"C5",lane:2},{beat:48.5,pitch:"D5",lane:2},{beat:49,pitch:"D#5",lane:3},{beat:49.5,pitch:"E5",lane:3},{beat:50.5,pitch:"G5",lane:3},{beat:51.5,pitch:"E5",lane:3},{beat:52.5,pitch:"C5",lane:2},{beat:53.5,pitch:"D5",lane:2},{beat:54,pitch:"E5",lane:3},{beat:56,pitch:"C5",lane:2},{beat:56.5,pitch:"D5",lane:2},{beat:57,pitch:"D#5",lane:3},{beat:57.5,pitch:"E5",lane:3},{beat:58.5,pitch:"G5",lane:3},{beat:59.5,pitch:"E5",lane:3},{beat:60.5,pitch:"C5",lane:2},{beat:61,pitch:"D5",lane:2},{beat:62,pitch:"C5",lane:2},{beat:64,pitch:"G4",lane:0},{beat:64.5,pitch:"A4",lane:1},{beat:65,pitch:"B4",lane:1},{beat:65.5,pitch:"C5",lane:2},{beat:66,pitch:"D5",lane:2},{beat:66.5,pitch:"E5",lane:3},{beat:67,pitch:"F5",lane:3},{beat:68,pitch:"E5",lane:3},{beat:69,pitch:"D5",lane:2},{beat:70,pitch:"C5",lane:2}],background:{drumPattern:"default"},loop:{startBeat:8,endBeat:70,count:1}},jt={metadata:{id:"minuet-in-g",title:"Minuet in G",artist:"J.S. Bach",difficulty:"medium",bpm:108,duration:40},notes:[{beat:0,pitch:"D5",lane:2},{beat:1,pitch:"G4",lane:1},{beat:1.5,pitch:"A4",lane:1},{beat:2,pitch:"B4",lane:2},{beat:2.5,pitch:"C5",lane:2},{beat:3,pitch:"D5",lane:3},{beat:4,pitch:"G4",lane:1},{beat:5,pitch:"G4",lane:1},{beat:6,pitch:"E5",lane:3},{beat:7,pitch:"C5",lane:2},{beat:7.5,pitch:"D5",lane:2},{beat:8,pitch:"E5",lane:3},{beat:8.5,pitch:"F#5",lane:3},{beat:9,pitch:"G5",lane:3},{beat:10,pitch:"G4",lane:1},{beat:11,pitch:"G4",lane:1},{beat:12,pitch:"C5",lane:2},{beat:13,pitch:"D5",lane:2},{beat:13.5,pitch:"C5",lane:2},{beat:14,pitch:"B4",lane:1},{beat:14.5,pitch:"A4",lane:1},{beat:15,pitch:"B4",lane:2},{beat:16,pitch:"C5",lane:2},{beat:16.5,pitch:"B4",lane:2},{beat:17,pitch:"A4",lane:1},{beat:17.5,pitch:"G4",lane:1},{beat:18,pitch:"F#4",lane:1},{beat:19,pitch:"G4",lane:1},{beat:19.5,pitch:"A4",lane:1},{beat:20,pitch:"B4",lane:2},{beat:20.5,pitch:"G4",lane:1},{beat:21,pitch:"A4",lane:1},{beat:22,pitch:"D4",lane:0},{beat:23,pitch:"D4",lane:0},{beat:24,pitch:"D5",lane:2},{beat:25,pitch:"G4",lane:1},{beat:25.5,pitch:"A4",lane:1},{beat:26,pitch:"B4",lane:2},{beat:26.5,pitch:"C5",lane:2},{beat:27,pitch:"D5",lane:3},{beat:28,pitch:"G4",lane:1},{beat:29,pitch:"G4",lane:1},{beat:30,pitch:"E5",lane:3},{beat:31,pitch:"C5",lane:2},{beat:31.5,pitch:"D5",lane:2},{beat:32,pitch:"E5",lane:3},{beat:32.5,pitch:"F#5",lane:3},{beat:33,pitch:"G5",lane:3},{beat:34,pitch:"G4",lane:1},{beat:35,pitch:"G4",lane:1},{beat:36,pitch:"C5",lane:2},{beat:37,pitch:"D5",lane:2},{beat:37.5,pitch:"C5",lane:2},{beat:38,pitch:"B4",lane:1},{beat:38.5,pitch:"A4",lane:1},{beat:39,pitch:"B4",lane:2},{beat:40,pitch:"C5",lane:2},{beat:40.5,pitch:"B4",lane:2},{beat:41,pitch:"A4",lane:1},{beat:41.5,pitch:"G4",lane:1},{beat:42,pitch:"B4",lane:2},{beat:43,pitch:"C5",lane:2},{beat:43.5,pitch:"B4",lane:2},{beat:44,pitch:"A4",lane:1},{beat:44.5,pitch:"G4",lane:1},{beat:45,pitch:"F#4",lane:0},{beat:46,pitch:"G4",lane:1}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:48,count:1}},kt={metadata:{id:"turkish-march",title:"Turkish March",artist:"Mozart",difficulty:"medium",bpm:115,duration:40},notes:[{beat:0,pitch:"B4",lane:2},{beat:.5,pitch:"A4",lane:1},{beat:1,pitch:"G#4",lane:1},{beat:1.5,pitch:"A4",lane:1},{beat:2,pitch:"C5",lane:3},{beat:4,pitch:"D5",lane:3},{beat:4.5,pitch:"C5",lane:2},{beat:5,pitch:"B4",lane:2},{beat:5.5,pitch:"C5",lane:2},{beat:6,pitch:"E5",lane:3},{beat:8,pitch:"F5",lane:3},{beat:8.5,pitch:"E5",lane:3},{beat:9,pitch:"D#5",lane:3},{beat:9.5,pitch:"E5",lane:3},{beat:10,pitch:"B4",lane:2},{beat:10.5,pitch:"A4",lane:1},{beat:11,pitch:"G#4",lane:1},{beat:11.5,pitch:"A4",lane:1},{beat:12,pitch:"C5",lane:2},{beat:14,pitch:"D5",lane:3},{beat:14.5,pitch:"C5",lane:2},{beat:15,pitch:"B4",lane:2},{beat:15.5,pitch:"C5",lane:2},{beat:16,pitch:"E5",lane:3},{beat:18,pitch:"B5",lane:3},{beat:18.5,pitch:"A5",lane:3},{beat:19,pitch:"G#5",lane:3},{beat:19.5,pitch:"A5",lane:3},{beat:20,pitch:"A4",lane:1},{beat:22,pitch:"C5",lane:2},{beat:22.5,pitch:"B4",lane:2},{beat:23,pitch:"A4",lane:1},{beat:23.5,pitch:"B4",lane:2},{beat:24,pitch:"C5",lane:2},{beat:24.5,pitch:"D5",lane:3},{beat:25,pitch:"E5",lane:3},{beat:25.5,pitch:"F5",lane:3},{beat:26,pitch:"E5",lane:3},{beat:28,pitch:"D5",lane:2},{beat:28.5,pitch:"C5",lane:2},{beat:29,pitch:"B4",lane:2},{beat:29.5,pitch:"C5",lane:2},{beat:30,pitch:"D5",lane:3},{beat:30.5,pitch:"E5",lane:3},{beat:31,pitch:"F5",lane:3},{beat:31.5,pitch:"E5",lane:3},{beat:32,pitch:"D5",lane:2},{beat:34,pitch:"B4",lane:2},{beat:34.5,pitch:"A4",lane:1},{beat:35,pitch:"G#4",lane:1},{beat:35.5,pitch:"A4",lane:1},{beat:36,pitch:"C5",lane:2},{beat:38,pitch:"D5",lane:3},{beat:38.5,pitch:"C5",lane:2},{beat:39,pitch:"B4",lane:2},{beat:39.5,pitch:"C5",lane:2},{beat:40,pitch:"E5",lane:3},{beat:42,pitch:"F5",lane:3},{beat:42.5,pitch:"E5",lane:3},{beat:43,pitch:"D#5",lane:3},{beat:43.5,pitch:"E5",lane:3},{beat:44,pitch:"B5",lane:3},{beat:44.5,pitch:"A5",lane:3},{beat:45,pitch:"G#5",lane:3},{beat:45.5,pitch:"A5",lane:3},{beat:46,pitch:"A4",lane:1}],background:{drumPattern:"upbeat"},loop:{startBeat:0,endBeat:48,count:1}},At={metadata:{id:"greensleeves",title:"Greensleeves",artist:"Traditional",difficulty:"medium",bpm:95,duration:45},notes:[{beat:0,pitch:"A4",lane:1},{beat:1,pitch:"C5",lane:2},{beat:2,pitch:"D5",lane:3},{beat:2.5,pitch:"E5",lane:3},{beat:3,pitch:"F5",lane:3},{beat:3.5,pitch:"E5",lane:3},{beat:4,pitch:"D5",lane:2},{beat:5,pitch:"B4",lane:2},{beat:6,pitch:"G4",lane:1},{beat:6.5,pitch:"A4",lane:1},{beat:7,pitch:"B4",lane:2},{beat:7.5,pitch:"C5",lane:2},{beat:8,pitch:"A4",lane:1},{beat:9,pitch:"A4",lane:1},{beat:9.5,pitch:"G#4",lane:1},{beat:10,pitch:"A4",lane:1},{beat:10.5,pitch:"B4",lane:2},{beat:11,pitch:"G#4",lane:1},{beat:12,pitch:"E4",lane:0},{beat:14,pitch:"A4",lane:1},{beat:16,pitch:"C5",lane:2},{beat:17,pitch:"D5",lane:3},{beat:18,pitch:"E5",lane:3},{beat:18.5,pitch:"F5",lane:3},{beat:19,pitch:"E5",lane:3},{beat:20,pitch:"D5",lane:2},{beat:21,pitch:"B4",lane:2},{beat:22,pitch:"G4",lane:1},{beat:22.5,pitch:"A4",lane:1},{beat:23,pitch:"B4",lane:2},{beat:23.5,pitch:"C5",lane:2},{beat:24,pitch:"B4",lane:2},{beat:24.5,pitch:"A4",lane:1},{beat:25,pitch:"G#4",lane:1},{beat:25.5,pitch:"F#4",lane:0},{beat:26,pitch:"G#4",lane:1},{beat:27,pitch:"A4",lane:1},{beat:30,pitch:"G5",lane:3},{beat:32,pitch:"G5",lane:3},{beat:32.5,pitch:"F#5",lane:3},{beat:33,pitch:"E5",lane:3},{beat:33.5,pitch:"D5",lane:2},{beat:34,pitch:"D5",lane:2},{beat:35,pitch:"B4",lane:2},{beat:36,pitch:"G4",lane:1},{beat:36.5,pitch:"A4",lane:1},{beat:37,pitch:"B4",lane:2},{beat:37.5,pitch:"C5",lane:2},{beat:38,pitch:"A4",lane:1},{beat:39,pitch:"A4",lane:1},{beat:39.5,pitch:"G#4",lane:1},{beat:40,pitch:"A4",lane:1},{beat:40.5,pitch:"B4",lane:2},{beat:41,pitch:"G#4",lane:1},{beat:42,pitch:"E4",lane:0},{beat:44,pitch:"G5",lane:3},{beat:46,pitch:"G5",lane:3},{beat:46.5,pitch:"F#5",lane:3},{beat:47,pitch:"E5",lane:3},{beat:47.5,pitch:"D5",lane:2},{beat:48,pitch:"D5",lane:2},{beat:49,pitch:"B4",lane:2},{beat:50,pitch:"G4",lane:1},{beat:50.5,pitch:"A4",lane:1},{beat:51,pitch:"B4",lane:2},{beat:51.5,pitch:"C5",lane:2},{beat:52,pitch:"B4",lane:2},{beat:52.5,pitch:"A4",lane:1},{beat:53,pitch:"G#4",lane:1},{beat:53.5,pitch:"F#4",lane:0},{beat:54,pitch:"G#4",lane:1},{beat:55,pitch:"A4",lane:1}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:58,count:1}},Dt={metadata:{id:"fur-elise",title:"F\xfcr Elise",artist:"Beethoven",difficulty:"hard",bpm:100,duration:40},notes:[{beat:0,pitch:"E5",lane:3},{beat:.5,pitch:"D#5",lane:2},{beat:1,pitch:"E5",lane:3},{beat:1.5,pitch:"D#5",lane:2},{beat:2,pitch:"E5",lane:3},{beat:2.5,pitch:"B4",lane:1},{beat:3,pitch:"D5",lane:2},{beat:3.5,pitch:"C5",lane:2},{beat:4,pitch:"A4",lane:1},{beat:5,pitch:"C4",lane:0},{beat:5.5,pitch:"E4",lane:1},{beat:6,pitch:"A4",lane:1},{beat:6.5,pitch:"B4",lane:2},{beat:7.5,pitch:"E4",lane:1},{beat:8,pitch:"G#4",lane:2},{beat:8.5,pitch:"B4",lane:2},{beat:9,pitch:"C5",lane:3},{beat:10.5,pitch:"E5",lane:3},{beat:11,pitch:"D#5",lane:2},{beat:11.5,pitch:"E5",lane:3},{beat:12,pitch:"D#5",lane:2},{beat:12.5,pitch:"E5",lane:3},{beat:13,pitch:"B4",lane:1},{beat:13.5,pitch:"D5",lane:2},{beat:14,pitch:"C5",lane:2},{beat:14.5,pitch:"A4",lane:1},{beat:16,pitch:"C4",lane:0},{beat:16.5,pitch:"E4",lane:1},{beat:17,pitch:"A4",lane:1},{beat:17.5,pitch:"B4",lane:2},{beat:18.5,pitch:"E4",lane:1},{beat:19,pitch:"C5",lane:3},{beat:19.5,pitch:"B4",lane:2},{beat:20,pitch:"A4",lane:1},{beat:22,pitch:"B4",lane:2},{beat:22.5,pitch:"C5",lane:3},{beat:23,pitch:"D5",lane:3},{beat:24,pitch:"E5",lane:3},{beat:25,pitch:"G4",lane:1},{beat:25.5,pitch:"F5",lane:3},{beat:26,pitch:"E5",lane:3},{beat:26.5,pitch:"D5",lane:2},{beat:27.5,pitch:"F4",lane:0},{beat:28,pitch:"E5",lane:3},{beat:28.5,pitch:"D5",lane:2},{beat:29,pitch:"C5",lane:2},{beat:30,pitch:"E4",lane:1},{beat:30.5,pitch:"D5",lane:2},{beat:31,pitch:"C5",lane:2},{beat:31.5,pitch:"B4",lane:1},{beat:33,pitch:"E5",lane:3},{beat:33.5,pitch:"D#5",lane:2},{beat:34,pitch:"E5",lane:3},{beat:34.5,pitch:"D#5",lane:2},{beat:35,pitch:"E5",lane:3},{beat:35.5,pitch:"B4",lane:1},{beat:36,pitch:"D5",lane:2},{beat:36.5,pitch:"C5",lane:2},{beat:37,pitch:"A4",lane:1},{beat:38,pitch:"C4",lane:0},{beat:38.5,pitch:"E4",lane:1},{beat:39,pitch:"A4",lane:1},{beat:39.5,pitch:"B4",lane:2},{beat:40.5,pitch:"E4",lane:1},{beat:41,pitch:"C5",lane:3},{beat:41.5,pitch:"B4",lane:2},{beat:42,pitch:"A4",lane:1}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:44,count:1}},Bt={metadata:{id:"moonlight-sonata",title:"Moonlight Sonata",artist:"Beethoven",difficulty:"hard",bpm:60,duration:50},notes:[{beat:0,pitch:"G#3",lane:0},{beat:.33,pitch:"C#4",lane:1},{beat:.67,pitch:"E4",lane:1},{beat:1,pitch:"G#3",lane:0},{beat:1.33,pitch:"C#4",lane:1},{beat:1.67,pitch:"E4",lane:1},{beat:2,pitch:"G#3",lane:0},{beat:2.33,pitch:"C#4",lane:1},{beat:2.67,pitch:"E4",lane:1},{beat:3,pitch:"G#4",lane:2},{beat:4,pitch:"G#3",lane:0},{beat:4.33,pitch:"C#4",lane:1},{beat:4.67,pitch:"E4",lane:1},{beat:5,pitch:"G#3",lane:0},{beat:5.33,pitch:"C#4",lane:1},{beat:5.67,pitch:"E4",lane:1},{beat:6,pitch:"G#3",lane:0},{beat:6.33,pitch:"C#4",lane:1},{beat:6.67,pitch:"E4",lane:1},{beat:7,pitch:"A4",lane:2},{beat:8,pitch:"A3",lane:0},{beat:8.33,pitch:"C#4",lane:1},{beat:8.67,pitch:"E4",lane:1},{beat:9,pitch:"A3",lane:0},{beat:9.33,pitch:"C#4",lane:1},{beat:9.67,pitch:"E4",lane:1},{beat:10,pitch:"A3",lane:0},{beat:10.33,pitch:"C#4",lane:1},{beat:10.67,pitch:"E4",lane:1},{beat:11,pitch:"G#4",lane:2},{beat:11.5,pitch:"F#4",lane:2},{beat:12,pitch:"G#3",lane:0},{beat:12.33,pitch:"B#3",lane:0},{beat:12.67,pitch:"E4",lane:1},{beat:13,pitch:"G#3",lane:0},{beat:13.33,pitch:"C#4",lane:1},{beat:13.67,pitch:"E4",lane:1},{beat:14,pitch:"F#4",lane:2},{beat:14.5,pitch:"E4",lane:1},{beat:15,pitch:"D#4",lane:1},{beat:16,pitch:"G#3",lane:0},{beat:16.33,pitch:"C#4",lane:1},{beat:16.67,pitch:"E4",lane:1},{beat:17,pitch:"E4",lane:1},{beat:17.5,pitch:"F#4",lane:2},{beat:18,pitch:"G#4",lane:2},{beat:18.5,pitch:"A4",lane:2},{beat:19,pitch:"B4",lane:3},{beat:20,pitch:"A3",lane:0},{beat:20.33,pitch:"C#4",lane:1},{beat:20.67,pitch:"E4",lane:1},{beat:21,pitch:"B4",lane:3},{beat:21.5,pitch:"C#5",lane:3},{beat:22,pitch:"D5",lane:3},{beat:22.5,pitch:"C#5",lane:3},{beat:23,pitch:"B4",lane:3},{beat:24,pitch:"G#3",lane:0},{beat:24.33,pitch:"B#3",lane:0},{beat:24.67,pitch:"E4",lane:1},{beat:25,pitch:"G#4",lane:2},{beat:25.5,pitch:"E4",lane:1},{beat:26,pitch:"D#4",lane:1},{beat:26.5,pitch:"C#4",lane:1},{beat:27,pitch:"B3",lane:0},{beat:28,pitch:"G#3",lane:0},{beat:28.33,pitch:"C#4",lane:1},{beat:28.67,pitch:"E4",lane:1},{beat:29,pitch:"G#3",lane:0},{beat:29.33,pitch:"C#4",lane:1},{beat:29.67,pitch:"E4",lane:1},{beat:30,pitch:"C#5",lane:3},{beat:30.5,pitch:"B4",lane:3},{beat:31,pitch:"G#4",lane:2},{beat:32,pitch:"A3",lane:0},{beat:32.33,pitch:"C#4",lane:1},{beat:32.67,pitch:"E4",lane:1},{beat:33,pitch:"A4",lane:2},{beat:33.5,pitch:"G#4",lane:2},{beat:34,pitch:"F#4",lane:2},{beat:34.5,pitch:"E4",lane:1},{beat:35,pitch:"D#4",lane:1},{beat:36,pitch:"G#3",lane:0},{beat:36.33,pitch:"B#3",lane:0},{beat:36.67,pitch:"E4",lane:1},{beat:37,pitch:"G#3",lane:0},{beat:37.33,pitch:"C#4",lane:1},{beat:37.67,pitch:"E4",lane:1},{beat:38,pitch:"E4",lane:1},{beat:38.5,pitch:"D#4",lane:1},{beat:39,pitch:"C#4",lane:1}],background:{drumPattern:"none"},loop:{startBeat:0,endBeat:40,count:1}},Nt={metadata:{id:"hungarian-dance",title:"Hungarian Dance No. 5",artist:"Brahms",difficulty:"hard",bpm:120,duration:45},notes:[{beat:0,pitch:"F#4",lane:1},{beat:.5,pitch:"G4",lane:1},{beat:1,pitch:"A4",lane:2},{beat:1.5,pitch:"A4",lane:2},{beat:2,pitch:"G4",lane:1},{beat:2.5,pitch:"F#4",lane:1},{beat:3,pitch:"E4",lane:1},{beat:3.5,pitch:"D4",lane:0},{beat:4,pitch:"C#4",lane:0},{beat:4.5,pitch:"D4",lane:0},{beat:5,pitch:"E4",lane:1},{beat:5.5,pitch:"E4",lane:1},{beat:6,pitch:"D4",lane:0},{beat:6.5,pitch:"C#4",lane:0},{beat:7,pitch:"D4",lane:0},{beat:8,pitch:"F#4",lane:1},{beat:8.5,pitch:"G4",lane:1},{beat:9,pitch:"A4",lane:2},{beat:9.5,pitch:"A4",lane:2},{beat:10,pitch:"G4",lane:1},{beat:10.5,pitch:"F#4",lane:1},{beat:11,pitch:"E4",lane:1},{beat:11.5,pitch:"D4",lane:0},{beat:12,pitch:"C#4",lane:0},{beat:12.5,pitch:"D4",lane:0},{beat:13,pitch:"E4",lane:1},{beat:13.5,pitch:"F#4",lane:1},{beat:14,pitch:"D4",lane:0},{beat:16,pitch:"A4",lane:2},{beat:16.25,pitch:"B4",lane:2},{beat:16.5,pitch:"C#5",lane:3},{beat:16.75,pitch:"D5",lane:3},{beat:17,pitch:"E5",lane:3},{beat:17.25,pitch:"F#5",lane:3},{beat:17.5,pitch:"E5",lane:3},{beat:17.75,pitch:"D5",lane:3},{beat:18,pitch:"C#5",lane:2},{beat:18.25,pitch:"B4",lane:2},{beat:18.5,pitch:"A4",lane:2},{beat:18.75,pitch:"G4",lane:1},{beat:19,pitch:"F#4",lane:1},{beat:20,pitch:"A4",lane:2},{beat:20.25,pitch:"B4",lane:2},{beat:20.5,pitch:"C#5",lane:3},{beat:20.75,pitch:"D5",lane:3},{beat:21,pitch:"E5",lane:3},{beat:21.25,pitch:"F#5",lane:3},{beat:21.5,pitch:"G5",lane:3},{beat:21.75,pitch:"F#5",lane:3},{beat:22,pitch:"E5",lane:3},{beat:22.5,pitch:"D5",lane:3},{beat:23,pitch:"C#5",lane:2},{beat:24,pitch:"D5",lane:3},{beat:25,pitch:"C#5",lane:2},{beat:25.5,pitch:"B4",lane:2},{beat:26,pitch:"A4",lane:2},{beat:27,pitch:"B4",lane:2},{beat:27.5,pitch:"C#5",lane:2},{beat:28,pitch:"D5",lane:3},{beat:29,pitch:"E5",lane:3},{beat:29.5,pitch:"D5",lane:3},{beat:30,pitch:"C#5",lane:2},{beat:30.5,pitch:"B4",lane:2},{beat:31,pitch:"A4",lane:2},{beat:32,pitch:"F#5",lane:3},{beat:32.25,pitch:"E5",lane:3},{beat:32.5,pitch:"D5",lane:3},{beat:32.75,pitch:"C#5",lane:2},{beat:33,pitch:"B4",lane:2},{beat:33.25,pitch:"A4",lane:2},{beat:33.5,pitch:"G4",lane:1},{beat:33.75,pitch:"F#4",lane:1},{beat:34,pitch:"E4",lane:1},{beat:34.5,pitch:"F#4",lane:1},{beat:35,pitch:"G4",lane:1},{beat:35.5,pitch:"A4",lane:2},{beat:36,pitch:"F#4",lane:1},{beat:36.5,pitch:"G4",lane:1},{beat:37,pitch:"A4",lane:2},{beat:37.5,pitch:"A4",lane:2},{beat:38,pitch:"G4",lane:1},{beat:38.5,pitch:"F#4",lane:1},{beat:39,pitch:"E4",lane:1},{beat:39.5,pitch:"D4",lane:0},{beat:40,pitch:"D4",lane:0},{beat:40.25,pitch:"E4",lane:1},{beat:40.5,pitch:"F#4",lane:1},{beat:40.75,pitch:"G4",lane:1},{beat:41,pitch:"A4",lane:2},{beat:41.25,pitch:"B4",lane:2},{beat:41.5,pitch:"C#5",lane:2},{beat:41.75,pitch:"D5",lane:3},{beat:42,pitch:"D4",lane:0}],background:{drumPattern:"upbeat"},loop:{startBeat:0,endBeat:44,count:1}},Tt={metadata:{id:"mountain-king",title:"Hall of Mountain King",artist:"Grieg",difficulty:"hard",bpm:110,duration:45},notes:[{beat:0,pitch:"A3",lane:0},{beat:.5,pitch:"B3",lane:0},{beat:1,pitch:"C4",lane:1},{beat:1.5,pitch:"D4",lane:1},{beat:2,pitch:"E4",lane:1},{beat:2.5,pitch:"C4",lane:1},{beat:3,pitch:"E4",lane:1},{beat:3.5,pitch:"D#4",lane:1},{beat:4,pitch:"E4",lane:1},{beat:4.5,pitch:"B3",lane:0},{beat:5,pitch:"E4",lane:1},{beat:5.5,pitch:"D#4",lane:1},{beat:6,pitch:"E4",lane:1},{beat:6.5,pitch:"B3",lane:0},{beat:7,pitch:"E4",lane:1},{beat:8,pitch:"A3",lane:0},{beat:8.5,pitch:"B3",lane:0},{beat:9,pitch:"C4",lane:1},{beat:9.5,pitch:"D4",lane:1},{beat:10,pitch:"E4",lane:1},{beat:10.5,pitch:"C4",lane:1},{beat:11,pitch:"E4",lane:1},{beat:11.5,pitch:"D#4",lane:1},{beat:12,pitch:"E4",lane:1},{beat:12.5,pitch:"F4",lane:2},{beat:13,pitch:"E4",lane:1},{beat:13.5,pitch:"D#4",lane:1},{beat:14,pitch:"E4",lane:1},{beat:14.5,pitch:"B3",lane:0},{beat:15,pitch:"A3",lane:0},{beat:16,pitch:"A4",lane:2},{beat:16.5,pitch:"B4",lane:2},{beat:17,pitch:"C5",lane:3},{beat:17.5,pitch:"D5",lane:3},{beat:18,pitch:"E5",lane:3},{beat:18.5,pitch:"C5",lane:2},{beat:19,pitch:"E5",lane:3},{beat:19.5,pitch:"D#5",lane:3},{beat:20,pitch:"E5",lane:3},{beat:20.5,pitch:"B4",lane:2},{beat:21,pitch:"E5",lane:3},{beat:21.5,pitch:"D#5",lane:3},{beat:22,pitch:"E5",lane:3},{beat:22.5,pitch:"B4",lane:2},{beat:23,pitch:"E5",lane:3},{beat:24,pitch:"A4",lane:2},{beat:24.33,pitch:"B4",lane:2},{beat:24.67,pitch:"C5",lane:3},{beat:25,pitch:"D5",lane:3},{beat:25.33,pitch:"E5",lane:3},{beat:25.67,pitch:"C5",lane:2},{beat:26,pitch:"E5",lane:3},{beat:26.33,pitch:"D#5",lane:3},{beat:26.67,pitch:"E5",lane:3},{beat:27,pitch:"F5",lane:3},{beat:27.33,pitch:"E5",lane:3},{beat:27.67,pitch:"D#5",lane:3},{beat:28,pitch:"E5",lane:3},{beat:28.5,pitch:"B4",lane:2},{beat:29,pitch:"A4",lane:2},{beat:30,pitch:"A4",lane:2},{beat:30.25,pitch:"B4",lane:2},{beat:30.5,pitch:"C5",lane:3},{beat:30.75,pitch:"D5",lane:3},{beat:31,pitch:"E5",lane:3},{beat:31.25,pitch:"C5",lane:2},{beat:31.5,pitch:"E5",lane:3},{beat:31.75,pitch:"D#5",lane:3},{beat:32,pitch:"E5",lane:3},{beat:32.25,pitch:"B4",lane:2},{beat:32.5,pitch:"E5",lane:3},{beat:32.75,pitch:"D#5",lane:3},{beat:33,pitch:"E5",lane:3},{beat:33.25,pitch:"B4",lane:2},{beat:33.5,pitch:"E5",lane:3},{beat:33.75,pitch:"B4",lane:2},{beat:34,pitch:"A4",lane:2},{beat:34.25,pitch:"B4",lane:2},{beat:34.5,pitch:"C5",lane:3},{beat:34.75,pitch:"D5",lane:3},{beat:35,pitch:"E5",lane:3},{beat:35.25,pitch:"F5",lane:3},{beat:35.5,pitch:"E5",lane:3},{beat:35.75,pitch:"D#5",lane:3},{beat:36,pitch:"E5",lane:3},{beat:36.25,pitch:"F5",lane:3},{beat:36.5,pitch:"E5",lane:3},{beat:36.75,pitch:"D#5",lane:3},{beat:37,pitch:"E5",lane:3},{beat:37.25,pitch:"D#5",lane:3},{beat:37.5,pitch:"D5",lane:3},{beat:37.75,pitch:"C#5",lane:2},{beat:38,pitch:"D5",lane:3},{beat:38.25,pitch:"C5",lane:2},{beat:38.5,pitch:"B4",lane:2},{beat:38.75,pitch:"A4",lane:2},{beat:39,pitch:"G4",lane:1},{beat:39.25,pitch:"F4",lane:1},{beat:39.5,pitch:"E4",lane:1},{beat:39.75,pitch:"D4",lane:0},{beat:40,pitch:"C4",lane:0},{beat:40.5,pitch:"B3",lane:0},{beat:41,pitch:"A3",lane:0}],background:{drumPattern:"upbeat"},loop:{startBeat:0,endBeat:44,count:1}},Mt={metadata:{id:"carmen-habanera",title:"Habanera (Carmen)",artist:"Bizet",difficulty:"hard",bpm:72,duration:50},notes:[{beat:0,pitch:"D5",lane:3},{beat:1,pitch:"C#5",lane:2},{beat:2,pitch:"C5",lane:2},{beat:3,pitch:"B4",lane:2},{beat:4,pitch:"A#4",lane:2},{beat:5,pitch:"A4",lane:2},{beat:6,pitch:"G#4",lane:1},{beat:7,pitch:"G4",lane:1},{beat:8,pitch:"F#4",lane:1},{beat:9,pitch:"F4",lane:1},{beat:10,pitch:"E4",lane:1},{beat:11,pitch:"E4",lane:1},{beat:12,pitch:"D4",lane:0},{beat:16,pitch:"D4",lane:0},{beat:17,pitch:"E4",lane:1},{beat:17.5,pitch:"F4",lane:1},{beat:18,pitch:"E4",lane:1},{beat:18.5,pitch:"D4",lane:0},{beat:19,pitch:"E4",lane:1},{beat:20,pitch:"A4",lane:2},{beat:21,pitch:"G#4",lane:1},{beat:21.5,pitch:"A4",lane:2},{beat:22,pitch:"G#4",lane:1},{beat:22.5,pitch:"A4",lane:2},{beat:23,pitch:"E4",lane:1},{beat:24,pitch:"D4",lane:0},{beat:25,pitch:"E4",lane:1},{beat:25.5,pitch:"F4",lane:1},{beat:26,pitch:"E4",lane:1},{beat:26.5,pitch:"D4",lane:0},{beat:27,pitch:"C#4",lane:0},{beat:28,pitch:"D4",lane:0},{beat:28.5,pitch:"E4",lane:1},{beat:29,pitch:"D4",lane:0},{beat:29.5,pitch:"C#4",lane:0},{beat:30,pitch:"D4",lane:0},{beat:32,pitch:"A4",lane:2},{beat:33,pitch:"B4",lane:2},{beat:33.5,pitch:"C5",lane:3},{beat:34,pitch:"B4",lane:2},{beat:34.5,pitch:"A4",lane:2},{beat:35,pitch:"B4",lane:2},{beat:36,pitch:"E5",lane:3},{beat:37,pitch:"D#5",lane:3},{beat:37.5,pitch:"E5",lane:3},{beat:38,pitch:"D#5",lane:3},{beat:38.5,pitch:"E5",lane:3},{beat:39,pitch:"B4",lane:2},{beat:40,pitch:"A4",lane:2},{beat:41,pitch:"B4",lane:2},{beat:41.5,pitch:"C5",lane:3},{beat:42,pitch:"B4",lane:2},{beat:42.5,pitch:"A4",lane:2},{beat:43,pitch:"G#4",lane:1},{beat:44,pitch:"A4",lane:2},{beat:44.5,pitch:"B4",lane:2},{beat:45,pitch:"A4",lane:2},{beat:45.5,pitch:"G#4",lane:1},{beat:46,pitch:"A4",lane:2},{beat:48,pitch:"D5",lane:3},{beat:49,pitch:"C#5",lane:2},{beat:50,pitch:"C5",lane:2},{beat:51,pitch:"B4",lane:2},{beat:52,pitch:"A#4",lane:2},{beat:53,pitch:"A4",lane:2},{beat:54,pitch:"G#4",lane:1},{beat:55,pitch:"G4",lane:1},{beat:56,pitch:"F#4",lane:1},{beat:57,pitch:"F4",lane:1},{beat:58,pitch:"E4",lane:1},{beat:59,pitch:"D4",lane:0},{beat:60,pitch:"D4",lane:0},{beat:60.5,pitch:"E4",lane:1},{beat:61,pitch:"F4",lane:1},{beat:61.5,pitch:"E4",lane:1},{beat:62,pitch:"D4",lane:0},{beat:62.5,pitch:"C#4",lane:0},{beat:63,pitch:"D4",lane:0}],background:{drumPattern:"chill"},loop:{startBeat:0,endBeat:66,count:1}},Rt={metadata:{id:"electronic-beat",title:"Neon Rush",artist:"Jalo Beats",difficulty:"very-hard",bpm:128,duration:40},notes:[{beat:0,pitch:"C4",lane:0},{beat:.5,pitch:"E4",lane:1},{beat:1,pitch:"G4",lane:2},{beat:1.5,pitch:"B4",lane:3},{beat:2,pitch:"C5",lane:3},{beat:3,pitch:"G4",lane:2},{beat:3.5,pitch:"E4",lane:1},{beat:4,pitch:"C4",lane:0},{beat:4.5,pitch:"C4",lane:0},{beat:5,pitch:"E4",lane:1},{beat:5.75,pitch:"G4",lane:2},{beat:6,pitch:"C5",lane:3},{beat:6.5,pitch:"B4",lane:3},{beat:7,pitch:"G4",lane:2},{beat:7.5,pitch:"E4",lane:1},{beat:8,pitch:"C4",lane:0},{beat:8.25,pitch:"D4",lane:0},{beat:8.5,pitch:"E4",lane:1},{beat:8.75,pitch:"F4",lane:1},{beat:9,pitch:"G4",lane:2},{beat:9.25,pitch:"A4",lane:2},{beat:9.5,pitch:"B4",lane:3},{beat:9.75,pitch:"C5",lane:3},{beat:10,pitch:"C5",lane:3},{beat:11,pitch:"G4",lane:2},{beat:12,pitch:"E4",lane:1},{beat:13,pitch:"C4",lane:0},{beat:14,pitch:"D4",lane:0},{beat:14.5,pitch:"E4",lane:1},{beat:15,pitch:"G4",lane:2},{beat:15.5,pitch:"C5",lane:3},{beat:16,pitch:"E4",lane:1},{beat:16.5,pitch:"G4",lane:2},{beat:17,pitch:"E4",lane:1},{beat:17.5,pitch:"C4",lane:0},{beat:18,pitch:"D4",lane:0},{beat:18.5,pitch:"E4",lane:1},{beat:19,pitch:"G4",lane:2},{beat:19.5,pitch:"A4",lane:3},{beat:20,pitch:"G4",lane:2},{beat:20.5,pitch:"E4",lane:1},{beat:21,pitch:"G4",lane:2},{beat:21.5,pitch:"B4",lane:3},{beat:22,pitch:"C5",lane:3},{beat:22.5,pitch:"B4",lane:3},{beat:23,pitch:"G4",lane:2},{beat:23.5,pitch:"E4",lane:1},{beat:24,pitch:"C4",lane:0},{beat:25,pitch:"G4",lane:2},{beat:26,pitch:"C5",lane:3},{beat:27,pitch:"E4",lane:1},{beat:28,pitch:"B4",lane:3},{beat:29,pitch:"D4",lane:0},{beat:30,pitch:"A4",lane:2},{beat:31,pitch:"F4",lane:1},{beat:32,pitch:"C5",lane:3},{beat:32.25,pitch:"B4",lane:3},{beat:32.5,pitch:"A4",lane:2},{beat:32.75,pitch:"G4",lane:2},{beat:33,pitch:"F4",lane:1},{beat:33.25,pitch:"E4",lane:1},{beat:33.5,pitch:"D4",lane:0},{beat:33.75,pitch:"C4",lane:0},{beat:34,pitch:"C4",lane:0},{beat:34.25,pitch:"D4",lane:0},{beat:34.5,pitch:"E4",lane:1},{beat:34.75,pitch:"F4",lane:1},{beat:35,pitch:"G4",lane:2},{beat:35.25,pitch:"A4",lane:2},{beat:35.5,pitch:"B4",lane:3},{beat:35.75,pitch:"C5",lane:3},{beat:36,pitch:"C5",lane:3},{beat:36.5,pitch:"G4",lane:2},{beat:37,pitch:"C5",lane:3},{beat:37.5,pitch:"E4",lane:1},{beat:38,pitch:"C5",lane:3},{beat:38.5,pitch:"C4",lane:0},{beat:39,pitch:"E4",lane:1},{beat:39.5,pitch:"G4",lane:2},{beat:40,pitch:"C5",lane:3},{beat:41,pitch:"G4",lane:2},{beat:42,pitch:"E4",lane:1},{beat:43,pitch:"C4",lane:0},{beat:44,pitch:"E4",lane:1},{beat:44.5,pitch:"G4",lane:2},{beat:45,pitch:"E4",lane:1},{beat:45.5,pitch:"C4",lane:0},{beat:46,pitch:"D4",lane:0},{beat:46.5,pitch:"E4",lane:1},{beat:47,pitch:"G4",lane:2},{beat:47.5,pitch:"A4",lane:3},{beat:48,pitch:"G4",lane:2},{beat:48.5,pitch:"E4",lane:1},{beat:49,pitch:"G4",lane:2},{beat:49.5,pitch:"B4",lane:3},{beat:50,pitch:"C5",lane:3},{beat:50.5,pitch:"B4",lane:3},{beat:51,pitch:"G4",lane:2},{beat:51.5,pitch:"E4",lane:1},{beat:52,pitch:"C4",lane:0},{beat:52.25,pitch:"E4",lane:1},{beat:52.5,pitch:"G4",lane:2},{beat:52.75,pitch:"C5",lane:3},{beat:53,pitch:"E5",lane:3},{beat:54,pitch:"C5",lane:3},{beat:55,pitch:"G4",lane:2},{beat:56,pitch:"C4",lane:0}],background:{drumPattern:"upbeat"},loop:{startBeat:16,endBeat:56,count:1}},Gt={metadata:{id:"neon-pulse",title:"Neon Pulse",artist:"Jalo Beats",difficulty:"very-hard",bpm:135,duration:45},notes:[{beat:0,pitch:"E4",lane:1},{beat:.25,pitch:"E4",lane:1},{beat:.5,pitch:"E4",lane:1},{beat:.75,pitch:"G4",lane:2},{beat:1,pitch:"E4",lane:1},{beat:1.25,pitch:"E4",lane:1},{beat:1.5,pitch:"E4",lane:1},{beat:1.75,pitch:"B4",lane:3},{beat:2,pitch:"E4",lane:1},{beat:2.25,pitch:"E4",lane:1},{beat:2.5,pitch:"E4",lane:1},{beat:2.75,pitch:"G4",lane:2},{beat:3,pitch:"A4",lane:2},{beat:3.5,pitch:"G4",lane:2},{beat:4,pitch:"E4",lane:1},{beat:4.25,pitch:"G4",lane:2},{beat:4.5,pitch:"E4",lane:1},{beat:4.75,pitch:"B4",lane:3},{beat:5,pitch:"E4",lane:1},{beat:5.25,pitch:"G4",lane:2},{beat:5.5,pitch:"E4",lane:1},{beat:5.75,pitch:"C5",lane:3},{beat:6,pitch:"E4",lane:1},{beat:6.25,pitch:"G4",lane:2},{beat:6.5,pitch:"E4",lane:1},{beat:6.75,pitch:"D5",lane:3},{beat:7,pitch:"E5",lane:3},{beat:7.5,pitch:"D5",lane:3},{beat:7.75,pitch:"C5",lane:3},{beat:8,pitch:"E4",lane:0},{beat:8.25,pitch:"G4",lane:1},{beat:8.5,pitch:"B4",lane:2},{beat:8.75,pitch:"E5",lane:3},{beat:9,pitch:"B4",lane:2},{beat:9.25,pitch:"G4",lane:1},{beat:9.5,pitch:"E4",lane:0},{beat:9.75,pitch:"G4",lane:1},{beat:10,pitch:"A4",lane:1},{beat:10.25,pitch:"C5",lane:2},{beat:10.5,pitch:"E5",lane:3},{beat:10.75,pitch:"A5",lane:3},{beat:11,pitch:"E5",lane:3},{beat:11.25,pitch:"C5",lane:2},{beat:11.5,pitch:"A4",lane:1},{beat:11.75,pitch:"C5",lane:2},{beat:12,pitch:"D4",lane:0},{beat:12.25,pitch:"F#4",lane:1},{beat:12.5,pitch:"A4",lane:2},{beat:12.75,pitch:"D5",lane:3},{beat:13,pitch:"A4",lane:2},{beat:13.25,pitch:"F#4",lane:1},{beat:13.5,pitch:"D4",lane:0},{beat:13.75,pitch:"F#4",lane:1},{beat:14,pitch:"G4",lane:1},{beat:14.25,pitch:"B4",lane:2},{beat:14.5,pitch:"D5",lane:3},{beat:14.75,pitch:"G5",lane:3},{beat:15,pitch:"D5",lane:3},{beat:15.25,pitch:"B4",lane:2},{beat:15.5,pitch:"G4",lane:1},{beat:15.75,pitch:"B4",lane:2},{beat:16,pitch:"E5",lane:3},{beat:16.5,pitch:"D5",lane:2},{beat:17,pitch:"C5",lane:2},{beat:17.25,pitch:"B4",lane:2},{beat:17.5,pitch:"A4",lane:1},{beat:18,pitch:"B4",lane:2},{beat:18.5,pitch:"C5",lane:2},{beat:19,pitch:"D5",lane:3},{beat:19.25,pitch:"E5",lane:3},{beat:19.5,pitch:"D5",lane:3},{beat:19.75,pitch:"C5",lane:2},{beat:20,pitch:"E5",lane:3},{beat:20.5,pitch:"D5",lane:2},{beat:21,pitch:"C5",lane:2},{beat:21.25,pitch:"B4",lane:2},{beat:21.5,pitch:"A4",lane:1},{beat:22,pitch:"G4",lane:1},{beat:22.5,pitch:"A4",lane:1},{beat:23,pitch:"B4",lane:2},{beat:23.25,pitch:"C5",lane:2},{beat:23.5,pitch:"D5",lane:3},{beat:23.75,pitch:"E5",lane:3},{beat:24,pitch:"E4",lane:0},{beat:24.25,pitch:"G4",lane:1},{beat:24.5,pitch:"B4",lane:2},{beat:24.75,pitch:"E5",lane:3},{beat:25,pitch:"G5",lane:3},{beat:25.25,pitch:"E5",lane:3},{beat:25.5,pitch:"B4",lane:2},{beat:25.75,pitch:"G4",lane:1},{beat:26,pitch:"A4",lane:1},{beat:26.25,pitch:"C5",lane:2},{beat:26.5,pitch:"E5",lane:3},{beat:26.75,pitch:"A5",lane:3},{beat:27,pitch:"C6",lane:3},{beat:27.25,pitch:"A5",lane:3},{beat:27.5,pitch:"E5",lane:3},{beat:27.75,pitch:"C5",lane:2},{beat:28,pitch:"E4",lane:0},{beat:28.25,pitch:"F#4",lane:1},{beat:28.5,pitch:"G4",lane:1},{beat:28.75,pitch:"A4",lane:2},{beat:29,pitch:"B4",lane:2},{beat:29.25,pitch:"C5",lane:3},{beat:29.5,pitch:"D5",lane:3},{beat:29.75,pitch:"E5",lane:3},{beat:30,pitch:"F#5",lane:3},{beat:30.25,pitch:"G5",lane:3},{beat:30.5,pitch:"A5",lane:3},{beat:30.75,pitch:"B5",lane:3},{beat:31,pitch:"C6",lane:3},{beat:31.5,pitch:"B5",lane:3},{beat:31.75,pitch:"A5",lane:3},{beat:32,pitch:"E5",lane:3},{beat:33,pitch:"E4",lane:0},{beat:33.5,pitch:"G4",lane:1},{beat:34,pitch:"E5",lane:3},{beat:35,pitch:"E4",lane:0},{beat:35.5,pitch:"B4",lane:2},{beat:36,pitch:"E5",lane:3}],background:{drumPattern:"upbeat"},loop:{startBeat:8,endBeat:36,count:1}},Lt={metadata:{id:"digital-storm",title:"Digital Storm",artist:"Jalo Beats",difficulty:"very-hard",bpm:140,duration:42},notes:[{beat:0,pitch:"C4",lane:0},{beat:.25,pitch:"G4",lane:2},{beat:.5,pitch:"C4",lane:0},{beat:.75,pitch:"E5",lane:3},{beat:1,pitch:"C4",lane:0},{beat:1.5,pitch:"D4",lane:0},{beat:1.75,pitch:"A4",lane:2},{beat:2,pitch:"D4",lane:0},{beat:2.25,pitch:"F5",lane:3},{beat:2.5,pitch:"D4",lane:0},{beat:3,pitch:"E4",lane:1},{beat:3.25,pitch:"B4",lane:2},{beat:3.5,pitch:"E4",lane:1},{beat:3.75,pitch:"G5",lane:3},{beat:4,pitch:"C4",lane:0},{beat:4.25,pitch:"E4",lane:1},{beat:4.5,pitch:"G4",lane:2},{beat:4.75,pitch:"C5",lane:3},{beat:5,pitch:"D4",lane:0},{beat:5.25,pitch:"F4",lane:1},{beat:5.5,pitch:"A4",lane:2},{beat:5.75,pitch:"D5",lane:3},{beat:6,pitch:"E4",lane:1},{beat:6.25,pitch:"G4",lane:2},{beat:6.5,pitch:"B4",lane:3},{beat:6.75,pitch:"E5",lane:3},{beat:7,pitch:"F4",lane:1},{beat:7.25,pitch:"A4",lane:2},{beat:7.5,pitch:"C5",lane:3},{beat:7.75,pitch:"F5",lane:3},{beat:8,pitch:"G4",lane:2},{beat:8.25,pitch:"C4",lane:0},{beat:8.5,pitch:"E5",lane:3},{beat:8.75,pitch:"A4",lane:2},{beat:9,pitch:"D4",lane:0},{beat:9.25,pitch:"G5",lane:3},{beat:9.5,pitch:"B4",lane:2},{beat:9.75,pitch:"E4",lane:1},{beat:10,pitch:"C5",lane:3},{beat:10.25,pitch:"F4",lane:1},{beat:10.5,pitch:"A5",lane:3},{beat:10.75,pitch:"D5",lane:3},{beat:11,pitch:"G4",lane:2},{beat:11.25,pitch:"B5",lane:3},{beat:11.5,pitch:"E5",lane:3},{beat:11.75,pitch:"A4",lane:2},{beat:12,pitch:"C6",lane:3},{beat:12.25,pitch:"B5",lane:3},{beat:12.5,pitch:"A5",lane:3},{beat:12.75,pitch:"G5",lane:3},{beat:13,pitch:"F5",lane:3},{beat:13.25,pitch:"E5",lane:3},{beat:13.5,pitch:"D5",lane:2},{beat:13.75,pitch:"C5",lane:2},{beat:14,pitch:"B4",lane:2},{beat:14.25,pitch:"A4",lane:2},{beat:14.5,pitch:"G4",lane:1},{beat:14.75,pitch:"F4",lane:1},{beat:15,pitch:"E4",lane:1},{beat:15.25,pitch:"D4",lane:0},{beat:15.5,pitch:"C4",lane:0},{beat:15.75,pitch:"D4",lane:0},{beat:16,pitch:"C4",lane:0},{beat:16.25,pitch:"D4",lane:0},{beat:16.5,pitch:"E4",lane:1},{beat:16.75,pitch:"F4",lane:1},{beat:17,pitch:"G4",lane:2},{beat:17.25,pitch:"A4",lane:2},{beat:17.5,pitch:"B4",lane:3},{beat:17.75,pitch:"C5",lane:3},{beat:18,pitch:"D5",lane:3},{beat:18.25,pitch:"E5",lane:3},{beat:18.5,pitch:"F5",lane:3},{beat:18.75,pitch:"G5",lane:3},{beat:19,pitch:"A5",lane:3},{beat:19.25,pitch:"B5",lane:3},{beat:19.5,pitch:"C6",lane:3},{beat:19.75,pitch:"B5",lane:3},{beat:20,pitch:"G4",lane:2},{beat:20.25,pitch:"G4",lane:2},{beat:20.5,pitch:"E5",lane:3},{beat:20.75,pitch:"E5",lane:3},{beat:21,pitch:"C4",lane:0},{beat:21.25,pitch:"C4",lane:0},{beat:21.5,pitch:"G5",lane:3},{beat:21.75,pitch:"G5",lane:3},{beat:22,pitch:"A4",lane:2},{beat:22.25,pitch:"A4",lane:2},{beat:22.5,pitch:"F5",lane:3},{beat:22.75,pitch:"F5",lane:3},{beat:23,pitch:"D4",lane:0},{beat:23.25,pitch:"D4",lane:0},{beat:23.5,pitch:"A5",lane:3},{beat:23.75,pitch:"A5",lane:3},{beat:24,pitch:"C4",lane:0},{beat:24.25,pitch:"G4",lane:1},{beat:24.5,pitch:"C5",lane:2},{beat:24.75,pitch:"G5",lane:3},{beat:25,pitch:"C5",lane:2},{beat:25.25,pitch:"G4",lane:1},{beat:25.5,pitch:"C4",lane:0},{beat:25.75,pitch:"G4",lane:1},{beat:26,pitch:"D4",lane:0},{beat:26.25,pitch:"A4",lane:2},{beat:26.5,pitch:"D5",lane:3},{beat:26.75,pitch:"A5",lane:3},{beat:27,pitch:"D5",lane:3},{beat:27.25,pitch:"A4",lane:2},{beat:27.5,pitch:"D4",lane:0},{beat:27.75,pitch:"A4",lane:2},{beat:28,pitch:"E4",lane:1},{beat:28.25,pitch:"B4",lane:2},{beat:28.5,pitch:"E5",lane:3},{beat:28.75,pitch:"B5",lane:3},{beat:29,pitch:"E5",lane:3},{beat:29.25,pitch:"B4",lane:2},{beat:29.5,pitch:"E4",lane:1},{beat:30,pitch:"C4",lane:0},{beat:31,pitch:"G5",lane:3},{beat:32,pitch:"C4",lane:0}],background:{drumPattern:"upbeat"},loop:{startBeat:8,endBeat:32,count:1}},Ft={metadata:{id:"cyber-chase",title:"Cyber Chase",artist:"Jalo Beats",difficulty:"very-hard",bpm:145,duration:40},notes:[{beat:0,pitch:"A4",lane:2},{beat:.25,pitch:"A4",lane:2},{beat:.5,pitch:"C5",lane:3},{beat:.75,pitch:"A4",lane:2},{beat:1,pitch:"E4",lane:1},{beat:1.25,pitch:"E4",lane:1},{beat:1.5,pitch:"G4",lane:2},{beat:1.75,pitch:"E4",lane:1},{beat:2,pitch:"A4",lane:2},{beat:2.25,pitch:"A4",lane:2},{beat:2.5,pitch:"D5",lane:3},{beat:2.75,pitch:"A4",lane:2},{beat:3,pitch:"E5",lane:3},{beat:3.5,pitch:"D5",lane:3},{beat:3.75,pitch:"C5",lane:3},{beat:4,pitch:"A3",lane:0},{beat:4.25,pitch:"E4",lane:1},{beat:4.5,pitch:"A4",lane:2},{beat:4.75,pitch:"E5",lane:3},{beat:5,pitch:"A4",lane:2},{beat:5.25,pitch:"E4",lane:1},{beat:5.5,pitch:"A3",lane:0},{beat:5.75,pitch:"E4",lane:1},{beat:6,pitch:"B3",lane:0},{beat:6.25,pitch:"F#4",lane:1},{beat:6.5,pitch:"B4",lane:2},{beat:6.75,pitch:"F#5",lane:3},{beat:7,pitch:"B4",lane:2},{beat:7.25,pitch:"F#4",lane:1},{beat:7.5,pitch:"B3",lane:0},{beat:7.75,pitch:"F#4",lane:1},{beat:8,pitch:"C4",lane:0},{beat:8.25,pitch:"G4",lane:2},{beat:8.5,pitch:"C5",lane:3},{beat:8.75,pitch:"G5",lane:3},{beat:9,pitch:"C5",lane:3},{beat:9.25,pitch:"G4",lane:2},{beat:9.5,pitch:"C4",lane:0},{beat:9.75,pitch:"G4",lane:2},{beat:10,pitch:"D4",lane:0},{beat:10.25,pitch:"A4",lane:2},{beat:10.5,pitch:"D5",lane:3},{beat:10.75,pitch:"A5",lane:3},{beat:11,pitch:"D5",lane:3},{beat:11.25,pitch:"A4",lane:2},{beat:11.5,pitch:"D4",lane:0},{beat:11.75,pitch:"A4",lane:2},{beat:12,pitch:"E4",lane:1},{beat:12.25,pitch:"F#4",lane:1},{beat:12.5,pitch:"G4",lane:2},{beat:12.75,pitch:"A4",lane:2},{beat:13,pitch:"B4",lane:2},{beat:13.25,pitch:"C5",lane:3},{beat:13.5,pitch:"D5",lane:3},{beat:13.75,pitch:"E5",lane:3},{beat:14,pitch:"E5",lane:3},{beat:14.25,pitch:"D5",lane:3},{beat:14.5,pitch:"C5",lane:3},{beat:14.75,pitch:"B4",lane:2},{beat:15,pitch:"A4",lane:2},{beat:15.25,pitch:"G4",lane:2},{beat:15.5,pitch:"F#4",lane:1},{beat:15.75,pitch:"E4",lane:1},{beat:16,pitch:"A4",lane:2},{beat:16.5,pitch:"E5",lane:3},{beat:17,pitch:"A4",lane:2},{beat:17.25,pitch:"G4",lane:2},{beat:17.5,pitch:"E4",lane:1},{beat:18,pitch:"B4",lane:2},{beat:18.5,pitch:"F#5",lane:3},{beat:19,pitch:"B4",lane:2},{beat:19.25,pitch:"A4",lane:2},{beat:19.5,pitch:"F#4",lane:1},{beat:20,pitch:"C5",lane:3},{beat:20.5,pitch:"G5",lane:3},{beat:21,pitch:"C5",lane:3},{beat:21.25,pitch:"B4",lane:2},{beat:21.5,pitch:"G4",lane:2},{beat:22,pitch:"D5",lane:3},{beat:22.5,pitch:"A5",lane:3},{beat:23,pitch:"D5",lane:3},{beat:23.25,pitch:"C5",lane:3},{beat:23.5,pitch:"A4",lane:2},{beat:23.75,pitch:"B4",lane:2},{beat:24,pitch:"E4",lane:1},{beat:24.25,pitch:"A4",lane:2},{beat:24.5,pitch:"E4",lane:1},{beat:24.75,pitch:"C5",lane:3},{beat:25,pitch:"E4",lane:1},{beat:25.25,pitch:"A4",lane:2},{beat:25.5,pitch:"E4",lane:1},{beat:25.75,pitch:"D5",lane:3},{beat:26,pitch:"F#4",lane:1},{beat:26.25,pitch:"B4",lane:2},{beat:26.5,pitch:"F#4",lane:1},{beat:26.75,pitch:"D5",lane:3},{beat:27,pitch:"F#4",lane:1},{beat:27.25,pitch:"B4",lane:2},{beat:27.5,pitch:"F#4",lane:1},{beat:27.75,pitch:"E5",lane:3},{beat:28,pitch:"A4",lane:2},{beat:28.25,pitch:"C5",lane:3},{beat:28.5,pitch:"E5",lane:3},{beat:28.75,pitch:"A5",lane:3},{beat:29,pitch:"E5",lane:3},{beat:29.25,pitch:"C5",lane:3},{beat:29.5,pitch:"A4",lane:2},{beat:29.75,pitch:"E4",lane:1},{beat:30,pitch:"B4",lane:2},{beat:30.25,pitch:"D5",lane:3},{beat:30.5,pitch:"F#5",lane:3},{beat:30.75,pitch:"B5",lane:3},{beat:31,pitch:"F#5",lane:3},{beat:31.25,pitch:"D5",lane:3},{beat:31.5,pitch:"B4",lane:2},{beat:31.75,pitch:"F#4",lane:1},{beat:32,pitch:"A4",lane:2}],background:{drumPattern:"upbeat"},loop:{startBeat:4,endBeat:32,count:1}},It={metadata:{id:"synth-wave",title:"Synth Wave",artist:"Jalo Beats",difficulty:"very-hard",bpm:130,duration:45},notes:[{beat:0,pitch:"A3",lane:0},{beat:.25,pitch:"C4",lane:1},{beat:.5,pitch:"E4",lane:1},{beat:.75,pitch:"A4",lane:2},{beat:1,pitch:"C5",lane:3},{beat:1.25,pitch:"A4",lane:2},{beat:1.5,pitch:"E4",lane:1},{beat:1.75,pitch:"C4",lane:1},{beat:2,pitch:"G3",lane:0},{beat:2.25,pitch:"B3",lane:0},{beat:2.5,pitch:"D4",lane:1},{beat:2.75,pitch:"G4",lane:2},{beat:3,pitch:"B4",lane:2},{beat:3.25,pitch:"G4",lane:2},{beat:3.5,pitch:"D4",lane:1},{beat:3.75,pitch:"B3",lane:0},{beat:4,pitch:"F3",lane:0},{beat:4.25,pitch:"A3",lane:0},{beat:4.5,pitch:"C4",lane:1},{beat:4.75,pitch:"F4",lane:2},{beat:5,pitch:"A4",lane:2},{beat:5.25,pitch:"F4",lane:2},{beat:5.5,pitch:"C4",lane:1},{beat:5.75,pitch:"A3",lane:0},{beat:6,pitch:"E3",lane:0},{beat:6.25,pitch:"G#3",lane:0},{beat:6.5,pitch:"B3",lane:0},{beat:6.75,pitch:"E4",lane:1},{beat:7,pitch:"G#4",lane:2},{beat:7.25,pitch:"E4",lane:1},{beat:7.5,pitch:"B3",lane:0},{beat:7.75,pitch:"G#3",lane:0},{beat:8,pitch:"A4",lane:2},{beat:8.5,pitch:"G4",lane:2},{beat:9,pitch:"E4",lane:1},{beat:9.25,pitch:"G4",lane:2},{beat:9.5,pitch:"A4",lane:2},{beat:9.75,pitch:"C5",lane:3},{beat:10,pitch:"B4",lane:2},{beat:10.5,pitch:"A4",lane:2},{beat:11,pitch:"G4",lane:2},{beat:11.25,pitch:"E4",lane:1},{beat:11.5,pitch:"D4",lane:1},{beat:11.75,pitch:"E4",lane:1},{beat:12,pitch:"A4",lane:2},{beat:12.5,pitch:"G4",lane:2},{beat:13,pitch:"E4",lane:1},{beat:13.25,pitch:"G4",lane:2},{beat:13.5,pitch:"A4",lane:2},{beat:13.75,pitch:"B4",lane:2},{beat:14,pitch:"C5",lane:3},{beat:14.25,pitch:"D5",lane:3},{beat:14.5,pitch:"E5",lane:3},{beat:14.75,pitch:"D5",lane:3},{beat:15,pitch:"C5",lane:3},{beat:15.25,pitch:"B4",lane:2},{beat:15.5,pitch:"A4",lane:2},{beat:15.75,pitch:"G4",lane:2},{beat:16,pitch:"A3",lane:0},{beat:16.25,pitch:"E4",lane:1},{beat:16.5,pitch:"A4",lane:2},{beat:16.75,pitch:"E5",lane:3},{beat:17,pitch:"G3",lane:0},{beat:17.25,pitch:"D4",lane:1},{beat:17.5,pitch:"G4",lane:2},{beat:17.75,pitch:"D5",lane:3},{beat:18,pitch:"F3",lane:0},{beat:18.25,pitch:"C4",lane:1},{beat:18.5,pitch:"F4",lane:2},{beat:18.75,pitch:"C5",lane:3},{beat:19,pitch:"E3",lane:0},{beat:19.25,pitch:"B3",lane:0},{beat:19.5,pitch:"E4",lane:1},{beat:19.75,pitch:"B4",lane:2},{beat:20,pitch:"A4",lane:2},{beat:20.25,pitch:"A4",lane:2},{beat:20.5,pitch:"E5",lane:3},{beat:20.75,pitch:"E5",lane:3},{beat:21,pitch:"A4",lane:2},{beat:21.25,pitch:"G4",lane:2},{beat:21.5,pitch:"E4",lane:1},{beat:21.75,pitch:"G4",lane:2},{beat:22,pitch:"B4",lane:2},{beat:22.25,pitch:"B4",lane:2},{beat:22.5,pitch:"F#5",lane:3},{beat:22.75,pitch:"F#5",lane:3},{beat:23,pitch:"B4",lane:2},{beat:23.25,pitch:"A4",lane:2},{beat:23.5,pitch:"F#4",lane:1},{beat:23.75,pitch:"A4",lane:2},{beat:24,pitch:"C5",lane:3},{beat:24.5,pitch:"B4",lane:2},{beat:25,pitch:"A4",lane:2},{beat:25.5,pitch:"G4",lane:2},{beat:26,pitch:"F4",lane:1},{beat:26.5,pitch:"E4",lane:1},{beat:27,pitch:"D4",lane:1},{beat:27.5,pitch:"C4",lane:0},{beat:28,pitch:"E4",lane:1},{beat:28.25,pitch:"G4",lane:2},{beat:28.5,pitch:"A4",lane:2},{beat:28.75,pitch:"B4",lane:2},{beat:29,pitch:"C5",lane:3},{beat:29.25,pitch:"D5",lane:3},{beat:29.5,pitch:"E5",lane:3},{beat:29.75,pitch:"F#5",lane:3},{beat:30,pitch:"G5",lane:3},{beat:30.25,pitch:"F#5",lane:3},{beat:30.5,pitch:"E5",lane:3},{beat:30.75,pitch:"D5",lane:3},{beat:31,pitch:"C5",lane:3},{beat:31.25,pitch:"B4",lane:2},{beat:31.5,pitch:"A4",lane:2},{beat:31.75,pitch:"G4",lane:2},{beat:32,pitch:"A4",lane:2},{beat:32.25,pitch:"C5",lane:3},{beat:32.5,pitch:"E5",lane:3},{beat:32.75,pitch:"A5",lane:3},{beat:33,pitch:"E5",lane:3},{beat:33.25,pitch:"C5",lane:3},{beat:33.5,pitch:"A4",lane:2},{beat:33.75,pitch:"E4",lane:1},{beat:34,pitch:"G4",lane:2},{beat:34.25,pitch:"B4",lane:2},{beat:34.5,pitch:"D5",lane:3},{beat:34.75,pitch:"G5",lane:3},{beat:35,pitch:"D5",lane:3},{beat:35.25,pitch:"B4",lane:2},{beat:35.5,pitch:"G4",lane:2},{beat:35.75,pitch:"D4",lane:1},{beat:36,pitch:"A4",lane:2},{beat:36.5,pitch:"E5",lane:3},{beat:37,pitch:"A5",lane:3},{beat:38,pitch:"A4",lane:2}],background:{drumPattern:"upbeat"},loop:{startBeat:8,endBeat:38,count:1}},Pt=["very-easy","easy","medium","hard","very-hard"],Ot={"very-easy":[bt,ut,mt,gt,xt],easy:[yt,ft,vt,Ct,wt],medium:[St,Et,jt,kt,At],hard:[Dt,Bt,Nt,Tt,Mt],"very-hard":[Rt,Gt,Lt,Ft,It]};const zt="'Orbitron', 'Segoe UI', 'Arial Black', sans-serif",Ut={"very-easy":2,easy:3,medium:5,hard:7,"very-hard":9},Ht={"very-easy":"Muy F\xe1cil",easy:"F\xe1cil",medium:"Medio",hard:"Dif\xedcil","very-hard":"Muy Dif\xedcil"},Wt=e=>{var t;let{setGameOver:a,setPointsEarned:i,brandColor:s="#8b5cf6",initialLives:c=3,gameTitle:r="RHYTHM HIGHWAY",brandLogo:o}=e;const h=q(),p=(0,n.useRef)(null),d=(0,n.useRef)(null),[b,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(0),[E,j]=(0,n.useState)(1),[k,A]=(0,n.useState)(!1),[D,B]=(0,n.useState)(null),[N,T]=(0,n.useState)(0),[M,R]=(0,n.useState)(c),[G,L]=(0,n.useState)(0),[F,I]=(0,n.useState)(0),[P,O]=(0,n.useState)(!1),[z,U]=(0,n.useState)(!1),H=(0,n.useRef)([]),W=(0,n.useRef)([]),_=(0,n.useRef)(0),Y=(0,n.useRef)(0),J=(0,n.useRef)(c),K=(0,n.useRef)(-1),V=(0,n.useRef)(0),Q=(0,n.useRef)(0),X=(0,n.useRef)(1),$=(0,n.useRef)(null),ee=(0,n.useRef)(0),te=(0,n.useRef)(0),ae=(0,n.useRef)(null),ne=(0,n.useRef)(null),ie=(0,n.useCallback)(e=>{const{song:t,cycle:a,speedMultiplier:n}=function(e){const t=Math.floor((e-1)/5),a=Pt[(e-1)%5],n=Ot[a];return{song:n[Math.floor(Math.random()*n.length)],cycle:t,speedMultiplier:1+.1*t,difficulty:a}}(e),i=t.metadata.difficulty,l=Ht[i]||i;return{song:t,difficulty:i,track:t.background.drumPattern,speedMultiplier:n,cycle:a,displayName:a>0?"".concat(t.metadata.title," (").concat(l,") x").concat(a+1):"".concat(t.metadata.title," (").concat(l,")")}},[]),le=ie(E),se=lt;(0,n.useEffect)(()=>{_.current=N},[N]),(0,n.useEffect)(()=>{Y.current=G},[G]),(0,n.useEffect)(()=>{J.current=M},[M]),(0,n.useEffect)(()=>{X.current=E},[E]),(0,n.useEffect)(()=>((async()=>{await dt.init(),O(!0)})(),()=>{dt.dispose()}),[]),(0,n.useEffect)(()=>{M<=0&&b&&(dt.stopBackgroundBeat(),u(!1),a(!0),i(N))},[M,b,N,a,i]),(0,n.useEffect)(()=>{b&&(m||x?dt.pauseBackgroundBeat():dt.resumeBackgroundBeat())},[m,x,b]),(0,n.useEffect)(()=>()=>{D&&clearTimeout(D)},[D]);const re=(0,n.useCallback)(()=>{const e=ie(X.current+1);ne.current=e,A(!0),g(!0),P&&dt.playCombo();const t=setTimeout(()=>{const e=X.current+1;j(e),A(!1),g(!1),te.current=0,ee.current=0,H.current=[],K.current=-1,V.current=0;const t=ne.current;ae.current=t;const a=t.song;$.current=a;const n=a.metadata.bpm;ne.current=null,dt.stopBackgroundBeat(),"none"!==a.background.drumPattern&&dt.startBackgroundBeat(n,a.background.drumPattern,t.cycle)},2e3);B(t)},[P,ie]),oe=(0,n.useCallback)(e=>{if(!b||m)return;const t=H.current;let a=null,n=1/0;for(const i of t)if(i.lane===e&&!i.hit&&!i.missed){const e=i.y+15,t=Math.abs(e-530);t<n&&(n=t,a=i)}if(a){const t=a.y+15,n=Math.abs(t-530)/(Ut[ie(X.current).difficulty]*ie(X.current).speedMultiplier)*(1e3/60);if(n<=100)if(a.hit=!0,a.hitTime=Date.now(),n<=50){a.hitType="perfect";const t=50*Math.min(Y.current+1,8);T(e=>e+t),L(e=>{const t=e+1;return I(e=>Math.max(e,t)),t%10===0&&P&&dt.playCombo(),t}),W.current.push({id:Date.now(),lane:e,type:"perfect",time:Date.now()}),P&&(a.pitch?dt.playMelodicNotePerfect(a.pitch):dt.playPerfect(e))}else{a.hitType="good";const t=25*Math.min(Y.current+1,8);T(e=>e+t),L(e=>{const t=e+1;return I(e=>Math.max(e,t)),t}),W.current.push({id:Date.now(),lane:e,type:"good",time:Date.now()}),P&&(a.pitch?dt.playMelodicNote(a.pitch):dt.playNote(e))}}else W.current.push({id:Date.now(),lane:e,type:"miss",time:Date.now()})},[b,m,P,ie]);(0,n.useEffect)(()=>{const e=e=>{const t=e.key.toLowerCase(),a=st.indexOf(t);-1===a&&"p"!==t&&" "!==t&&"escape"!==t||(e.preventDefault(),e.stopPropagation()),b&&(-1!==a?oe(a):"p"!==t&&" "!==t||x||k||g(e=>!e))};return document.addEventListener("keydown",e,{passive:!1}),()=>document.removeEventListener("keydown",e)},[b,oe,x,k]);const he=(0,n.useCallback)(e=>{b&&!m&&oe(e)},[b,m,oe]);(0,n.useEffect)(()=>{const e=p.current;if(!e||!b)return;const t=e.getContext("2d");if(!t)return;let a=performance.now();const n=e=>{var l,s,c,r;const o=e-a;if(a=e,m||x)return void(d.current=requestAnimationFrame(n));ae.current||(ae.current=ie(X.current));const h=ae.current,p=h.song,b=p.metadata.bpm,u=6e4/b,g=Ut[h.difficulty]*h.speedMultiplier;V.current+=o;const y=V.current/u,f=K.current,v=null!==(l=null===(s=p.loop)||void 0===s?void 0:s.startBeat)&&void 0!==l?l:0,C=null!==(c=null===(r=p.loop)||void 0===r?void 0:r.endBeat)&&void 0!==c?c:Math.max(...p.notes.map(e=>e.beat))+4;let w=y;if(f>0&&y>=C&&f<C){var S;te.current++;const e=(null===(S=p.loop)||void 0===S?void 0:S.count)||1;te.current>=e?setTimeout(()=>re(),100):(V.current=v*u,ee.current=p.notes.findIndex(e=>e.beat>=v),-1===ee.current&&(ee.current=0),w=v,K.current=v-.1)}for(;ee.current<p.notes.length;){const e=p.notes[ee.current];if(!(e.beat<=w))break;H.current.push({id:Q.current++,lane:e.lane,y:-30,speed:g,hit:!1,missed:!1,pitch:e.pitch}),ee.current++}K.current=y;const E=Date.now();H.current=H.current.filter(e=>e.hit?E-(e.hitTime||0)<200:(e.y+=e.speed*(o/16.67),e.y>570&&!e.missed&&(e.missed=!0,L(0),R(e=>Math.max(0,e-1)),P&&dt.playMiss()),e.y<630)),W.current=W.current.filter(e=>E-e.time<300),i(t,h,V.current,g,b),d.current=requestAnimationFrame(n)},i=(e,t,a,n,i)=>{e.clearRect(0,0,$e,et);const l=-100,c=(e,t)=>200+(e-200)*((t-l)/700),r=(e,t)=>e*((t-l)/700),o=e.createLinearGradient(0,0,0,et);"chill"===t.track?(o.addColorStop(0,"#0a1a1a"),o.addColorStop(.5,"#0a2e2e"),o.addColorStop(1,"#0a1a1a")):"upbeat"===t.track?(o.addColorStop(0,"#1a0a0a"),o.addColorStop(.5,"#2e0a1a"),o.addColorStop(1,"#1a0a0a")):(o.addColorStop(0,"#0a0a1a"),o.addColorStop(.5,"#1a0a2e"),o.addColorStop(1,"#0a0a1a")),e.fillStyle=o,e.fillRect(0,0,$e,et),e.save(),e.strokeStyle=s||"#8b5cf6",e.lineWidth=3,e.shadowColor=s||"#8b5cf6",e.shadowBlur=10,e.beginPath(),e.moveTo(c(0,0),0),e.lineTo(c(0,et),et),e.stroke(),e.beginPath(),e.moveTo(c($e,0),0),e.lineTo(c($e,et),et),e.stroke(),e.restore();const h=n*(6e4/i)/16.67/700,p=a*(n/700)/16.67%h;e.strokeStyle="rgba(255, 255, 255, 0.12)",e.lineWidth=1;for(let s=p;s<=1;s+=h){const t=l+700*s;if(t<0)continue;const a=s,n=Math.max(2,10*a);e.setLineDash([n,n]),e.beginPath(),e.moveTo(c(0,t),t),e.lineTo(c($e,t),t),e.stroke()}e.setLineDash([]),e.strokeStyle="rgba(255, 255, 255, 0.15)",e.lineWidth=1;for(let s=0;s<=4;s++){const t=s*tt;e.beginPath(),e.moveTo(c(t,0),0),e.lineTo(c(t,et),et),e.stroke()}const d=e.createLinearGradient(0,at,0,540);d.addColorStop(0,"rgba(255, 255, 255, 0.1)"),d.addColorStop(.5,"rgba(255, 255, 255, 0.3)"),d.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=d,e.fillRect(0,at,$e,nt),e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=2,e.beginPath(),e.moveTo(0,530),e.lineTo($e,530),e.stroke();for(let s=0;s<4;s++){const t=s*tt,a=Object.values(se)[s];e.fillStyle="".concat(a,"33"),e.fillRect(t+5,540,90,50),e.strokeStyle=a,e.lineWidth=2,e.strokeRect(t+5,540,90,50),e.fillStyle=a,e.font="bold 20px ".concat(zt),e.textAlign="center",e.textBaseline="middle",e.fillText(ct[s],t+50,565)}const b=Date.now();for(const s of H.current){const t=Object.values(se)[s.lane],a=s.lane*tt,n=c(a+10,s.y),i=c(a+tt-10,s.y)-n,l=r(it,s.y),o=Math.max(2,r(8,s.y));if(s.hit){const t=(b-(s.hitTime||0))/200,a=1-t,c=1+.5*t;e.save(),e.globalAlpha=a,e.translate(n+i/2,s.y+l/2),e.scale(c,c);const r=e.createRadialGradient(0,0,0,0,0,l);r.addColorStop(0,"perfect"===s.hitType?"#ffd700":"#c0c0c0"),r.addColorStop(1,"transparent"),e.fillStyle=r,e.fillRect(-i/2,-l/2,i,l),e.restore()}else{e.save(),e.shadowColor=t,e.shadowBlur=15,e.fillStyle=t,e.beginPath(),e.roundRect(n,s.y,i,l,o),e.fill();const a=e.createLinearGradient(n,s.y,n,s.y+l);a.addColorStop(0,"rgba(255, 255, 255, 0.4)"),a.addColorStop(.5,"rgba(255, 255, 255, 0.1)"),a.addColorStop(1,"rgba(0, 0, 0, 0.2)"),e.fillStyle=a,e.beginPath(),e.roundRect(n+2,s.y+2,i-4,l-4,Math.max(1,o-2)),e.fill(),e.restore()}}for(const s of W.current){const t=(b-s.time)/300,a=1-t,n=s.lane*tt+50,i=530;if(e.save(),e.globalAlpha=a,"perfect"===s.type){const a=30+20*t,l=e.createRadialGradient(n,i,0,n,i,a);l.addColorStop(0,"#ffd700"),l.addColorStop(.5,"#ffaa00"),l.addColorStop(1,"transparent"),e.fillStyle=l,e.beginPath(),e.arc(n,i,a,0,2*Math.PI),e.fill(),e.fillStyle="#ffd700",e.font="bold 16px ".concat(zt),e.textAlign="center",e.fillText("\xa1PERFECTO!",n,i-30-20*t)}else if("good"===s.type){const a=20+15*t,l=e.createRadialGradient(n,i,0,n,i,a);l.addColorStop(0,"#c0c0c0"),l.addColorStop(.5,"#888888"),l.addColorStop(1,"transparent"),e.fillStyle=l,e.beginPath(),e.arc(n,i,a,0,2*Math.PI),e.fill(),e.fillStyle="#c0c0c0",e.font="bold 14px ".concat(zt),e.textAlign="center",e.fillText("BIEN",n,i-25-15*t)}else e.fillStyle="#ff4444",e.font="bold 14px ".concat(zt),e.textAlign="center",e.fillText("FALLO",n,i-20-10*t);e.restore()}if(Y.current>1){e.save();const t=385,a=35;e.fillStyle="rgba(202, 138, 4, 0.6)",e.beginPath(),e.roundRect(t-95,a-22,105,44,8),e.fill(),e.strokeStyle="#eab308",e.lineWidth=2,e.stroke(),e.fillStyle="#fbbf24",e.font="bold 10px ".concat(zt),e.textAlign="right",e.textBaseline="middle",e.fillText("COMBO",t-8,a-8),e.fillStyle="#fde047",e.font="bold 18px ".concat(zt),e.fillText("x".concat(Y.current),t-8,a+10),e.restore()}};return d.current=requestAnimationFrame(n),()=>{d.current&&cancelAnimationFrame(d.current)}},[b,m,x,se,P,ie,re]);const pe=async()=>{P||(await dt.init(),O(!0)),S(0),j(1),T(0),L(0),I(0),R(c),H.current=[],W.current=[],V.current=0,K.current=-1,Q.current=0,te.current=0,ee.current=0,g(!1),f(!1),A(!1),u(!0);const e=ie(1);ae.current=e;const t=e.song;$.current=t;const a=t.metadata.bpm;"none"!==t.background.drumPattern&&dt.startBackgroundBeat(a,t.background.drumPattern,e.cycle)};return(0,l.jsxs)("div",{className:"game-container",style:{backgroundColor:s},children:[(0,l.jsx)(ce,{level:E,lives:M,score:N,onPause:!b||x||k?void 0:()=>g(!m),isPaused:m,brandColor:s,isMobile:h,onQuit:()=>{f(!0),C(m),g(!0)},showQuitButton:b,isQuitting:x}),(0,l.jsx)("div",{className:"game-board",children:(0,l.jsxs)("div",{className:"game-board-inner",style:{display:"flex",flexDirection:"column",width:"100%",minHeight:"600px",maxWidth:"32rem",margin:"0 auto",backgroundColor:s},children:[(0,l.jsx)(Z,{ref:p,width:$e,height:et,className:"max-w-full max-h-full"}),h&&b&&!m&&!x&&(0,l.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",pointerEvents:"auto"},children:[0,1,2,3].map(e=>(0,l.jsx)("button",{style:{flex:1,height:"100%",opacity:0},onTouchStart:t=>{t.preventDefault(),he(e)}},e))}),!b&&(0,l.jsx)(y,{type:"custom",title:"\ud83c\udfb5 ".concat(r),brandColor:s,onAction:0===w?()=>S(1):pe,actionText:0===w?"Siguiente \u2192":"\ud83c\udfae JUGAR",showPressToStart:!1,customContent:(0,l.jsxs)("div",{className:"space-y-3",children:[o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-xs text-white",children:"por:"}),(0,l.jsx)("img",{src:o,alt:"Brand Logo",className:"mx-auto w-48 h-auto !mb-4"})]}),0===w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex justify-center items-center gap-x-3 text-xs text-gray-300",children:Object.entries(lt).map((e,t)=>{let[a,n]=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsx)("div",{className:"w-8 h-6 rounded",style:{backgroundColor:n}}),(0,l.jsx)("span",{children:ct[t]})]},a)})}),(0,l.jsx)("div",{className:"text-center text-sm text-gray-300 mt-4",children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"\ud83d\udc46 Toca los carriles cuando las notas"}),(0,l.jsx)("p",{children:"lleguen a la l\xednea blanca"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"\u2328\ufe0f Usa D, F, J, K para los 4 carriles"}),(0,l.jsx)("p",{children:"\u23f8 ESPACIO o P para pausar"})]})}),(0,l.jsx)("button",{onClick:pe,className:"text-xs text-gray-400 hover:text-white underline mt-2",children:"Omitir"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-sm text-gray-300 space-y-1",children:[(0,l.jsx)("div",{className:"text-xs text-gray-400 mt-3 p-2 bg-white/10 rounded",children:(0,l.jsxs)("p",{children:["\ud83c\udfaf Golpea las notas en el momento exacto",(0,l.jsx)("br",{}),"\xa1Cada canci\xf3n tiene su melod\xeda!",(0,l.jsx)("br",{}),"Conforme avanzas se volver\xe1 m\xe1s dificil"]})}),(0,l.jsx)("p",{children:"\u2728 PERFECTO = 50 pts \xd7 combo"}),(0,l.jsx)("p",{children:"\ud83d\udc4d BIEN = 25 pts \xd7 combo"}),(0,l.jsx)("p",{children:"\u274c FALLO = pierdes una vida"}),(0,l.jsx)("p",{children:"\ud83d\udd25 \xa1Mant\xe9n el combo para m\xe1s puntos!"})]}),(0,l.jsx)("button",{onClick:()=>S(0),className:"text-xs text-gray-400 hover:text-white underline mt-2",children:"\u2190 Atr\xe1s"})]})]})}),k&&ne.current&&(0,l.jsx)(y,{type:"custom",title:"\ud83c\udf89 \xa1NIVEL COMPLETADO!",message:"\xa1Pasaste al Nivel ".concat(E+1,"!"),brandColor:s,customContent:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("p",{className:"text-lg text-yellow-400 font-bold mb-2",children:["\ud83c\udfb5 ",ne.current.song.metadata.title]}),(0,l.jsxs)("p",{className:"text-sm text-gray-300 mb-1",children:["por ",ne.current.song.metadata.artist]}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:ne.current.cycle>0?"\xa1Velocidad x".concat(ne.current.cycle+1,"!"):"Nueva melod\xeda: ".concat(Ht[ne.current.difficulty])})]})}),m&&!x&&!k&&(0,l.jsx)(y,{type:"pause",message:"Nivel ".concat(E,": ").concat(le.displayName),brandColor:s,onAction:()=>g(!1),actionText:"\u25b6\ufe0f CONTINUAR",customContent:(0,l.jsx)("button",{onClick:()=>{const e=!z;U(e),dt.setMuted(e)},className:"mt-4 px-4 py-2 bg-gray-700 text-white rounded text-sm",children:z?"\ud83d\udd07 Sonido desactivado":"\ud83d\udd0a Sonido activado"})}),x&&(0,l.jsx)(y,{type:"custom",title:"\xbfSalir del Juego?",message:"Nivel ".concat(E," \u2022 ").concat(N," puntos"),brandColor:s,customContent:(0,l.jsxs)("div",{className:"game-quit-buttons",children:[(0,l.jsx)("button",{onClick:()=>{f(!1),g(v)},className:"game-quit-btn game-quit-btn-cancel",children:"\ud83d\udd04 Cancelar"}),(0,l.jsx)("button",{onClick:()=>{dt.stopBackgroundBeat(),i(N),a(!0),u(!1),d.current&&cancelAnimationFrame(d.current)},className:"game-quit-btn game-quit-btn-confirm",children:"\u274c Salir"})]})})]})}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",padding:"0.5rem",backgroundColor:"rgba(0,0,0,0.5)",color:"white",fontSize:"0.75rem",minHeight:"32px"},children:b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{children:["\ud83c\udfb5"," ",(null===(t=ae.current)||void 0===t?void 0:t.displayName)||le.displayName]}),(0,l.jsx)("span",{children:"|"}),(0,l.jsxs)("span",{children:["Combo m\xe1ximo: ",F]})]})})]})};var _t=a(1568);function qt(e){let{visitor:t,setDialogText:a,setCurrentAction:s,lang:c}=e;const r=(0,i.$)(c),[o,h]=(0,n.useState)(""),[p,d]=(0,n.useState)(0),[b,u]=(0,n.useState)(!1),m=(0,n.useRef)(null);return b?(0,l.jsxs)("div",{className:"retro-page",children:[(0,l.jsx)(_t.A,{currentSection:"goTo-games",onNavigate:s,lang:c}),(0,l.jsx)("div",{className:"page-content",children:(0,l.jsx)(y,{type:"custom",title:p>0?"\ud83c\udf89 ".concat(r.games.congratulations):"\ud83d\ude22 ".concat(r.games.sorry),message:p>0?(0,i.G)(r.games.wonPoints,{points:p}):r.games.tryAgain,brandColor:"#00d26a",onAction:()=>{u(!1),d(0),h("")},actionText:r.games.backToMenu,lang:c})})]}):""!==o?(0,l.jsxs)("div",{className:"retro-page",children:[(0,l.jsx)(_t.A,{currentSection:"goTo-games",onNavigate:s,lang:c}),(0,l.jsx)("div",{className:"page-content game-page-content",children:(0,l.jsxs)("div",{className:"game-wrapper",ref:m,children:["races"===o&&(0,l.jsx)(le,{laps:1,track:1,setGameOver:u,setPointsEarned:d,showBillboardStats:!1,brandColor:"#ef4444",gameTitle:"MAW Racing",lang:c}),"tetris"===o&&(0,l.jsx)(ye,{lives:3,setGameOver:u,setPointsEarned:d,brandColor:"#8b5cf6",gameTitle:r.games.tetris.title}),"snake"===o&&(0,l.jsx)(we,{initialLives:3,setGameOver:u,setPointsEarned:d,brandColor:"#10b981",gameTitle:r.games.snake.title}),"flappy-bird"===o&&(0,l.jsx)(De,{initialLives:3,setGameOver:u,setPointsEarned:d,brandColor:"#00bfff",gameTitle:r.games.flappyBird.title}),"breakout"===o&&(0,l.jsx)(_e,{lives:3,setGameOver:u,setPointsEarned:d,brandColor:"#f59e0b",gameTitle:r.games.breakout.title}),"penalty-shootout"===o&&(0,l.jsx)(Je,{lives:5,setGameOver:u,setPointsEarned:d,brandColor:"#1a472a",gameTitle:r.games.penaltyShootout.title}),"candy-crush"===o&&(0,l.jsx)(Xe,{lives:3,setGameOver:u,setPointsEarned:d,brandColor:"#e91e63",gameTitle:r.games.candyCrush.title}),"rhythm-highway"===o&&(0,l.jsx)(Wt,{initialLives:3,setGameOver:u,setPointsEarned:d,brandColor:"#6366f1",gameTitle:r.games.rhythmHighway.title})]})})]}):(0,l.jsxs)("div",{className:"retro-page",children:[(0,l.jsx)(_t.A,{currentSection:"goTo-games",onNavigate:s,lang:c}),(0,l.jsxs)("div",{className:"page-content",children:[(0,l.jsx)("h1",{children:r.games.title}),(0,l.jsx)("div",{className:"retro-box",style:{textAlign:"center",marginBottom:"20px"},children:r.games.subtitle}),(0,l.jsx)("div",{className:"game-selector-container",children:(0,l.jsxs)("div",{className:"game-selector-grid",children:[(0,l.jsx)(x,{title:r.games.racing.title,icon:"\ud83c\udfce\ufe0f",gradientFrom:"#3b82f6",gradientTo:"#2563eb",onClick:()=>h("races"),description:r.games.racing.description}),(0,l.jsx)(x,{title:r.games.tetris.title,icon:"\ud83e\uddf1",gradientFrom:"#8b5cf6",gradientTo:"#7c3aed",onClick:()=>h("tetris"),description:r.games.tetris.description}),(0,l.jsx)(x,{title:r.games.snake.title,icon:"\ud83d\udc0d",gradientFrom:"#10b981",gradientTo:"#059669",onClick:()=>h("snake"),description:r.games.snake.description}),(0,l.jsx)(x,{title:r.games.flappyBird.title,icon:"\ud83d\udc26",gradientFrom:"#00bfff",gradientTo:"#0099cc",onClick:()=>h("flappy-bird"),description:r.games.flappyBird.description}),(0,l.jsx)(x,{title:r.games.breakout.title,icon:"\ud83e\uddf1",gradientFrom:"#f59e0b",gradientTo:"#d97706",onClick:()=>h("breakout"),description:r.games.breakout.description}),(0,l.jsx)(x,{title:r.games.penaltyShootout.title,icon:"\u26bd",gradientFrom:"#1a472a",gradientTo:"#0f2d1a",onClick:()=>h("penalty-shootout"),description:r.games.penaltyShootout.description}),(0,l.jsx)(x,{title:r.games.candyCrush.title,icon:"\ud83c\udf6c",gradientFrom:"#e91e63",gradientTo:"#c2185b",onClick:()=>h("candy-crush"),description:r.games.candyCrush.description}),(0,l.jsx)(x,{title:r.games.rhythmHighway.title,icon:"\ud83c\udfb5",gradientFrom:"#6366f1",gradientTo:"#4f46e5",onClick:()=>h("rhythm-highway"),description:r.games.rhythmHighway.description})]})})]})]})}const Yt=a.p+"static/media/maduro.e07b7a928b384a613dc6.webp",Jt=(0,n.lazy)(()=>a.e(98).then(a.bind(a,6388))),Zt=(0,n.lazy)(()=>a.e(987).then(a.bind(a,8987))),Kt=(0,n.lazy)(()=>a.e(408).then(a.bind(a,9408))),Vt=(0,n.lazy)(()=>a.e(542).then(a.bind(a,284))),Qt=(0,n.lazy)(()=>Promise.all([a.e(810),a.e(589)]).then(a.bind(a,4589))),Xt=(0,n.lazy)(()=>a.e(795).then(a.bind(a,795))),$t=e=>{let{name:t,lang:a,mode:s,setMode:c,setLang:r,setName:o,onShowWelcome:h}=e;const p=(0,i.$)(a),d=""!==t?(0,i.G)(p.avatar.dialogues.greetingWithName,{name:t}):p.avatar.dialogues.greeting,[b,x]=(0,n.useState)(d),[y,f]=(0,n.useState)(""),[v,C]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),E=(0,m.al)(),[j,k]=(0,n.useState)(!1),{setVolume:A}=(0,m.Gx)(),D=(0,n.useCallback)(e=>{f(e);const t=["goTo-about","goTo-work","goTo-contact","goTo-portfolio","goTo-games"];E&&t.includes(e)?k(!0):!E&&t.includes(e)&&S(!1)},[E]),B=(0,n.useCallback)(()=>{j&&setTimeout(()=>{C(!0),k(!1)},g.lS.BROWSER_OPEN)},[j]);return(0,n.useEffect)(()=>{A("bgMusic",g.LV.BACKGROUND_MUSIC)},[A]),(0,n.useEffect)(()=>{const e=document.getElementById("mawmawmaw");e&&(E&&v?e.classList.add("browser-open"):e.classList.remove("browser-open"))},[E,v]),(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)("div",{id:"loader",children:(0,l.jsx)("i",{className:"spinner icon"})}),children:(0,l.jsx)("div",{className:"ui container main",children:(0,l.jsxs)("div",{className:"ui stackable grid",children:[(0,l.jsx)("div",{className:"seven wide column",children:(0,l.jsx)("div",{className:"left-side-wrapper",children:(0,l.jsx)(Jt,{visitor:t,dialogText:b,setDialogText:x,currentAction:y,setCurrentAction:D,onDialogComplete:B,onOpenBrowser:(0,n.useMemo)(()=>()=>{E?C(!0):S(!1)},[E]),lang:a})})}),(0,l.jsx)("div",{className:"nine wide column ".concat(v?"browser-open":""),children:(0,l.jsxs)("div",{className:"right-side-wrapper",children:[!E&&w&&(0,l.jsx)("div",{className:"easter-egg-container",children:(0,l.jsx)("img",{src:Yt,alt:"",className:"easter-egg-image"})}),(0,l.jsx)(u,{currentSection:y,onNavigate:D,onMinimize:(0,n.useMemo)(()=>()=>{E?C(!1):S(!0)},[E]),onOpen:()=>C(!0),isMobile:E,browserOpen:v,browserMinimized:w,lang:a,mode:s,setMode:c,setLang:r,visitorName:t,setName:o,onShowWelcome:h,children:(()=>{const e=(0,l.jsx)("div",{id:"loader",children:(0,l.jsx)("i",{className:"spinner icon"})});switch(y){case"goTo-about":return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(Kt,{setDialogText:x,setCurrentAction:D,lang:a})});case"goTo-work":return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(Vt,{setDialogText:x,setCurrentAction:D,lang:a})});case"goTo-portfolio":return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(Qt,{setDialogText:x,setCurrentAction:D,lang:a})});case"goTo-contact":return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(Xt,{visitor:t,setDialogText:x,setCurrentAction:D,lang:a})});case"goTo-games":return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(qt,{visitor:t,setDialogText:x,setCurrentAction:D,lang:a})});default:return(0,l.jsx)(n.Suspense,{fallback:e,children:(0,l.jsx)(Zt,{setDialogText:x,setCurrentAction:D,lang:a})})}})()})]})})]})})})}}}]);
//# sourceMappingURL=815.88cb01bd.chunk.js.map